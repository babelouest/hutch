<div class="row">
  <div>
    <div class="col-xs-4 text-left">
      <span class="label label-info" [innerHtml]="'coin_type_' + row.type.replace('-', '_') | translate"></span>
      <div>
        <span *ngFor="let tag of row.tags" class="badge" [innerHtml]="tag"></span>
      </div>
    </div>
    <form (ngSubmit)="saveRow(row)">
      <div class="col-xs-4 text-left">
        <a href="{{row.value}}" title="{{row.value}}" target="_blank" *ngIf="!row.edit && row.type === 'url'" [innerHtml]="row.value"></a>
        <span [innerHtml]="row.value"
              *ngIf="!row.edit && (row.type === 'login' || row.type === 'text' || (row.show && row.type === 'password'))"></span>
        <span *ngIf="!row.edit && !row.show && row.type === 'password'">********</span>
        <input type="text"
               name="value"
               [(ngModel)]="row.value"
               *ngIf="row.edit && (row.type === 'login' || row.type === 'text')"
               class="form-control"
               [placeholder]="'coin_value' | translate">
        <input type="password"
               name="password"
               [(ngModel)]="row.value"
               *ngIf="row.edit && row.type === 'password'"
               class="form-control">
        <input type="password"
               name="passwordVerified"
               [(ngModel)]="row.valueVerified"
               *ngIf="row.edit && row.type === 'password'"
               class="form-control">
      </div>
      <div class="col-xs-4" *ngIf="!row.edit">
        <div class="btn-group pull-right">
          <button type="button" class="btn btn-default btn-sm" (click)="showPassword(row)" [title]="'button_show_password' | translate" *ngIf="row.type === 'password'">
            <i class="fa fa-eye" aria-hidden="true" *ngIf="!row.show"></i>
            <i class="fa fa-eye-slash" aria-hidden="true" *ngIf="row.show"></i>
          </button>
          <button type="button" class="btn btn-default btn-sm" (click)="addSecretQuestion(row)" [title]="'button_add_secret_question' | translate" *ngIf="row.type === 'secret-questions'">
            <i class="fa fa-plus" aria-hidden="true"></i>
          </button>
          <button type="button" class="btn btn-default btn-sm" (click)="copyToClipboard(row.value)" [title]="'button_copy' | translate" *ngIf="row.type !== 'secret-questions'">
            <i class="fa fa-clipboard" aria-hidden="true"></i>
          </button>
          <button type="button" class="btn btn-default btn-sm" (click)="editRow(row)" [title]="'button_edit' | translate" *ngIf="row.type !== 'secret-questions'">
            <i class="fa fa-pencil" aria-hidden="true"></i>
          </button>
          <button type="button" class="btn btn-default btn-sm" (click)="deleteRow()" [title]="'button_delete' | translate">
            <i class="fa fa-trash" aria-hidden="true"></i>
          </button>
          <button type="button" class="btn btn-default btn-sm" (click)="editTags(row)" [title]="'button_manage_tag' | translate">
            <i class="fa fa-tag" aria-hidden="true"></i>
          </button>
        </div>
      </div>
      <div class="col-xs-4" *ngIf="row.edit">
        <div class="btn-group pull-right">
          <button type="button" class="btn btn-default btn-sm" (click)="generatePassword(row)" title="Generate a random password" *ngIf="row.type === 'password'">
            <i class="fa fa-magic" aria-hidden="true"></i>
          </button>
          <button type="submit" class="btn btn-default btn-sm" [disabled]="!isRowValid(row)" title="Save value">
            <i class="fa fa-save" aria-hidden="true"></i>
          </button>
          <button type="button" class="btn btn-default btn-sm" (click)="cancelEditRow(row)" title="Cancel edit">
            <i class="fa fa-close" aria-hidden="true"></i>
          </button>
        </div>
      </div>
    </form>
  </div>
  <div *ngIf="row.type === 'secret-questions'">
    <hr>
    <div class="col-xs-12">
      <div class="row" *ngFor="let secretQuestion of row.value; let i = index">
        <form (ngSubmit)="saveSecretQuestion(secretQuestion)">
          <div class="col-xs-4 text-left">
            <label class="label label-primary" [innerHtml]="'coin_secret_question_question' | translate:{ index: (i+1) }"></label>
            <label [innerHtml]="secretQuestion.question" *ngIf="!secretQuestion.edit"></label>
            <input name="question" type="text" [(ngModel)]="secretQuestion.question" *ngIf="secretQuestion.edit">
          </div>
          <div class="col-xs-4 text-left">
            <label class="label label-primary" [innerHtml]="'coin_secret_question_answer' | translate"></label>
            <label [innerHtml]="secretQuestion.answer" *ngIf="!secretQuestion.edit"></label>
            <input name="answer" type="text" [(ngModel)]="secretQuestion.answer" *ngIf="secretQuestion.edit">
          </div>
          <div class="col-xs-4" *ngIf="!secretQuestion.edit">
            <div class="btn-group pull-right">
              <button type="button" class="btn btn-default btn-sm" (click)="copyToClipboard(secretQuestion.answer)" [title]="'button_copy' | translate">
                <i class="fa fa-clipboard" aria-hidden="true"></i>
              </button>
              <button type="button" class="btn btn-default btn-sm" (click)="editSecretQuestion(secretQuestion)" [title]="'button_edit' | translate">
                <i class="fa fa-pencil" aria-hidden="true"></i>
              </button>
              <button type="button" class="btn btn-default btn-sm" (click)="deleteSecretQuestion(row, i)" [title]="'button_delete' | translate">
                <i class="fa fa-trash" aria-hidden="true"></i>
              </button>
            </div>
          </div>
          <div class="col-xs-4" *ngIf="secretQuestion.edit">
            <div class="btn-group pull-right">
              <button type="submit" class="btn btn-default btn-sm" [title]="'button_save' | translate">
                <i class="fa fa-save" aria-hidden="true"></i>
              </button>
              <button type="button" class="btn btn-default btn-sm" (click)="cancelEditSecretQuestion(secretQuestion, row, i)" [title]="'button_cancel' | translate">
                <i class="fa fa-close" aria-hidden="true"></i>
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
