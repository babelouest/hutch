/*! For license information please see hutch.js.LICENSE.txt */
(()=>{var e,t,n,r,a={392:(e,t,n)=>{"use strict";var r=n(294),a=n(935);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}var g={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},b=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(this,e),this.init(t,n)}return f(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||g,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,s({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}}]),e}()),v=function(){function e(){l(this,e),this.observers={}}return f(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){var a=[].concat(this.observers[e]);a.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function w(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function E(e){return null==e?"":""+e}function S(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function k(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function a(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(a())return{};var i=r(o.shift());!e[i]&&n&&(e[i]=new n),e=Object.prototype.hasOwnProperty.call(e,i)?e[i]:{}}return a()?{}:{obj:e,k:r(o.shift())}}function C(e,t,n){var r=k(e,t,Object);r.obj[r.k]=n}function x(e,t){var n=k(e,t),r=n.obj,a=n.k;if(r)return r[a]}function N(e,t,n){var r=x(e,n);return void 0!==r?r:x(t,n)}function P(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):P(e[r],t[r],n):e[r]=t[r]);return e}function O(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var _={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function T(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return _[e]})):e}var R="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1;function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),a=e,o=0;o<r.length;++o){if("string"==typeof a[r[o]]&&o+1<r.length)return;if(void 0===a[r[o]]){for(var i=2,s=r.slice(o,o+i).join(n),l=a[s];void 0===l&&r.length>o+i;)i++,l=a[s=r.slice(o,o+i).join(n)];if(void 0===l)return;if("string"==typeof l)return l;if(s&&"string"==typeof l[s])return l[s];var c=r.slice(o+i).join(n);return c?A(l,c,n):void 0}a=a[r[o]]}return a}}var j=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return l(this,t),n=p(this,m(t).call(this)),R&&v.call(d(n)),n.data=e||{},n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),void 0===n.options.ignoreJSONStructure&&(n.options.ignoreJSONStructure=!0),n}return y(t,e),f(t,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,i=[e,t];n&&"string"!=typeof n&&(i=i.concat(n)),n&&"string"==typeof n&&(i=i.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(i=e.split("."));var s=x(this.data,i);return s||!o||"string"!=typeof n?s:A(this.data&&this.data[e]&&this.data[e][t],n,a)}},{key:"addResource",value:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var i=[e,t];n&&(i=i.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(r=t,t=(i=e.split("."))[1]),this.addNamespaces(t),C(this.data,i,r),a.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var a in n)"string"!=typeof n[a]&&"[object Array]"!==Object.prototype.toString.apply(n[a])||this.addResource(e,t,a,n[a],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},i=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(i=e.split("."))[1]),this.addNamespaces(t);var l=x(this.data,i)||{};r?P(l,n,a):l=s({},l,n),C(this.data,i,l),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?s({},{},this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"toJSON",value:function(){return this.data}}]),t}(v),D={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,a){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,r,a))})),t}},L={},M=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l(this,t),n=p(this,m(t).call(this)),R&&v.call(d(n)),S(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,d(n)),n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=b.create("translator"),n}return y(t,e),f(t,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,a=t.ns||this.options.defaultNS;if(n&&e.indexOf(n)>-1){var o=e.match(this.interpolator.nestingRegexp);if(o&&o.length>0)return{key:e,namespaces:a};var i=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(i[0])>-1)&&(a=i.shift()),e=i.join(r)}return"string"==typeof a&&(a=[a]),{key:e,namespaces:a}}},{key:"translate",value:function(e,n,r){var a=this;if("object"!==o(n)&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),n||(n={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var i=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,l=this.extractFromKey(e[e.length-1],n),c=l.key,u=l.namespaces,f=u[u.length-1],d=n.lng||this.language,p=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&"cimode"===d.toLowerCase()){if(p){var m=n.nsSeparator||this.options.nsSeparator;return f+m+c}return c}var h=this.resolve(e,n),y=h&&h.res,g=h&&h.usedKey||c,b=h&&h.exactUsedKey||c,v=Object.prototype.toString.apply(y),w=["[object Number]","[object Function]","[object RegExp]"],E=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject,k="string"!=typeof y&&"boolean"!=typeof y&&"number"!=typeof y;if(S&&y&&k&&w.indexOf(v)<0&&("string"!=typeof E||"[object Array]"!==v)){if(!n.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,y,s({},n,{ns:u})):"key '".concat(c," (").concat(this.language,")' returned an object instead of string.");if(i){var C="[object Array]"===v,x=C?[]:{},N=C?b:g;for(var P in y)if(Object.prototype.hasOwnProperty.call(y,P)){var O="".concat(N).concat(i).concat(P);x[P]=this.translate(O,s({},n,{joinArrays:!1,ns:u})),x[P]===O&&(x[P]=y[P])}y=x}}else if(S&&"string"==typeof E&&"[object Array]"===v)(y=y.join(E))&&(y=this.extendTranslation(y,e,n,r));else{var _=!1,T=!1,R=void 0!==n.count&&"string"!=typeof n.count,A=t.hasDefaultValue(n),j=R?this.pluralResolver.getSuffix(d,n.count):"",D=n["defaultValue".concat(j)]||n.defaultValue;!this.isValidLookup(y)&&A&&(_=!0,y=D),this.isValidLookup(y)||(T=!0,y=c);var L=A&&D!==y&&this.options.updateMissing;if(T||_||L){if(this.logger.log(L?"updateKey":"missingKey",d,f,c,L?D:y),i){var M=this.resolve(c,s({},n,{keySeparator:!1}));M&&M.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var K=[],I=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&I&&I[0])for(var U=0;U<I.length;U++)K.push(I[U]);else"all"===this.options.saveMissingTo?K=this.languageUtils.toResolveHierarchy(n.lng||this.language):K.push(n.lng||this.language);var H=function(e,t,r){a.options.missingKeyHandler?a.options.missingKeyHandler(e,f,t,L?r:y,L,n):a.backendConnector&&a.backendConnector.saveMissing&&a.backendConnector.saveMissing(e,f,t,L?r:y,L,n),a.emit("missingKey",e,f,t,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&R?K.forEach((function(e){a.pluralResolver.getSuffixes(e).forEach((function(t){H([e],c+t,n["defaultValue".concat(t)]||D)}))})):H(K,c,D))}y=this.extendTranslation(y,e,n,h,r),T&&y===c&&this.options.appendNamespaceToMissingKey&&(y="".concat(f,":").concat(c)),(T||_)&&this.options.parseMissingKeyHandler&&(y=this.options.parseMissingKeyHandler(y))}return y}},{key:"extendTranslation",value:function(e,t,n,r,a){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,n,r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(s({},n,{interpolation:s({},this.options.interpolation,n.interpolation)}));var i,l=n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(l){var c=e.match(this.interpolator.nestingRegexp);i=c&&c.length}var u=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(u=s({},this.options.interpolation.defaultVariables,u)),e=this.interpolator.interpolate(e,u,n.lng||this.language,n),l){var f=e.match(this.interpolator.nestingRegexp);i<(f&&f.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return a&&a[0]===r[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):o.translate.apply(o,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,p="string"==typeof d?[d]:d;return null!=e&&p&&p.length&&!1!==n.applyPostProcessor&&(e=D.handle(p,e,t,this.options&&this.options.postProcessPassResolved?s({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,a,o,i=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!i.isValidLookup(t)){var l=i.extractFromKey(e,s),c=l.key;n=c;var u=l.namespaces;i.options.fallbackNS&&(u=u.concat(i.options.fallbackNS));var f=void 0!==s.count&&"string"!=typeof s.count,d=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,p=s.lngs?s.lngs:i.languageUtils.toResolveHierarchy(s.lng||i.language,s.fallbackLng);u.forEach((function(e){i.isValidLookup(t)||(o=e,!L["".concat(p[0],"-").concat(e)]&&i.utils&&i.utils.hasLoadedNamespace&&!i.utils.hasLoadedNamespace(o)&&(L["".concat(p[0],"-").concat(e)]=!0,i.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!i.isValidLookup(t)){a=n;var o,l,u=c,p=[u];for(i.i18nFormat&&i.i18nFormat.addLookupKeys?i.i18nFormat.addLookupKeys(p,c,n,e,s):(f&&(o=i.pluralResolver.getSuffix(n,s.count)),f&&d&&p.push(u+o),d&&p.push(u+="".concat(i.options.contextSeparator).concat(s.context)),f&&p.push(u+=o));l=p.pop();)i.isValidLookup(t)||(r=l,t=i.getResource(n,e,l,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:a,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),t}(v);function K(e){return e.charAt(0).toUpperCase()+e.slice(1)}var I=function(){function e(t){l(this,e),this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=b.create("languageUtils")}return f(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=K(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=K(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=K(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isWhitelisted",value:function(e){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(e)}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(r))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),a=[],o=function(e){e&&(n.isSupportedCode(e)?a.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),r.forEach((function(e){a.indexOf(e)<0&&o(n.formatLanguageCode(e))})),a}}]),e}(),U=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],H={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}};function F(){var e={};return U.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:H[t.fc]}}))})),e}var W=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(this,e),this.languageUtils=t,this.options=n,this.logger=b.create("pluralResolver"),this.rules=F()}return f(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=this.getRule(e);return t&&t.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){return this.getSuffixes(e).map((function(e){return t+e}))}},{key:"getSuffixes",value:function(e){var t=this,n=this.getRule(e);return n?n.numbers.map((function(n){return t.getSuffix(e,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=this,r=this.getRule(e);if(r){var a=r.noAbs?r.plurals(t):r.plurals(Math.abs(t)),o=r.numbers[a];this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var i=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):i():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]?i():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}return this.logger.warn("no plural rule found for: ".concat(e)),""}}]),e}(),B=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,e),this.logger=b.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return f(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:T,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?O(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?O(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?O(t.nestingPrefix):t.nestingPrefixEscaped||O("$t("),this.nestingSuffix=t.nestingSuffix?O(t.nestingSuffix):t.nestingSuffixEscaped||O(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var a,o,i,l=this,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(e){return e.replace(/\$/g,"$$$$")}var f=function(e){if(e.indexOf(l.formatSeparator)<0){var a=N(t,c,e);return l.alwaysFormat?l.format(a,void 0,n,s({},r,t,{interpolationkey:e})):a}var o=e.split(l.formatSeparator),i=o.shift().trim(),u=o.join(l.formatSeparator).trim();return l.format(N(t,c,i),u,n,s({},r,t,{interpolationkey:i}))};this.resetRegExp();var d=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,p=r&&r.interpolation&&r.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return u(e)}},{regex:this.regexp,safeValue:function(e){return l.escapeValue?u(l.escape(e)):u(e)}}].forEach((function(t){for(i=0;a=t.regex.exec(e);){if(void 0===(o=f(a[1].trim())))if("function"==typeof d){var n=d(e,a,r);o="string"==typeof n?n:""}else{if(p){o=a[0];continue}l.logger.warn("missed to pass in variable ".concat(a[1]," for interpolating ").concat(e)),o=""}else"string"==typeof o||l.useRawValueToEscape||(o=E(o));var s=t.safeValue(o);if(e=e.replace(a[0],s),p?(t.regex.lastIndex+=s.length,t.regex.lastIndex-=a[0].length):t.regex.lastIndex=0,++i>=l.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=s({},o);function l(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),a="{".concat(r[1]);e=r[0],a=(a=this.interpolate(a,i)).replace(/'/g,'"');try{i=JSON.parse(a),t&&(i=s({},t,i))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(a)}return delete i.defaultValue,e}for(i.applyPostProcessor=!1,delete i.defaultValue;n=this.nestingRegexp.exec(e);){var c=[],u=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var f=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=f.shift(),c=f,u=!0}if((r=t(l.call(this,n[1].trim(),i),i))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=E(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),u&&(r=c.reduce((function(e,t){return a.format(e,t,o.lng,s({},o,{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}(),z=function(e){function t(e,n,r){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return l(this,t),a=p(this,m(t).call(this)),R&&v.call(d(a)),a.backend=e,a.store=n,a.services=r,a.languageUtils=r.languageUtils,a.options=o,a.logger=b.create("backendConnector"),a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(r,o.backend,o),a}return y(t,e),f(t,[{key:"queueLoad",value:function(e,t,n,r){var a=this,o=[],i=[],s=[],l=[];return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&a.store.hasResourceBundle(e,t)?a.state[s]=2:a.state[s]<0||(1===a.state[s]?i.indexOf(s)<0&&i.push(s):(a.state[s]=1,r=!1,i.indexOf(s)<0&&i.push(s),o.indexOf(s)<0&&o.push(s),l.indexOf(t)<0&&l.push(t)))})),r||s.push(e)})),(o.length||i.length)&&this.queue.push({pending:i,loaded:{},errors:[],callback:r}),{toLoad:o,pending:i,toLoadLanguages:s,toLoadNamespaces:l}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),a=r[0],o=r[1];t&&this.emit("failedLoading",a,o,t),n&&this.store.addResourceBundle(a,o,n),this.state[e]=t?-1:2;var i={};this.queue.forEach((function(n){!function(e,t,n,r){var a=k(e,t,Object),o=a.obj,i=a.k;o[i]=o[i]||[],o[i].push(n)}(n.loaded,[a],o),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(e){i[e]||(i[e]=[]),n.loaded[e].length&&n.loaded[e].forEach((function(t){i[e].indexOf(t)<0&&i[e].push(t)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",i),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,i=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,(function(s,l){s&&l&&a<5?setTimeout((function(){r.read.call(r,e,t,n,a+1,2*o,i)}),o):i(s,l)})):i(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,r,a);if(!o.toLoad.length)return o.pending.length||a(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),a=r[0],o=r[1];this.read(a,o,"read",void 0,void 0,(function(r,i){r&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(a," failed"),r),!r&&i&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(a),i),t.loaded(e,r,i)}))}},{key:"saveMissing",value:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,s({},o,{isUpdate:a})),e&&e[0]&&this.store.addResource(e[0],t,n,r))}}]),t}(v);function V(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===o(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===o(e[2])||"object"===o(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}}}function J(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&(e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e.supportedLngs=e.whitelist),e.nonExplicitWhitelist&&(e.nonExplicitSupportedLngs=e.nonExplicitWhitelist),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function q(){}const G=new(function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(l(this,t),e=p(this,m(t).call(this)),R&&v.call(d(e)),e.options=J(n),e.services={},e.logger=b,e.modules={external:[]},r&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,r),p(e,d(e));setTimeout((function(){e.init(n,r)}),0)}return e}return y(t,e),f(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;function r(e){return e?"function"==typeof e?new e:e:null}if("function"==typeof t&&(n=t,t={}),t.whitelist&&!t.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),t.nonExplicitWhitelist&&!t.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=s({},V(),this.options,J(t)),this.format=this.options.interpolation.format,n||(n=q),!this.options.isClone){this.modules.logger?b.init(r(this.modules.logger),this.options):b.init(null,this.options);var a=new I(this.options);this.store=new j(this.options.resources,this.options);var o=this.services;o.logger=b,o.resourceStore=this.store,o.languageUtils=a,o.pluralResolver=new W(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),o.interpolator=new B(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new z(r(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(o.languageDetector=r(this.modules.languageDetector),o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=r(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new M(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var i=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);i.length>0&&"dev"!==i[0]&&(this.options.lng=i[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var l=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];l.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var c=["addResource","addResources","addResourceBundle","removeResourceBundle"];c.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var u=w(),f=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),u.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?f():setTimeout(f,0),u}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q,r=n,a="string"==typeof e?e:this.language;if("function"==typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(a&&"cimode"===a.toLowerCase())return r();var o=[],i=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};if(a)i(a);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(e){return i(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return i(e)})),this.services.backendConnector.load(o,this.options.ns,r)}else r(null)}},{key:"reloadResources",value:function(e,t,n){var r=w();return e||(e=this.languages),t||(t=this.options.ns),n||(n=q),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&D.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=w();this.emit("languageChanging",e);var a=function(a){e||a||!n.services.languageDetector||(a=[]);var o="string"==typeof a?a:n.services.languageUtils.getBestMatchFromCodes(a);o&&(n.language||(n.language=o,n.languages=n.services.languageUtils.toResolveHierarchy(o)),n.translator.language||n.translator.changeLanguage(o),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(o)),n.loadResources(o,(function(e){!function(e,a){a?(n.language=a,n.languages=n.services.languageUtils.toResolveHierarchy(a),n.translator.changeLanguage(a),n.isLanguageChangingTo=void 0,n.emit("languageChanged",a),n.logger.log("languageChanged",a)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,o)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t){var n=this,r=function e(t,r){var a;if("object"!==o(r)){for(var i=arguments.length,l=new Array(i>2?i-2:0),c=2;c<i;c++)l[c-2]=arguments[c];a=n.options.overloadTranslationOptionHandler([t,r].concat(l))}else a=s({},r);return a.lng=a.lng||e.lng,a.lngs=a.lngs||e.lngs,a.ns=a.ns||e.ns,n.t(t,a)};return"string"==typeof e?r.lng=e:r.lngs=e,r.ns=t,r}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.languages[0],a=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var i=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,i);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||!(!i(r,e)||a&&!i(o,e))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=w();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=w();"string"==typeof e&&(e=[e]);var r=this.options.preload||[],a=e.filter((function(e){return r.indexOf(e)<0}));return a.length?(this.options.preload=r.concat(a),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){return e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr":"rtl"}},{key:"createInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new t(e,n)}},{key:"cloneInstance",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q,a=s({},this.options,n,{isClone:!0}),o=new t(a),i=["store","services","language"];return i.forEach((function(t){o[t]=e[t]})),o.services=s({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new M(o.services,o.options),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit.apply(o,[e].concat(n))})),o.init(a,r),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages}}}]),t}(v));function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var X=[],Y=X.forEach,Z=X.slice;function ee(e){return Y.call(Z.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}function te(){return"function"==typeof XMLHttpRequest||"object"===("undefined"==typeof XMLHttpRequest?"undefined":Q(XMLHttpRequest))}var ne,re,ae,oe=n(154),ie=n.t(oe,2);function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"function"==typeof fetch&&("undefined"!=typeof global&&global.fetch?ne=global.fetch:"undefined"!=typeof window&&window.fetch&&(ne=window.fetch)),te&&("undefined"!=typeof global&&global.XMLHttpRequest?re=global.XMLHttpRequest:"undefined"!=typeof window&&window.XMLHttpRequest&&(re=window.XMLHttpRequest)),"function"==typeof ActiveXObject&&("undefined"!=typeof global&&global.ActiveXObject?ae=global.ActiveXObject:"undefined"!=typeof window&&window.ActiveXObject&&(ae=window.ActiveXObject)),ne||!ie||re||ae||(ne=oe||ie),"function"!=typeof ne&&(ne=void 0);var le=function(e,t){if(t&&"object"===se(t)){var n="";for(var r in t)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t[r]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e};const ce=function(e,t,n,r){return"function"==typeof n&&(r=n,n=void 0),r=r||function(){},ne?function(e,t,n,r){e.queryStringParams&&(t=le(t,e.queryStringParams));var a=ee({},"function"==typeof e.customHeaders?e.customHeaders():e.customHeaders);n&&(a["Content-Type"]="application/json"),ne(t,ee({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:a},"function"==typeof e.requestOptions?e.requestOptions(n):e.requestOptions)).then((function(e){if(!e.ok)return r(e.statusText||"Error",{status:e.status});e.text().then((function(t){r(null,{status:e.status,data:t})})).catch(r)})).catch(r)}(e,t,n,r):te||"function"==typeof ActiveXObject?function(e,t,n,r){n&&"object"===se(n)&&(n=le("",n).slice(1)),e.queryStringParams&&(t=le(t,e.queryStringParams));try{var a;(a=re?new re:new ae("MSXML2.XMLHTTP.3.0")).open(n?"POST":"GET",t,1),e.crossDomain||a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.withCredentials=!!e.withCredentials,n&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.overrideMimeType&&a.overrideMimeType("application/json");var o=e.customHeaders;if(o="function"==typeof o?o():o)for(var i in o)a.setRequestHeader(i,o[i]);a.onreadystatechange=function(){a.readyState>3&&r(a.status>=400?a.statusText:null,{status:a.status,data:a.responseText})},a.send(n)}catch(e){console&&console.log(e)}}(e,t,n,r):void 0};function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var de=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(e){return JSON.parse(e)},stringify:JSON.stringify,parsePayload:function(e,t,n){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n||"")},request:ce,reloadInterval:"undefined"==typeof window&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},pe=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ue(this,e),this.services=t,this.options=n,this.allOptions=r,this.type="backend",this.init(t,n,r)}var t,n;return t=e,(n=[{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=ee(n,this.options||{},de()),this.allOptions=r,this.services&&this.options.reloadInterval&&setInterval((function(){return t.reload()}),this.options.reloadInterval)}},{key:"readMulti",value:function(e,t,n){this._readAny(e,e,t,t,n)}},{key:"read",value:function(e,t,n){this._readAny([e],e,[t],t,n)}},{key:"_readAny",value:function(e,t,n,r,a){var o,i=this,s=this.options.loadPath;"function"==typeof this.options.loadPath&&(s=this.options.loadPath(e,n)),(s=function(e){return!!e&&"function"==typeof e.then}(o=s)?o:Promise.resolve(o)).then((function(o){var s=i.services.interpolator.interpolate(o,{lng:e.join("+"),ns:n.join("+")});i.loadUrl(s,a,t,r)}))}},{key:"loadUrl",value:function(e,t,n,r){var a=this;this.options.request(this.options,e,void 0,(function(o,i){if(i&&(i.status>=500&&i.status<600||!i.status))return t("failed loading "+e+"; status code: "+i.status,!0);if(i&&i.status>=400&&i.status<500)return t("failed loading "+e+"; status code: "+i.status,!1);if(!i&&o&&o.message&&o.message.indexOf("Failed to fetch")>-1)return t("failed loading "+e+": "+o.message,!0);if(o)return t(o,!1);var s,l;try{s="string"==typeof i.data?a.options.parse(i.data,n,r):i.data}catch(t){l="failed parsing "+e+" to json"}if(l)return t(l,!1);t(null,s)}))}},{key:"create",value:function(e,t,n,r,a){var o=this;if(this.options.addPath){"string"==typeof e&&(e=[e]);var i=this.options.parsePayload(t,n,r),s=0,l=[],c=[];e.forEach((function(n){var r=o.options.addPath;"function"==typeof o.options.addPath&&(r=o.options.addPath(n,t));var u=o.services.interpolator.interpolate(r,{lng:n,ns:t});o.options.request(o.options,u,i,(function(t,n){s+=1,l.push(t),c.push(n),s===e.length&&a&&a(l,c)}))}))}}},{key:"reload",value:function(){var e=this,t=this.services,n=t.backendConnector,r=t.languageUtils,a=t.logger,o=n.language;if(!o||"cimode"!==o.toLowerCase()){var i=[],s=function(e){r.toResolveHierarchy(e).forEach((function(e){i.indexOf(e)<0&&i.push(e)}))};s(o),this.allOptions.preload&&this.allOptions.preload.forEach((function(e){return s(e)})),i.forEach((function(t){e.allOptions.ns.forEach((function(e){n.read(t,e,"read",null,null,(function(r,o){r&&a.warn("loading namespace ".concat(e," for language ").concat(t," failed"),r),!r&&o&&a.log("loaded namespace ".concat(e," for language ").concat(t),o),n.loaded("".concat(t,"|").concat(e),r,o)}))}))}))}}}])&&fe(t.prototype,n),e}();pe.type="backend";const me=pe;var he=[],ye=he.forEach,ge=he.slice;function be(e){return ye.call(ge.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}var ve=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,we=function(e,t,n){var r=n||{};r.path=r.path||"/";var a=e+"="+encodeURIComponent(t);if(r.maxAge>0){var o=r.maxAge-0;if(isNaN(o))throw new Error("maxAge should be a Number");a+="; Max-Age="+Math.floor(o)}if(r.domain){if(!ve.test(r.domain))throw new TypeError("option domain is invalid");a+="; Domain="+r.domain}if(r.path){if(!ve.test(r.path))throw new TypeError("option path is invalid");a+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");a+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a},Ee={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!=typeof document){var n=function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var a=n[r];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return null}(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+60*n*1e3)),r&&(a.domain=r),document.cookie=we(e,encodeURIComponent(t),a)}(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},Se={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window)for(var n=window.location.search.substring(1).split("&"),r=0;r<n.length;r++){var a=n[r].indexOf("=");a>0&&n[r].substring(0,a)===e.lookupQuerystring&&(t=n[r].substring(a+1))}return t}},ke=null,Ce=function(){if(null!==ke)return ke;try{ke="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){ke=!1}return ke},xe={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&Ce()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&Ce()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},Ne=null,Pe=function(){if(null!==Ne)return Ne;try{Ne="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){Ne=!1}return Ne},Oe={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&Pe()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&Pe()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},_e={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},Te={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},Re={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},Ae={name:"subdomain",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);n instanceof Array&&(t="number"==typeof e.lookupFromSubdomainIndex?n[e.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):n[0].replace("http://","").replace("https://","").replace(".",""))}return t}},je=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return f(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=be(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(Ee),this.addDetector(Se),this.addDetector(xe),this.addDetector(Oe),this.addDetector(_e),this.addDetector(Te),this.addDetector(Re),this.addDetector(Ae)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];return e.forEach((function(e){if(t.detectors[e]){var r=t.detectors[e].lookup(t.options);r&&"string"==typeof r&&(r=[r]),r&&(n=n.concat(r))}})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)})))}}]),e}();je.type="languageDetector";const De=je,Le=new TextEncoder,Me=new TextDecoder,Ke=2**32;function Ie(...e){const t=e.reduce(((e,{length:t})=>e+t),0),n=new Uint8Array(t);let r=0;return e.forEach((e=>{n.set(e,r),r+=e.length})),n}function Ue(e,t){return Ie(Le.encode(e),new Uint8Array([0]),t)}function He(e,t,n){if(t<0||t>=Ke)throw new RangeError(`value must be >= 0 and <= 4294967295. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],n)}function Fe(e){const t=Math.floor(e/Ke),n=e%Ke,r=new Uint8Array(8);return He(r,t,0),He(r,n,4),r}function We(e){const t=new Uint8Array(4);return He(t,e),t}function Be(e){return Ie(We(e.length),e)}const ze=function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;throw new Error("unable to locate global object")}(),Ve=e=>{let t=e;"string"==typeof t&&(t=Le.encode(t));const n=[];for(let e=0;e<t.length;e+=32768)n.push(String.fromCharCode.apply(null,t.subarray(e,e+32768)));return ze.btoa(n.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},Je=e=>{let t=e;t instanceof Uint8Array&&(t=Me.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return new Uint8Array(ze.atob(t).split("").map((e=>e.charCodeAt(0))))}catch(e){throw new TypeError("The input to be decoded is not correctly encoded.")}},qe=ze.crypto;function $e(e){return void 0!==ze.CryptoKey&&null!=e&&e instanceof ze.CryptoKey}class Ge extends Error{constructor(e){super(e),this.code=Ge.code,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}Ge.code="ERR_JOSE_GENERIC";class Qe extends Ge{constructor(e,t="unspecified",n="unspecified"){super(e),this.code=Qe.code,this.claim=t,this.reason=n}}Qe.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class Xe extends Ge{constructor(){super(...arguments),this.code=Xe.code}}Xe.code="ERR_JOSE_ALG_NOT_ALLOWED";class Ye extends Ge{constructor(){super(...arguments),this.code=Ye.code}}Ye.code="ERR_JOSE_NOT_SUPPORTED";class Ze extends Ge{constructor(){super(...arguments),this.code=Ze.code,this.message="decryption operation failed"}}Ze.code="ERR_JWE_DECRYPTION_FAILED";class et extends Ge{constructor(){super(...arguments),this.code=et.code}}et.code="ERR_JWE_INVALID";class tt extends Ge{constructor(){super(...arguments),this.code=tt.code}}tt.code="ERR_JWS_INVALID";class nt extends Ge{constructor(){super(...arguments),this.code=nt.code}}nt.code="ERR_JWT_INVALID";class rt extends Ge{constructor(){super(...arguments),this.code=rt.code}}rt.code="ERR_JWK_INVALID";class at extends Ge{constructor(){super(...arguments),this.code=at.code}}at.code="ERR_JWKS_INVALID";class ot extends Ge{constructor(){super(...arguments),this.code=ot.code,this.message="no applicable key found in the JSON Web Key Set"}}ot.code="ERR_JWKS_NO_MATCHING_KEY";class it extends Ge{constructor(){super(...arguments),this.code=it.code,this.message="multiple matching keys found in the JSON Web Key Set"}}it.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class st extends Ge{constructor(){super(...arguments),this.code=st.code,this.message="signature verification failed"}}st.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";class lt extends Qe{constructor(){super(...arguments),this.code=lt.code}}lt.code="ERR_JWT_EXPIRED";const ct=async e=>{var t,n;const{algorithm:r,keyUsages:a}=function(e){let t,n;switch(e.kty){case"oct":switch(e.alg){case"HS256":case"HS384":case"HS512":t={name:"HMAC",hash:{name:`SHA-${e.alg.substr(-3)}`}},n=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new Ye(`${e.alg} keys cannot be imported as CryptoKey instances`);case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":t={name:"AES-GCM"},n=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":t={name:"AES-KW"},n=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":t={name:"PBKDF2"},n=["deriveBits"];break;default:throw new Ye('unsupported or invalid JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:{name:`SHA-${e.alg.substr(-3)}`}},n=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:{name:`SHA-${e.alg.substr(-3)}`}},n=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:{name:`SHA-${parseInt(e.alg.substr(-3),10)||1}`}},n=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new Ye('unsupported or invalid JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":case"ES384":case"ES512":t={name:"ECDSA",namedCurve:e.crv},n=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},n=e.d?["deriveBits"]:[];break;default:throw new Ye('unsupported or invalid JWK "alg" (Algorithm) Parameter value')}break;default:throw new Ye('unsupported or invalid JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:n}}(e);let o="jwk",i={...e};return delete i.alg,"PBKDF2"===r.name&&(o="raw",i=Je(e.k)),qe.subtle.importKey(o,i,r,null!==(t=e.ext)&&void 0!==t&&t,null!==(n=e.key_ops)&&void 0!==n?n:a)};function ut(e){if("object"!=typeof(t=e)||null===t||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}async function ft(e,t,n){if(!ut(e))throw new TypeError("JWK must be an object");if(t||(t=e.alg),"string"!=typeof t||!t)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');switch(e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return null!=n||(n=!0!==e.ext),n?ct({...e,alg:t,ext:!1}):Je(e.k);case"RSA":if(void 0!==e.oth)throw new Ye('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return ct({...e,alg:t});default:throw new Ye('unsupported "kty" (Key Type) Parameter value')}}const dt=(...e)=>{const t=e.filter(Boolean);if(0===t.length||1===t.length)return!0;let n;for(const e of t){const t=Object.keys(e);if(n&&0!==n.size)for(const e of t){if(n.has(e))return!1;n.add(e)}else n=new Set(t)}return!0},pt=(e,...t)=>{let n="Key must be ";if(t.length>2){const e=t.pop();n+=`one of type ${t.join(", ")}, or ${e}.`}else 2===t.length?n+=`one of type ${t[0]} or ${t[1]}.`:n+=`of type ${t[0]}.`;return null==e?n+=` Received ${e}`:"function"==typeof e&&e.name?n+=` Received function ${e.name}`:"object"==typeof e&&null!=e&&e.constructor&&e.constructor.name&&(n+=` Received an instance of ${e.constructor.name}`),n},mt=(e,t,n)=>{if(!(t instanceof Uint8Array||(null==t?void 0:t.type)))throw new TypeError(pt(t,"KeyObject","CryptoKey","Uint8Array"));if(e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||e.match(/^A\d{3}(?:GCM)?KW$/)){if(t instanceof Uint8Array||"secret"===t.type)return;throw new TypeError('CryptoKey or KeyObject instances for symmetric algorithms must be of type "secret"')}if(t instanceof Uint8Array)throw new TypeError(pt(t,"KeyObject","CryptoKey"));if("secret"===t.type)throw new TypeError('CryptoKey or KeyObject instances for asymmetric algorithms must not be of type "secret"');if("sign"===n&&"public"===t.type)throw new TypeError('CryptoKey or KeyObject instances for asymmetric algorithm signing must be of type "private"');if("decrypt"===n&&"public"===t.type)throw new TypeError('CryptoKey or KeyObject instances for asymmetric algorithm decryption must be of type "private"')},ht=(e,t)=>{if(e.startsWith("HS")){const n=parseInt(e.substr(-3),10),{length:r}=t.algorithm;if("number"!=typeof r||r<n)throw new TypeError(`${e} requires symmetric keys to be ${n} bits or larger`)}if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:n}=t.algorithm;if("number"!=typeof n||n<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}},yt=function(e,t,n,r,a){if(void 0!==a.crit&&void 0===r.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||void 0===r.crit)return new Set;if(!Array.isArray(r.crit)||0===r.crit.length||r.crit.some((e=>"string"!=typeof e||0===e.length)))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let o;o=void 0!==n?new Map([...Object.entries(n),...t.entries()]):t;for(const t of r.crit){if(!o.has(t))throw new Ye(`Extension Header Parameter "${t}" is not recognized`);if(void 0===a[t])throw new e(`Extension Header Parameter "${t}" is missing`);if(o.get(t)&&void 0===r[t])throw new e(`Extension Header Parameter "${t}" MUST be integrity protected`)}return new Set(r.crit)},gt=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some((e=>"string"!=typeof e))))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)},bt=yt.bind(void 0,tt,new Map([["b64",!0]])),vt=gt.bind(void 0,"algorithms"),wt=async function(e,t,n){var r;if(!ut(e))throw new tt("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new tt('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new tt("JWS Protected Header incorrect type");if(void 0===e.payload)throw new tt("JWS Payload missing");if("string"!=typeof e.signature)throw new tt("JWS Signature missing or incorrect type");if(void 0!==e.header&&!ut(e.header))throw new tt("JWS Unprotected Header incorrect type");let a={};if(e.protected){const t=Je(e.protected);try{a=JSON.parse(Me.decode(t))}catch(e){throw new tt("JWS Protected Header is invalid")}}if(!dt(a,e.header))throw new tt("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const o={...a,...e.header};let i=!0;if(bt(null==n?void 0:n.crit,a,o).has("b64")&&(i=a.b64,"boolean"!=typeof i))throw new tt('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:s}=o;if("string"!=typeof s||!s)throw new tt('JWS "alg" (Algorithm) Header Parameter missing or invalid');const l=n&&vt(n.algorithms);if(l&&!l.has(s))throw new Xe('"alg" (Algorithm) Header Parameter not allowed');if(i){if("string"!=typeof e.payload)throw new tt("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new tt("JWS Payload must be a string or an Uint8Array instance");"function"==typeof t&&(t=await t(a,e)),mt(s,t,"verify");const c=Ie(Le.encode(null!==(r=e.protected)&&void 0!==r?r:""),Le.encode("."),"string"==typeof e.payload?Le.encode(e.payload):e.payload),u=Je(e.signature);if(!await(async(e,t,n,r)=>{const a=await function(e,t,n){if($e(t))return t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(pt(t,"CryptoKey"));return qe.subtle.importKey("raw",t,{hash:{name:`SHA-${e.substr(-3)}`},name:"HMAC"},!1,["verify"])}throw new TypeError(pt(t,"CryptoKey","Uint8Array"))}(e,t);ht(e,a);const o=function(e){switch(e){case"HS256":return{hash:{name:"SHA-256"},name:"HMAC"};case"HS384":return{hash:{name:"SHA-384"},name:"HMAC"};case"HS512":return{hash:{name:"SHA-512"},name:"HMAC"};case"PS256":return{hash:{name:"SHA-256"},name:"RSA-PSS",saltLength:32};case"PS384":return{hash:{name:"SHA-384"},name:"RSA-PSS",saltLength:48};case"PS512":return{hash:{name:"SHA-512"},name:"RSA-PSS",saltLength:64};case"RS256":return{hash:{name:"SHA-256"},name:"RSASSA-PKCS1-v1_5"};case"RS384":return{hash:{name:"SHA-384"},name:"RSASSA-PKCS1-v1_5"};case"RS512":return{hash:{name:"SHA-512"},name:"RSASSA-PKCS1-v1_5"};case"ES256":return{hash:{name:"SHA-256"},name:"ECDSA",namedCurve:"P-256"};case"ES384":return{hash:{name:"SHA-384"},name:"ECDSA",namedCurve:"P-384"};case"ES512":return{hash:{name:"SHA-512"},name:"ECDSA",namedCurve:"P-521"};default:throw new Ye(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}(e);try{return await qe.subtle.verify(o,a,n,r)}catch(e){return!1}})(s,t,u,c))throw new st;let f;f=i?Je(e.payload):"string"==typeof e.payload?Le.encode(e.payload):e.payload;const d={payload:f};return void 0!==e.protected&&(d.protectedHeader=a),void 0!==e.header&&(d.unprotectedHeader=e.header),d},Et=e=>Math.floor(e.getTime()/1e3),St=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,kt=e=>{const t=St.exec(e);if(!t)throw new TypeError("Invalid time period format");const n=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(n);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(60*n);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(3600*n);case"day":case"days":case"d":return Math.round(86400*n);case"week":case"weeks":case"w":return Math.round(604800*n);default:return Math.round(31557600*n)}},Ct=e=>e.toLowerCase().replace(/^application\//,""),xt=(e,t,n={})=>{const{typ:r}=n;if(r&&("string"!=typeof e.typ||Ct(e.typ)!==Ct(r)))throw new Qe('unexpected "typ" JWT header value',"typ","check_failed");let a;try{a=JSON.parse(Me.decode(t))}catch(e){}if(!ut(a))throw new nt("JWT Claims Set must be a top-level JSON object");const{issuer:o}=n;if(o&&!(Array.isArray(o)?o:[o]).includes(a.iss))throw new Qe('unexpected "iss" claim value',"iss","check_failed");const{subject:i}=n;if(i&&a.sub!==i)throw new Qe('unexpected "sub" claim value',"sub","check_failed");const{audience:s}=n;if(s&&(c="string"==typeof s?[s]:s,!("string"==typeof(l=a.aud)?c.includes(l):Array.isArray(l)&&c.some(Set.prototype.has.bind(new Set(l))))))throw new Qe('unexpected "aud" claim value',"aud","check_failed");var l,c;let u;switch(typeof n.clockTolerance){case"string":u=kt(n.clockTolerance);break;case"number":u=n.clockTolerance;break;case"undefined":u=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:f}=n,d=Et(f||new Date);if(void 0!==a.iat||n.maxTokenAge){if("number"!=typeof a.iat)throw new Qe('"iat" claim must be a number',"iat","invalid");if(void 0===a.exp&&a.iat>d+u)throw new Qe('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}if(void 0!==a.nbf){if("number"!=typeof a.nbf)throw new Qe('"nbf" claim must be a number',"nbf","invalid");if(a.nbf>d+u)throw new Qe('"nbf" claim timestamp check failed',"nbf","check_failed")}if(void 0!==a.exp){if("number"!=typeof a.exp)throw new Qe('"exp" claim must be a number',"exp","invalid");if(a.exp<=d-u)throw new lt('"exp" claim timestamp check failed',"exp","check_failed")}if(n.maxTokenAge){const e=d-a.iat;if(e-u>("number"==typeof n.maxTokenAge?n.maxTokenAge:kt(n.maxTokenAge)))throw new lt('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(e<0-u)throw new Qe('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return a};async function Nt(e,t,n){var r;const a=await async function(e,t,n){if(e instanceof Uint8Array&&(e=Me.decode(e)),"string"!=typeof e)throw new tt("Compact JWS must be a string or Uint8Array");const{0:r,1:a,2:o,length:i}=e.split(".");if(3!==i)throw new tt("Invalid Compact JWS");const s=await wt({payload:a||void 0,protected:r||void 0,signature:o||void 0},t,n);return{payload:s.payload,protectedHeader:s.protectedHeader}}(e,t,n);if((null===(r=a.protectedHeader.crit)||void 0===r?void 0:r.includes("b64"))&&!1===a.protectedHeader.b64)throw new nt("JWTs MUST NOT use unencoded payload");return{payload:xt(a.protectedHeader,a.payload,n),protectedHeader:a.protectedHeader}}const Pt=async(e,t)=>{const n=`SHA-${e.substr(-3)}`;return new Uint8Array(await qe.subtle.digest(n,t))},Ot=(e,t)=>{if("string"!=typeof e||!e)throw new rt(`${t} missing or invalid`)};const _t=qe.getRandomValues.bind(qe);async function Tt(e,t){return async function(e,t){var n;let r,a,o;switch(e){case"HS256":case"HS384":case"HS512":r=parseInt(e.substr(-3),10),a={name:"HMAC",hash:{name:`SHA-${r}`},length:r},o=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return r=parseInt(e.substr(-3),10),_t(new Uint8Array(r>>3));case"A128KW":case"A192KW":case"A256KW":r=parseInt(e.substring(1,4),10),a={name:"AES-KW",length:r},o=["wrapKey","unwrapKey"];break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.substring(1,4),10),a={name:"AES-GCM",length:r},o=["encrypt","decrypt"];break;default:throw new Ye('unsupported or invalid JWK "alg" (Algorithm) Parameter value')}return qe.subtle.generateKey(a,null!==(n=null==t?void 0:t.extractable)&&void 0!==n&&n,o)}(e,t)}async function Rt(e){return(async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:Ve(e)};if(!$e(e))throw new TypeError(pt(e,"CryptoKey","Uint8Array"));if(!e.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:t,key_ops:n,alg:r,use:a,...o}=await qe.subtle.exportKey("jwk",e);return o})(e)}const At=new Map([["A128CBC-HS256",128],["A128GCM",96],["A128GCMKW",96],["A192CBC-HS384",128],["A192GCM",96],["A192GCMKW",96],["A256CBC-HS512",128],["A256GCM",96],["A256GCMKW",96]]),jt=e=>t=>{const n=At.get(t);if(!n)throw new Ye(`Unsupported JWE Algorithm: ${t}`);return e(new Uint8Array(n>>3))},Dt=(e,t)=>{if(t.length<<3!==At.get(e))throw new et("Invalid Initialization Vector length")},Lt=(e,t)=>{let n;switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":if(n=parseInt(e.substr(-3),10),!(t instanceof Uint8Array))throw new TypeError(`${e} content encryption requires Uint8Array as key input`);break;case"A128GCM":case"A192GCM":case"A256GCM":n=parseInt(e.substr(1,3),10);break;default:throw new Ye(`Content Encryption Algorithm ${e} is not supported either by JOSE or your javascript runtime`)}if(t instanceof Uint8Array){if(t.length<<3!==n)throw new et("Invalid Content Encryption Key length")}else{if(void 0===t.algorithm)throw new TypeError("Invalid Content Encryption Key type");{const{length:e}=t.algorithm;if(e!==n)throw new et("Invalid Content Encryption Key length")}}},Mt=async(e,t,n,r,a)=>{if(!($e(n)||n instanceof Uint8Array))throw new TypeError(pt(n,"CryptoKey","Uint8Array"));switch(Lt(e,n),Dt(e,r),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return async function(e,t,n,r,a){const o=parseInt(e.substr(1,3),10),i=await qe.subtle.importKey("raw",n.subarray(o>>3),"AES-CBC",!1,["encrypt"]),s=await qe.subtle.importKey("raw",n.subarray(0,o>>3),{hash:{name:"SHA-"+(o<<1)},name:"HMAC"},!1,["sign"]),l=new Uint8Array(await qe.subtle.encrypt({iv:r,name:"AES-CBC"},i,t)),c=Ie(a,r,l,Fe(a.length<<3));return{ciphertext:l,tag:new Uint8Array((await qe.subtle.sign("HMAC",s,c)).slice(0,o>>3))}}(e,t,n,r,a);case"A128GCM":case"A192GCM":case"A256GCM":return async function(e,t,n,r){const a=t instanceof Uint8Array?await qe.subtle.importKey("raw",t,"AES-GCM",!1,["encrypt"]):t,o=new Uint8Array(await qe.subtle.encrypt({additionalData:r,iv:n,name:"AES-GCM",tagLength:128},a,e)),i=o.slice(-16);return{ciphertext:o.slice(0,-16),tag:i}}(t,n,r,a);default:throw new Ye("unsupported JWE Content Encryption Algorithm")}},Kt=async()=>{throw new Ye('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `inflateRaw` decrypt option to provide Inflate Raw implementation, e.g. using the "pako" module.')},It=async()=>{throw new Ye('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime.')},Ut=new Map([["A128CBC-HS256",256],["A128GCM",128],["A192CBC-HS384",384],["A192GCM",192],["A256CBC-HS512",512],["A256GCM",256]]),Ht=e=>t=>{const n=Ut.get(t);if(!n)throw new Ye(`Unsupported JWE Algorithm: ${t}`);return e(new Uint8Array(n>>3))},Ft=[{hash:{name:"SHA-256"},name:"HMAC"},!0,["sign"]];function Wt(e,t){if(e.algorithm.length!==parseInt(t.substr(1,3),10))throw new TypeError(`invalid key size for alg: ${t}`)}function Bt(e,t){if($e(e))return e;if(e instanceof Uint8Array)return qe.subtle.importKey("raw",e,"AES-KW",!0,[t]);throw new TypeError(pt(e,"CryptoKey","Uint8Array"))}const zt=async(e,t,n)=>{const r=await Bt(t,"wrapKey");Wt(r,e);const a=await qe.subtle.importKey("raw",n,...Ft);return new Uint8Array(await qe.subtle.wrapKey("raw",a,r,"AES-KW"))},Vt=async(e,t,n)=>{const r=await Bt(t,"unwrapKey");Wt(r,e);const a=await qe.subtle.unwrapKey("raw",n,r,"AES-KW",...Ft);return new Uint8Array(await qe.subtle.exportKey("raw",a))},Jt=async(e,t,n,r,a=new Uint8Array(0),o=new Uint8Array(0))=>{if(!$e(e))throw new TypeError(pt(e,"CryptoKey"));if(!$e(t))throw new TypeError(pt(t,"CryptoKey"));const i=Ie(Be(Le.encode(n)),Be(a),Be(o),We(r));if(!t.usages.includes("deriveBits"))throw new TypeError('ECDH-ES private key "usages" must include "deriveBits"');const s=new Uint8Array(await qe.subtle.deriveBits({name:"ECDH",public:e},t,Math.ceil(parseInt(t.algorithm.namedCurve.substr(-3),10)/8)<<3));return async function(e,t,n,r){const a=Math.ceil((n>>3)/32);let o;for(let n=1;n<=a;n++){const a=new Uint8Array(4+t.length+r.length);a.set(We(n)),a.set(t,4),a.set(r,4+t.length),o=o?Ie(o,await e("sha256",a)):await e("sha256",a)}return o=o.slice(0,n>>3),o}(Pt,s,r,i)},qt=e=>{if(!$e(e))throw new TypeError(pt(e,"CryptoKey"));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)};function $t(e){if(!(e instanceof Uint8Array)||e.length<8)throw new et("PBES2 Salt Input must be 8 or more octets")}function Gt(e){if(e instanceof Uint8Array)return qe.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]);if($e(e))return e;throw new TypeError(pt(e,"CryptoKey","Uint8Array"))}function Qt(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new Ye(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}const Xt=async(e,t,n,r,a,o)=>{if(!($e(t)||t instanceof Uint8Array))throw new TypeError(pt(t,"CryptoKey","Uint8Array"));switch(Lt(e,t),Dt(e,r),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return async function(e,t,n,r,a,o){const i=parseInt(e.substr(1,3),10),s=await qe.subtle.importKey("raw",t.subarray(i>>3),"AES-CBC",!1,["decrypt"]),l=await qe.subtle.importKey("raw",t.subarray(0,i>>3),{hash:{name:"SHA-"+(i<<1)},name:"HMAC"},!1,["sign"]),c=Ie(o,r,n,Fe(o.length<<3)),u=new Uint8Array((await qe.subtle.sign("HMAC",l,c)).slice(0,i>>3));let f,d;try{f=((e,t)=>{if(!(e instanceof Uint8Array))throw new TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw new TypeError("Second argument must be a buffer");if(e.length!==t.length)throw new TypeError("Input buffers must have the same length");const n=e.length;let r=0,a=-1;for(;++a<n;)r|=e[a]^t[a];return 0===r})(a,u)}catch(e){}if(!f)throw new Ze;try{d=new Uint8Array(await qe.subtle.decrypt({iv:r,name:"AES-CBC"},s,n))}catch(e){}if(!d)throw new Ze;return d}(e,t,n,r,a,o);case"A128GCM":case"A192GCM":case"A256GCM":return async function(e,t,n,r,a){const o=e instanceof Uint8Array?await qe.subtle.importKey("raw",e,"AES-GCM",!1,["decrypt"]):e;try{return new Uint8Array(await qe.subtle.decrypt({additionalData:a,iv:n,name:"AES-GCM",tagLength:128},o,Ie(t,r)))}catch(e){throw new Ze}}(t,n,r,a,o);default:throw new Ye("unsupported JWE Content Encryption Algorithm")}},Yt=jt(_t),Zt=Ht(_t),en=jt(_t),tn=yt.bind(void 0,et,new Map);class nn extends class{constructor(e){if(!ut(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return this._payload="number"==typeof e?{...this._payload,nbf:e}:{...this._payload,nbf:Et(new Date)+kt(e)},this}setExpirationTime(e){return this._payload="number"==typeof e?{...this._payload,exp:e}:{...this._payload,exp:Et(new Date)+kt(e)},this}setIssuedAt(e){return this._payload=void 0===e?{...this._payload,iat:Et(new Date)}:{...this._payload,iat:e},this}}{setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){const n=new class{constructor(e){this._flattened=new class{constructor(e){this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,t){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new et("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!dt(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new et("JWE Shared Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const n={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(tn(null==t?void 0:t.crit,this._protectedHeader,n),void 0!==n.zip){if(!this._protectedHeader||!this._protectedHeader.zip)throw new et('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==n.zip)throw new Ye('unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:r,enc:a}=n;if("string"!=typeof r||!r)throw new et('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof a||!a)throw new et('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let o,i,s,l,c,u,f;if("dir"===r){if(this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if("ECDH-ES"===r&&this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");{let t;({cek:i,encryptedKey:o,parameters:t}=await async function(e,t,n,r,a={}){let o,i,s;switch(mt(e,n,"encrypt"),e){case"dir":s=n;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!qt(n))throw new Ye("ECDH-ES with the provided key is not allowed or not supported by your javascript runtime");const{apu:l,apv:c}=a;let{epk:u}=a;u||(u=await(async e=>{if(!$e(e))throw new TypeError(pt(e,"CryptoKey"));return(await qe.subtle.generateKey({name:"ECDH",namedCurve:e.algorithm.namedCurve},!0,["deriveBits"])).privateKey})(n));const{x:f,y:d,crv:p,kty:m}=await Rt(u),h=await Jt(n,u,"ECDH-ES"===e?t:e,parseInt(e.substr(-5,3),10)||Ut.get(t),l,c);if(i={epk:{x:f,y:d,crv:p,kty:m}},l&&(i.apu=Ve(l)),c&&(i.apv=Ve(c)),"ECDH-ES"===e){s=h;break}s=r||Zt(t);const y=e.substr(-6);o=await zt(y,h,s);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s=r||Zt(t),o=await(async(e,t,n)=>{if(!$e(t))throw new TypeError(pt(t,"CryptoKey"));if(ht(e,t),t.usages.includes("encrypt"))return new Uint8Array(await qe.subtle.encrypt(Qt(e),t,n));if(t.usages.includes("wrapKey")){const r=await qe.subtle.importKey("raw",n,...Ft);return new Uint8Array(await qe.subtle.wrapKey("raw",r,t,Qt(e)))}throw new TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')})(e,n,s);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{s=r||Zt(t);const{p2c:l,p2s:c}=a;({encryptedKey:o,...i}=await(async(e,t,n,r=Math.floor(2049*Math.random())+2048,a=_t(new Uint8Array(16)))=>{$t(a);const o=Ue(e,a),i=parseInt(e.substr(13,3),10),s={hash:{name:`SHA-${e.substr(8,3)}`},iterations:r,name:"PBKDF2",salt:o},l={length:i,name:"AES-KW"},c=await Gt(t);let u;if(c.usages.includes("deriveBits"))u=new Uint8Array(await qe.subtle.deriveBits(s,c,i));else{if(!c.usages.includes("deriveKey"))throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"');u=await qe.subtle.deriveKey(s,c,l,!1,["wrapKey"])}return{encryptedKey:await zt(e.substr(-6),u,n),p2c:r,p2s:Ve(a)}})(e,n,s,l,c));break}case"A128KW":case"A192KW":case"A256KW":s=r||Zt(t),o=await zt(e,n,s);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{s=r||Zt(t);const{iv:l}=a;({encryptedKey:o,...i}=await(async(e,t,n,r)=>{const a=e.substr(0,7);r||(r=Yt(a));const{ciphertext:o,tag:i}=await Mt(a,n,t,r,new Uint8Array(0));return{encryptedKey:o,iv:Ve(r),tag:Ve(i)}})(e,n,s,l));break}default:throw new Ye('unsupported or invalid "alg" (JWE Algorithm) header value')}return{cek:s,encryptedKey:o,parameters:i}}(r,a,e,this._cek,this._keyManagementParameters)),t&&(this._protectedHeader?this._protectedHeader={...this._protectedHeader,...t}:this.setProtectedHeader(t))}if(this._iv||(this._iv=en(a)),l=this._protectedHeader?Le.encode(Ve(JSON.stringify(this._protectedHeader))):Le.encode(""),this._aad?(c=Ve(this._aad),s=Ie(l,Le.encode("."),Le.encode(c))):s=l,"DEF"===n.zip){const e=await((null==t?void 0:t.deflateRaw)||It)(this._plaintext);({ciphertext:u,tag:f}=await Mt(a,e,i,this._iv,s))}else({ciphertext:u,tag:f}=await Mt(a,this._plaintext,i,this._iv,s));const d={ciphertext:Ve(u),iv:Ve(this._iv),tag:Ve(f)};return o&&(d.encrypted_key=Ve(o)),c&&(d.aad=c),this._protectedHeader&&(d.protected=Me.decode(l)),this._sharedUnprotectedHeader&&(d.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(d.header=this._unprotectedHeader),d}}(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){const n=await this._flattened.encrypt(e,t);return[n.protected,n.encrypted_key,n.iv,n.ciphertext,n.tag].join(".")}}(Le.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),n.setProtectedHeader(this._protectedHeader),this._iv&&n.setInitializationVector(this._iv),this._cek&&n.setContentEncryptionKey(this._cek),this._keyManagementParameters&&n.setKeyManagementParameters(this._keyManagementParameters),n.encrypt(e,t)}}function rn(e){if(!e)throw new et("JWE Encrypted Key missing")}function an(e,t,n){if(void 0===e[t])throw new et(`JOSE Header ${n} (${t}) missing`)}const on=Ht(_t),sn=yt.bind(void 0,et,new Map),ln=gt.bind(void 0,"keyManagementAlgorithms"),cn=gt.bind(void 0,"contentEncryptionAlgorithms"),un=async function(e,t,n){var r;if(!ut(e))throw new et("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new et("JOSE Header missing");if("string"!=typeof e.iv)throw new et("JWE Initialization Vector missing or incorrect type");if("string"!=typeof e.ciphertext)throw new et("JWE Ciphertext missing or incorrect type");if("string"!=typeof e.tag)throw new et("JWE Authentication Tag missing or incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new et("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new et("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new et("JWE AAD incorrect type");if(void 0!==e.header&&!ut(e.header))throw new et("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!ut(e.unprotected))throw new et("JWE Per-Recipient Unprotected Header incorrect type");let a;if(e.protected){const t=Je(e.protected);try{a=JSON.parse(Me.decode(t))}catch(e){throw new et("JWE Protected Header is invalid")}}if(!dt(a,e.header,e.unprotected))throw new et("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");const o={...a,...e.header,...e.unprotected};if(sn(null==n?void 0:n.crit,a,o),void 0!==o.zip){if(!a||!a.zip)throw new et('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==o.zip)throw new Ye('unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:i,enc:s}=o;if("string"!=typeof i||!i)throw new et("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof s||!s)throw new et("missing JWE Encryption Algorithm (enc) in JWE Header");const l=n&&ln(n.keyManagementAlgorithms),c=n&&cn(n.contentEncryptionAlgorithms);if(l&&!l.has(i))throw new Xe('"alg" (Algorithm) Header Parameter not allowed');if(c&&!c.has(s))throw new Xe('"enc" (Encryption Algorithm) Header Parameter not allowed');let u,f;void 0!==e.encrypted_key&&(u=Je(e.encrypted_key)),"function"==typeof t&&(t=await t(a,e));try{f=await async function(e,t,n,r){switch(mt(e,t,"decrypt"),e){case"dir":if(void 0!==n)throw new et("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==n)throw new et("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(an(r,"epk","Ephemeral Public Key"),!qt(t))throw new Ye("ECDH-ES with the provided key is not allowed or not supported by your javascript runtime");const a=await ft(r.epk,e);let o,i;void 0!==r.apu&&(o=Je(r.apu)),void 0!==r.apv&&(i=Je(r.apv));const s=await Jt(a,t,"ECDH-ES"===e?r.enc:e,parseInt(e.substr(-5,3),10)||Ut.get(r.enc),o,i);if("ECDH-ES"===e)return s;rn(n);const l=e.substr(-6);return Vt(l,s,n)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return rn(n),(async(e,t,n)=>{if(!$e(t))throw new TypeError(pt(t,"CryptoKey"));if(ht(e,t),t.usages.includes("decrypt"))return new Uint8Array(await qe.subtle.decrypt(Qt(e),t,n));if(t.usages.includes("unwrapKey")){const r=await qe.subtle.unwrapKey("raw",n,t,Qt(e),...Ft);return new Uint8Array(await qe.subtle.exportKey("raw",r))}throw new TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')})(e,t,n);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{rn(n),an(r,"p2c","PBES2 Count"),an(r,"p2s","PBES2 Salt");const{p2c:a}=r;return(async(e,t,n,r,a)=>{$t(a);const o=Ue(e,a),i=parseInt(e.substr(13,3),10),s={hash:{name:`SHA-${e.substr(8,3)}`},iterations:r,name:"PBKDF2",salt:o},l={length:i,name:"AES-KW"},c=await Gt(t);let u;if(c.usages.includes("deriveBits"))u=new Uint8Array(await qe.subtle.deriveBits(s,c,i));else{if(!c.usages.includes("deriveKey"))throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"');u=await qe.subtle.deriveKey(s,c,l,!1,["unwrapKey"])}return Vt(e.substr(-6),u,n)})(e,t,n,a,Je(r.p2s))}case"A128KW":case"A192KW":case"A256KW":return rn(n),Vt(e,t,n);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":return rn(n),an(r,"iv","Initialization Vector"),an(r,"tag","Authentication Tag"),(async(e,t,n,r,a)=>{const o=e.substr(0,7);return Xt(o,t,n,r,a,new Uint8Array(0))})(e,t,n,Je(r.iv),Je(r.tag));default:throw new Ye('unsupported or invalid "alg" (JWE Algorithm) header value')}}(i,t,u,o)}catch(e){if(e instanceof TypeError)throw e;f=on(s)}const d=Je(e.iv),p=Je(e.tag),m=Le.encode(null!==(r=e.protected)&&void 0!==r?r:"");let h;h=void 0!==e.aad?Ie(m,Le.encode("."),Le.encode(e.aad)):m;let y=await Xt(s,f,Je(e.ciphertext),d,p,h);"DEF"===o.zip&&(y=await((null==n?void 0:n.inflateRaw)||Kt)(y));const g={plaintext:y};return void 0!==e.protected&&(g.protectedHeader=a),void 0!==e.aad&&(g.additionalAuthenticatedData=Je(e.aad)),void 0!==e.unprotected&&(g.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(g.unprotectedHeader=e.header),g};async function fn(e,t,n){const r=await async function(e,t,n){if(e instanceof Uint8Array&&(e=Me.decode(e)),"string"!=typeof e)throw new et("Compact JWE must be a string or Uint8Array");const{0:r,1:a,2:o,3:i,4:s,length:l}=e.split(".");if(5!==l)throw new et("Invalid Compact JWE");const c=await un({ciphertext:i||void 0,iv:o||void 0,protected:r||void 0,tag:s||void 0,encrypted_key:a||void 0},t,n);return{plaintext:c.plaintext,protectedHeader:c.protectedHeader}}(e,t,n),a=xt(r.protectedHeader,r.plaintext,n),{protectedHeader:o}=r;if(void 0!==o.iss&&o.iss!==a.iss)throw new Qe('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(void 0!==o.sub&&o.sub!==a.sub)throw new Qe('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(void 0!==o.aud&&JSON.stringify(o.aud)!==JSON.stringify(a.aud))throw new Qe('replicated "aud" claim header parameter mismatch',"aud","mismatch");return{payload:a,protectedHeader:o}}function dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const pn=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subscriberList={}}var t,n;return t=e,(n=[{key:"subscribe",value:function(e,t){this.subscriberList[e]=t}},{key:"sendMessage",value:function(e,t){if(Array.isArray(e)||(e=[e]),"broadcast"===e[0])this.subscriberList.forEach((function(e,n){e({type:"broadcast",message:t})}));else for(var n in this.subscriberList)e.indexOf(n)>=0&&this.subscriberList[n](t)}}])&&dn(t.prototype,n),e}());function mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const hn=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.apiPrefix="",this.token="",this.signJwk=!1}var t,n;return t=e,(n=[{key:"setConfig",value:function(e){this.apiPrefix=e}},{key:"setToken",value:function(e){this.token=e}},{key:"setSignJwk",value:function(e){this.signJwk=e}},{key:"getConfig",value:function(e){return this.apiPrefix}},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/json; charset=utf-8";return n&&"GET"!==t?$.ajax({method:t,url:e,headers:{accept:r,"content-type":"application/json; charset=utf-8",Authorization:"Bearer "+this.token},data:JSON.stringify(n)}):$.ajax({method:t,url:e,headers:{accept:r,"content-type":"application/json; charset=utf-8",Authorization:"Bearer "+this.token}})}},{key:"requestSigned",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(r&&"GET"!==n?$.ajax({method:n,url:e,headers:{accept:"application/jwt","content-type":"application/json; charset=utf-8",Authorization:"Bearer "+this.token},data:JSON.stringify(r)}):$.ajax({method:n,url:e,headers:{accept:"application/jwt","content-type":"application/json; charset=utf-8",Authorization:"Bearer "+this.token}})).then((function(e,n,r){return"application/jwt"===r.getResponseHeader("content-type")?t.signJwk?Nt(e,t.signJwk):Promise.reject("No public key to verify signature"):Promise.reject("invalid content-type")}))}}])&&mn(t.prototype,n),e}());function yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const gn=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state=0,this.changeCallback=[],window.onhashchange=function(){t.changeCallback.forEach((function(e){e(t.getCurrentRoute())}))}}var t,n;return t=e,(n=[{key:"addChangeRouteCallback",value:function(e){this.changeCallback.push(e)}},{key:"getCurrentRoute",value:function(){var e=window.location.hash;return!!e&&e.substring(1)}},{key:"addRoute",value:function(e){history.pushState({id:"state-"+this.state++},"","#"+e)}}])&&yn(t.prototype,n),e}());function bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var vn={read:function(e){return e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};const wn=function e(t,n){function r(e,r,a){if("undefined"!=typeof document){"number"==typeof(a=bn({},n,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),r=t.write(r,e);var o="";for(var i in a)a[i]&&(o+="; "+i,!0!==a[i]&&(o+="="+a[i].split(";")[0]));return document.cookie=e+"="+r+o}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},a=0;a<n.length;a++){var o=n[a].split("="),i=o.slice(1).join("=");'"'===i[0]&&(i=i.slice(1,-1));try{var s=vn.read(o[0]);if(r[s]=t.read(i,s),e===s)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",bn({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,bn({},this.attributes,t))},withConverter:function(t){return e(bn({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}(vn,{path:"/"});function En(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const Sn=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.storageType=!1}var t,n;return t=e,(n=[{key:"setStorageType",value:function(e){if("local"===e){var t="testLocalStorage";try{localStorage.setItem(t,t),localStorage.removeItem(t),this.storageType="local"}catch(e){this.storageType="cookie"}}else this.storageType=e}},{key:"setValue",value:function(e,t){return"local"===this.storageType?localStorage.setItem(e,JSON.stringify(t)):"cookie"===this.storageType&&wn.set(e,JSON.stringify(t))}},{key:"removeValue",value:function(e){return"local"===this.storageType?localStorage.removeItem(e):"cookie"===this.storageType&&wn.remove(e)}},{key:"getValue",value:function(e){return"local"===this.storageType?JSON.parse(localStorage.getItem(e))||!1:"cookie"===this.storageType&&JSON.parse(wn.get(e))||!1}}])&&En(t.prototype,n),e}());function kn(e){return(kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xn(e,t){return(xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nn(e,t){if(t&&("object"===kn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pn(e)}function Pn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function On(e){return(On=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const _n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xn(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=On(o);if(i){var n=On(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Nn(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={message:[],counter:0,loggedIn:e.loggedIn},pn.subscribe("Notification",(function(e){if(e.type){var n=t.state.message;n.push({type:e.type,message:e.message,id:t.state.counter}),t.setState({message:n,counter:t.state.counter+1},(function(){$("#toast-"+(t.state.counter-1)).toast({animation:!0}).toast("show")}))}})),t.close=t.close.bind(Pn(t)),t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"close",value:function(e){var t=this,n=this.state.message;n.forEach((function(r,a){r.id===e&&(n.splice(a,1),t.setState({message:n}))}))}},{key:"render",value:function(){var e=this,t=[],n=this.state.loggedIn;return this.state.message.forEach((function(e){"danger"!==e.type&&"warning"!==e.type||(n=!0)})),n&&this.state.message.forEach((function(n,a){var o;o="success"===n.type?r.createElement("i",{className:"fa fa-check-square-o btn-icon text-success"}):"danger"===n.type?r.createElement("i",{className:"fa fa-exclamation-circle text-danger btn-icon"}):"warning"===n.type?r.createElement("i",{className:"fa fa-exclamation-triangle text-warning btn-icon"}):r.createElement("i",{className:"fa fa-info-circle btn-icon text-info"}),t.push(r.createElement("div",{className:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true",key:a,id:"toast-"+n.id},r.createElement("div",{className:"toast-header"},o,r.createElement("strong",{className:"me-auto"},"Hutch"),r.createElement("button",{"aria-label":"Close",className:"btn-close","data-bs-dismiss":"toast",type:"button",onClick:function(t){return e.close(n.id)}})),r.createElement("div",{className:"toast-body"},n.message)))})),r.createElement("div",{className:"position-fixed",style:{top:20,right:20,zIndex:9999}},t)}}])&&Cn(t.prototype,n),a&&Cn(t,a),l}(r.Component);function Tn(e){return(Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function An(e,t){return(An=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jn(e,t){if(t&&("object"===Tn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Dn(e)}function Dn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ln(e){return(Ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Mn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&An(e,t)}(s,e);var t,n,a,o,i=(a=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ln(a);if(o){var n=Ln(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return jn(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={config:e.config},t.changeLang=t.changeLang.bind(Dn(t)),t}return t=s,(n=[{key:"changeLang",value:function(e,t){e.preventDefault(),pn.sendMessage("App",{action:"lang",lang:t})}},{key:"render",value:function(){var e=this,t=[];return this.state.config.frontend.lang.forEach((function(n,a){var o="dropdown-item";G.language===n&&(o+=" active"),t.push(r.createElement("li",{key:a},r.createElement("a",{className:o,href:"#",onClick:function(t){return e.changeLang(t,n)}},n)))})),r.createElement("li",{className:"nav-item dropdown"},r.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},G.t("lang")),r.createElement("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},t))}}])&&Rn(t.prototype,n),s}(r.Component);function Kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const In=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"init",value:function(e){var t=this;this.refreshToken=!1,this.accessToken=!1,this.changeStatusCb=[],this.connected=!1,this.parameters={},"/"!==window.location.pathname?this.localStorageKey="hutchOidc-"+window.btoa(unescape(encodeURIComponent(window.location.pathname))).replace(/\=+$/m,""):this.localStorageKey="hutchOidc",this.refreshTimeout=!1,e&&(this.parameters.storageType=e.storageType||"none",this.parameters.responseType=e.responseType||"code",this.parameters.scope=e.scope||"",this.parameters.openidConfigUrl=e.openidConfigUrl||"",this.parameters.authUrl=e.authUrl||"",this.parameters.tokenUrl=e.tokenUrl||"",this.parameters.clientId=e.clientId||"",this.parameters.clientPassword=e.clientPassword||"",this.parameters.redirectUri=e.redirectUri||"",this.parameters.userinfoUrl=e.userinfoUrl||"",e.changeStatusCb&&this.changeStatusCb.push(e.changeStatusCb)),this.parameters.openidConfigUrl?$.ajax({type:"GET",url:this.parameters.openidConfigUrl,success:function(e){t.parameters.authUrl=e.authorization_endpoint,t.parameters.tokenUrl=e.token_endpoint,t.parameters.userinfoUrl=e.userinfo_endpoint,t.parseInitialUrl()},error:function(e){t.broadcastMessage("error")}}):this.parseInitialUrl()}},{key:"parseInitialUrl",value:function(){var e,t,n=this;if("code"===this.parameters.responseType){var r=this.getCodeFromQuery();if(r)this.getRefreshTokenFromCode(r,(function(e){e?(n.refreshToken=e.refresh_token,n.storeRefreshToken(n.refreshToken),e.access_token?(n.accessToken={access_token:e.access_token,iat:e.iat,expires_in:e.expires_in},n.storeAccessToken(n.accessToken),n.broadcastMessage("connected",n.accessToken.access_token,n.accessToken.iat+n.accessToken.expires_in),n.getConnectedProfile((function(e,t){e&&n.broadcastMessage("profile",t)})),n.refreshTokenLoop(e.refresh_token,n.accessToken.expires_in)):n.broadcastMessage("disconnected")):n.broadcastMessage("disconnected")})),window.history.pushState(null,"",document.location.href.split("?")[0]);else if((e=this.getStoredData())&&e.accessToken&&this.isTokenValid(e.accessToken)){if(this.accessToken=e.accessToken,this.broadcastMessage("connected",this.accessToken.access_token,this.accessToken.iat+this.accessToken.expires_in),this.getConnectedProfile((function(e,t){e&&n.broadcastMessage("profile",t)})),e.refreshToken){var a=new Date,o=Math.floor((1e3*(this.accessToken.iat+this.accessToken.expires_in)-a.getTime())/1e3);this.refreshTokenLoop(e.refreshToken,o)}}else e&&e.refreshToken?(this.accessToken=!1,this.refreshToken=e.refreshToken,this.executeRefreshToken(e.refreshToken,(function(t,r){t&&(n.accessToken=r,n.storeAccessToken(r),n.refreshTokenLoop(e.refreshToken,n.accessToken.expires_in),n.broadcastMessage("connected",r.access_token,r.iat+r.expires_in),n.getConnectedProfile((function(e,t){e&&n.broadcastMessage("profile",t)})))}))):this.broadcastMessage("disconnected")}else this.parameters.responseType.search("token")>-1&&((t=this.getTokenFromFragment())?(this.accessToken=t,document.location="#",this.getConnectedProfile((function(e,r){e?n.broadcastMessage("connected",t.access_token,t.iat+t.expires_in,r):n.broadcastMessage("connected",t.access_token,t.iat+t.expires_in,!1)})),this.storeAccessToken(t)):(e=this.getStoredData())&&e.accessToken&&this.isTokenValid(e.accessToken)?(this.accessToken=e.accessToken,this.broadcastMessage("connected",this.accessToken.access_token,this.accessToken.iat+this.accessToken.expires_in),this.getConnectedProfile((function(e,t){e&&n.broadcastMessage("profile",t)}))):(this.broadcastMessage("disconnected"),this.accessToken=!1)),this.parameters.responseType.search("id_token")>-1&&(id_token=this.getQueryParams(document.location.hash).id_token)}},{key:"getQueryParams",value:function(e){e=e.split("+").join(" ");var t,n={},r=/[#&]?([^=]+)=([^&]*)/g;for(t=r.exec(e);t;)n[decodeURIComponent(t[1])]=decodeURIComponent(t[2]),t=r.exec(e);return n}},{key:"getTokenFromFragment",value:function(){var e=this.getQueryParams(document.location.hash),t=new Date;return!(!e.access_token||!e.expires_in)&&{access_token:e.access_token,expires_in:e.expires_in,iat:Math.floor(t.getTime()/1e3)}}},{key:"getCodeFromQuery",value:function(){return this.getQueryParams(document.location.search.substring(1)).code||!1}},{key:"refresh",value:function(e){var t=this;"code"===this.parameters.responseType&&this.refreshToken?this.executeRefreshToken(this.refreshToken,(function(n,r){n&&(t.accessToken=r,t.storeAccessToken(r),t.refreshTokenLoop(t.refreshToken,t.accessToken.expires_in),t.broadcastMessage("refresh",r.access_token,r.iat+r.expires_in),e(r.access_token))})):e(!1)}},{key:"getToken",value:function(){return this.accessToken&&this.isTokenValid(this.accessToken)?this.accessToken.access_token:(this.accessToken=!1,!1)}},{key:"getStatus",value:function(){return this.accessToken&&this.isTokenValid(this.accessToken)?"connected":(this.accessToken=!1,"disconnected")}},{key:"storeAccessToken",value:function(e){var t=this.getStoredData();return t||(t={}),t.accessToken=e,"local"===this.parameters.storageType?localStorage.setItem(this.localStorageKey,JSON.stringify(t)):"cookie"===this.parameters.storageType&&wn.set(this.localStorageKey,JSON.stringify(t))}},{key:"storeIDToken",value:function(e){var t=this.getStoredData();return t||(t={}),t.IDToken=e,"local"===this.parameters.storageType?localStorage.setItem(this.localStorageKey,JSON.stringify(t)):"cookie"===this.parameters.storageType&&wn.set(this.localStorageKey,JSON.stringify(t))}},{key:"storeRefreshToken",value:function(e){var t=this.getStoredData();return t||(t={}),t.refreshToken=e,"local"===this.parameters.storageType?localStorage.setItem(this.localStorageKey,JSON.stringify(t)):"cookie"===this.parameters.storageType&&wn.set(this.localStorageKey,JSON.stringify(t))}},{key:"storeNonce",value:function(e){var t=this.getStoredData();return t||(t={}),t.nonce=e,"local"===this.parameters.storageType?localStorage.setItem(this.localStorageKey,JSON.stringify(t)):"cookie"===this.parameters.storageType&&wn.set(this.localStorageKey,JSON.stringify(t))}},{key:"makeNonce",value:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*r));return t}},{key:"getStoredData",value:function(){return"local"===this.parameters.storageType?JSON.parse(localStorage.getItem(this.localStorageKey))||{}:"cookie"===this.parameters.storageType&&JSON.parse(wn.get(this.localStorageKey))||{}}},{key:"onChangeStatus",value:function(e){this.changeStatusCb.push(e)}},{key:"isTokenValid",value:function(e){if(e){var t=new Date;return 1e3*(e.iat+e.expires_in)>t.getTime()}return!1}},{key:"getRefreshTokenFromCode",value:function(e,t){var n=this;$.ajax({type:"POST",url:this.parameters.tokenUrl,data:{grant_type:"authorization_code",client_id:this.parameters.clientId,redirect_uri:this.parameters.redirectUri,code:e},success:function(e,n,r){t(e)},error:function(e){403===e.status&&(n.refreshToken=!1),n.accessToken=!1,t(!1)}})}},{key:"refreshTokenLoop",value:function(e,t){var n=this;clearTimeout(this.refreshTimeout),this.refreshTimeout=setTimeout((function(){n.executeRefreshToken(e,(function(t,r){if(t){var a=new Date,o=Math.floor((1e3*(r.iat+r.expires_in)-a.getTime())/1e3);n.refreshTokenLoop(e,o)}}))}),1e3*(t-60))}},{key:"runRefreshToken",value:function(e){return this.getStoredData().refreshToken?this.executeRefreshToken(this.getStoredData().refreshToken,e):new Promise((function(e,t){t("disconnected")}))}},{key:"executeRefreshToken",value:function(e,t){var n=this;return $.ajax({type:"POST",url:this.parameters.tokenUrl,data:{grant_type:"refresh_token",refresh_token:e},success:function(e,r,a){n.accessToken=e.access_token,n.storeAccessToken(e),n.broadcastMessage("refresh",e.access_token,e.iat+e.expires_in),t&&t(!0,e)},error:function(e){403===e.status&&(n.refreshToken=!1),n.accessToken=!1,0===e.readyState?n.broadcastMessage("network error"):n.broadcastMessage("disconnected"),t&&t(!1)}}).then((function(e){return{token:e.access_token,expiration:e.expires_in}}))}},{key:"broadcastMessage",value:function(e,t,n,r){for(var a in this.changeStatusCb)this.changeStatusCb[a](e,t,n,r)}},{key:"getConnectedProfile",value:function(e){this.parameters.userinfoUrl?$.ajax({type:"GET",url:this.parameters.userinfoUrl,headers:{Authorization:"Bearer "+this.accessToken.access_token},success:function(t){e&&e(!0,t)},error:function(t){e&&e(!1)}}):e(!1)}},{key:"connect",value:function(){var e=this,t=this.getStoredData();if(t&&this.isTokenValid(t.accessToken))this.broadcastMessage("connected",t.accessToken.access_token,t.accessToken.iat+t.accessToken.expires_in),this.getConnectedProfile((function(t,n){t&&e.broadcastMessage("profile",n)}));else{t.accessToken=!1;var n=this.makeNonce(16);this.storeAccessToken(!1),this.storeNonce(n),"token"===this.parameters.responseType?document.location=this.parameters.authUrl+"?response_type=token&client_id="+this.parameters.clientId+"&redirect_uri="+this.parameters.redirectUri+"&scope="+this.parameters.scope+"&nonce="+n:"code"===this.parameters.responseType&&(document.location=this.parameters.authUrl+"?response_type=code&client_id="+this.parameters.clientId+"&redirect_uri="+this.parameters.redirectUri+"&scope="+this.parameters.scope+"&nonce="+n)}}},{key:"disconnect",value:function(){clearTimeout(this.refreshTimeout),"local"===this.parameters.storageType?localStorage.removeItem(this.localStorageKey):"cookie"===this.parameters.storageType&&wn.remove(this.localStorageKey),this.refreshToken=!1,this.accessToken=!1,this.broadcastMessage("disconnected")}}])&&Kn(t.prototype,n),e}());function Un(e){return(Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fn(e,t){return(Fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wn(e,t){if(t&&("object"===Un(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Bn(e){return(Bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const zn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fn(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Bn(o);if(i){var n=Bn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Wn(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={status:e.status},t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"logOut",value:function(){In.disconnect()}},{key:"logIn",value:function(){In.connect()}},{key:"render",value:function(){return"connecting"===this.state.status?r.createElement("a",{className:"nav-link",onClick:this.logIn,href:"#"},G.t("connecting")):"connected"===this.state.status?r.createElement("a",{className:"nav-link",onClick:this.logOut,href:"#"},G.t("log_out")):r.createElement("a",{className:"nav-link",onClick:this.logIn,href:"#"},G.t("log_in"))}}])&&Hn(t.prototype,n),a&&Hn(t,a),l}(r.Component);function Vn(e){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qn(e,t){return(qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $n(e,t){if(t&&("object"===Vn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gn(e)}function Gn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qn(e){return(Qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Xn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qn(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Qn(o);if(i){var n=Qn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return $n(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={config:e.config,oidcStatus:e.oidcStatus,safeList:e.safeList,safeContent:e.safeContent},t.navigateTo=t.navigateTo.bind(Gn(t)),t.addSafe=t.addSafe.bind(Gn(t)),t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"navigateTo",value:function(e,t){e.preventDefault(),gn.addRoute(t||""),pn.sendMessage("App",{action:"nav",target:t})}},{key:"addSafe",value:function(e){e.preventDefault(),pn.sendMessage("App",{action:"addSafe"})}},{key:"render",value:function(){var e,t=this,n=[];return this.state.safeList.forEach((function(e,a){var o;o=t.state.safeContent&&t.state.safeContent[e.name]&&t.state.safeContent[e.name].key?r.createElement("i",{className:"fa fa-unlock btn-icon-right","aria-hidden":"true"}):r.createElement("i",{className:"fa fa-lock btn-icon-right","aria-hidden":"true"}),n.push(r.createElement("li",{className:"nav-item",key:a},r.createElement("a",{className:"nav-link active","data-bs-toggle":"collapse","data-bs-target":".navbar-collapse.show",href:"#","aria-current":"page",onClick:function(n){return t.navigateTo(n,e.name)}},e.display_name||e.name,o)))})),"connected"===this.state.oidcStatus&&(e=r.createElement("li",{className:"nav-item"},r.createElement("a",{className:"nav-link active","data-bs-toggle":"collapse","data-bs-target":".navbar-collapse.show","aria-current":"page",href:"#",onClick:this.addSafe},G.t("addSafe")))),r.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.createElement("div",{className:"container-fluid"},r.createElement("a",{className:"navbar-brand",href:"#",onClick:function(e){return t.navigateTo(e,!1)}},"Hutch"),r.createElement("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.createElement("span",{className:"navbar-toggler-icon"})),r.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.createElement("ul",{className:"navbar-nav"},n,e),r.createElement("ul",{className:"navbar-nav ms-auto flex-nowrap text-right"},r.createElement(Mn,{config:this.state.config}),r.createElement("li",{className:"nav-item"},r.createElement(zn,{status:this.state.oidcStatus}))))))}}])&&Jn(t.prototype,n),a&&Jn(t,a),l}(r.Component);function Yn(e){return(Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function er(e,t){return(er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tr(e,t){if(t&&("object"===Yn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nr(e)}function nr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rr(e){return(rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const ar=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&er(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rr(o);if(i){var n=rr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return tr(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={name:e.name,title:e.title,message:e.message,cb:e.cb},t.closeModal=t.closeModal.bind(nr(t)),t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"closeModal",value:function(e,t){this.state.cb&&this.state.cb(t)}},{key:"render",value:function(){var e=this;return r.createElement("div",{className:"modal",tabIndex:"-1",id:this.state.name},r.createElement("div",{className:"modal-dialog"},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("h5",{className:"modal-title"},this.state.title),r.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(t){return e.closeModal(t,!1)}})),r.createElement("div",{className:"modal-body"},r.createElement("p",null,this.state.message)),r.createElement("div",{className:"modal-footer"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.closeModal(t,!1)}},G.t("modalClose")),r.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(t){return e.closeModal(t,!0)}},G.t("modalOk"))))))}}])&&Zn(t.prototype,n),a&&Zn(t,a),l}(r.Component);function or(e){return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sr(e,t){return(sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lr(e,t){if(t&&("object"===or(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cr(e)}function cr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ur(e){return(ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const fr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sr(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ur(o);if(i){var n=ur(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return lr(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={config:e.config,hutchProfile:e.hutchProfile,imageError:!1,nameMandatory:!1,messageMandatory:!1,imageMandatory:!1,imageLoading:!1},t.editProfile=t.editProfile.bind(cr(t)),t.cancelEditProfile=t.cancelEditProfile.bind(cr(t)),t.editKey=t.editKey.bind(cr(t)),t.editMessage=t.editMessage.bind(cr(t)),t.getRandomWikimediaImage=t.getRandomWikimediaImage.bind(cr(t)),t.uploadImage=t.uploadImage.bind(cr(t)),t.onUploadImage=t.onUploadImage.bind(cr(t)),t.saveProfile=t.saveProfile.bind(cr(t)),t.removeProfile=t.removeProfile.bind(cr(t)),t.removeProfileConfirm=t.removeProfileConfirm.bind(cr(t)),t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"editProfile",value:function(){var e=this.state.hutchProfile;e.name||(e.name=this.state.profile.name),e.sign_kid||(e.sign_kid=this.state.config.jwks.keys[0].kid),this.setState({editProfile:!0,hutchProfile:e})}},{key:"cancelEditProfile",value:function(){pn.sendMessage("App",{action:"getProfile"})}},{key:"editKey",value:function(e){var t=this.state.hutchProfile;t.sign_kid=e.target.value,this.setState({hutchProfile:t})}},{key:"editMessage",value:function(e){var t=this.state.hutchProfile;t.message=e.target.value,this.setState({hutchProfile:t})}},{key:"editName",value:function(e){var t=this.state.hutchProfile;t.name=e.target.value,this.setState({hutchProfile:t})}},{key:"getRandomWikimediaImage",value:function(){var e=this;this.setState({imageLoading:!0},(function(){$.ajax({url:"https://commons.wikimedia.org/w/api.php?action=query&list=random&rnnamespace=6&rnlimit=1&prop=imageinfo&format=json&origin=*"}).then((function(t){$.ajax({url:"https://commons.wikimedia.org/w/api.php?action=query&prop=imageinfo&iiprop=url&iiurlwidth=200&format=json&origin=*&titles="+t.query.random[0].title}).then((function(n){var r=new XMLHttpRequest;r.open("GET",n.query.pages[t.query.random[0].id].imageinfo[0].responsiveUrls[1.5],!0),r.responseType="arraybuffer",r.onload=function(t){r.response;var n=e.state.hutchProfile;n.picture="data:"+r.getResponseHeader("content-type")+";base64,"+btoa(String.fromCharCode.apply(null,new Uint8Array(r.response))),e.setState({hutchProfile:n,imageError:!1,imageLoading:!1})},r.send(null)})).fail((function(){pn.sendMessage("Notification",{type:"warning",message:G.t("messageErrorWikiImage")}),e.setState({imageError:!0,imageLoading:!1})}))})).fail((function(){pn.sendMessage("Notification",{type:"warning",message:G.t("messageErrorWikiImage")}),e.setState({imageError:!0,imageLoading:!1})}))}))}},{key:"uploadImage",value:function(){$("#uploadImageInput").trigger("click")}},{key:"onUploadImage",value:function(e){var t=this,n=e.target.files;if(n.length>0){var r=n[0];if(r.size>409600)this.setState({imageError:!0});else{var a=new FileReader;a.onload=function(e){var n=t.state.hutchProfile;n.picture=e.target.result,t.setState({hutchProfile:n,imageError:!1})},a.readAsDataURL(r)}}}},{key:"saveProfile",value:function(e){e.preventDefault();var t=this.state.hutchProfile;t.message&&t.name&&t.picture?hn.request(this.state.config.profile_endpoint,"PUT",t).then((function(){pn.sendMessage("App",{action:"getProfile"}),pn.sendMessage("Notification",{type:"info",message:G.t("messageProfileSaved")})})).fail((function(){pn.sendMessage("Notification",{type:"warning",message:G.t("messageErrorSaveProfile")})})):this.setState({messageMandatory:!t.message,nameMandatory:!t.name,imageMandatory:!t.picture})}},{key:"removeProfile",value:function(){new bootstrap.Modal(document.getElementById("removeProfile"),{keyboard:!1}).show()}},{key:"removeProfileConfirm",value:function(e){e&&hn.request(this.state.config.profile_endpoint,"DELETE").then((function(){pn.sendMessage("App",{action:"resetProfile"}),pn.sendMessage("Notification",{type:"info",message:G.t("messageRemoveProfile")})})).fail((function(){pn.sendMessage("Notification",{type:"warning",message:G.t("messageErrorSaveProfile")})})),bootstrap.Modal.getOrCreateInstance(document.querySelector("#removeProfile")).hide()}},{key:"render",value:function(){var e,t,n,a,o=this,i=[];this.state.config.jwks.keys.forEach((function(e,t){i.push(r.createElement("option",{value:e.kid,key:t},e.alg))})),this.state.imageLoading?e=c:this.state.hutchProfile.picture&&(e=r.createElement("img",{src:this.state.hutchProfile.picture,alt:"profile image",className:"profile-image"}));var s="form-control";this.state.messageMandatory&&(s+=" is-invalid",n=r.createElement("div",{className:"invalid-feedback"},G.t("profileMessageMandatory")));var l="form-control";return this.state.nameMandatory&&(l+=" is-invalid",a=r.createElement("div",{className:"invalid-feedback"},G.t("profileNameMandatory"))),this.state.imageMandatory&&(t=r.createElement("div",{className:"alert alert-danger"},G.t("profileImageMandatory"))),r.createElement("div",null,r.createElement("form",{onSubmit:this.saveProfile},r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"keyList",className:"form-label"},G.t("profileServerKey")),r.createElement("select",{className:"form-select","aria-label":"public key",id:"keyList",onChange:function(e){return o.editKey(e)},value:this.state.hutchProfile.sign_kid},i)),r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"profileName",className:"form-label"},G.t("profileName")),r.createElement("input",{type:"text",className:l,id:"profileName",value:this.state.hutchProfile.name||"",onChange:function(e){return o.editName(e)}}),a),r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"profileMessage",className:"form-label"},G.t("profileMessage")),r.createElement("textarea",{className:s,id:"profileMessage",value:this.state.hutchProfile.message||"",onChange:function(e){return o.editMessage(e)},maxLength:"512"}),n),r.createElement("div",{className:"mb-3"},r.createElement("label",{className:"form-label"},G.t("profileImage")),r.createElement("div",null,e,t)),r.createElement("div",{className:"mb-3"},r.createElement("input",{type:"file",id:"uploadImageInput",onChange:this.onUploadImage,accept:".jpg,.jpg,.png,.gif,.bmp",className:"upload"}),r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.uploadImage},G.t("profileImageSelect")),r.createElement("span",{className:"badge bg-secondary btn-icon btn-icon-right"},G.t("or")),r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.getRandomWikimediaImage},G.t("profileImageRandom"))),r.createElement("hr",null),r.createElement("div",{className:"btn-toolbar justify-content-between",role:"toolbar"},r.createElement("div",{className:"btn-group",role:"group"},r.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.saveProfile},G.t("profileSubmit")),r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.cancelEditProfile},G.t("profileCancel"))),r.createElement("div",{className:"input-group"},r.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.removeProfile},r.createElement("i",{className:"fa fa-trash","aria-hidden":"true"}))))),r.createElement(ar,{name:"removeProfile",title:G.t("removeProfileTitle"),message:G.t("removeProfileMessage"),cb:this.removeProfileConfirm}))}}])&&ir(t.prototype,n),a&&ir(t,a),l}(r.Component);function dr(e){return(dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mr(e,t){return(mr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hr(e,t){if(t&&("object"===dr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function yr(e){return(yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const gr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mr(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=yr(o);if(i){var n=yr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return hr(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={config:e.config,profile:e.profile,hutchProfile:e.hutchProfile},t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"editProfile",value:function(){pn.sendMessage("App",{action:"editProfile"})}},{key:"lockAllSafe",value:function(){pn.sendMessage("App",{action:"lockAllSafe"}),pn.sendMessage("Notification",{type:"info",message:G.t("lockedAllSafe")})}},{key:"render",value:function(){var e,t;return this.state.hutchProfile?(e=r.createElement("div",null,r.createElement("div",{className:"d-flex justify-content-center"},r.createElement("img",{src:this.state.hutchProfile.picture,className:"card-img-top profile-image"})),r.createElement("div",{className:"d-flex justify-content-center"},r.createElement("p",null,this.state.hutchProfile.message))),t=r.createElement("div",{className:"d-flex justify-content-center"},r.createElement("button",{type:"button",onClick:this.editProfile,className:"btn btn-secondary"},G.t("profileEdit")))):t=r.createElement("button",{type:"button",onClick:this.editProfile,className:"btn btn-secondary"},G.t("profileCreate")),r.createElement("div",null,r.createElement("div",{className:"alert alert-primary",role:"alert"},G.t("profileValue",{name:this.state.hutchProfile.name||this.state.profile.name}),r.createElement("div",{className:"btn-group float-end",role:"group"},r.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.lockAllSafe,title:G.t("lockAllSafe")},r.createElement("i",{className:"fa fa-lock","aria-hidden":"true"})))),e,t)}}])&&pr(t.prototype,n),a&&pr(t,a),l}(r.Component);function br(e){return(br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wr(e,t){return(wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Er(e,t){if(t&&("object"===br(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Sr(e){return(Sr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const kr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wr(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Sr(o);if(i){var n=Sr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Er(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={config:e.config,profile:e.profile,hutchProfile:e.hutchProfile,hasProfile:e.hasProfile,editProfile:e.editProfile,oidcStatus:e.oidcStatus},t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"render",value:function(){return"connecting"===this.state.oidcStatus?r.createElement("div",{className:"alert alert-success",role:"alert"},G.t("connectingMessage")):"disconnected"===this.state.oidcStatus?r.createElement("div",{className:"alert alert-warning",role:"alert"},G.t("disconnectedMessage")):this.state.editProfile?r.createElement(fr,{config:this.state.config,hutchProfile:this.state.hutchProfile}):r.createElement(gr,{config:this.state.config,hutchProfile:this.state.hutchProfile,profile:this.state.profile})}}])&&vr(t.prototype,n),a&&vr(t,a),l}(r.Component);function Cr(e){return(Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nr(e,t){return(Nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pr(e,t){if(t&&("object"===Cr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Or(e)}function Or(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _r(e){return(_r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Tr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nr(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_r(o);if(i){var n=_r(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Pr(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={isError:e.isError,errorMessage:e.errorMessage,ph:e.ph,cb:e.cb,value:"",filename:""},t.changeValue=t.changeValue.bind(Or(t)),t.getFile=t.getFile.bind(Or(t)),t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changeValue",value:function(e){var t=this;this.setState({value:e.target.value,filename:""},(function(){t.state.cb(t.state.value)}))}},{key:"getFile",value:function(e){var t=this,n=e.target.files[0],r=new FileReader;r.onload=function(e){t.setState({value:e.target.result,filename:n.name},(function(){t.state.cb(t.state.value)}))},r.readAsText(n)}},{key:"render",value:function(){var e,t,n=this,a="form-control";return this.state.isError&&(a+=" is-invalid",e=r.createElement("div",{className:"invalid-feedback"},this.state.errorMessage)),this.state.filename&&(t=r.createElement("code",{className:"btn-icon-right"},this.state.filename)),r.createElement("div",null,r.createElement("div",{className:"input-group"},r.createElement("textarea",{className:a,autoComplete:"off",placeholder:this.state.ph,value:this.state.filename?"":this.state.value,onChange:function(e){return n.changeValue(e)}}),r.createElement("input",{type:"file",className:"upload",id:"jwkFile",onChange:this.getFile}),r.createElement("label",{htmlFor:"jwkFile",className:"btn btn-outline-secondary btn-sm"},r.createElement("i",{className:"fa fa-cloud-upload","aria-hidden":"true"})),e),t)}}])&&xr(t.prototype,n),a&&xr(t,a),l}(r.Component);function Rr(e){return(Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jr(e,t){return(jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dr(e,t){if(t&&("object"===Rr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Lr(e)}function Lr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mr(e){return(Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Kr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jr(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Mr(o);if(i){var n=Mr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Dr(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={safeKey:e.safeKey,cb:e.callback,newPassword:"",confirmNewPassword:"",safeKeyJwk:"",keyName:"",pwdScore:-1,isValid:!1},t.changeNewPassword=t.changeNewPassword.bind(Lr(t)),t.changeConfirmNewPassword=t.changeConfirmNewPassword.bind(Lr(t)),t.editSafeKeyJwk=t.editSafeKeyJwk.bind(Lr(t)),t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changeDisplayName",value:function(e){var t=this,n=this.state.safeKey;n.display_name=e.target.value,this.setState({safeKey:n},(function(){t.isSafeKeyValid()}))}},{key:"changeNewPassword",value:function(e){var t=this,n=-1;e.target.value&&(n=zxcvbn(e.target.value).score),this.setState({newPassword:e.target.value,pwdScore:n},(function(){t.isSafeKeyValid()}))}},{key:"changeConfirmNewPassword",value:function(e){var t=this;this.setState({confirmNewPassword:e.target.value},(function(){t.isSafeKeyValid()}))}},{key:"editSafeKeyJwk",value:function(e){var t=this;this.setState({safeKeyJwk:e},(function(){t.isSafeKeyValid()}))}},{key:"isSafeKeyValid",value:function(){var e=!0;if(this.state.safeKey.display_name||(e=!1),"password"===this.state.safeKey.type)this.state.newPassword||(e=!1),this.state.newPassword!==this.state.confirmNewPassword&&(e=!1);else if("master-password"===this.state.safeKey.type)this.state.newPassword||(e=!1);else if("jwk"===this.state.safeKey.type)try{this.state.safeKeyJwk&&JSON.parse(this.state.safeKeyJwk).alg||(e=!1)}catch(t){e=!1}this.setState({isValid:e})}},{key:"saveSafe",value:function(e){e.preventDefault(),this.state.isValid&&this.closeModal(e,!0)}},{key:"closeModal",value:function(e,t){var n;try{n=JSON.parse(this.state.safeKeyJwk)}catch(e){n=!1}this.state.cb&&(this.state.cb(t,{safeKey:this.state.safeKey,password:this.state.newPassword,jwk:n}),this.setState({newPassword:"",confirmNewPassword:"",pwdScore:-1,isValid:!1}))}},{key:"render",value:function(){var e,t,n=this;if("password"===this.state.safeKey.type)0===this.state.pwdScore?e=r.createElement("span",{className:"badge bg-danger"},G.t("pwdScoreTooGuessable")):1===this.state.pwdScore?e=r.createElement("span",{className:"badge bg-warning"},G.t("pwdScoreVeryGuessable")):2===this.state.pwdScore?e=r.createElement("span",{className:"badge bg-secondary"},G.t("pwdScoreSomewhatGuessable")):3===this.state.pwdScore?e=r.createElement("span",{className:"badge bg-primary"},G.t("pwdScoreSafelyUnguessable")):4===this.state.pwdScore&&(e=r.createElement("span",{className:"badge bg-success"},G.t("pwdScoreVeryUnguessable"))),t=r.createElement("div",null,r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"newPassword",className:"form-label"},G.t("newPassword")),r.createElement("input",{type:"password",autoComplete:"off",className:"form-control",id:"newPassword",placeholder:G.t("newPasswordPh"),value:this.state.newPassword,onChange:function(e){return n.changeNewPassword(e)}}),e),r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"confirmNewPassword",className:"form-label"},G.t("confirmNewPassword")),r.createElement("input",{type:"password",autoComplete:"off",className:"form-control",id:"confirmNewPassword",placeholder:G.t("confirmNewPasswordPh"),value:this.state.confirmNewPassword,onChange:function(e){return n.changeConfirmNewPassword(e)}})));else if("master-password"===this.state.safeKey.type)t=r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"newPassword",className:"form-label"},G.t("masterPassword")),r.createElement("input",{type:"password",autoComplete:"off",className:"form-control",id:"newPassword",placeholder:G.t("masterPasswordPh"),value:this.state.newPassword,onChange:function(e){return n.changeNewPassword(e)}}));else if("jwk"===this.state.safeKey.type){var a;this.state.isValid||(a=r.createElement("div",{className:"invalid-feedback"},G.t("jwkError"))),t=r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"safeKeyJwk",className:"form-label"},G.t("safeKeyJwk")),r.createElement(Tr,{isError:!this.state.isValid,ph:G.t("safeKeyJwkPh"),cb:this.editSafeKeyJwk}),a)}return r.createElement("div",{className:"modal",tabIndex:"-1",id:"modalSafeKey"},r.createElement("div",{className:"modal-dialog"},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("h5",{className:"modal-title"},G.t("modalSafeKey")),r.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(e){return n.closeModal(e,!1)}})),r.createElement("form",{onSubmit:this.saveSafe},r.createElement("div",{className:"modal-body"},r.createElement("input",{type:"hidden",maxLength:"128",id:"safeKeyName",value:this.state.safeKey.name}),r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"safeKeyDisplayName",className:"form-label"},G.t("safeKeyDisplayName")),r.createElement("input",{type:"text",maxLength:"512",className:"form-control",id:"safeKeyDisplayName",placeholder:G.t("safeKeyDisplayNamePh"),value:this.state.safeKey.display_name,onChange:function(e){return n.changeDisplayName(e)}})),t),r.createElement("div",{className:"modal-footer"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return n.closeModal(e,!1)}},G.t("modalClose")),r.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(e){return n.saveSafe(e)},disabled:!this.state.isValid},G.t("modalOk")))))))}}])&&Ar(t.prototype,n),a&&Ar(t,a),l}(r.Component);function Ir(e){return(Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hr(e,t){return(Hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fr(e,t){if(t&&("object"===Ir(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wr(e)}function Wr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Br(e){return(Br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zr(e,t){var n=!1,r="hutchsafekey-"+t.name;"/"!==window.location.pathname&&(r+="-"+window.btoa(unescape(encodeURIComponent(window.location.pathname))).replace(/\=+$/m,""));var a=Sn.getValue(r);return a?e[t.name]&&e[t.name].keyList&&e[t.name].keyList.forEach((function(e){e.name===a&&(n=e)})):e&&t&&e[t.name]&&e[t.name].keyList&&e[t.name].keyList.forEach((function(e){n||"password"!==e.type&&"master-password"!==e.type&&"jwk"!==e.type||(n=e)})),n}const Vr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hr(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Br(o);if(i){var n=Br(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Fr(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={config:e.config,safe:e.safe,safeContent:e.safeContent,cb:e.cb,allowKeepUnlocked:e.allowKeepUnlocked,safeKey:zr(e.safeContent,e.safe),safePassword:"",safeKeyJwk:"",safeSecretError:!1,keepUnlocked:!1,unlockKeyName:t.getBrowserInfo()},t.closeModal=t.closeModal.bind(Wr(t)),t.setSafeKey=t.setSafeKey.bind(Wr(t)),t.toggleKeepUnlocked=t.toggleKeepUnlocked.bind(Wr(t)),t.changeUnlockKeyName=t.changeUnlockKeyName.bind(Wr(t)),t.editSafeKeyJwk=t.editSafeKeyJwk.bind(Wr(t)),t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){var n=Object.assign({},e);return t.safeKey||(n.safeKey=zr(e.safeContent,e.safe)),n}}],(n=[{key:"changePassword",value:function(e){this.setState({safePassword:e.target.value})}},{key:"editSafeKeyJwk",value:function(e){this.setState({safeKeyJwk:e})}},{key:"toggleKeepUnlocked",value:function(e){var t=!this.state.keepUnlocked;this.setState({keepUnlocked:t})}},{key:"changeUnlockKeyName",value:function(e){this.setState({unlockKeyName:e.target.value})}},{key:"setSafeKey",value:function(e,t){var n=this;e.preventDefault(),this.setState({safeKey:t,safeSecretError:!1},(function(){var e="hutchsafekey-"+n.state.safe.name;"/"!==window.location.pathname&&(e+="-"+window.btoa(unescape(encodeURIComponent(window.location.pathname))).replace(/\=+$/m,"")),Sn.setValue(e,t.name)}))}},{key:"getBrowserInfo",value:function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?"IE "+((e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""):"Chrome"===n[1]&&null!==(e=t.match(/\b(OPR|Edge)\/(\d+)/))?e.slice(1).join(" ").replace("OPR","Opera"):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),n.join(" "))}},{key:"verifyKey",value:function(e){var t=this;if(e.preventDefault(),this.state.safeKey){if("password"===this.state.safeKey.type||"master-password"===this.state.safeKey.type){var n=new TextEncoder;fn(this.state.safeKey.data,n.encode(this.state.safePassword)).then((function(e){t.setState({safeSecretError:!1},(function(){ft(e.payload,t.state.safe.alg_type).then((function(n){t.state.cb(!0,n,t.state.keepUnlocked,t.state.unlockKeyName,e.payload)}))}))})).catch((function(){t.setState({safeSecretError:!0})}))}else if("jwk"===this.state.safeKey.type)try{var r=JSON.parse(this.state.safeKeyJwk);ft(r,r.alg).then((function(e){fn(t.state.safeKey.data,e).then((function(e){t.setState({safeSecretError:!1},(function(){ft(e.payload,t.state.safe.alg_type).then((function(n){t.state.cb(!0,n,t.state.keepUnlocked,t.state.unlockKeyName,e.payload)}))}))})).catch((function(){t.setState({safeSecretError:!0})}))})).catch((function(){t.setState({safeSecretError:!0})}))}catch(e){this.setState({safeSecretError:!0})}}else this.setState({safeSecretError:!0})}},{key:"closeModal",value:function(e,t){this.state.cb&&this.state.cb(t)}},{key:"render",value:function(){var e,t,n,a=this,o=[],i="form-control";return this.state.safe&&this.state.safeContent&&this.state.safeContent[this.state.safe.name]&&this.state.safeContent[this.state.safe.name].keyList&&("password"===this.state.safeKey.type||"master-password"===this.state.safeKey.type?(this.state.safeSecretError&&(i+=" is-invalid",e=r.createElement("div",{className:"invalid-feedback"},G.t("safeKeyError"))),n=r.createElement("input",{type:"password",className:i,autoComplete:"off",placeholder:G.t("safePassword"),onChange:function(e){return a.changePassword(e)},value:this.state.safePassword})):"jwk"===this.state.safeKey.type&&(n=r.createElement(Tr,{isError:this.state.safeSecretError,errorMessage:G.t("safeKeyError"),ph:G.t("safeKeyJwkPh"),cb:this.editSafeKeyJwk})),this.state.safeContent[this.state.safe.name].keyList.forEach((function(e,t){("password"===e.type||"master-password"===e.type||"jwk"===e.type)&&o.push(r.createElement("li",{key:t},r.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return a.setSafeKey(t,e)}},e.display_name||e.name)))}))),this.state.allowKeepUnlocked&&(t=r.createElement("div",null,r.createElement("div",{className:"form-check"},r.createElement("input",{className:"form-check-input",type:"checkbox",checked:this.state.keepUnlocked,id:"keepUnlocked",onChange:function(e){return a.toggleKeepUnlocked(e)}}),r.createElement("label",{className:"form-check-label",htmlFor:"keepUnlocked"},G.t("keepUnlocked"))),r.createElement("div",{className:"mb-3"},r.createElement("input",{type:"text",className:"form-control",placeholder:this.getBrowserInfo(),onChange:function(e){return a.changeUnlockKeyName(e)},disabled:!this.state.keepUnlocked,id:"safeUnlockKeyName",value:this.state.unlockKeyName}),r.createElement("div",{className:"form-text",htmlFor:"safeUnlockKeyName"},G.t("safeUnlockKeyName"))))),r.createElement("div",{className:"modal",tabIndex:"-1",id:"modalUnlockSafe"},r.createElement("div",{className:"modal-dialog"},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("h5",{className:"modal-title"},G.t("safeUnlockTitle")),r.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(e){return a.closeModal(e,!1)}})),r.createElement("form",{onSubmit:this.verifyKey},r.createElement("div",{className:"modal-body"},r.createElement("div",{className:"input-group mb-3"},r.createElement("div",{className:"input-group-prepend"},r.createElement("label",{className:"input-group-text",htmlFor:"safeKeySelect"},G.t("safeKeySelect"))),r.createElement("button",{className:"btn btn-outline-secondary dropdown-toggle",type:"button",id:"safeKeySelect","data-bs-toggle":"dropdown","aria-expanded":"false"},this.state.safeKey.display_name||this.state.safeKey.name),r.createElement("ul",{className:"dropdown-menu"},o)),r.createElement("div",{className:"input-group mb-3"},n,e),t),r.createElement("div",{className:"modal-footer"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return a.closeModal(e,!1)}},G.t("modalClose")),r.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(e){return a.verifyKey(e)}},G.t("modalOk")))))))}}])&&Ur(t.prototype,n),a&&Ur(t,a),l}(r.Component);function Jr(e){return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $r(e,t){return($r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gr(e,t){if(t&&("object"===Jr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qr(e)}function Qr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xr(e){return(Xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Yr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$r(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Xr(o);if(i){var n=Xr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Gr(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={config:e.config,safe:e.safe,safeContent:e.safeContent,editMode:e.editMode,nameMandatory:!1,namePresent:!1,safeKey:e.safeKey,addKey:!1,curSafeKeyContainer:!1,nextStep:!1,removeSafeKeyMessage:!1},t.saveSafe=t.saveSafe.bind(Qr(t)),t.cancelEditSafe=t.cancelEditSafe.bind(Qr(t)),t.addSafeKey=t.addSafeKey.bind(Qr(t)),t.saveSafeKey=t.saveSafeKey.bind(Qr(t)),t.removeSafeKey=t.removeSafeKey.bind(Qr(t)),t.removeSafeKeyConfirm=t.removeSafeKeyConfirm.bind(Qr(t)),t.editSafeKey=t.editSafeKey.bind(Qr(t)),t.completeAddSafeKey=t.completeAddSafeKey.bind(Qr(t)),t.completeSetSafeKey=t.completeSetSafeKey.bind(Qr(t)),t.unlockSafeCallback=t.unlockSafeCallback.bind(Qr(t)),t.createKeyForSafe=t.createKeyForSafe.bind(Qr(t)),t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"editDisplayName",value:function(e){var t=this.state.safe;t.display_name=e.target.value,this.setState({safe:t})}},{key:"editEncType",value:function(e){var t=this.state.safe;t.enc_type=e.target.value,this.setState({safe:t})}},{key:"editAlgType",value:function(e){var t=this.state.safe;t.alg_type=e.target.value,this.setState({safe:t})}},{key:"saveSafe",value:function(e){e.preventDefault();var t=this.state.safe;1===this.state.editMode?(hn.request(this.state.config.safe_endpoint,"POST",t).then((function(){pn.sendMessage("App",{action:"saveSafe",safe:t}),pn.sendMessage("Notification",{type:"info",message:G.t("messageSaveSafe")})})).fail((function(){pn.sendMessage("Notification",{type:"warning",message:G.t("messageErrorSaveSafe")})})),this.setState({nameMandatory:!1,namePresent:!1})):hn.request(this.state.config.safe_endpoint+"/"+t.name,"PUT",t).then((function(){pn.sendMessage("App",{action:"saveSafe",safe:t}),pn.sendMessage("Notification",{type:"info",message:G.t("messageSaveSafe")})})).fail((function(){pn.sendMessage("Notification",{type:"warning",message:G.t("messageErrorSaveSafe")})}))}},{key:"cancelEditSafe",value:function(){pn.sendMessage("App",{action:"nav",target:1!==this.state.editMode&&this.state.safe.name})}},{key:"createKeyForSafe",value:function(){var e=this;return Tt(this.state.safe.alg_type,{extractable:!0}).then((function(t){return Rt(t).then((function(t){return ft(t,e.state.safe.alg_type).then((function(e){return{key:e,extractableKey:t}}))}))}))}},{key:"saveSafeKey",value:function(e,t){var n=this;if(bootstrap.Modal.getOrCreateInstance(document.querySelector("#modalSafeKey")).hide(),e)if("password"===t.safeKey.type||"master-password"===t.safeKey.type){var r="PBES2-HS256+A128KW";"A192KW"===this.state.safe.alg_type||"A192GCMKW"===this.state.safe.alg_type||"PBES2-HS384+A192KW"===this.state.safe.alg_type?r="PBES2-HS384+A192KW":"A256KW"!==this.state.safe.alg_type&&"A256GCMKW"!==this.state.safe.alg_type&&"PBES2-HS512+A256KW"!==this.state.safe.alg_type||(r="PBES2-HS512+A256KW");var a=(new TextEncoder).encode(t.password);this.state.addKey?this.state.safeContent[this.state.safe.name].key?this.completeAddSafeKey(a,t.safeKey,r):this.createKeyForSafe().then((function(e){var o=n.state.safeContent;o[n.state.safe.name].extractableKey=e.extractableKey,o[n.state.safe.name].key=e.key,n.setState({safeContent:o},(function(){n.completeAddSafeKey(a,t.safeKey,r)}))})):this.completeSetSafeKey(a,t.safeKey,r)}else"jwk"===t.safeKey.type?this.state.addKey?this.state.safeContent[this.state.safe.name].key?ft(t.jwk,t.jwk.alg).then((function(e){n.completeAddSafeKey(e,t.safeKey,t.jwk.alg)})):this.createKeyForSafe().then((function(e){var r=n.state.safeContent;r[n.state.safe.name].extractableKey=e.extractableKey,r[n.state.safe.name].key=e.key,n.setState({safeContent:r},(function(){ft(t.jwk,t.jwk.alg).then((function(e){n.completeAddSafeKey(e,t.safeKey,t.jwk.alg)}))}))})):ft(t.jwk,t.jwk.alg).then((function(e){n.completeSetSafeKey(e,t.safeKey,t.jwk.alg)})):"browser"===t.safeKey.type&&hn.request(this.state.config.safe_endpoint+"/"+this.state.safe.name+"/key/"+t.safeKey.name,"PUT",t.safeKey).then((function(){pn.sendMessage("App",{action:"setSafeKey",target:n.state.safe,newSafeKey:t.safeKey,removeStorage:!1}),n.setState({curSafeKeyContainer:!1}),pn.sendMessage("Notification",{type:"info",message:G.t("safeLockUpdated")})}))}},{key:"addSafeKey",value:function(e,t){e.preventDefault(),!this.state.safeContent[this.state.safe.name].extractableKey&&this.state.safeContent[this.state.safe.name].keyList.length?this.setState({nextStep:this.addSafeKey},(function(){new bootstrap.Modal(document.getElementById("modalUnlockSafe"),{keyboard:!1}).show()})):this.setState({addKey:!0,curSafeKeyContainer:{name:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),display_name:"",type:t,data:""}},(function(){new bootstrap.Modal(document.getElementById("modalSafeKey"),{keyboard:!1}).show()}))}},{key:"completeAddSafeKey",value:function(e,t,n){var r=this;this.state.safeContent[this.state.safe.name].extractableKey?new nn(this.state.safeContent[this.state.safe.name].extractableKey).setProtectedHeader({alg:n,enc:this.state.safe.enc_type,sign_key:this.state.config.sign_thumb}).encrypt(e).then((function(e){t.data=e,hn.request(r.state.config.safe_endpoint+"/"+r.state.safe.name+"/key","POST",t).then((function(){pn.sendMessage("App",{action:"updateSafeKey",safe:r.state.safe}),pn.sendMessage("Notification",{type:"info",message:G.t("safeLockAdded")})}))})):pn.sendMessage("Notification",{type:"warning",message:G.t("lockedSafe")})}},{key:"editSafeKey",value:function(e,t){var n=this,r={addKey:!1};t&&(r.curSafeKeyContainer=t),this.setState(r,(function(){n.state.safeContent[n.state.safe.name].extractableKey?new bootstrap.Modal(document.getElementById("modalSafeKey"),{keyboard:!1}).show():n.setState({nextStep:n.editSafeKey},(function(){new bootstrap.Modal(document.getElementById("modalUnlockSafe"),{keyboard:!1}).show()}))}))}},{key:"completeSetSafeKey",value:function(e,t,n){var r=this;this.state.safeContent[this.state.safe.name].extractableKey?new nn(this.state.safeContent[this.state.safe.name].extractableKey).setProtectedHeader({alg:n,enc:this.state.safe.enc_type,sign_key:this.state.config.sign_thumb}).encrypt(e).then((function(e){t.data=e,hn.request(r.state.config.safe_endpoint+"/"+r.state.safe.name+"/key/"+t.name,"PUT",t).then((function(){pn.sendMessage("App",{action:"setSafeKey",target:r.state.safe,newSafeKey:t,removeStorage:!1}),r.setState({curSafeKeyContainer:!1}),pn.sendMessage("Notification",{type:"info",message:G.t("safeLockUpdated")})}))})):pn.sendMessage("Notification",{type:"warning",message:G.t("lockedSafe")})}},{key:"removeSafeKey",value:function(e,t){var n=this;e&&e.preventDefault();var r={};t&&(r.curSafeKeyContainer=t,r.removeSafeKeyMessage=G.t("removeSafeKeyMessage",{name:t.display_name})),this.setState(r,(function(){n.state.safeContent[n.state.safe.name].extractableKey?new bootstrap.Modal(document.getElementById("removeSafeKey"),{keyboard:!1}).show():n.setState({nextStep:n.removeSafeKey},(function(){new bootstrap.Modal(document.getElementById("modalUnlockSafe"),{keyboard:!1}).show()}))}))}},{key:"removeSafeKeyConfirm",value:function(e){var t=this;e&&hn.request(this.state.config.safe_endpoint+"/"+this.state.safe.name+"/key/"+this.state.curSafeKeyContainer.name,"DELETE").then((function(){t.setState({curSafeKeyContainer:!1},(function(){pn.sendMessage("Notification",{type:"info",message:G.t("messageRemoveSafeKey")}),pn.sendMessage("App",{action:"updateSafeKey",safe:t.state.safe})}))})).fail((function(){pn.sendMessage("Notification",{type:"warning",message:G.t("messageErrorSaveSafeKey")})})),bootstrap.Modal.getOrCreateInstance(document.querySelector("#removeSafeKey")).hide()}},{key:"unlockSafeCallback",value:function(e,t,n,r,a){bootstrap.Modal.getOrCreateInstance(document.querySelector("#modalUnlockSafe")).hide(),e&&(pn.sendMessage("App",{action:"unlockSafe",safe:this.state.safe,extractableKey:a}),this.state.nextStep&&this.state.nextStep())}},{key:"render",value:function(){var e,t=this,n=[];if(this.state.safeContent&&this.state.safe&&this.state.safeContent[this.state.safe.name]){var a=0;this.state.safeContent[this.state.safe.name].keyList.forEach((function(e){-1!==["password","master-password"].indexOf(e.type)&&a++})),this.state.safeContent[this.state.safe.name].keyList.forEach((function(e,o){var i="fa btn-icon ";"password"===e.type?i+="fa-key":"master-password"===e.type?i+="fa-unlock":"jwk"===e.type?i+="fa-file-code-o":"browser"===e.type&&(i+="fa-firefox"),n.push(r.createElement("div",{className:"input-group",key:o},r.createElement("div",{className:"input-group-text"},r.createElement("i",{className:i,"aria-hidden":"true"}),e.display_name||e.name),r.createElement("div",{className:"btn-group me-2",role:"group"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(n){return t.editSafeKey(n,e)}},r.createElement("i",{className:"fa fa-pencil","aria-hidden":"true"})),r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(n){return t.removeSafeKey(n,e)},disabled:a<=1&&-1!==["password","master-password"].indexOf(e.type)},r.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})))))}))}return this.state.curSafeKeyContainer&&(e=r.createElement(Kr,{safeKey:this.state.curSafeKeyContainer,callback:this.saveSafeKey})),r.createElement("div",null,r.createElement("form",{onSubmit:this.saveSafe},r.createElement("input",{type:"hidden",id:"safeName",value:this.state.safe.name}),r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"safeDisplayName",className:"form-label"},G.t("safeDisplayName")),r.createElement("input",{type:"text",className:"form-control",id:"safeDisplayName",value:this.state.safe.display_name||"",onChange:function(e){return t.editDisplayName(e)}})),r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"encType",className:"form-label"},G.t("safeEncType")),r.createElement("select",{disabled:2===this.state.editMode,className:"form-select","aria-label":"enc type",id:"encType",onChange:function(e){return t.editEncType(e)},value:this.state.safe.enc_type},r.createElement("option",{value:"A128CBC-HS256"},"A128CBC-HS256"),r.createElement("option",{value:"A192CBC-HS384"},"A192CBC-HS384"),r.createElement("option",{value:"A256CBC-HS512"},"A256CBC-HS512"),r.createElement("option",{value:"A128GCM"},"A128GCM"),r.createElement("option",{value:"A192GCM"},"A192GCM"),r.createElement("option",{value:"A256GCM"},"A256GCM"))),r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"algType",className:"form-label"},G.t("safeAlgType")),r.createElement("select",{disabled:2===this.state.editMode,className:"form-select","aria-label":"enc type",id:"algType",onChange:function(e){return t.editAlgType(e)},value:this.state.safe.alg_type},r.createElement("option",{value:"A128KW"},"A128KW"),r.createElement("option",{value:"A192KW"},"A192KW"),r.createElement("option",{value:"A256KW"},"A256KW"),r.createElement("option",{value:"A128GCMKW"},"A128GCMKW"),r.createElement("option",{value:"A192GCMKW"},"A192GCMKW"),r.createElement("option",{value:"A256GCMKW"},"A256GCMKW"),r.createElement("option",{value:"PBES2-HS256+A128KW"},"PBES2-HS256+A128KW"),r.createElement("option",{value:"PBES2-HS384+A192KW"},"PBES2-HS384+A192KW"),r.createElement("option",{value:"PBES2-HS512+A256KW"},"PBES2-HS512+A256KW"))),r.createElement("div",{className:"alert alert-primary",role:"alert"},r.createElement("div",{className:"btn-toolbar justify-content-between",role:"toolbar"},G.t("safeKeyList"),r.createElement("div",{className:"input-group"},r.createElement("div",{className:"input-group mb-3"},r.createElement("button",{className:"btn btn-outline-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},r.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})),r.createElement("ul",{className:"dropdown-menu"},r.createElement("a",{className:"dropdown-item",href:"#",onClick:function(e){return t.addSafeKey(e,"password")}},G.t("securityTypePassword")),r.createElement("a",{className:"dropdown-item",href:"#",onClick:function(e){return t.addSafeKey(e,"master-password")}},G.t("securityTypeMasterPassword")),r.createElement("a",{className:"dropdown-item",href:"#",onClick:function(e){return t.addSafeKey(e,"jwk")}},G.t("securityTypeJwk"))))))),r.createElement("div",{className:"btn-toolbar mb-3",role:"toolbar"},n),r.createElement("div",{className:"btn-toolbar justify-content-between",role:"toolbar"},r.createElement("div",{className:"btn-group",role:"group","aria-label":"First group"},r.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.saveSafe},G.t("profileSubmit")),r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.cancelEditSafe},G.t("profileCancel"))))),r.createElement(ar,{name:"removeSafeKey",title:G.t("removeSafeKeyTitle"),message:this.state.removeSafeKeyMessage,cb:this.removeSafeKeyConfirm}),e,r.createElement(Vr,{config:this.state.config,safe:this.state.safe,safeContent:this.state.safeContent,allowKeepUnlocked:!1,cb:this.unlockSafeCallback}))}}])&&qr(t.prototype,n),a&&qr(t,a),l}(r.Component);function Zr(e){return(Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ea(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ta(e,t){return(ta=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function na(e,t){if(t&&("object"===Zr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ra(e)}function ra(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aa(e){return(aa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const oa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ta(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=aa(o);if(i){var n=aa(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return na(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={cb:e.cb,name:e.name,content:e.content,iconListOrig:{},iconList:{},iconFilter:"",displayNameError:!1},t.changeDisplayName=t.changeDisplayName.bind(ra(t)),t.useIcon=t.useIcon.bind(ra(t)),hn.request("fonts/forkawesome-ful-list.json").then((function(e){t.setState({iconListOrig:e,iconList:e})})),t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changeDisplayName",value:function(e){var t=this.state.content;t.displayName=e.target.value,this.setState({content:t,displayNameError:!1})}},{key:"changeIconFilter",value:function(e){var t=this;this.setState({iconFilter:e.target.value},(function(){if(t.state.iconFilter){var e={};Object.keys(t.state.iconListOrig).forEach((function(n){e[n]=[],t.state.iconListOrig[n].forEach((function(r){r.label.toUpperCase().search(t.state.iconFilter.toUpperCase())>-1&&e[n].push(r)})),e[n].length||delete e[n]})),t.setState({iconList:e})}else t.setState({iconList:t.state.iconListOrig})}))}},{key:"useIcon",value:function(e,t){e.preventDefault();var n=this.state.content;n.icon=t.icon,this.setState({content:n})}},{key:"verifyDisplayName",value:function(e){e.preventDefault(),this.state.content.displayName?this.closeModal(e,!0):this.setState({displayNameError:!0})}},{key:"closeModal",value:function(e,t){this.state.cb&&this.state.cb(t,this.state.name,this.state.content,!0)}},{key:"render",value:function(){var e,t,n=this,a=[],o="form-control";return Object.keys(this.state.iconList).forEach((function(e){var t=n.state.iconList[e];a.push(r.createElement("li",{className:"list-group-item",key:e},r.createElement("span",{className:"badge bg-secondary"},e)));var o=[];t.forEach((function(t,a){o.push(r.createElement("a",{key:e+"-"+a,href:"",onClick:function(e){return n.useIcon(e,t)},className:"btn btn-primary btn-icon btn-icon-top"},r.createElement("span",{className:"btn-icon"},t.label),r.createElement("i",{className:"fa "+t.icon,"aria-hidden":"true"})))})),a.push(r.createElement("li",{className:"list-group-item",key:e+"-lst"},o))})),this.state.content.icon&&(e=r.createElement("i",{className:"btn-icon-right fa "+this.state.content.icon,"aria-hidden":"true"})),this.state.displayNameError&&(o+=" is-invalid",t=r.createElement("div",{className:"invalid-feedback"},G.t("displayNameError"))),r.createElement("div",{className:"modal",tabIndex:"-1",id:"modalCoinEdit"},r.createElement("div",{className:"modal-dialog"},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("h5",{className:"modal-title"},this.state.name?G.t("CoinEditTitle"):G.t("CoinAddTitle")),r.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(e){return n.closeModal(e,!1)}})),r.createElement("form",{onSubmit:function(e){return n.verifyDisplayName(e)}},r.createElement("div",{className:"modal-body"},r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"coinDisplayName",className:"form-label"},G.t("coinDisplayName")),r.createElement("input",{type:"text",maxLength:"128",className:o,id:"coinDisplayName",value:this.state.content.displayName||"",onChange:function(e){return n.changeDisplayName(e)}}),t),r.createElement("hr",null),r.createElement("div",{className:"mb-3"},r.createElement("label",{className:"form-label"},G.t("coinIconList"),e),r.createElement("input",{type:"text",maxLength:"128",className:"form-control",id:"coinIconFilter",placeholder:G.t("coinIconFilterPh"),value:this.state.iconFilter||"",onChange:function(e){return n.changeIconFilter(e)}}),r.createElement("ul",{className:"list-group icon-list"},a))),r.createElement("div",{className:"modal-footer"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return n.closeModal(e,!1)}},G.t("modalClose")),r.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(e){return n.verifyDisplayName(e)}},G.t("modalOk")))))))}}])&&ea(t.prototype,n),a&&ea(t,a),l}(r.Component),ia=Je;function sa(e){return(sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function la(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ca(e,t){return(ca=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ua(e,t){if(t&&("object"===sa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fa(e)}function fa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function da(e){return(da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const pa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ca(e,t)}(s,e);var t,n,a,o,i=(a=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=da(a);if(o){var n=da(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ua(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={config:e.config,safe:e.safe,content:e.content,id:e.id,name:e.name,exportSafeWithSecurity:!1,exportSecurityType:"password",pwdScore:-1,password:"",confirmPassword:"",exportInvalid:!1,exportJwk:""},t.toggleExportSafeWithSecurity=t.toggleExportSafeWithSecurity.bind(fa(t)),t.changeExportSecurityType=t.changeExportSecurityType.bind(fa(t)),t.changePassword=t.changePassword.bind(fa(t)),t.changeConfirmPassword=t.changeConfirmPassword.bind(fa(t)),t.exportSafe=t.exportSafe.bind(fa(t)),t.editExportJwk=t.editExportJwk.bind(fa(t)),t}return t=s,(n=[{key:"toggleExportSafeWithSecurity",value:function(){var e=this;this.setState({exportSafeWithSecurity:!this.state.exportSafeWithSecurity,importData:!1,importDataResult:!1,importTotalCount:0,importTotalSuccess:0,importSecurityType:!1},(function(){e.setState({exportInvalid:e.isExportInvalid()})}))}},{key:"changeExportSecurityType",value:function(e){var t=this;this.setState({exportSecurityType:e.target.value},(function(){t.setState({exportInvalid:t.isExportInvalid()})}))}},{key:"changePassword",value:function(e){var t=this,n=-1;e.target.value&&(n=zxcvbn(e.target.value).score),this.setState({password:e.target.value,pwdScore:n},(function(){t.setState({exportInvalid:t.isExportInvalid()})}))}},{key:"changeConfirmPassword",value:function(e){var t=this;this.setState({confirmPassword:e.target.value},(function(){t.setState({exportInvalid:t.isExportInvalid()})}))}},{key:"editExportJwk",value:function(e){var t=this;this.setState({exportJwk:e},(function(){t.setState({exportInvalid:t.isExportInvalid()})}))}},{key:"isExportInvalid",value:function(){if(this.state.exportSafeWithSecurity)if("password"===this.state.exportSecurityType){if(!this.state.password||this.state.password!==this.state.confirmPassword)return!0}else if("jwk"===this.state.exportSecurityType)try{if(!this.state.exportJwk||!JSON.parse(this.state.exportJwk).alg)return!0}catch(e){return!0}return!1}},{key:"exportSafe",value:function(){var e=this,t=[];if(this.state.content.forEach((function(e){t.push(e.data)})),this.state.exportSafeWithSecurity){if("password"===this.state.exportSecurityType){var n=(new TextEncoder).encode(this.state.password),r="PBES2-HS256+A128KW";"A192KW"===this.state.safe.alg_type||"A192GCMKW"===this.state.safe.alg_type||"PBES2-HS384+A192KW"===this.state.safe.alg_type?r="PBES2-HS384+A192KW":"A256KW"!==this.state.safe.alg_type&&"A256GCMKW"!==this.state.safe.alg_type&&"PBES2-HS512+A256KW"!==this.state.safe.alg_type||(r="PBES2-HS512+A256KW"),new nn({data:t}).setProtectedHeader({alg:r,enc:this.state.safe.enc_type,sign_key:this.state.config.sign_thumb}).encrypt(n).then((function(t){var n=$("#"+e.state.id+"-download");n.attr("href","data:application/octet-stream;base64,"+btoa(t)),n.attr("download",e.state.name+".jwt"),n[0].click()}))}else if("jwk"===this.state.exportSecurityType){var a=JSON.parse(this.state.exportJwk);a.use="enc",ft(a,a.alg).then((function(n){"public"===n.type||"secret"===n.type?new nn({data:t}).setProtectedHeader({alg:a.alg,enc:e.state.safe.enc_type,sign_key:e.state.config.sign_thumb}).encrypt(n).then((function(t){var n=$("#"+e.state.id+"-download");n.attr("href","data:application/octet-stream;base64,"+btoa(t)),n.attr("download",e.state.name+".jwt"),n[0].click()})):e.setState({exportInvalid:1})}))}}else{var o=$("#"+this.state.id+"-download");o.attr("href","data:application/octet-stream;base64,"+btoa(JSON.stringify(t))),o.attr("download",this.state.name+".json"),o[0].click()}}},{key:"render",value:function(){var e,t,n;if(this.state.exportSafeWithSecurity)if(e=r.createElement("select",{className:"form-select",value:this.state.exportSecurityType,onChange:this.changeExportSecurityType},r.createElement("option",{value:"password"},G.t("securityTypePassword")),r.createElement("option",{value:"jwk"},G.t("securityTypeJwk"))),"password"===this.state.exportSecurityType)0===this.state.pwdScore?n=r.createElement("span",{className:"badge bg-danger"},G.t("pwdScoreTooGuessable")):1===this.state.pwdScore?n=r.createElement("span",{className:"badge bg-warning"},G.t("pwdScoreVeryGuessable")):2===this.state.pwdScore?n=r.createElement("span",{className:"badge bg-secondary"},G.t("pwdScoreSomewhatGuessable")):3===this.state.pwdScore?n=r.createElement("span",{className:"badge bg-primary"},G.t("pwdScoreSafelyUnguessable")):4===this.state.pwdScore&&(n=r.createElement("span",{className:"badge bg-success"},G.t("pwdScoreVeryUnguessable"))),t=r.createElement("div",null,r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"newPassword",className:"form-label"},G.t("newPassword")),r.createElement("input",{type:"password",autoComplete:"off",className:"form-control",id:"newPassword",value:this.state.password,onChange:this.changePassword}),n),r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"confirmNewPassword",className:"form-label"},G.t("confirmNewPassword")),r.createElement("input",{type:"password",autoComplete:"off",className:"form-control",id:"confirmNewPassword",value:this.state.confirmPassword,onChange:this.changeConfirmPassword})));else if("jwk"===this.state.exportSecurityType){var a;this.state.exportInvalid&&(a=r.createElement("div",{className:"invalid-feedback"},G.t("jwkError"))),t=r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"exportJwk",className:"form-label"},G.t("exportJwk")),r.createElement(Tr,{isError:this.state.exportInvalid,errorMessage:G.t("safeSecretError"),ph:G.t("safeKeyJwkPh"),cb:this.editExportJwk}),a)}return r.createElement("div",null,r.createElement("div",{className:"mb-3"},r.createElement("div",{className:"form-check"},r.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"exportSafeWithSecurity",checked:this.state.exportSafeWithSecurity,onChange:this.toggleExportSafeWithSecurity}),r.createElement("label",{className:"form-check-label",htmlFor:"exportSafeWithSecurity"},G.t("exportSafeWithSecurity")))),e,r.createElement("form",null,t),r.createElement("div",{className:"mb-3"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.exportSafe,title:G.t("downloadExport"),disabled:this.state.exportInvalid},r.createElement("i",{className:"fa fa-cloud-download","aria-hidden":"true"}))),r.createElement("a",{className:"upload",id:this.state.id+"-download"}))}}])&&la(t.prototype,n),s}(r.Component);function ma(e){return(ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ha(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ya(e,t){return(ya=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ga(e,t){if(t&&("object"===ma(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ba(e)}function ba(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function va(e){return(va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const wa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ya(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=va(o);if(i){var n=va(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ga(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={config:e.config,safe:e.safe,safeContent:e.safeContent,cbSaveCoin:e.cbSaveCoin,cbClose:e.cbClose,exportSafeWithSecurity:!1,exportSecurityType:"password",password:"",confirmPassword:"",pwdScore:-1,importJwk:"",errorExportJwk:!1,exportInvalid:!1,importData:!1,importDataResult:!1,importTotalCount:0,importTotalSuccess:0,importSecurityType:!1,importRunning:!1},t.changePassword=t.changePassword.bind(ba(t)),t.getImportFile=t.getImportFile.bind(ba(t)),t.parseContent=t.parseContent.bind(ba(t)),t.importContent=t.importContent.bind(ba(t)),t.completeImportContent=t.completeImportContent.bind(ba(t)),t.editImportJwk=t.editImportJwk.bind(ba(t)),t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changePassword",value:function(e){var t=this,n=-1;e.target.value&&(n=zxcvbn(e.target.value).score),this.setState({password:e.target.value,pwdScore:n},(function(){t.setState({exportInvalid:t.isImportInvalid()})}))}},{key:"isImportInvalid",value:function(){if(this.state.exportSafeWithSecurity)if("password"===this.state.exportSecurityType){if(!this.state.password||this.state.password!==this.state.confirmPassword)return!0}else if("jwk"===this.state.exportSecurityType)try{if(!this.state.importJwk||!JSON.parse(this.state.importJwk).alg)return!0}catch(e){return!0}return!1}},{key:"editImportJwk",value:function(e){var t=this;this.setState({importJwk:e},(function(){t.setState({exportInvalid:t.isImportInvalid()})}))}},{key:"getImportFile",value:function(e){var t=this;this.setState({exportSafeWithSecurity:!1,importData:!1,importDataResult:!1,importTotalCount:0,importTotalSuccess:0,importSecurityType:!1},(function(){var n=e.target.files[0],r=new FileReader;r.onload=function(e){t.setState({importData:e.target.result},(function(){t.parseContent()}))},r.readAsText(n)}))}},{key:"parseContent",value:function(){if(this.state.importData){var e=!1;try{e=JSON.parse(this.state.importData)}catch(e){}if(e&&Array.isArray(e))this.importContent(e);else{var t=!1;try{t=function(e){let t;if("string"==typeof e){const n=e.split(".");3!==n.length&&5!==n.length||([t]=n)}else if("object"==typeof e&&e){if(!("protected"in e))throw new TypeError("Token does not contain a Protected Header");t=e.protected}try{if("string"!=typeof t||!t)throw new Error;const e=JSON.parse(Me.decode(ia(t)));if(!ut(e))throw new Error;return e}catch(e){throw new TypeError("Invalid Token or Protected Header formatting")}}(this.state.importData)}catch(e){this.setState({importDataResult:"invalidData"})}t&&("PBES2-HS256+A128KW"===t.alg||"PBES2-HS384+A192KW"===t.alg||"PBES2-HS512+A256KW"===t.alg?this.setState({importSecurityType:"password"}):this.setState({importSecurityType:"jwk"}))}}else this.setState({importDataResult:"invalidData"})}},{key:"completeImportContent",value:function(){var e=this;if("password"===this.state.importSecurityType){var t=new TextEncoder;fn(this.state.importData,t.encode(this.state.password)).then((function(t){e.importContent(t.payload.data)})).catch((function(){e.setState({importDataResult:"invalidPassword"})}))}else if("jwk"===this.state.importSecurityType)try{var n=JSON.parse(this.state.importJwk);n.use="enc",ft(n,n.alg).then((function(t){fn(e.state.importData,t).then((function(t){e.importContent(t.payload.data)})).catch((function(){e.setState({importDataResult:"invalidJwk"})}))}))}catch(e){this.setState({importDataResult:"invalidJwk"})}}},{key:"importContent",value:function(e){var t=this,n=0,r=0;this.setState({importRunning:!0},(function(){e.forEach((function(a){try{t.state.cbSaveCoin(!0,!1,a).then((function(){n++})).catch((function(){messageDispatcher.sendMessage("Notification",{type:"warning",message:G.t("messageErrorCoinSave")})})).finally((function(){++r===e.length&&(r===n?t.setState({importDataResult:"importComplete",importTotalCount:n,importRunning:!1}):t.setState({importDataResult:"importIncomplete",importTotalCount:n,importTotalSuccess:r,importRunning:!1}))}))}catch(a){++r===e.length&&(r===n?t.setState({importDataResult:"importComplete",importTotalCount:n,importRunning:!1}):t.setState({importDataResult:"importIncomplete",importTotalCount:n,importTotalSuccess:r,importRunning:!1}))}}))}))}},{key:"closeModal",value:function(e,t){this.state.cbClose&&this.state.cbClose()}},{key:"render",value:function(){var e,t,n,a=this;if("invalidData"===this.state.importDataResult?e=r.createElement("div",{className:"alert alert-danger",role:"alert"},G.t("importInvalidData")):"importComplete"===this.state.importDataResult?e=r.createElement("div",{className:"alert alert-success",role:"alert"},G.t("importComplete",{count:this.state.importTotalCount})):"importIncomplete"===this.state.importDataResult?e=r.createElement("div",{className:"alert alert-warning",role:"alert"},G.t("importIncomplete",{count:this.state.importTotalCount,total:this.state.importTotalSuccess})):"invalidPassword"===this.state.importDataResult?e=r.createElement("div",{className:"alert alert-danger",role:"alert"},G.t("importInvalidPassword")):"invalidJwk"===this.state.importDataResult&&(e=r.createElement("div",{className:"alert alert-danger",role:"alert"},G.t("importInvalidKey"))),this.state.importSecurityType){var o;this.state.importRunning&&(o=r.createElement("i",{className:"fa fa-spinner fa-spin fa-fw btn-icon-right"}));var i="password"===this.state.importSecurityType&&!this.state.password||"jwk"===this.state.importSecurityType&&!this.state.importJwk;n=r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.completeImportContent,title:G.t("modalOk"),disabled:i||this.state.importRunning},G.t("modalOk"),o)}return"password"===this.state.importSecurityType?t=r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"newPassword",className:"form-label"},G.t("importPassword")),r.createElement("input",{type:"password",className:"form-control",id:"password",value:this.state.password,onChange:this.changePassword})):"jwk"===this.state.importSecurityType&&(t=r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"importJwk",className:"form-label"},G.t("importJwk")),r.createElement(Tr,{isError:!1,ph:G.t("safeKeyJwkPh"),cb:this.editImportJwk}))),r.createElement("div",{className:"modal",tabIndex:"-1",id:"manageSafe"},r.createElement("div",{className:"modal-dialog"},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("h5",{className:"modal-title"},G.t("manageSafe")),r.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(e){return a.closeModal(e,!1)}})),r.createElement("div",{className:"modal-body"},r.createElement("div",{className:"mb-3"},r.createElement("div",{className:"alert alert-primary",role:"alert"},G.t("exportSafe"))),r.createElement(pa,{config:this.state.config,safe:this.state.safe,content:this.state.safeContent[this.state.safe.name].unlockedCoinList,id:this.state.safe.name,name:this.state.safe.display_name}),r.createElement("hr",null),r.createElement("div",{className:"mb-3"},r.createElement("div",{className:"alert alert-primary",role:"alert"},G.t("importSafe"))),r.createElement("div",{className:"mb-3"},r.createElement("input",{type:"file",className:"upload",id:"importSafeFileInput",onChange:this.getImportFile}),r.createElement("label",{htmlFor:"importSafeFileInput",className:"btn btn-secondary"},r.createElement("i",{className:"fa fa-cloud-upload","aria-hidden":"true"})),t,n,e),r.createElement("div",{className:"modal-footer"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return a.closeModal(e,!1)}},G.t("modalClose")))))))}}])&&ha(t.prototype,n),a&&ha(t,a),l}(r.Component);function Ea(e){return(Ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ka(e,t){return(ka=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ca(e,t){if(t&&("object"===Ea(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xa(e)}function xa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Na(e){return(Na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Pa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ka(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Na(o);if(i){var n=Na(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ca(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={coin:e.coin,element:e.element,index:e.index,cbSave:e.cbSave,cbCancel:e.cbCancel,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.changeValue=t.changeValue.bind(xa(t)),t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changeValue",value:function(e){var t=this.state.element;t.value=e.target.value,this.setState({element:t})}},{key:"render",value:function(){var e=this;return r.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index},r.createElement("form",{onSubmit:function(t){return e.state.cbSave(t,e.state.element,e.state.index)}},r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:this.state.coin.name+"-"+this.state.index,className:"form-label"},G.t("coinElementUrl")),r.createElement("input",{type:"text",className:"form-control",id:this.state.coin.name+"-"+this.state.index,value:this.state.element.value,placeholder:G.t("coinElementUrlPh"),onChange:this.changeValue})),r.createElement("div",{className:"mb-3 btn-group"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.state.cbCancel(t,e.state.index)}},G.t("modalClose")),r.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(t){return e.state.cbSave(t,e.state.element,e.state.index)},disabled:!this.state.element.value},G.t("modalOk")))))}}])&&Sa(t.prototype,n),a&&Sa(t,a),l}(r.Component);function Oa(e){return(Oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ta(e,t){return(Ta=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ra(e,t){if(t&&("object"===Oa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Aa(e)}function Aa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ja(e){return(ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Da=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ta(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ja(o);if(i){var n=ja(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ra(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={coin:e.coin,element:e.element,index:e.index,cbSave:e.cbSave,cbCancel:e.cbCancel,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.changeValue=t.changeValue.bind(Aa(t)),t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changeValue",value:function(e){var t=this.state.element;t.value=e.target.value,this.setState({element:t})}},{key:"render",value:function(){var e=this;return r.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index},r.createElement("form",{onSubmit:function(t){return e.state.cbSave(t,e.state.element,e.state.index)}},r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:this.state.coin.name+"-"+this.state.index,className:"form-label"},G.t("coinElementLogin")),r.createElement("input",{type:"text",className:"form-control",id:this.state.coin.name+"-"+this.state.index,value:this.state.element.value,placeholder:G.t("coinElementLoginPh"),onChange:this.changeValue})),r.createElement("div",{className:"mb-3 btn-group"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.state.cbCancel(t,e.state.index)}},G.t("modalClose")),r.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(t){return e.state.cbSave(t,e.state.element,e.state.index)},disabled:!this.state.element.value},G.t("modalOk")))))}}])&&_a(t.prototype,n),a&&_a(t,a),l}(r.Component);function La(e){return(La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ma(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ka(e,t){return(Ka=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ia(e,t){if(t&&("object"===La(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ua(e)}function Ua(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ha(e){return(Ha=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Fa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ka(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ha(o);if(i){var n=Ha(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ia(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={config:e.config,cb:e.callback,element:e.element,originalPassword:e.originalPassword,wordsLists:{},showPassword:!1,passwordGenerated:!1},t.toggleShowPassword=t.toggleShowPassword.bind(Ua(t)),t.toggleParam=t.toggleParam.bind(Ua(t)),t.changePasswordLength=t.changePasswordLength.bind(Ua(t)),t.generateRandomChars=t.generateRandomChars.bind(Ua(t)),t.changePasswordWordsNumber=t.changePasswordWordsNumber.bind(Ua(t)),t.changePasswordWordsSeparator=t.changePasswordWordsSeparator.bind(Ua(t)),t.generateRandomWords=t.generateRandomWords.bind(Ua(t)),t.copyOriginalPassword=t.copyOriginalPassword.bind(Ua(t)),t.copyNewPassword=t.copyNewPassword.bind(Ua(t)),t.state.config.frontend.lang.forEach((function(e){hn.request("words-"+e+".json").then((function(n){var r=t.state.wordsLists;r[e]=n,t.setState({wordsLists:r})}))})),t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"toggleShowPassword",value:function(){this.setState({showPassword:!this.state.showPassword})}},{key:"toggleParam",value:function(e,t){var n=this.state.element;n.params[t]=!n.params[t],this.setState({element:n})}},{key:"changePasswordLength",value:function(e){var t=this.state.element;e.target.value?t.params.passwordCharLength=parseInt(e.target.value):t.params.passwordCharLength=0,this.setState({element:t})}},{key:"closeModal",value:function(e,t){this.state.cb&&this.state.cb(t,this.state.element)}},{key:"randomCharsRangeList",value:function(e,t){var n=new Uint8Array(e);window.crypto.getRandomValues(n);for(var r=0;r<e;r++)for(;n[r]>=t;){var a=new Uint8Array(1);window.crypto.getRandomValues(a),n[r]=a[0]}return n}},{key:"randomWordsRangeList",value:function(e,t){var n=new Uint32Array(e);window.crypto.getRandomValues(n);for(var r=0;r<e;r++)for(;n[r]>=t;){var a=new Uint32Array(1);window.crypto.getRandomValues(a),n[r]=a[0]}return n}},{key:"generateRandomChars",value:function(){var e="";this.state.element.params.lowercase&&(e+="abcdefghijklmnopqrstuvwxyz"),this.state.element.params.upprcase&&(e+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"),this.state.element.params.numbers&&(e+="0123456789"),this.state.element.params.special&&(e+="!\"#$%&\\'()*+,-./:;<=>?@[]^_`{|}~"),this.state.element.params.spaces&&(e+=" ");var t=this.randomCharsRangeList(this.state.element.params.passwordCharLength,e.length);if(this.state.element.params.noSimilarFollowingChars)for(var n=1;n<this.state.element.params.passwordCharLength;n++)for(;t[n]===t[n-1];){var r=this.randomCharsRangeList(1,e.length);t[n]=r[0]}var a="";for(n=0;n<this.state.element.params.passwordCharLength;n++)a+=e[t[n]];var o=this.state.element;o.params.type="chars",o.value=a,this.setState({element:o,passwordGenerated:!0})}},{key:"changePasswordWordsNumber",value:function(e){var t=this.state.element;e.target.value?t.params.wordsNumber=parseInt(e.target.value):t.params.wordsNumber=0,this.setState({element:t})}},{key:"toggleWordsLang",value:function(e,t){var n=this.state.element;-1!==n.params.wordsLangsList.indexOf(t)?n.params.wordsLangsList.splice(n.params.wordsLangsList.indexOf(t),1):n.params.wordsLangsList.push(t),this.setState({element:n})}},{key:"changePasswordWordsSeparator",value:function(e){var t=this.state.element;t.params.wordSeparator=e.target.value,this.setState({element:t})}},{key:"generateRandomWords",value:function(){var e=this,t=[];this.state.element.params.wordsLangsList.forEach((function(n){t=t.concat(e.state.wordsLists[n])}));for(var n=this.randomWordsRangeList(this.state.element.params.wordsNumber,t.length),r=[],a=0;a<this.state.element.params.wordsNumber;a++)r.push(t[n[a]]);var o=this.state.element;o.params.type="words",o.value=r.join(this.state.element.params.wordSeparator),this.setState({element:o,passwordGenerated:!0})}},{key:"copyOriginalPassword",value:function(){navigator.clipboard.writeText(this.state.originalPassword).then((function(){messageDispatcher.sendMessage("Notification",{type:"info",message:G.t("messageCopyOriginalPasswordToClipboard")})}))}},{key:"copyNewPassword",value:function(){navigator.clipboard.writeText(this.state.element.value).then((function(){messageDispatcher.sendMessage("Notification",{type:"info",message:G.t("messageCopyNewPasswordToClipboard")})}))}},{key:"render",value:function(){var e=this,t="chars"===this.state.element.params.type,n="chars"!==this.state.element.params.type;"chars"===this.state.element.params.type?t=" show":n=" show";var a=r.createElement("div",{className:"alert alert-primary",role:"alert"},G.t("newPassword"));this.state.showPassword&&this.state.passwordGenerated?a=r.createElement("div",{className:"alert alert-secondary",role:"alert"},r.createElement("code",null,this.state.element.value)):this.state.passwordGenerated&&(a=r.createElement("div",{className:"alert alert-success",role:"alert"},G.t("messagePasswordGenerated")));var o=[];return this.state.config.frontend.lang.forEach((function(t){o.push(r.createElement("div",{className:"form-group form-check",key:t},r.createElement("input",{type:"checkbox",className:"form-check-input",id:"passwordWordsLangs-"+t,onChange:function(n){return e.toggleWordsLang(n,t)},checked:-1!==e.state.element.params.wordsLangsList.indexOf(t)}),r.createElement("label",{className:"form-check-label",htmlFor:"passwordWordsLangs-"+t},G.t("passwordWordsLangs-"+t))))})),r.createElement("div",{className:"modal",tabIndex:"-1",id:"modalGeneratePassword"},r.createElement("div",{className:"modal-dialog"},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("h5",{className:"modal-title"},G.t("modalGeneratePassword")),r.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(t){return e.closeModal(t,!1)}})),r.createElement("div",{className:"modal-body"},r.createElement("div",{className:"accordion",id:"passwordRandom"},r.createElement("div",{className:"accordion-item"},r.createElement("h2",{className:"accordion-header",id:"headingOne"},r.createElement("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#passwordRandomCharacters","aria-expanded":t?"true":"false","aria-controls":"passwordRandomCharacters"},G.t("passwordRandomCharacters"))),r.createElement("div",{id:"passwordRandomCharacters",className:"accordion-collapse collapse"+(t?" show":""),"aria-labelledby":"headingOne","data-bs-parent":"#passwordRandom"},r.createElement("div",{className:"accordion-body"},r.createElement("div",{className:"form-group form-check"},r.createElement("input",{type:"checkbox",className:"form-check-input",id:"lowercase",onChange:function(t){return e.toggleParam(t,"lowercase")},checked:this.state.element.params.lowercase}),r.createElement("label",{className:"form-check-label",htmlFor:"lowercase"},G.t("passwordRandomLowercase"))),r.createElement("div",{className:"form-group form-check"},r.createElement("input",{type:"checkbox",className:"form-check-input",id:"upprcase",onChange:function(t){return e.toggleParam(t,"upprcase")},checked:this.state.element.params.upprcase}),r.createElement("label",{className:"form-check-label",htmlFor:"upprcase"},G.t("passwordRandomUppercase"))),r.createElement("div",{className:"form-group form-check"},r.createElement("input",{type:"checkbox",className:"form-check-input",id:"numbers",onChange:function(t){return e.toggleParam(t,"numbers")},checked:this.state.element.params.numbers}),r.createElement("label",{className:"form-check-label",htmlFor:"numbers"},G.t("passwordRandomNumbers"))),r.createElement("div",{className:"form-group form-check"},r.createElement("input",{type:"checkbox",className:"form-check-input",id:"special",onChange:function(t){return e.toggleParam(t,"special")},checked:this.state.element.params.special}),r.createElement("label",{className:"form-check-label",htmlFor:"special"},G.t("passwordRandomSpecial"))),r.createElement("div",{className:"form-group form-check"},r.createElement("input",{type:"checkbox",className:"form-check-input",id:"spaces",onChange:function(t){return e.toggleParam(t,"spaces")},checked:this.state.element.params.spaces}),r.createElement("label",{className:"form-check-label",htmlFor:"spaces"},G.t("passwordRandomSpaces"))),r.createElement("div",{className:"form-group form-check"},r.createElement("input",{type:"checkbox",className:"form-check-input",id:"noSimilarFollowingChars",onChange:function(t){return e.toggleParam(t,"noSimilarFollowingChars")},checked:this.state.element.params.noSimilarFollowingChars}),r.createElement("label",{className:"form-check-label",htmlFor:"noSimilarFollowingChars"},G.t("passwordNoSimilarFollowingChars"))),r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"passwordCharLength",className:"form-label"},G.t("passwordCharLength")),r.createElement("input",{type:"number",step:"1",min:"0",className:"form-control",id:"passwordCharLength",value:this.state.element.params.passwordCharLength,onChange:this.changePasswordLength})),r.createElement("div",{className:"mb-3"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.generateRandomChars,disabled:!this.state.element.params.lowercase&&!this.state.element.params.upprcase&&!this.state.element.params.numbers&&!this.state.element.params.special||!this.state.element.params.passwordCharLength},G.t("passwordGenerate")))))),r.createElement("div",{className:"accordion-item"},r.createElement("h2",{className:"accordion-header",id:"headingTwo"},r.createElement("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#passwordRandomWords","aria-expanded":n?"true":"false","aria-controls":"passwordRandomWords"},G.t("passwordRandomWords"))),r.createElement("div",{id:"passwordRandomWords",className:"accordion-collapse collapse"+(n?" show":""),"aria-labelledby":"headingTwo","data-bs-parent":"#passwordRandom"},r.createElement("div",{className:"accordion-body"},r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"passwordWordsNumber",className:"form-label"},G.t("passwordWordsNumber")),r.createElement("input",{type:"number",step:"1",min:"0",className:"form-control",id:"passwordWordsNumber",value:this.state.element.params.wordsNumber,onChange:this.changePasswordWordsNumber})),r.createElement("div",{className:"input-group mb-3"},r.createElement("label",{className:"input-group-text",htmlFor:"passwordWordsSeparator"},G.t("passwordWordsSeparator")),r.createElement("select",{className:"form-select",id:"passwordWordsSeparator",value:this.state.element.params.wordSeparator,onChange:this.changePasswordWordsSeparator},r.createElement("option",{value:" "},G.t("passwordWordsSeparatorSpace")),r.createElement("option",{value:"."},G.t("passwordWordsSeparatorDot")),r.createElement("option",{value:"-"},G.t("passwordWordsSeparatorDash")),r.createElement("option",{value:"_"},G.t("passwordWordsSeparatorUnderscore")),r.createElement("option",{value:","},G.t("passwordWordsSeparatorComma")),r.createElement("option",{value:""},G.t("passwordWordsSeparatorNone")))),r.createElement("h5",null,G.t("passwordWordsLangs")),o,r.createElement("div",{className:"mb-3"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.generateRandomWords,disabled:!this.state.element.params.wordsNumber||!this.state.element.params.wordsLangsList.length},G.t("passwordGenerate"))))))),r.createElement("hr",null),r.createElement("div",{className:"mb-3"},a),r.createElement("div",{className:"mb-3"},r.createElement("div",{className:"btn-toolbar justify-content-between",role:"toolbar"},r.createElement("div",{className:"btn-group",role:"group"},r.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.toggleShowPassword,title:G.t("coinElementShowPassword"),disabled:!this.state.passwordGenerated},r.createElement("i",{className:"fa fa-eye","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.copyNewPassword,title:G.t("passwordCopyNewPassword"),disabled:!this.state.passwordGenerated},r.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"}))),r.createElement("div",{className:"btn-group",role:"group"},r.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.copyOriginalPassword,title:G.t("passwordCopyOriginalPassword"),disabled:!this.state.originalPassword},r.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"})))))),r.createElement("div",{className:"modal-footer"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.closeModal(t,!1)}},G.t("modalClose")),r.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(t){return e.closeModal(t,!0)},disabled:!this.state.passwordGenerated},G.t("modalCloseAndSave"))))))}}])&&Ma(t.prototype,n),a&&Ma(t,a),l}(r.Component);function Wa(e){return(Wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ba(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function za(e,t){return(za=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Va(e,t){if(t&&("object"===Wa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ja(e)}function Ja(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qa(e){return(qa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const $a=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&za(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=qa(o);if(i){var n=qa(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Va(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={config:e.config,coin:e.coin,element:e.element,index:e.index,cbSave:e.cbSave,cbCancel:e.cbCancel,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver,password:"",passwordConfirm:"",showModalGeneratePassword:!1,modalElement:!1,originalPassword:!1,pwdScore:-1},t.changePassword=t.changePassword.bind(Ja(t)),t.changePasswordConfirm=t.changePasswordConfirm.bind(Ja(t)),t.closeAndSave=t.closeAndSave.bind(Ja(t)),t.openGenerateModal=t.openGenerateModal.bind(Ja(t)),t.getGeneratedPassword=t.getGeneratedPassword.bind(Ja(t)),t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changePassword",value:function(e){var t=-1;e.target.value&&(t=zxcvbn(e.target.value).score),this.setState({password:e.target.value,pwdScore:t})}},{key:"changePasswordConfirm",value:function(e){this.setState({passwordConfirm:e.target.value})}},{key:"closeAndSave",value:function(e){if(this.state.password&&this.state.password===this.state.passwordConfirm){var t=this.state.element;t.value=this.state.password,this.state.cbSave(e,t,this.state.index)}}},{key:"openGenerateModal",value:function(){var e=Object.assign({},this.state.element);e.params||(e.params={type:"chars",lowercase:!0,upprcase:!0,numbers:!0,special:!0,spaces:!0,noSimilarFollowingChars:!1,passwordCharLength:32,wordsNumber:4,wordsLangsList:[G.language],wordSeparator:" "}),this.setState({showModalGeneratePassword:!0,modalElement:e,originalPassword:this.state.element.value},(function(){new bootstrap.Modal(document.getElementById("modalGeneratePassword"),{keyboard:!1}).show()}))}},{key:"getGeneratedPassword",value:function(e,t){var n=this;if(e){var r=-1;r=zxcvbn(t.value).score,navigator.clipboard.writeText(t.value).then((function(){messageDispatcher.sendMessage("Notification",{type:"info",message:G.t("messageCopyToClipboard")}),n.state.cbSave(!1,t,n.state.index)}))}bootstrap.Modal.getOrCreateInstance(document.querySelector("#modalGeneratePassword")).hide(),this.setState({showModalGeneratePassword:!1,modalElement:!1,originalPassword:!1,pwdScore:r})}},{key:"render",value:function(){var e,t,n=this;return this.state.showModalGeneratePassword&&(e=r.createElement(Fa,{config:this.state.config,element:this.state.modalElement,originalPassword:this.state.originalPassword,callback:this.getGeneratedPassword})),0===this.state.pwdScore?t=r.createElement("span",{className:"badge bg-danger"},G.t("pwdScoreTooGuessable")):1===this.state.pwdScore?t=r.createElement("span",{className:"badge bg-warning"},G.t("pwdScoreVeryGuessable")):2===this.state.pwdScore?t=r.createElement("span",{className:"badge bg-secondary"},G.t("pwdScoreSomewhatGuessable")):3===this.state.pwdScore?t=r.createElement("span",{className:"badge bg-primary"},G.t("pwdScoreSafelyUnguessable")):4===this.state.pwdScore&&(t=r.createElement("span",{className:"badge bg-success"},G.t("pwdScoreVeryUnguessable"))),r.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index},r.createElement("form",{onSubmit:function(e){return n.state.cbSave(e,n.state.element,n.state.index)}},r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:this.state.coin.name+"-"+this.state.index,className:"form-label"},G.t("coinElementPassword")),r.createElement("input",{type:"password",className:"form-control",id:this.state.coin.name+"-"+this.state.index,value:this.state.password,onChange:this.changePassword}),t),r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:this.state.coin.name+"-"+this.state.index,className:"form-label"},G.t("coinElementPasswordConfirm")),r.createElement("input",{type:"password",className:"form-control",id:this.state.coin.name+"-"+this.state.index+"-confirm",value:this.state.passwordConfirm,onChange:this.changePasswordConfirm})),r.createElement("div",{className:"mb-3"},r.createElement("div",{className:"btn-group"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return n.state.cbCancel(e,n.state.index)}},G.t("modalClose")),r.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(e){return n.closeAndSave(e)},disabled:!this.state.password||this.state.password!==this.state.passwordConfirm},G.t("modalOk"))),r.createElement("div",{className:"btn-group float-end"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.openGenerateModal,title:G.t("coinPasswordGenerate")},r.createElement("i",{className:"fa fa-magic","aria-hidden":"true"})))),e))}}])&&Ba(t.prototype,n),a&&Ba(t,a),l}(r.Component);function Ga(e){return(Ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xa(e,t){return(Xa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ya(e,t){if(t&&("object"===Ga(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Za(e)}function Za(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eo(e){return(eo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const to=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xa(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=eo(o);if(i){var n=eo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ya(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={coin:e.coin,element:e.element,index:e.index,cbSave:e.cbSave,cbCancel:e.cbCancel,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.getFile=t.getFile.bind(Za(t)),t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"getFile",value:function(e){var t=this,n=this.state.element,r=e.target.files[0],a=new FileReader;a.onload=function(e){n.value={filename:r.name,data:btoa(e.target.result)},t.setState({element:n})},a.readAsBinaryString(r)}},{key:"render",value:function(){var e,t=this;return this.state.element.value.filename&&(e=r.createElement("code",{className:"btn-icon-right"},this.state.element.value.filename)),r.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index},r.createElement("form",{onSubmit:function(e){return t.state.cbSave(e,t.state.element,t.state.index)}},r.createElement("div",{className:"mb-3"},r.createElement("input",{type:"file",className:"upload",id:this.state.coin.name+"-"+this.state.index,onChange:this.getFile}),r.createElement("label",{htmlFor:this.state.coin.name+"-"+this.state.index,className:"btn btn-outline-secondary btn-sm"},r.createElement("i",{className:"fa fa-cloud-upload","aria-hidden":"true"})),e),r.createElement("div",{className:"mb-3 btn-group"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return t.state.cbCancel(e,t.state.index)}},G.t("modalClose")),r.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(e){return t.state.cbSave(e,t.state.element,t.state.index)},disabled:!this.state.element.value},G.t("modalOk")))))}}])&&Qa(t.prototype,n),a&&Qa(t,a),l}(r.Component);function no(e){return(no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ro(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ao(e,t){return(ao=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oo(e,t){if(t&&("object"===no(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return io(e)}function io(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function so(e){return(so=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const lo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ao(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=so(o);if(i){var n=so(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return oo(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={coin:e.coin,element:e.element,index:e.index,cbSave:e.cbSave,cbCancel:e.cbCancel,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.changeValue=t.changeValue.bind(io(t)),t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changeValue",value:function(e){var t=this.state.element;t.value=e.target.value,this.setState({element:t})}},{key:"render",value:function(){var e=this;return r.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index},r.createElement("form",{onSubmit:function(t){return e.state.cbSave(t,e.state.element,e.state.index)}},r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:this.state.coin.name+"-"+this.state.index,className:"form-label"},G.t("coinElementMisc")),r.createElement("input",{type:"text",className:"form-control",id:this.state.coin.name+"-"+this.state.index,value:this.state.element.value,placeholder:G.t("coinElementMiscPh"),onChange:this.changeValue})),r.createElement("div",{className:"mb-3 btn-group"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.state.cbCancel(t,e.state.index)}},G.t("modalClose")),r.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(t){return e.state.cbSave(t,e.state.element,e.state.index)},disabled:!this.state.element.value},G.t("modalOk")))))}}])&&ro(t.prototype,n),a&&ro(t,a),l}(r.Component);function co(e){return(co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fo(e,t){return(fo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function po(e,t){if(t&&("object"===co(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mo(e)}function mo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ho(e){return(ho=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const yo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fo(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ho(o);if(i){var n=ho(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return po(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={coin:e.coin,element:e.element,index:e.index,cbEdit:e.cbEdit,cbRemove:e.cbRemove,cbTags:e.cbTags,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.copyToClipboard=t.copyToClipboard.bind(mo(t)),t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"copyToClipboard",value:function(){navigator.clipboard.writeText(this.state.element.value).then((function(){pn.sendMessage("Notification",{type:"info",message:G.t("messageCopyToClipboard")})}))}},{key:"render",value:function(){var e=this,t=[];return this.state.element.tags&&this.state.element.tags.forEach((function(e,n){t.push(r.createElement("span",{key:n,className:"badge rounded-pill bg-secondary btn-icon"},e))})),r.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index},r.createElement("div",{className:"row btn-icon-bottom"},r.createElement("div",{className:"col"},r.createElement("span",{className:"btn-icon-right"},r.createElement("span",{className:"badge bg-primary"},G.t("coinElementUrl")))),r.createElement("div",{className:"col text-truncate"},r.createElement("span",{className:"btn-icon-right"},r.createElement("a",{href:this.state.element.value,target:"_blank",title:this.state.element.value,className:"link-secondary"},this.state.element.value))),r.createElement("div",{className:"col"},r.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:G.t("coinElementCopy"),onClick:this.copyToClipboard},r.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:G.t("coinElementEdit"),onClick:function(t){return e.state.cbEdit(t,e.state.index)}},r.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:G.t("coinElementRemove"),onClick:function(t){return e.state.cbRemove(t,e.state.index)}},r.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:G.t("coinElementTags"),onClick:function(t){return e.state.cbTags(t,e.state.index)}},r.createElement("i",{className:"fa fa-tags","aria-hidden":"true"}))))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col"},t)))}}])&&uo(t.prototype,n),a&&uo(t,a),l}(r.Component);function go(e){return(go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vo(e,t){return(vo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wo(e,t){if(t&&("object"===go(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Eo(e)}function Eo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function So(e){return(So=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const ko=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vo(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=So(o);if(i){var n=So(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return wo(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={coin:e.coin,element:e.element,index:e.index,cbEdit:e.cbEdit,cbRemove:e.cbRemove,cbTags:e.cbTags,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.copyToClipboard=t.copyToClipboard.bind(Eo(t)),t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"copyToClipboard",value:function(){navigator.clipboard.writeText(this.state.element.value).then((function(){pn.sendMessage("Notification",{type:"info",message:G.t("messageCopyToClipboard")})}))}},{key:"render",value:function(){var e=this,t=[];return this.state.element.tags&&this.state.element.tags.forEach((function(e,n){t.push(r.createElement("span",{key:n,className:"badge rounded-pill bg-secondary btn-icon"},e))})),r.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index},r.createElement("div",{className:"row btn-icon-bottom"},r.createElement("div",{className:"col"},r.createElement("span",{className:"btn-icon-right"},r.createElement("span",{className:"badge bg-primary"},G.t("coinElementLogin")))),r.createElement("div",{className:"col text-truncate"},r.createElement("span",{className:"btn-icon-right"},this.state.element.value)),r.createElement("div",{className:"col"},r.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:G.t("coinElementCopy"),onClick:this.copyToClipboard},r.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:G.t("coinElementEdit"),onClick:function(t){return e.state.cbEdit(t,e.state.index)}},r.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:G.t("coinElementRemove"),onClick:function(t){return e.state.cbRemove(t,e.state.index)}},r.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:G.t("coinElementTags"),onClick:function(t){return e.state.cbTags(t,e.state.index)}},r.createElement("i",{className:"fa fa-tags","aria-hidden":"true"}))))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col"},t)))}}])&&bo(t.prototype,n),a&&bo(t,a),l}(r.Component);function Co(e){return(Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function No(e,t){return(No=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Po(e,t){if(t&&("object"===Co(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Oo(e)}function Oo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _o(e){return(_o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const To=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&No(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_o(o);if(i){var n=_o(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Po(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={coin:e.coin,element:e.element,index:e.index,cbEdit:e.cbEdit,cbRemove:e.cbRemove,cbTags:e.cbTags,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver,showPassword:!1},t.copyToClipboard=t.copyToClipboard.bind(Oo(t)),t.toggleShowPassword=t.toggleShowPassword.bind(Oo(t)),t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"copyToClipboard",value:function(){navigator.clipboard.writeText(this.state.element.value).then((function(){pn.sendMessage("Notification",{type:"info",message:G.t("messageCopyToClipboard")})}))}},{key:"toggleShowPassword",value:function(e){e.preventDefault(),this.setState({showPassword:!this.state.showPassword})}},{key:"render",value:function(){var e,t=this,n=[];return this.state.element.tags&&this.state.element.tags.forEach((function(e,t){n.push(r.createElement("span",{key:t,className:"badge rounded-pill bg-secondary btn-icon"},e))})),e=this.state.showPassword?r.createElement("code",null,this.state.element.value):r.createElement("span",{className:"btn-icon-right"},"********"),r.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index},r.createElement("div",{className:"row btn-icon-bottom"},r.createElement("div",{className:"col text-truncate"},r.createElement("span",{className:"btn-icon-right"},r.createElement("span",{className:"badge bg-primary"},G.t("coinElementPassword")))),r.createElement("div",{className:"col text-truncate"},e),r.createElement("div",{className:"col"},r.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},r.createElement("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:G.t("coinElementShowPassword"),onClick:this.toggleShowPassword},r.createElement("i",{className:"fa fa-eye","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:G.t("coinElementCopy"),onClick:this.copyToClipboard},r.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:G.t("coinElementEdit"),onClick:function(e){return t.state.cbEdit(e,t.state.index)}},r.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:G.t("coinElementRemove"),onClick:function(e){return t.state.cbRemove(e,t.state.index)}},r.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:G.t("coinElementTags"),onClick:function(e){return t.state.cbTags(e,t.state.index)}},r.createElement("i",{className:"fa fa-tags","aria-hidden":"true"}))))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col"},n)))}}])&&xo(t.prototype,n),a&&xo(t,a),l}(r.Component);function Ro(e){return(Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jo(e,t){return(jo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Do(e,t){if(t&&("object"===Ro(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Lo(e)}function Lo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mo(e){return(Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Ko=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jo(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Mo(o);if(i){var n=Mo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Do(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={value:e.value,index:e.index,cbSave:e.cbSave,disableEdit:e.disableEdit,showAnswer:!1},t.copyToClipboard=t.copyToClipboard.bind(Lo(t)),t.toggleShowAnswer=t.toggleShowAnswer.bind(Lo(t)),t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"copyToClipboard",value:function(){navigator.clipboard.writeText(this.state.value.answer).then((function(){pn.sendMessage("Notification",{type:"info",message:G.t("messageCopyToClipboard")})}))}},{key:"toggleShowAnswer",value:function(){this.setState({showAnswer:!this.state.showAnswer})}},{key:"render",value:function(){var e,t=this;return e=this.state.value.answer.length>4&&!this.state.showAnswer?this.state.value.answer.substring(0,2)+"[...]"+this.state.value.answer.slice(-2):this.state.value.answer,r.createElement("div",{className:"row"},r.createElement("div",{className:"col"},r.createElement("span",{className:"badge bg-info text-dark"},G.t("coinElementQuestionQ")),r.createElement("code",{className:"btn-icon-right"},this.state.value.question)),r.createElement("div",{className:"col"},r.createElement("span",{className:"badge bg-info text-dark"},G.t("coinElementQuestionA")),r.createElement("code",{className:"btn-icon-right"},e)),r.createElement("div",{className:"col"},r.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},r.createElement("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:G.t("coinElementShowAnswer"),onClick:this.toggleShowAnswer},r.createElement("i",{className:"fa fa-eye","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:G.t("coinElementCopy"),onClick:this.copyToClipboard},r.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:G.t("coinElementEdit"),onClick:function(e){return t.state.cbEdit(e,t.state.index)},disabled:this.state.disableEdit},r.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:G.t("coinElementRemove"),onClick:function(e){return t.state.cbRemove(e,t.state.index)}},r.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})))))}}])&&Ao(t.prototype,n),a&&Ao(t,a),l}(r.Component);function Io(e){return(Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ho(e,t){return(Ho=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fo(e,t){if(t&&("object"===Io(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wo(e)}function Wo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bo(e){return(Bo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const zo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ho(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Bo(o);if(i){var n=Bo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Fo(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={value:e.value,index:e.index,wordsList:e.wordsList,cbSave:e.cbSave,cbCancel:e.cbCancel},t.changeQuestion=t.changeQuestion.bind(Wo(t)),t.changeAnswer=t.changeAnswer.bind(Wo(t)),t.generateAnswer=t.generateAnswer.bind(Wo(t)),t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changeQuestion",value:function(e){var t=this.state.value;t.question=e.target.value,this.setState({value:t})}},{key:"changeAnswer",value:function(e){var t=this.state.value;t.answer=e.target.value,this.setState({value:t})}},{key:"randomWordsRangeList",value:function(e,t){var n=new Uint32Array(e);window.crypto.getRandomValues(n);for(var r=0;r<e;r++)for(;n[r]>=t;){var a=new Uint32Array(1);window.crypto.getRandomValues(a),n[r]=a[0]}return n}},{key:"generateAnswer",value:function(){var e=this.randomWordsRangeList(2,this.state.wordsList.length),t=this.state.wordsList[e[0]]+" "+this.state.wordsList[e[1]],n=this.state.value;n.answer=t,this.setState({value:n})}},{key:"render",value:function(){var e=this;return r.createElement("div",null,r.createElement("div",{className:"row"},r.createElement("div",{className:"col"},r.createElement("div",{className:"input-group mb-3"},r.createElement("span",{className:"input-group-text",id:"basic-addon1"},G.t("coinElementQuestionQ")),r.createElement("input",{type:"text",className:"form-control",placeholder:G.t("coinElementQuestionQPH"),value:this.state.value.question,onChange:this.changeQuestion})))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col"},r.createElement("div",{className:"input-group mb-3"},r.createElement("span",{className:"input-group-text",id:"basic-addon1"},G.t("coinElementQuestionA")),r.createElement("input",{type:"text",className:"form-control",placeholder:G.t("coinElementQuestionAPH"),value:this.state.value.answer,onChange:this.changeAnswer}),r.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.generateAnswer},r.createElement("i",{className:"fa fa-magic","aria-hidden":"true"}))))),r.createElement("div",{className:"mb-3 btn-group"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.state.cbCancel(t,e.state.index)}},G.t("modalCancel")),r.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(t){return e.state.cbSave(t,e.state.value,e.state.index)},disabled:!this.state.value.answer},G.t("modalOk"))))}}])&&Uo(t.prototype,n),a&&Uo(t,a),l}(r.Component);function Vo(e){return(Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qo(e,t){return(qo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $o(e,t){if(t&&("object"===Vo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Go(e)}function Go(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qo(e){return(Qo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Xo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qo(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Qo(o);if(i){var n=Qo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return $o(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={coin:e.coin,element:e.element,index:e.index,closeButon:e.closeButon,editList:[],cbRemove:e.cbRemove,cbSave:e.cbSave,cbTags:e.cbTags,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.copyToClipboard=t.copyToClipboard.bind(Go(t)),t.saveRow=t.saveRow.bind(Go(t)),t.cancelRow=t.cancelRow.bind(Go(t)),t.editRow=t.editRow.bind(Go(t)),t.removeRow=t.removeRow.bind(Go(t)),t.cbAddQuestion=t.cbAddQuestion.bind(Go(t)),t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"copyToClipboard",value:function(e){navigator.clipboard.writeText(this.state.element.value[e].answer).then((function(){pn.sendMessage("Notification",{type:"info",message:G.t("messageCopyToClipboard")})}))}},{key:"saveRow",value:function(e,t,n){var r=this,a=this.state.element;a.value[n]?a.value[n]=t:a.value.push(t);var o=this.state.editList;-1!==o.indexOf(n)&&o.splice(o.indexOf(n),1),this.setState({element:a,editList:o},(function(){r.state.cbSave(e,r.state.element,r.state.index)}))}},{key:"cancelRow",value:function(e,t){var n=this.state.editList;-1!==n.indexOf(t)&&n.splice(n.indexOf(t),1),this.setState({editList:n})}},{key:"editRow",value:function(e,t){var n=this.state.editList;n.push(t),this.setState({editList:n})}},{key:"removeRow",value:function(e,t){var n=this,r=this.state.element;r.value.splice(t,1);var a=this.state.editList;-1!==a.indexOf(t)&&a.splice(a.indexOf(t),1),this.setState({editList:a,element:r},(function(){n.state.cbSave(e,n.state.element,n.state.index)}))}},{key:"cbAddQuestion",value:function(){var e=this.state.editList,t=this.state.element;e.push(t.value.length),t.value.push({question:"",answer:""}),this.setState({editList:e,element:t})}},{key:"render",value:function(){var e,t=this,n=[],a=[];return this.state.element.tags&&this.state.element.tags.forEach((function(e,t){n.push(r.createElement("span",{key:t,className:"badge rounded-pill bg-secondary btn-icon"},e))})),this.state.element.value.length?this.state.element.value.forEach((function(e,n){-1!==t.state.editList.indexOf(n)?a.push(r.createElement(zo,{value:Object.assign({},e),index:n,wordsList:t.state.config.wordsList,cbSave:t.saveRow,cbCancel:t.cancelRow,key:n})):a.push(r.createElement(Ko,{value:Object.assign({},e),index:n,cbEdit:function(e){return t.editRow(e,n)},cbRemove:function(e){return t.removeRow(e,n)},key:n,disableEdit:!!t.state.editList.length}))})):a.push(r.createElement(zo,{value:{question:"",answer:""},index:0,wordsList:this.state.config.wordsList,cbSave:this.saveRow,cbCancel:this.cancelRow,key:-1})),this.state.closeButon&&(e=r.createElement("div",{className:"row"},r.createElement("div",{className:"col"},r.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:G.t("modalClose"),onClick:function(e){return t.state.cbSave(e,t.state.element,t.state.index)}},G.t("modalClose")))))),r.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index},r.createElement("div",{className:"row btn-icon-bottom"},r.createElement("div",{className:"col"},r.createElement("span",{className:"btn-icon-right"},r.createElement("span",{className:"badge bg-primary"},G.t("coinElementSecretQuestions")))),r.createElement("div",{className:"col"},r.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:G.t("coinElementAddQuestion"),onClick:this.cbAddQuestion,disabled:this.state.editList.length},r.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:G.t("coinElementRemove"),onClick:function(e){return t.state.cbRemove(e,t.state.index)}},r.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:G.t("coinElementTags"),onClick:function(e){return t.state.cbTags(e,t.state.index)}},r.createElement("i",{className:"fa fa-tags","aria-hidden":"true"}))))),a,r.createElement("div",{className:"row"},r.createElement("div",{className:"col"},n)),e)}}])&&Jo(t.prototype,n),a&&Jo(t,a),l}(r.Component);function Yo(e){return(Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ei(e,t){return(ei=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ti(e,t){if(t&&("object"===Yo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ni(e)}function ni(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ri(e){return(ri=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const ai=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ei(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ri(o);if(i){var n=ri(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ti(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={coin:e.coin,element:e.element,index:e.index,cbEdit:e.cbEdit,cbRemove:e.cbRemove,cbTags:e.cbTags,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.downloadFile=t.downloadFile.bind(ni(t)),t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"downloadFile",value:function(){if(this.state.element.value.data){var e=$("#"+this.state.coin.name+"-"+this.state.index+"-download");e.attr("href","data:application/octet-stream;base64,"+this.state.element.value.data),e[0].click()}}},{key:"render",value:function(){var e=this,t=[];return this.state.element.tags&&this.state.element.tags.forEach((function(e,n){t.push(r.createElement("span",{key:n,className:"badge rounded-pill bg-secondary btn-icon"},e))})),r.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index},r.createElement("div",{className:"row btn-icon-bottom"},r.createElement("div",{className:"col"},r.createElement("span",{className:"btn-icon-right"},r.createElement("span",{className:"badge bg-primary"},G.t("coinElementFile")))),r.createElement("div",{className:"col text-truncate"},r.createElement("span",{className:"btn-icon-right"},r.createElement("code",null,this.state.element.value.filename))),r.createElement("div",{className:"col"},r.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:G.t("coinElementDownload"),onClick:this.downloadFile},r.createElement("i",{className:"fa fa-cloud-download","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:G.t("coinElementEdit"),onClick:function(t){return e.state.cbEdit(t,e.state.index)}},r.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:G.t("coinElementRemove"),onClick:function(t){return e.state.cbRemove(t,e.state.index)}},r.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:G.t("coinElementTags"),onClick:function(t){return e.state.cbTags(t,e.state.index)}},r.createElement("i",{className:"fa fa-tags","aria-hidden":"true"}))))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col"},t)),r.createElement("a",{className:"upload",id:this.state.coin.name+"-"+this.state.index+"-download",download:this.state.element.value.filename}))}}])&&Zo(t.prototype,n),a&&Zo(t,a),l}(r.Component);function oi(e){return(oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ii(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function si(e,t){return(si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function li(e,t){if(t&&("object"===oi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ci(e)}function ci(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ui(e){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const fi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&si(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ui(o);if(i){var n=ui(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return li(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={coin:e.coin,element:e.element,index:e.index,cbEdit:e.cbEdit,cbRemove:e.cbRemove,cbTags:e.cbTags,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.copyToClipboard=t.copyToClipboard.bind(ci(t)),t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"copyToClipboard",value:function(){navigator.clipboard.writeText(this.state.element.value).then((function(){pn.sendMessage("Notification",{type:"info",message:G.t("messageCopyToClipboard")})}))}},{key:"render",value:function(){var e=this,t=[];return this.state.element.tags&&this.state.element.tags.forEach((function(e,n){t.push(r.createElement("span",{key:n,className:"badge rounded-pill bg-secondary btn-icon"},e))})),r.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index},r.createElement("div",{className:"row btn-icon-bottom"},r.createElement("div",{className:"col"},r.createElement("span",{className:"btn-icon-right"},r.createElement("span",{className:"badge bg-primary"},G.t("coinElementMisc")))),r.createElement("div",{className:"col text-truncate"},r.createElement("span",{className:"btn-icon-right"},r.createElement("code",null,this.state.element.value))),r.createElement("div",{className:"col"},r.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:G.t("coinElementCopy"),onClick:this.copyToClipboard},r.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:G.t("coinElementEdit"),onClick:function(t){return e.state.cbEdit(t,e.state.index)}},r.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:G.t("coinElementRemove"),onClick:function(t){return e.state.cbRemove(t,e.state.index)}},r.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:G.t("coinElementTags"),onClick:function(t){return e.state.cbTags(t,e.state.index)}},r.createElement("i",{className:"fa fa-tags","aria-hidden":"true"}))))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col"},t)))}}])&&ii(t.prototype,n),a&&ii(t,a),l}(r.Component);function di(e){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mi(e,t){return(mi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hi(e,t){if(t&&("object"===di(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yi(e)}function yi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gi(e){return(gi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const bi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mi(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=gi(o);if(i){var n=gi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return hi(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={index:e.index,tags:e.tags,cb:e.cb,inputValue:""},t.addTag=t.addTag.bind(yi(t)),t.deleteTag=t.deleteTag.bind(yi(t)),t.submitForm=t.submitForm.bind(yi(t)),t.changeInputValue=t.changeInputValue.bind(yi(t)),t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"closeModal",value:function(e,t){this.state.cb&&this.state.cb(t,this.state.tags)}},{key:"changeInputValue",value:function(e){/\s/.test(e.target.value)?this.addTag():this.setState({inputValue:e.target.value})}},{key:"addTag",value:function(){var e=this.state.tags;return this.state.inputValue&&e.push(this.state.inputValue),this.setState({tags:e,inputValue:""})}},{key:"deleteTag",value:function(e,t){e.preventDefault();var n=this.state.tags;n.splice(t,1),this.setState({tags:n})}},{key:"submitForm",value:function(e){var t=this;e.preventDefault();var n=this.state.tags;this.state.inputValue&&n.push(this.state.inputValue),this.setState({tags:n,inputValue:""},(function(){t.closeModal(e,!0)}))}},{key:"render",value:function(){var e=this,t=[];return this.state.tags.forEach((function(n,a){t.push(r.createElement("a",{href:"#",onClick:function(t){return e.deleteTag(t,a)},key:a},r.createElement("span",{className:"badge rounded-pill bg-secondary btn-icon"},n,r.createElement("span",{className:"badge badge-light btn-icon-right"},r.createElement("i",{className:"fas fa-times"})))))})),r.createElement("div",{className:"modal",tabIndex:"-1",id:"modalCoinElementTags"},r.createElement("div",{className:"modal-dialog"},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("h5",{className:"modal-title"},G.t("CoinElementTags")),r.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(t){return e.closeModal(t,!1)}})),r.createElement("form",{onSubmit:function(t){return e.submitForm(t)}},r.createElement("div",{className:"modal-body"},r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"coinDisplayName",className:"form-label"},G.t("coinDisplayName")),r.createElement("div",{className:"input-group mb-3"},r.createElement("input",{type:"text",maxLength:"128",className:"form-control",id:"coinDisplayName",value:this.state.inputValue,onChange:function(t){return e.changeInputValue(t)}}),r.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.addTag},r.createElement("i",{className:"fa fa-plus","aria-hidden":"true"}))),t)),r.createElement("div",{className:"modal-footer"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.closeModal(t,!1)}},G.t("modalClose")),r.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(t){return e.submitForm(t)}},G.t("modalOk")))))))}}])&&pi(t.prototype,n),a&&pi(t,a),l}(r.Component);function vi(e){return(vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ei(e,t){return(Ei=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Si(e,t){if(t&&("object"===vi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ki(e){return(ki=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Ci=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ei(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ki(o);if(i){var n=ki(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Si(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={config:e.config,cb:e.cb,safe:e.safe,coin:e.coin},t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"render",value:function(){var e=this;return r.createElement("div",{className:"modal",tabIndex:"-1",id:"exportCoinModal"},r.createElement("div",{className:"modal-dialog"},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("h5",{className:"modal-title"},G.t("exportCoin")),r.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(t){return e.state.cb(t)}})),r.createElement("div",{className:"modal-body"},r.createElement(pa,{config:this.state.config,safe:this.state.safe,content:[this.state.coin],id:this.state.coin.name,name:this.state.coin.data.displayName})),r.createElement("div",{className:"modal-footer"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.state.cb(t)}},G.t("modalClose"))))))}}])&&wi(t.prototype,n),a&&wi(t,a),l}(r.Component);function xi(e){return(xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ni(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pi(e,t){return(Pi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oi(e,t){if(t&&("object"===xi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _i(e)}function _i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ti(e){return(Ti=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Ri=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pi(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ti(o);if(i){var n=Ti(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Oi(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={config:e.config,safe:e.safe,coin:e.coin,cbEditHeader:e.cbEditHeader,cbRemoveCoin:e.cbRemoveCoin,cbSaveCoin:e.cbSaveCoin,showAddElement:!1,newElementType:!1,editElementList:[],curElementIndex:-1,showConfirm:!1,showEditTags:!1,showExportCoin:!1,sortRowsEnabled:!1,overId:!1},t.exportCoin=t.exportCoin.bind(_i(t)),t.exportCoinClose=t.exportCoinClose.bind(_i(t)),t.addSecretElement=t.addSecretElement.bind(_i(t)),t.cancelEditElement=t.cancelEditElement.bind(_i(t)),t.editElement=t.editElement.bind(_i(t)),t.removeElement=t.removeElement.bind(_i(t)),t.removeElementConfirm=t.removeElementConfirm.bind(_i(t)),t.setElementTags=t.setElementTags.bind(_i(t)),t.setElementTagsConfirm=t.setElementTagsConfirm.bind(_i(t)),t.saveElement=t.saveElement.bind(_i(t)),t.onDrop=t.onDrop.bind(_i(t)),t.onDragOver=t.onDragOver.bind(_i(t)),t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"exportCoin",value:function(){this.setState({showExportCoin:!0},(function(){new bootstrap.Modal(document.getElementById("exportCoinModal"),{keyboard:!1}).show()}))}},{key:"exportCoinClose",value:function(){bootstrap.Modal.getOrCreateInstance(document.querySelector("#exportCoinModal")).hide(),this.setState({showExportCoin:!1})}},{key:"addSecretElement",value:function(){this.setState({showAddElement:!0,newElementType:"url"})}},{key:"setNewElementType",value:function(e){this.setState({newElementType:e.target.value})}},{key:"editElement",value:function(e,t){e.preventDefault();var n=this.state.editElementList;n.push(t),this.setState({editElementList:n})}},{key:"removeElement",value:function(e,t){e.preventDefault(),this.setState({curElementIndex:t,showConfirm:!0},(function(){new bootstrap.Modal(document.getElementById("removeElement"),{keyboard:!1}).show()}))}},{key:"removeElementConfirm",value:function(e){if(e){var t=this.state.coin;t.data.rows.splice(this.state.curElementIndex,1),this.state.cbSaveCoin(!0,t.name,t.data,!0)}bootstrap.Modal.getOrCreateInstance(document.querySelector("#removeElement")).hide(),this.setState({showConfirm:!1})}},{key:"setElementTags",value:function(e,t){e.preventDefault(),this.setState({curElementIndex:t,curTags:this.state.coin.data.rows[t].tags||[],showEditTags:!0},(function(){new bootstrap.Modal(document.getElementById("modalCoinElementTags"),{keyboard:!1}).show()}))}},{key:"setElementTagsConfirm",value:function(e,t){if(e){var n=this.state.coin;t.length?n.data.rows[this.state.curElementIndex].tags=t:delete n.data.rows[this.state.curElementIndex].tags,this.state.cbSaveCoin(!0,n.name,n.data,!0)}bootstrap.Modal.getOrCreateInstance(document.querySelector("#modalCoinElementTags")).hide(),this.setState({showEditTags:!1})}},{key:"saveElement",value:function(e,t,n){var r=this,a=this.state.coin;-1===n?a.data.rows.push(t):(a.data.rows[n]=t,this.cancelEditElement(e,n)),this.setState({showAddElement:!1,newElementType:!1},(function(){r.state.cbSaveCoin(!0,a.name,a.data,!0)}))}},{key:"cancelEditElement",value:function(e,t){if(e&&e.preventDefault(),-1===t)this.setState({showAddElement:!1,newElementType:!1});else{var n=this.state.editElementList;n.indexOf(t)>-1&&n.splice(n.indexOf(t),1),this.setState({editElementList:n})}}},{key:"copyToClipboard",value:function(e){navigator.clipboard.writeText(e).then((function(){pn.sendMessage("Notification",{type:"info",message:G.t("messageCopyToClipboard")})}))}},{key:"sortRows",value:function(){var e=this;this.setState({sortRowsEnabled:!this.state.sortRowsEnabled},(function(){e.state.sortRowsEnabled?pn.sendMessage("Notification",{type:"info",message:G.t("messageSortEnabled")}):pn.sendMessage("Notification",{type:"info",message:G.t("messageSortDisabled")})}))}},{key:"switchRows",value:function(e,t){var n=this.state.coin,r=n.data.rows[e];n.data.rows.splice(e,1),n.data.rows.splice(t,0,r),this.state.cbSaveCoin(!0,n.name,n.data,!0)}},{key:"onDragStart",value:function(e){e.dataTransfer.setData("text",e.target.id)}},{key:"onDrop",value:function(e){e.preventDefault();var t=e.dataTransfer.getData("text").split("-");t&&2===t.length&&t[0]===this.state.coin.name&&this.switchRows(parseInt(t[1]),parseInt(this.state.overId))}},{key:"onDragOver",value:function(e){for(var t=e.target;t;){if(t.draggable){var n=t.id.split("-");n&&2===n.length&&n[0]===this.state.coin.name&&this.setState({overId:n[1]});break}t=t.parentElement}e.preventDefault()}},{key:"render",value:function(){var e,t,n,a,o,i,s,l=this,c=[],u=[];switch(this.state.coin.data.icon&&(e=r.createElement("i",{className:this.state.coin.data.icon+" fa btn-icon","aria-hidden":"true"})),this.state.showAddElement&&(t=r.createElement("div",{className:"input-group mb-3"},r.createElement("span",{className:"input-group-text",id:"basic-addon1"},G.t("coinElementType")),r.createElement("select",{className:"form-select",id:"addElement",onChange:function(e){return l.setNewElementType(e)},value:this.state.newElementType},r.createElement("option",{value:"url"},G.t("coinElementTypeUrl")),r.createElement("option",{value:"login"},G.t("coinElementTypeLogin")),r.createElement("option",{value:"password"},G.t("coinElementTypePassword")),r.createElement("option",{value:"secretQuestion"},G.t("coinElementTypeSecretQuestion")),r.createElement("option",{value:"file"},G.t("coinElementTypeFile")),r.createElement("option",{value:"misc"},G.t("coinElementTypeMisc"))))),this.state.newElementType){case"url":n=r.createElement(Pa,{coin:this.state.coin,element:{type:this.state.newElementType,value:""},index:-1,cbSave:this.saveElement,cbCancel:this.cancelEditElement}),a=r.createElement("hr",null);break;case"login":n=r.createElement(Da,{coin:this.state.coin,element:{type:this.state.newElementType,value:""},index:-1,cbSave:this.saveElement,cbCancel:this.cancelEditElement}),a=r.createElement("hr",null);break;case"password":n=r.createElement($a,{config:this.state.config,coin:this.state.coin,element:{type:this.state.newElementType,value:""},index:-1,cbSave:this.saveElement,cbCancel:this.cancelEditElement}),a=r.createElement("hr",null);break;case"secretQuestion":n=r.createElement(Xo,{config:this.state.config,coin:this.state.coin,element:{type:this.state.newElementType,value:[]},index:-1,closeButon:!0,cbSave:this.saveElement,cbRemove:this.removeElement,cbCancel:this.cancelEditElement,cbTags:function(e){return l.setElementTags(e,index)}}),a=r.createElement("hr",null);break;case"file":n=r.createElement(to,{coin:this.state.coin,element:{type:this.state.newElementType,value:{}},index:-1,cbSave:this.saveElement,cbCancel:this.cancelEditElement}),a=r.createElement("hr",null);break;case"misc":n=r.createElement(lo,{coin:this.state.coin,element:{type:this.state.newElementType,value:""},index:-1,cbSave:this.saveElement,cbCancel:this.cancelEditElement}),a=r.createElement("hr",null)}this.state.showConfirm&&(o=r.createElement(ar,{name:"removeElement",title:G.t("removeElementTitle"),message:G.t("removeElementMessage"),cb:this.removeElementConfirm})),this.state.showEditTags&&(i=r.createElement(bi,{index:this.state.curElementIndex,tags:this.state.curTags,cb:this.setElementTagsConfirm})),this.state.showExportCoin&&(s=r.createElement(Ci,{config:this.state.config,cb:this.exportCoinClose,safe:this.state.safe,coin:this.state.coin})),this.state.coin.data.rows.forEach((function(e,t){switch(e.type){case"url":-1===l.state.editElementList.indexOf(t)?c.push(r.createElement(yo,{key:t,coin:l.state.coin,element:e,index:t,cbEdit:l.editElement,cbRemove:l.removeElement,cbTags:function(e){return l.setElementTags(e,t)},isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver})):c.push(r.createElement(Pa,{key:t,coin:l.state.coin,element:e,index:t,cbSave:l.saveElement,cbCancel:l.cancelEditElement,isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver}));break;case"login":u.push(r.createElement("button",{key:t,type:"button",className:"btn btn-secondary",onClick:function(t){return l.copyToClipboard(e.value)},title:(e.tags||[]).join(" ")},r.createElement("i",{className:"fa fa-user","aria-hidden":"true"}))),-1===l.state.editElementList.indexOf(t)?c.push(r.createElement(ko,{key:t,coin:l.state.coin,element:e,index:t,cbEdit:l.editElement,cbRemove:l.removeElement,cbTags:function(e){return l.setElementTags(e,t)},isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver})):c.push(r.createElement(Da,{key:t,coin:l.state.coin,element:e,index:t,cbSave:l.saveElement,cbCancel:l.cancelEditElement,isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver}));break;case"password":u.push(r.createElement("button",{key:t,type:"button",className:"btn btn-secondary",onClick:function(t){return l.copyToClipboard(e.value)},title:(e.tags||[]).join(" ")},r.createElement("i",{className:"fa fa-key","aria-hidden":"true"}))),-1===l.state.editElementList.indexOf(t)?c.push(r.createElement(To,{key:t,coin:l.state.coin,element:e,index:t,cbEdit:l.editElement,cbRemove:l.removeElement,cbTags:function(e){return l.setElementTags(e,t)},isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver})):c.push(r.createElement($a,{key:t,config:l.state.config,coin:l.state.coin,element:e,index:t,cbSave:l.saveElement,cbCancel:l.cancelEditElement,isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver}));break;case"secretQuestion":c.push(r.createElement(Xo,{key:t,config:l.state.config,coin:l.state.coin,element:e,index:t,closeButon:!1,cbSave:l.saveElement,cbRemove:l.removeElement,cbCancel:l.cancelEditElement,cbTags:function(e){return l.setElementTags(e,t)},isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver}));break;case"file":-1===l.state.editElementList.indexOf(t)?c.push(r.createElement(ai,{key:t,coin:l.state.coin,element:e,index:t,cbEdit:l.editElement,cbRemove:l.removeElement,cbTags:function(e){return l.setElementTags(e,t)},isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver})):c.push(r.createElement(to,{key:t,coin:l.state.coin,element:e,index:t,cbSave:l.saveElement,cbCancel:l.cancelEditElement,isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver}));break;case"misc":-1===l.state.editElementList.indexOf(t)?c.push(r.createElement(fi,{key:t,coin:l.state.coin,element:e,index:t,cbEdit:l.editElement,cbRemove:l.removeElement,cbTags:function(e){return l.setElementTags(e,t)},isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver})):c.push(r.createElement(lo,{key:t,coin:l.state.coin,element:e,index:t,cbSave:l.saveElement,cbCancel:l.cancelEditElement,isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver}))}}));var f="btn btn-sm";return this.state.sortRowsEnabled?f+=" btn-primary":f+=" btn-secondary",r.createElement("div",{className:"col"},r.createElement("div",{className:"accordion",id:"coin-"+this.state.coin.name},r.createElement("div",{className:"accordion-item"},r.createElement("h2",{className:"accordion-header",id:"heading-"+this.state.coin.name},r.createElement("div",{className:"btn-toolbar justify-content-between",role:"toolbar","aria-label":"Toolbar with button groups"},r.createElement("div",{className:"btn-group",role:"group","aria-label":"First group"},r.createElement("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse-"+this.state.coin.name,"aria-expanded":"false","aria-controls":"collapse-"+this.state.coin.name},e,this.state.coin.data.displayName)),r.createElement("div",{className:"input-group"},u))),r.createElement("div",{id:"collapse-"+this.state.coin.name,className:"accordion-collapse collapse","aria-labelledby":"heading-"+this.state.coin.name,"data-bs-parent":"#coin-"+this.state.coin.name},r.createElement("div",{className:"accordion-body"},r.createElement("div",{className:"mb-3",role:"group"},r.createElement("div",{className:"btn-group float-end",role:"group"},r.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:function(e){return l.state.cbEditHeader(l.state.coin.name,l.state.coin.data)},title:G.t("editCoinHeader")},r.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),r.createElement("button",{type:"button",className:f,onClick:function(e){return l.sortRows()},title:G.t("sortCoin")},r.createElement("i",{className:"fa fa-sort","aria-hidden":"true"})),r.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.exportCoin,title:G.t("exportCoin")},r.createElement("i",{className:"fa fa-cloud-download","aria-hidden":"true"})),r.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.addSecretElement,title:G.t("addSecretElement")},r.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})),r.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:function(e){return l.state.cbRemoveCoin(l.state.coin.name,l.state.coin.data.displayName)},title:G.t("removeCoin")},r.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"}))))," ",t,n,a,r.createElement("div",{onDrop:this.onDrop,onDragOver:this.onDragOver},c)))),o,i,s))}}])&&Ni(t.prototype,n),a&&Ni(t,a),l}(r.Component);function Ai(e){return(Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ji(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Di(e,t){return(Di=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Li(e,t){if(t&&("object"===Ai(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mi(e)}function Mi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ki(e){return(Ki=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Ii=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Di(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ki(o);if(i){var n=Ki(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Li(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={config:e.config,safe:e.safe,safeContent:e.safeContent,filteredCoinList:e.safeContent[e.safe.name].unlockedCoinList,filter:"",coinEditMode:0,coinEditName:!1,coinEditContent:!1,removeCoinMessage:!1,filterTimeout:!1},t.editSafe=t.editSafe.bind(Mi(t)),t.unlockSafe=t.unlockSafe.bind(Mi(t)),t.unlockSafeCallback=t.unlockSafeCallback.bind(Mi(t)),t.removeSafe=t.removeSafe.bind(Mi(t)),t.removeSafeConfirm=t.removeSafeConfirm.bind(Mi(t)),t.lockSafe=t.lockSafe.bind(Mi(t)),t.changeFilter=t.changeFilter.bind(Mi(t)),t.addCoin=t.addCoin.bind(Mi(t)),t.editCoinHeader=t.editCoinHeader.bind(Mi(t)),t.manageSafe=t.manageSafe.bind(Mi(t)),t.removeCoin=t.removeCoin.bind(Mi(t)),t.removeCoinConfirm=t.removeCoinConfirm.bind(Mi(t)),t.coinSaveCallback=t.coinSaveCallback.bind(Mi(t)),t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){var n=Object.assign({},e);return n.filteredCoinList=e.safeContent[e.safe.name].unlockedCoinList,n.filter="",n}}],(n=[{key:"editSafe",value:function(){pn.sendMessage("App",{action:"editSafe",target:this.state.safe.name})}},{key:"unlockSafe",value:function(){new bootstrap.Modal(document.getElementById("modalUnlockSafe"),{keyboard:!1}).show()}},{key:"unlockSafeCallback",value:function(e,t,n,r,a){e&&(pn.sendMessage("App",{action:"setSafeKey",target:this.state.safe,key:t,keepUnlocked:n,unlockKeyName:r,removeStorage:!1,masterkeyData:a}),pn.sendMessage("Notification",{type:"info",message:G.t("unlockedSafe")})),bootstrap.Modal.getOrCreateInstance(document.querySelector("#modalUnlockSafe")).hide()}},{key:"lockSafe",value:function(){pn.sendMessage("App",{action:"setSafeKey",target:this.state.safe,key:!1,removeStorage:!0}),pn.sendMessage("Notification",{type:"info",message:G.t("lockedSafe")})}},{key:"removeSafe",value:function(){new bootstrap.Modal(document.getElementById("removeSafe"),{keyboard:!1}).show()}},{key:"removeSafeConfirm",value:function(e){var t=this;e&&hn.request(this.state.config.safe_endpoint+"/"+this.state.safe.name,"DELETE").then((function(){pn.sendMessage("App",{action:"removeSafe",safe:t.state.safe}),pn.sendMessage("Notification",{type:"info",message:G.t("messageRemoveSafe")})})).fail((function(){pn.sendMessage("Notification",{type:"warning",message:G.t("messageErrorSaveSafe")})})),bootstrap.Modal.getOrCreateInstance(document.querySelector("#removeSafe")).hide()}},{key:"changeFilter",value:function(e){var t=this;this.setState({filter:e.target.value},(function(){clearTimeout(t.state.filterTimeout),setTimeout((function(){var e=[];t.state.safeContent[t.state.safe.name].unlockedCoinList.forEach((function(n){n.data.displayName.toUpperCase().search(t.state.filter.toUpperCase())>-1&&e.push(n)})),t.setState({filteredCoinList:e})}),3e3)}))}},{key:"addCoin",value:function(){this.setState({name:!1,coinEditContent:{displayName:"",rows:[]}},(function(){new bootstrap.Modal(document.getElementById("modalCoinEdit"),{keyboard:!1}).show()}))}},{key:"editCoinHeader",value:function(e,t){this.setState({coinEditName:e,coinEditContent:t},(function(){new bootstrap.Modal(document.getElementById("modalCoinEdit"),{keyboard:!1}).show()}))}},{key:"removeCoin",value:function(e,t){this.setState({coinEditName:e,removeCoinMessage:G.t("removeCoinMessage",{name:t||e})},(function(){new bootstrap.Modal(document.getElementById("removeCoin"),{keyboard:!1}).show()}))}},{key:"removeCoinConfirm",value:function(e){var t=this;e&&hn.request(this.state.config.safe_endpoint+"/"+this.state.safe.name+"/coin/"+this.state.coinEditName,"DELETE").then((function(){pn.sendMessage("Notification",{type:"info",message:G.t("messageSuccessCoinRemove")}),pn.sendMessage("App",{action:"removeCoin",target:t.state.safe,coin:t.state.coinEditName})})).fail((function(){pn.sendMessage("Notification",{type:"warning",message:G.t("messageErrorCoinRemove")})})),bootstrap.Modal.getOrCreateInstance(document.querySelector("#removeCoin")).hide()}},{key:"coinSaveCallback",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=bootstrap.Modal.getOrCreateInstance(document.querySelector("#modalCoinEdit"));return o&&o.hide(),e?t?new nn(n).setProtectedHeader({alg:this.state.safe.alg_type,enc:this.state.safe.enc_type,sign_thumb:this.state.config.sign_thumb}).encrypt(this.state.safeContent[this.state.safe.name].key).then((function(e){var o={name:t,data:e};return hn.request(r.state.config.safe_endpoint+"/"+r.state.safe.name+"/coin/"+t,"PUT",o).then((function(){a&&pn.sendMessage("Notification",{type:"info",message:G.t("messageSuccessCoinSave")}),pn.sendMessage("App",{action:"updateCoin",target:r.state.safe,encCoin:o,unlockedCoin:{name:t,data:n}})})).fail((function(){a&&pn.sendMessage("Notification",{type:"warning",message:G.t("messageErrorCoinSave")})}))})):new nn(n).setProtectedHeader({alg:this.state.safe.alg_type,enc:this.state.safe.enc_type,sign_thumb:this.state.config.sign_thumb}).encrypt(this.state.safeContent[this.state.safe.name].key).then((function(e){var t={name:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),data:e};return hn.request(r.state.config.safe_endpoint+"/"+r.state.safe.name+"/coin","POST",t).then((function(){a&&pn.sendMessage("Notification",{type:"info",message:G.t("messageSuccessCoinSavev")}),pn.sendMessage("App",{action:"updateCoin",target:r.state.safe,encCoin:t,unlockedCoin:{name:t.name,data:n},cb:r.scrollToCoin})})).fail((function(){pn.sendMessage("Notification",{type:"warning",message:G.t("messageErrorCoinSave")})}))})):Promise.reject("No can do")}},{key:"scrollToCoin",value:function(e){document.getElementById("coin-"+e).scrollIntoView()}},{key:"manageSafe",value:function(){new bootstrap.Modal(document.getElementById("manageSafe"),{keyboard:!1}).show()}},{key:"manageSafeClose",value:function(){bootstrap.Modal.getOrCreateInstance(document.querySelector("#manageSafe")).hide()}},{key:"render",value:function(){var e,t,n=this,a=[],o=this.state.safe&&this.state.safeContent&&this.state.safeContent[this.state.safe.name]&&this.state.safeContent[this.state.safe.name].key;return this.state.safe&&this.state.safeContent&&this.state.safeContent[this.state.safe.name]&&this.state.safeContent[this.state.safe.name].key?(e=r.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.lockSafe,title:G.t("safeLock")},r.createElement("i",{className:"fa fa-lock","aria-hidden":"true"})),t=r.createElement("div",{className:"mb-3"},r.createElement("form",null,r.createElement("input",{type:"text",className:"form-control",autoComplete:"off",placeholder:G.t("secretFilter"),id:"coinFilter",name:"coinFilter",value:this.state.filter,onChange:this.changeFilter})))):e=r.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.unlockSafe,title:G.t("safeUnlock")},r.createElement("i",{className:"fa fa-unlock","aria-hidden":"true"})),o&&this.state.filteredCoinList.forEach((function(e,t){a.push(r.createElement(Ri,{config:n.state.config,coin:e,safe:n.state.safe,cbEditHeader:n.editCoinHeader,cbRemoveCoin:n.removeCoin,cbSaveCoin:n.coinSaveCallback,key:t}))})),r.createElement("div",null,r.createElement("div",{className:"alert alert-primary text-center",role:"alert"},this.state.safe.display_name||this.state.safe.name,r.createElement("div",{className:"btn-group float-end",role:"group"},e,r.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.editSafe,disabled:!o,title:G.t("editSafe")},r.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),r.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.manageSafe,disabled:!o,title:G.t("manageSafe")},r.createElement("i",{className:"fa fa-cogs","aria-hidden":"true"})),r.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.addCoin,disabled:!o,title:G.t("addCoin")},r.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})),r.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:function(e){return n.removeSafe()},disabled:!o,title:G.t("removeSafe")},r.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})))),t,r.createElement("div",{className:"row row-cols-1 row-cols-sm-1 row-cols-md-1 row-cols-lg-2"},a),r.createElement(Vr,{config:this.state.config,safe:this.state.safe,safeContent:this.state.safeContent,allowKeepUnlocked:!0,cb:this.unlockSafeCallback}),r.createElement(oa,{editMode:this.state.coinEditMode,name:this.state.coinEditName,content:this.state.coinEditContent,cb:this.coinSaveCallback}),r.createElement(wa,{config:this.state.config,safe:this.state.safe,safeContent:this.state.safeContent,cbSaveCoin:this.coinSaveCallback,cbClose:this.manageSafeClose}),r.createElement(ar,{name:"removeSafe",title:G.t("removeSafeTitle"),message:G.t("removeSafeMessage",{name:this.state.safe.display_name||this.state.safe.name}),cb:this.removeSafeConfirm}),r.createElement(ar,{name:"removeCoin",title:G.t("removeCoinTitle"),message:this.state.removeCoinMessage,cb:this.removeCoinConfirm}))}}])&&ji(t.prototype,n),a&&ji(t,a),l}(r.Component);function Ui(e){return(Ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fi(e,t){return(Fi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wi(e,t){if(t&&("object"===Ui(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Bi(e){return(Bi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const zi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fi(e,t)}(l,e);var t,n,a,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Bi(o);if(i){var n=Bi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Wi(this,e)});function l(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),t=s.call(this,e);var n=e.editMode;return!e.editMode&&e.safeContent&&e.safe&&e.safeContent[e.safe.name]&&!e.safeContent[e.safe.name].keyList.length&&(n=2),t.state={config:e.config,hutchProfile:e.hutchProfile,safe:e.safe,safeContent:e.safeContent,editMode:n},t}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e,t){var n=Object.assign({},e);return!e.editMode&&e.safeContent&&e.safe&&e.safeContent[e.safe.name]&&!e.safeContent[e.safe.name].keyList.length&&(n.editMode=2),n}}],(n=[{key:"render",value:function(){var e=this.state.safe&&this.state.safeContent&&this.state.safeContent[this.state.safe.name]&&this.state.safeContent[this.state.safe.name].keyList.length;return!this.state.editMode&&e?r.createElement(Ii,{config:this.state.config,safe:this.state.safe,safeContent:this.state.safeContent}):r.createElement(Yr,{config:this.state.config,safe:this.state.safe,safeContent:this.state.safeContent,editMode:this.state.editMode})}}])&&Hi(t.prototype,n),a&&Hi(t,a),l}(r.Component);function Vi(e){return(Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ji(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qi(e,t){return(qi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $i(e,t){if(t&&("object"===Vi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gi(e)}function Gi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qi(e){return(Qi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Xi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qi(e,t)}(s,e);var t,n,a,o,i=(a=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Qi(a);if(o){var n=Qi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return $i(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={config:e.config,profile:!1,hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{},curSafe:!1,addSafe:!1,oidcStatus:"connecting",nav:"profile",langChanged:!1,editProfile:!1,editSafeMode:0,trustworthy:!0,forceTrust:!1},gn.addChangeRouteCallback((function(e){t.gotoRoute(e)})),pn.subscribe("OIDC",(function(e){"disconnected"===e.status?(t.setState({oidcStatus:e.status,safeList:[],safeContent:{},curSafe:!1}),pn.sendMessage("Notification",{type:"warning",message:G.t("messageDisconnected")})):"connected"===e.status||"refresh"===e.status?(hn.setToken(e.token),t.setState({oidcStatus:e.status}),"connected"===e.status&&pn.sendMessage("Notification",{type:"success",message:G.t("messageConnected")})):"profile"===e.status&&t.setState({profile:e.token},(function(){t.getHutchProfile().then((function(){t.getSafeList().then((function(){t.gotoRoute(gn.getCurrentRoute())}))}))})),t.setForceTrust=t.setForceTrust.bind(Gi(t))})),pn.subscribe("App",(function(e){if("lang"===e.action)e.lang!==G.language&&G.changeLanguage(e.lang).then((function(){t.setState({langChanged:!0},(function(){hn.request("words-"+G.language+".json").then((function(e){var n=t.state.config;n.wordsList=e,t.setState({config:n})}))}))}));else if("editProfile"===e.action){var n=t.state.hutchProfile||{name:t.state.profile.name,message:"",picture:"",sign_kid:t.state.config.jwks.keys[0].kid};t.setState({nav:"profile",editProfile:!0,hutchProfile:n})}else if("getProfile"===e.action)t.setState({nav:"profile",editProfile:!1},(function(){t.getHutchProfile()}));else if("resetProfile"===e.action)t.setState({nav:"profile",editProfile:!1,hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{},curSafe:!1});else if("nav"===e.action)e.target?t.state.safeList.forEach((function(n){n.name===e.target&&t.setState({nav:"safe",curSafe:n,editSafeMode:0})})):t.setState({nav:"profile",editProfile:!1});else if("addSafe"===e.action)t.setState({nav:"safe",curSafe:{name:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),display_name:"",enc_type:"A256GCM",alg_type:"A256GCMKW"},editSafeMode:1});else if("editSafe"===e.action)t.state.safeList.forEach((function(n){n.name===e.target&&t.setState({nav:"safe",curSafe:n,editSafeMode:2})}));else if("saveSafe"===e.action){var r=t.state.safeList,a=t.state.safeContent,o=!1;r.forEach((function(t,n){t.name===e.safe.name&&(r[n]=e.safe,o=!0)})),o||(r.push(e.safe),a[e.safe.name]={keyList:[],coinList:[],unlockedCoinList:[],key:!1}),gn.addRoute(e.safe.name),t.setState({safeList:r,safeContent:a,nav:"safe",curSafe:e.safe,editSafeMode:0})}else if("removeSafe"===e.action)r=t.state.safeList,a=t.state.safeContent,r.forEach((function(t,n){t.name===e.safe.name&&r.splice(n,1)})),gn.addRoute(""),delete a[e.safe.name],t.setState({safeList:r,safeContent:a,nav:"profile",editProfile:!1});else if("updateSafeKey"===e.action)t.getSafeKeyList(e.safe.name).then((function(){t.setState({nav:"safe",curSafe:e.safe,editSafeMode:2})}));else if("setSafeKey"===e.action){if(!(a=t.state.safeContent)[e.target.name].key&&e.key&&(a[e.target.name].key=e.key),a[e.target.name].extractableKey=e.masterkeyData,a[e.target.name].lastUnlock=e.key?Date.now()/1e3:0,e.key){if(e.keepUnlocked){var i="A128KW";"A192KW"===e.target.alg_type||"A192GCMKW"===e.target.alg_type||"PBES2-HS384+A192KW"===e.target.alg_type?i="A192KW":"A256KW"!==e.target.alg_type&&"A256GCMKW"!==e.target.alg_type&&"PBES2-HS512+A256KW"!==e.target.alg_type||(i="A256KW"),Tt(i,{extractable:!0}).then((function(n){var r=Math.random().toString(36).substring(7);new nn(e.masterkeyData).setProtectedHeader({alg:i,enc:e.target.enc_type,sign_key:t.state.config.sign_thumb,kid:r}).encrypt(n).then((function(a){var o={name:r,display_name:e.unlockKeyName,type:"browser",data:a},s=t.state.safeContent;s[e.target.name].keyList.push(o),t.setState({safeContent:s}),hn.request(t.state.config.safe_endpoint+"/"+e.target.name+"/key","POST",o).then((function(){Rt(n).then((function(t){t.kid=r,t.alg=i;var n="hutchsafe-"+e.target.name;"/"!==window.location.pathname&&(n+="-"+window.btoa(unescape(encodeURIComponent(window.location.pathname))).replace(/\=+$/m,"")),Sn.setValue(n,t)}))}))}))}))}}else if(e.removeStorage){var s="hutchsafe-"+e.target.name;"/"!==window.location.pathname&&(s+="-"+window.btoa(unescape(encodeURIComponent(window.location.pathname))).replace(/\=+$/m,""));var l=Sn.getValue(s);l&&hn.request(t.state.config.safe_endpoint+"/"+e.target.name+"/key/"+l.kid,"DELETE").then((function(){var n=t.state.safeContent;n[e.target.name].keyList.forEach((function(t,r){t.name===l.kid&&n[e.target.name].keyList.splice(r,1)})),t.setState({safeContent:n})})).fail((function(e){pn.sendMessage("Notification",{type:"danger",message:G.t("messageErrorSaveSafeKey")})})),Sn.removeValue(s),a[e.target.name].key=!1,a[e.target.name].extractableKey=!1,a[e.target.name].lastUnlock=0}t.setState({safeContent:a},(function(){t.unlockCoinList(e.target.name),t.state.safeContent[e.target.name].extractableKey&&setTimeout((function(){var n=t.state.safeContent;delete n[e.target.name].extractableKey,t.setState({safeContent:n},(function(){}))}),6e5)}))}else if("unlockSafe"===e.action)(a=t.state.safeContent)[e.safe.name].extractableKey=e.extractableKey,t.setState({safeContent:a},(function(){setTimeout((function(){var n=t.state.safeContent;delete n[e.safe.name].extractableKey,t.setState({safeContent:n},(function(){}))}),6e5),a[e.safe.name].unlockedCoinList.length!==a[e.safe.name].coinList.length&&t.unlockCoinList(e.safe.name)}));else if("lockAllSafe"===e.action)t.state.safeList.forEach((function(e){pn.sendMessage("App",{action:"setSafeKey",target:e,removeStorage:!0,key:!1})}));else if("updateCoin"===e.action){a=t.state.safeContent;var c=!1;a[e.target.name].coinList.forEach((function(t,n){t.name===e.encCoin.name&&(a[e.target.name].coinList[n]=e.encCoin,c=!0)})),c?a[e.target.name].unlockedCoinList.forEach((function(t,n){t.name===e.unlockedCoin.name&&(a[e.target.name].unlockedCoinList[n]=e.unlockedCoin)})):(a[e.target.name].coinList.push(e.encCoin),a[e.target.name].unlockedCoinList.push(e.unlockedCoin)),a[e.target.name].unlockedCoinList.sort(t.compareCoin),t.setState({safeContent:a},(function(){e.cb&&e.cb(e.encCoin.name)}))}else"removeCoin"===e.action&&((a=t.state.safeContent)[e.target.name].coinList.forEach((function(t,n){t.name===e.coin&&delete a[e.target.name].coinList[n]})),a[e.target.name].unlockedCoinList.forEach((function(t,n){t.name===e.coin&&delete a[e.target.name].unlockedCoinList[n]})),t.setState({safeContent:a}))})),hn.request("words-"+G.language+".json").then((function(e){var n=t.state.config;n.wordsList=e,t.setState({config:n})})),t.getHutchProfile=t.getHutchProfile.bind(Gi(t)),t.getSafeList=t.getSafeList.bind(Gi(t)),t.getSafeKeyList=t.getSafeKeyList.bind(Gi(t)),t.unlockCoinList=t.unlockCoinList.bind(Gi(t)),t.gotoRoute=t.gotoRoute.bind(Gi(t)),t}return t=s,(n=[{key:"gotoRoute",value:function(e){var t=this;e?this.state.safeList.forEach((function(n){n.name===e&&t.setState({nav:"safe",curSafe:n,editSafeMode:0})})):this.setState({nav:"profile",editProfile:!1})}},{key:"getHutchProfile",value:function(){var e=this;return hn.request(this.state.config.profile_endpoint).then((function(t){var n=JSON.parse(atob(t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"))),r=!1;if(e.state.config.jwks.keys.forEach((function(a){a.kid===n.sign_kid&&(r=!0,ft(a,a.alg).then((function(n){(async function(e,t="sha256"){if(!ut(e))throw new TypeError("JWK must be an object");let n;switch(e.kty){case"EC":Ot(e.crv,'"crv" (Curve) Parameter'),Ot(e.x,'"x" (X Coordinate) Parameter'),Ot(e.y,'"y" (Y Coordinate) Parameter'),n={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":Ot(e.crv,'"crv" (Subtype of Key Pair) Parameter'),Ot(e.x,'"x" (Public Key) Parameter'),n={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":Ot(e.e,'"e" (Exponent) Parameter'),Ot(e.n,'"n" (Modulus) Parameter'),n={e:e.e,kty:e.kty,n:e.n};break;case"oct":Ot(e.k,'"k" (Key Value) Parameter'),n={k:e.k,kty:e.kty};break;default:throw new Ye('"kty" (Key Type) Parameter missing or unsupported')}const r=Le.encode(JSON.stringify(n));return Ve(await Pt(t,r))})(a).then((function(r){Nt(t,n).then((function(t){hn.setSignJwk(n);var a=e.state.config;a.sign_thumb=r,e.setState({config:a,hutchProfile:t.payload,hasProfile:!0})}))}))})))})),!r)return Promise.reject("invalid sign key")})).fail((function(t){404===t.status&&(pn.sendMessage("Notification",{type:"info",message:G.t("messageNoProfile")}),e.setState({hutchProfile:!1,hasProfile:!1}))}))}},{key:"getSafeList",value:function(){var e=this;return hn.requestSigned(this.state.config.safe_endpoint).then((function(t){return e.setState({safeList:t.payload.list,trustworthy:!0},(function(){e.state.safeList.forEach((function(t){return hn.requestSigned(e.state.config.safe_endpoint+"/"+t.name+"/key").then((function(n){return hn.requestSigned(e.state.config.safe_endpoint+"/"+t.name+"/coin").then((function(r){var a=!0;r.payload.list.forEach((function(t){JSON.parse(atob(t.data.split(".")[0].replace(/-/g,"+").replace(/_/g,"/"))).sign_thumb!==e.state.config.sign_thumb&&(a=!1)}));var o=e.state.safeContent;o[t.name]={keyList:n.payload.list,coinList:r.payload.list,unlockedCoinList:[],key:!1,lastUnlock:0},e.setState({safeContent:o,trustworthy:e.state.trustworthy&&a},(function(){var r="hutchsafe-"+t.name;"/"!==window.location.pathname&&(r+="-"+window.btoa(unescape(encodeURIComponent(window.location.pathname))).replace(/\=+$/m,""));var a=Sn.getValue(r);a&&n.payload.list.forEach((function(n){n.name===a.kid&&ft(a,a.alg).then((function(r){fn(n.data,r).then((function(n){ft(n.payload,t.alg_type).then((function(n){var r=e.state.safeContent;r[t.name].key=n,e.setState({safeContent:r},(function(){e.unlockCoinList(t.name)}))}))}))}))}))}))})).fail((function(t){console.log(t),pn.sendMessage("Notification",{type:"warning",message:G.t("messageErrorCoinList")}),e.setState({hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{}})}))})).fail((function(t){console.log(t),pn.sendMessage("Notification",{type:"warning",message:G.t("messageErrorKeyList")}),e.setState({hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{}})}))}))}))})).fail((function(t){console.log(t),pn.sendMessage("Notification",{type:"warning",message:G.t("messageErrorSafeList")}),e.setState({hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{}})}))}},{key:"compareCoin",value:function(e,t){return e.data.displayName<t.data.displayName?-1:e.data.displayName>t.data.displayName?1:0}},{key:"unlockCoinList",value:function(e){var t=this,n=this.state.safeContent,r=n[e].key;r?n[e].coinList.forEach((function(a,o){fn(a.data,r).then((function(r){n[e].unlockedCoinList.push({name:a.name,data:r.payload}),o===n[e].coinList.length-1&&(n[e].unlockedCoinList.sort(t.compareCoin),t.setState({safeContent:n}))}))})):(n[e].unlockedCoinList=[],this.setState({safeContent:n}))}},{key:"getSafeKeyList",value:function(e){var t=this;return hn.requestSigned(this.state.config.safe_endpoint+"/"+e+"/key").then((function(n){var r=t.state.safeContent;r[e].keyList=n.payload.list,t.setState({safeContent:r})})).fail((function(e){pn.sendMessage("Notification",{type:"warning",message:G.t("messageErrorKeyList")})}))}},{key:"setForceTrust",value:function(){this.setState({forceTrust:!0})}},{key:"render",value:function(){var e,t,n,a=[];return(this.state.trustworthy||!this.state.trustworthy&&this.state.forceTrust)&&(a=this.state.safeList,"profile"===this.state.nav?e=r.createElement(kr,{config:this.state.config,profile:this.state.profile,hutchProfile:this.state.hutchProfile,hasProfile:this.state.hasProfile,editProfile:this.state.editProfile,oidcStatus:this.state.oidcStatus}):"safe"===this.state.nav&&(e=r.createElement(zi,{config:this.state.config,hutchProfile:this.state.hutchProfile,safe:this.state.curSafe,safeContent:this.state.safeContent,editMode:this.state.editSafeMode}))),this.state.trustworthy||(this.state.forceTrust||(n=r.createElement("div",null,r.createElement("div",null,G.t("untrustworthyOpenMessage")),r.createElement("div",null,r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.setForceTrust},G.t("untrustworthyOpen"))))),t=r.createElement("div",{className:"alert alert-danger text-center",role:"alert"},G.t("untrustworthySafe"),n)),r.createElement("div",{className:"container-fluid"},r.createElement(Xn,{config:this.state.config,oidcStatus:this.state.oidcStatus,safeList:a,safeContent:this.state.safeContent}),t,e,r.createElement(_n,{loggedIn:this.state.oidcStatus}))}}])&&Ji(t.prototype,n),s}(r.Component);function Yi(e){return(Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function es(e,t){return(es=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ts(e,t){if(t&&("object"===Yi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ns(e){return(ns=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const rs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&es(e,t)}(s,e);var t,n,a,o,i=(a=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ns(a);if(o){var n=ns(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ts(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={message:e.message},t}return t=s,(n=[{key:"render",value:function(){return r.createElement("div",{className:"alert alert-danger perfect-centering",role:"alert"},r.createElement("h4",null,"Configuration error"),r.createElement("span",null,this.state.message))}}])&&Zi(t.prototype,n),s}(r.Component);try{G.use(me).use(De).init({fallbackLng:"en",ns:["translations"],defaultNS:"translations",backend:{loadPath:"locales/{{lng}}/{{ns}}.json"}}).then((function(){new URLSearchParams(window.location.search),hn.request("config.json").then((function(e){var t,n;e.lang||(e.lang=["en","fr"]),Sn.setStorageType(e.storageType),(t=e.hutchRootUrl,n={},hn.request(t+"/.well-known/hutch-configuration","GET",!1,"application/jwt").then((function(e){return JSON.parse(atob(e.split(".")[0].replace(/-/g,"+").replace(/_/g,"/"))),n.config=JSON.parse(atob(e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"))),hn.request(n.config.jwks_uri,"GET",!1,"application/jwt").then((function(t){return JSON.parse(atob(t.split(".")[0].replace(/-/g,"+").replace(/_/g,"/"))),n.jwks=JSON.parse(atob(t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"))),ft(n.jwks.keys[0],n.jwks.keys[0].alg).then((function(r){return Nt(e,r).then((function(){return Nt(t,r).then((function(){return n}))}))}))}))}))).then((function(t){var n={oidc:{status:"connecting"},frontend:e,backend:t.config,jwks:t.jwks,profile_endpoint:e.profile_endpoint||t.config.profile_endpoint,safe_endpoint:e.safe_endpoint||t.config.safe_endpoint,oidc_server_remote_config:e.oidc.oidc_server_remote_config||t.config.oidc_server_remote_config,scope:e.oidc.scope||t.config.scope};In.init({storageType:Sn.storageType,responseType:e.oidc.responseType,openidConfigUrl:n.oidc_server_remote_config,authUrl:e.oidc.authUrl,tokenUrl:e.oidc.tokenUrl,clientId:e.oidc.clientId,redirectUri:e.oidc.redirectUri,scope:n.scope,userinfoUrl:e.oidc.userinfoUrl,changeStatusCb:function(e,t,n){pn.sendMessage("OIDC",{status:e,token:t,expiration:n})}}),hn.setConfig(e.APIUrl),a.render(r.createElement(Xi,{config:n}),document.getElementById("root"))})).fail((function(e){a.render(r.createElement(rs,{message:"Error getting hutch backend config"}),document.getElementById("root"))}))})).fail((function(e){a.render(r.createElement(rs,{message:"Error getting hutch frontend config"}),document.getElementById("root"))}))}))}catch(e){$("#root").html('<div class="alert alert-danger" role="alert"><i class="fas fa-exclamation-triangle"></i><span class="btn-icon-right">You must use a browser compatible with Glewlwyd SSO</span></div>')}},98:function(e,t){var n="undefined"!=typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,a="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,i="ArrayBuffer"in e;if(i)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function m(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function h(e){var t=new FileReader,n=m(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:a&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i&&a&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var e,t,n,r=p(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=m(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=c(e),t=u(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},d.prototype.delete=function(e){delete this.map[c(e)]},d.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},d.prototype.set=function(e,t){this.map[c(e)]=u(t)},d.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},r&&(d.prototype[Symbol.iterator]=d.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){var n,r,a=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,a||null==e._bodyInit||(a=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),b.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&a)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(a)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),a=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(a))}})),t}function E(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},g.call(v.prototype),g.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];E.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function k(e,n){return new Promise((function(r,o){var i=new v(e,n);if(i.signal&&i.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function l(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var a=n.join(":").trim();t.append(r,a)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var a="response"in s?s.response:s.responseText;r(new E(a,n))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},s.open(i.method,i.url,!0),"include"===i.credentials?s.withCredentials=!0:"omit"===i.credentials&&(s.withCredentials=!1),"responseType"in s&&a&&(s.responseType="blob"),i.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),i.signal&&(i.signal.addEventListener("abort",l),s.onreadystatechange=function(){4===s.readyState&&i.signal.removeEventListener("abort",l)}),s.send(void 0===i._bodyInit?null:i._bodyInit)}))}k.polyfill=!0,e.fetch||(e.fetch=k,e.Headers=d,e.Request=v,e.Response=E),t.Headers=d,t.Request=v,t.Response=E,t.fetch=k,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var a=r;(t=a.fetch).default=a.fetch,t.fetch=a.fetch,t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response,e.exports=t},418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var i,s,l=a(e),c=1;c<arguments.length;c++){for(var u in i=Object(arguments[c]))n.call(i,u)&&(l[u]=i[u]);if(t){s=t(i);for(var f=0;f<s.length;f++)r.call(i,s[f])&&(l[s[f]]=i[s[f]])}}return l}},448:(e,t,n)=>{"use strict";var r=n(294),a=n(418),o=n(840);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(i(227));var s=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,m={},h={};function y(e,t,n,r,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0===a.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!p.call(h,e)||!p.call(m,e)&&(d.test(e)?h[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,v);g[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,v);g[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,v);g[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,k=60106,C=60107,x=60108,N=60114,P=60109,O=60110,_=60112,T=60113,R=60120,A=60115,j=60116,D=60121,L=60128,M=60129,K=60130,I=60131;if("function"==typeof Symbol&&Symbol.for){var U=Symbol.for;S=U("react.element"),k=U("react.portal"),C=U("react.fragment"),x=U("react.strict_mode"),N=U("react.profiler"),P=U("react.provider"),O=U("react.context"),_=U("react.forward_ref"),T=U("react.suspense"),R=U("react.suspense_list"),A=U("react.memo"),j=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),K=U("react.offscreen"),I=U("react.legacy_hidden")}var H,F="function"==typeof Symbol&&Symbol.iterator;function W(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=F&&e[F]||e["@@iterator"])?e:null}function B(e){if(void 0===H)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);H=t&&t[1]||""}return"\n"+H+e}var z=!1;function V(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var a=e.stack.split("\n"),o=r.stack.split("\n"),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(1!==i||1!==s)do{if(i--,0>--s||a[i]!==o[s])return"\n"+a[i].replace(" at new "," at ")}while(1<=i&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function J(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return V(e.type,!1);case 11:return V(e.type.render,!1);case 22:return V(e.type._render,!1);case 1:return V(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case C:return"Fragment";case k:return"Portal";case N:return"Profiler";case x:return"StrictMode";case T:return"Suspense";case R:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case A:return q(e.type);case D:return q(e._render);case j:t=e._payload,e=e._init;try{return q(e(t))}catch(e){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ae(e,t.type,n):t.hasOwnProperty("defaultValue")&&ae(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ae(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ie(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function ce(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,he,ye=(he=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return he(e,t)}))}:he);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(be).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Se=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,Pe=null,Oe=null;function _e(e){if(e=Zr(e)){if("function"!=typeof Ne)throw Error(i(280));var t=e.stateNode;t&&(t=ta(t),Ne(e.stateNode,e.type,t))}}function Te(e){Pe?Oe?Oe.push(e):Oe=[e]:Pe=e}function Re(){if(Pe){var e=Pe,t=Oe;if(Oe=Pe=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ae(e,t){return e(t)}function je(e,t,n,r,a){return e(t,n,r,a)}function De(){}var Le=Ae,Me=!1,Ke=!1;function Ie(){null===Pe&&null===Oe||(De(),Re())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ta(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var He=!1;if(f)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){He=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(he){He=!1}function We(e,t,n,r,a,o,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Be=!1,ze=null,Ve=!1,Je=null,qe={onError:function(e){Be=!0,ze=e}};function $e(e,t,n,r,a,o,i,s,l){Be=!1,ze=null,We.apply(qe,arguments)}function Ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Xe(e){if(Ge(e)!==e)throw Error(i(188))}function Ye(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ge(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return Xe(a),e;if(o===r)return Xe(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,at=!1,ot=[],it=null,st=null,lt=null,ct=new Map,ut=new Map,ft=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,a){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:a,targetContainers:[r]}}function mt(e,t){switch(e){case"focusin":case"focusout":it=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(t.pointerId)}}function ht(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,a,o),null!==t&&null!==(t=Zr(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function yt(e){var t=Yr(e.target);if(null!==t){var n=Ge(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Qe(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Zr(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){gt(e)&&n.delete(t)}function vt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=Zr(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==it&&gt(it)&&(it=null),null!==st&&gt(st)&&(st=null),null!==lt&&gt(lt)&&(lt=null),ct.forEach(bt),ut.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,vt)))}function Et(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==it&&wt(it,e),null!==st&&wt(st,e),null!==lt&&wt(lt,e),ct.forEach(t),ut.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)yt(n),null===n.blockedOn&&ft.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kt={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},Ct={},xt={};function Nt(e){if(Ct[e])return Ct[e];if(!kt[e])return e;var t,n=kt[e];for(t in n)if(n.hasOwnProperty(t)&&t in xt)return Ct[e]=n[t];return e}f&&(xt=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);var Pt=Nt("animationend"),Ot=Nt("animationiteration"),_t=Nt("animationstart"),Tt=Nt("transitionend"),Rt=new Map,At=new Map,jt=["abort","abort",Pt,"animationEnd",Ot,"animationIteration",_t,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Tt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],a=e[n+1];a="on"+(a[0].toUpperCase()+a.slice(1)),At.set(r,t),Rt.set(r,a),c(a,[r])}}(0,o.unstable_now)();var Lt=8;function Mt(e){if(0!=(1&e))return Lt=15,1;if(0!=(2&e))return Lt=14,2;if(0!=(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!=(32&e)?(Lt=11,32):0!=(t=192&e)?(Lt=10,t):0!=(256&e)?(Lt=9,256):0!=(t=3584&e)?(Lt=8,t):0!=(4096&e)?(Lt=7,4096):0!=(t=4186112&e)?(Lt=6,t):0!=(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!=(134217728&e)?(Lt=3,134217728):0!=(t=805306368&e)?(Lt=2,t):0!=(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Kt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,a=0,o=e.expiredLanes,i=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,a=Lt=15;else if(0!=(o=134217727&n)){var l=o&~i;0!==l?(r=Mt(l),a=Lt):0!=(s&=o)&&(r=Mt(s),a=Lt)}else 0!=(o=n&~i)?(r=Mt(o),a=Lt):0!==s&&(r=Mt(s),a=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Bt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&i)){if(Mt(t),a<=Lt)return t;Lt=a}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-Bt(t)),r|=e[n],t&=~a;return r}function It(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ht(24&~t))?Ut(10,t):e;case 10:return 0===(e=Ht(192&~t))?Ut(8,t):e;case 8:return 0===(e=Ht(3584&~t))&&0===(e=Ht(4186112&~t))&&(e=512),e;case 2:return 0===(t=Ht(805306368&~t))&&(t=268435456),t}throw Error(i(358,e))}function Ht(e){return e&-e}function Ft(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Bt(t)]=n}var Bt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(zt(e)/Vt|0)|0},zt=Math.log,Vt=Math.LN2,Jt=o.unstable_UserBlockingPriority,qt=o.unstable_runWithPriority,$t=!0;function Gt(e,t,n,r){Me||De();var a=Xt,o=Me;Me=!0;try{je(a,e,t,n,r)}finally{(Me=o)||Ie()}}function Qt(e,t,n,r){qt(Jt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var a;if($t)if((a=0==(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var o=Yt(e,t,n,r);if(null===o)a&&mt(e,r);else{if(a){if(-1<dt.indexOf(e))return e=pt(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,a){switch(t){case"focusin":return it=ht(it,e,t,n,r,a),!0;case"dragenter":return st=ht(st,e,t,n,r,a),!0;case"mouseover":return lt=ht(lt,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return ct.set(o,ht(ct.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,ut.set(o,ht(ut.get(o)||null,e,t,n,r,a)),!0}return!1}(o,e,t,n,r))return;mt(e,r)}Rr(e,t,r,null,n)}}}function Yt(e,t,n,r){var a=xe(r);if(null!==(a=Yr(a))){var o=Ge(a);if(null===o)a=null;else{var i=o.tag;if(13===i){if(null!==(a=Qe(o)))return a;a=null}else if(3===i){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Rr(e,t,r,a,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,a="value"in Zt?Zt.value:Zt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return tn=a.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function on(){return!1}function sn(e){function t(t,n,r,a,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?an:on,this.isPropagationStopped=on,this}return a(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var ln,cn,un,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(fn),pn=a({},fn,{view:0,detail:0}),mn=sn(pn),hn=a({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(ln=e.screenX-un.screenX,cn=e.screenY-un.screenY):cn=ln=0,un=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),yn=sn(hn),gn=sn(a({},hn,{dataTransfer:0})),bn=sn(a({},pn,{relatedTarget:0})),vn=sn(a({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=sn(a({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),En=sn(a({},fn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Nn(){return xn}var Pn=sn(a({},pn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),On=sn(a({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=sn(a({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),Tn=sn(a({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=sn(a({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),An=[9,13,27,32],jn=f&&"CompositionEvent"in window,Dn=null;f&&"documentMode"in document&&(Dn=document.documentMode);var Ln=f&&"TextEvent"in window&&!Dn,Mn=f&&(!jn||Dn&&8<Dn&&11>=Dn),Kn=String.fromCharCode(32),In=!1;function Un(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Fn=!1,Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function zn(e,t,n,r){Te(r),0<(t=jr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,Jn=null;function qn(e){xr(e,0)}function $n(e){if(X(ea(e)))return e}function Gn(e,t){if("change"===e)return t}var Qn=!1;if(f){var Xn;if(f){var Yn="oninput"in document;if(!Yn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Yn="function"==typeof Zn.oninput}Xn=Yn}else Xn=!1;Qn=Xn&&(!document.documentMode||9<document.documentMode)}function er(){Vn&&(Vn.detachEvent("onpropertychange",tr),Jn=Vn=null)}function tr(e){if("value"===e.propertyName&&$n(Jn)){var t=[];if(zn(t,Jn,e,xe(e)),e=qn,Me)e(t);else{Me=!0;try{Ae(e,t)}finally{Me=!1,Ie()}}}}function nr(e,t,n){"focusin"===e?(er(),Jn=n,(Vn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Jn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ir="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},sr=Object.prototype.hasOwnProperty;function lr(e,t){if(ir(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!sr.call(t,n[r])||!ir(e[n[r]],t[n[r]]))return!1;return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mr=f&&"documentMode"in document&&11>=document.documentMode,hr=null,yr=null,gr=null,br=!1;function vr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==hr||hr!==Y(r)||(r="selectionStart"in(r=hr)&&pr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&lr(gr,r)||(gr=r,0<(r=jr(yr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(jt,2);for(var wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<wr.length;Er++)At.set(wr[Er],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,s,l,c){if($e.apply(this,arguments),Be){if(!Be)throw Error(i(198));var u=ze;Be=!1,ze=null,Ve||(Ve=!0,Je=u)}}(r,t,void 0,e),e.currentTarget=null}function xr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;Cr(a,s,c),o=l}else for(i=0;i<r.length;i++){if(l=(s=r[i]).instance,c=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;Cr(a,s,c),o=l}}}if(Ve)throw e=Je,Ve=!1,Je=null,e}function Nr(e,t){var n=na(t),r=e+"__bubble";n.has(r)||(Tr(t,e,2,!1),n.add(r))}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Pr]||(e[Pr]=!0,s.forEach((function(t){kr.has(t)||_r(t,!1,e,null),_r(t,!0,e,null)})))}function _r(e,t,n,r){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&kr.has(e)){if("scroll"!==e)return;a|=2,o=r}var i=na(o),s=e+"__"+(t?"capture":"bubble");i.has(s)||(t&&(a|=4),Tr(o,e,a,t),i.add(s))}function Tr(e,t,n,r){var a=At.get(t);switch(void 0===a?2:a){case 0:a=Gt;break;case 1:a=Qt;break;default:a=Xt}n=a.bind(null,t,n,e),a=void 0,!He||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Rr(e,t,n,r,a){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==s;){if(null===(i=Yr(s)))return;if(5===(l=i.tag)||6===l){r=o=i;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Ke)return e();Ke=!0;try{Le(e,t,n)}finally{Ke=!1,Ie()}}((function(){var r=o,a=xe(n),i=[];e:{var s=Rt.get(e);if(void 0!==s){var l=dn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":l=Pn;break;case"focusin":c="focus",l=bn;break;case"focusout":c="blur",l=bn;break;case"beforeblur":case"afterblur":l=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=_n;break;case Pt:case Ot:case _t:l=vn;break;case Tt:l=Tn;break;case"scroll":l=mn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var u=0!=(4&t),f=!u&&"scroll"===e,d=u?null!==s?s+"Capture":null:s;u=[];for(var p,m=r;null!==m;){var h=(p=m).stateNode;if(5===p.tag&&null!==h&&(p=h,null!==d&&null!=(h=Ue(m,d))&&u.push(Ar(m,h,p))),f)break;m=m.return}0<u.length&&(s=new l(s,c,null,n,a),i.push({event:s,listeners:u}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!Yr(c)&&!c[Qr])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Yr(c):null)&&(c!==(f=Ge(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=yn,h="onMouseLeave",d="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=On,h="onPointerLeave",d="onPointerEnter",m="pointer"),f=null==l?s:ea(l),p=null==c?s:ea(c),(s=new u(h,m+"leave",l,n,a)).target=f,s.relatedTarget=p,h=null,Yr(a)===r&&((u=new u(d,m+"enter",c,n,a)).target=p,u.relatedTarget=f,h=u),f=h,l&&c)e:{for(d=c,m=0,p=u=l;p;p=Dr(p))m++;for(p=0,h=d;h;h=Dr(h))p++;for(;0<m-p;)u=Dr(u),m--;for(;0<p-m;)d=Dr(d),p--;for(;m--;){if(u===d||null!==d&&u===d.alternate)break e;u=Dr(u),d=Dr(d)}u=null}else u=null;null!==l&&Lr(i,s,l,u,!1),null!==c&&null!==f&&Lr(i,f,c,u,!0)}if("select"===(l=(s=r?ea(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var y=Gn;else if(Bn(s))if(Qn)y=or;else{y=rr;var g=nr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=ar);switch(y&&(y=y(e,r))?zn(i,y,n,a):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ae(s,"number",s.value)),g=r?ea(r):window,e){case"focusin":(Bn(g)||"true"===g.contentEditable)&&(hr=g,yr=r,gr=null);break;case"focusout":gr=yr=hr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,vr(i,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":vr(i,n,a)}var b;if(jn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Fn?Un(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Mn&&"ko"!==n.locale&&(Fn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Fn&&(b=nn()):(en="value"in(Zt=a)?Zt.value:Zt.textContent,Fn=!0)),0<(g=jr(r,v)).length&&(v=new En(v,e,null,n,a),i.push({event:v,listeners:g}),(b||null!==(b=Hn(n)))&&(v.data=b))),(b=Ln?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(In=!0,Kn);case"textInput":return(e=t.data)===Kn&&In?null:e;default:return null}}(e,n):function(e,t){if(Fn)return"compositionend"===e||!jn&&Un(e,t)?(e=nn(),tn=en=Zt=null,Fn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&0<(r=jr(r,"onBeforeInput")).length&&(a=new En("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=b)}xr(i,t)}))}function Ar(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Ue(e,n))&&r.unshift(Ar(e,o,a)),null!=(o=Ue(e,t))&&r.push(Ar(e,o,a))),e=e.return}return r}function Dr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Lr(e,t,n,r,a){for(var o=t._reactName,i=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,a?null!=(l=Ue(n,o))&&i.unshift(Ar(n,l,s)):a||null!=(l=Ue(n,o))&&i.push(Ar(n,l,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}function Mr(){}var Kr=null,Ir=null;function Ur(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Fr="function"==typeof setTimeout?setTimeout:void 0,Wr="function"==typeof clearTimeout?clearTimeout:void 0;function Br(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function zr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Vr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Jr=0,qr=Math.random().toString(36).slice(2),$r="__reactFiber$"+qr,Gr="__reactProps$"+qr,Qr="__reactContainer$"+qr,Xr="__reactEvents$"+qr;function Yr(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qr]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Vr(e);null!==e;){if(n=e[$r])return n;e=Vr(e)}return t}n=(e=n).parentNode}return null}function Zr(e){return!(e=e[$r]||e[Qr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ea(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function ta(e){return e[Gr]||null}function na(e){var t=e[Xr];return void 0===t&&(t=e[Xr]=new Set),t}var ra=[],aa=-1;function oa(e){return{current:e}}function ia(e){0>aa||(e.current=ra[aa],ra[aa]=null,aa--)}function sa(e,t){aa++,ra[aa]=e.current,e.current=t}var la={},ca=oa(la),ua=oa(!1),fa=la;function da(e,t){var n=e.type.contextTypes;if(!n)return la;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function pa(e){return null!=e.childContextTypes}function ma(){ia(ua),ia(ca)}function ha(e,t,n){if(ca.current!==la)throw Error(i(168));sa(ca,t),sa(ua,n)}function ya(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(i(108,q(t)||"Unknown",o));return a({},n,r)}function ga(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||la,fa=ca.current,sa(ca,e),sa(ua,ua.current),!0}function ba(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=ya(e,t,fa),r.__reactInternalMemoizedMergedChildContext=e,ia(ua),ia(ca),sa(ca,e)):ia(ua),sa(ua,n)}var va=null,wa=null,Ea=o.unstable_runWithPriority,Sa=o.unstable_scheduleCallback,ka=o.unstable_cancelCallback,Ca=o.unstable_shouldYield,xa=o.unstable_requestPaint,Na=o.unstable_now,Pa=o.unstable_getCurrentPriorityLevel,Oa=o.unstable_ImmediatePriority,_a=o.unstable_UserBlockingPriority,Ta=o.unstable_NormalPriority,Ra=o.unstable_LowPriority,Aa=o.unstable_IdlePriority,ja={},Da=void 0!==xa?xa:function(){},La=null,Ma=null,Ka=!1,Ia=Na(),Ua=1e4>Ia?Na:function(){return Na()-Ia};function Ha(){switch(Pa()){case Oa:return 99;case _a:return 98;case Ta:return 97;case Ra:return 96;case Aa:return 95;default:throw Error(i(332))}}function Fa(e){switch(e){case 99:return Oa;case 98:return _a;case 97:return Ta;case 96:return Ra;case 95:return Aa;default:throw Error(i(332))}}function Wa(e,t){return e=Fa(e),Ea(e,t)}function Ba(e,t,n){return e=Fa(e),Sa(e,t,n)}function za(){if(null!==Ma){var e=Ma;Ma=null,ka(e)}Va()}function Va(){if(!Ka&&null!==La){Ka=!0;var e=0;try{var t=La;Wa(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),La=null}catch(t){throw null!==La&&(La=La.slice(e+1)),Sa(Oa,za),t}finally{Ka=!1}}}var Ja=E.ReactCurrentBatchConfig;function qa(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $a=oa(null),Ga=null,Qa=null,Xa=null;function Ya(){Xa=Qa=Ga=null}function Za(e){var t=$a.current;ia($a),e.type._context._currentValue=t}function eo(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function to(e,t){Ga=e,Xa=Qa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(ji=!0),e.firstContext=null)}function no(e,t){if(Xa!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Xa=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Qa){if(null===Ga)throw Error(i(308));Qa=t,Ga.dependencies={lanes:0,firstContext:t,responders:null}}else Qa=Qa.next=t;return e._currentValue}var ro=!1;function ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function io(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function so(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function lo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function co(e,t,n,r){var o=e.updateQueue;ro=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var c=l,u=c.next;c.next=null,null===s?i=u:s.next=u,s=c;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==s&&(null===d?f.firstBaseUpdate=u:d.next=u,f.lastBaseUpdate=c)}}if(null!==i){for(d=o.baseState,s=0,f=u=c=null;;){l=i.lane;var p=i.eventTime;if((r&l)===l){null!==f&&(f=f.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var m=e,h=i;switch(l=t,p=n,h.tag){case 1:if("function"==typeof(m=h.payload)){d=m.call(p,d,l);break e}d=m;break e;case 3:m.flags=-4097&m.flags|64;case 0:if(null==(l="function"==typeof(m=h.payload)?m.call(p,d,l):m))break e;d=a({},d,l);break e;case 2:ro=!0}}null!==i.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[i]:l.push(i))}else p={eventTime:p,lane:l,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===f?(u=f=p,c=d):f=f.next=p,s|=l;if(null===(i=i.next)){if(null===(l=o.shared.pending))break;i=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===f&&(c=d),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=f,Ls|=s,e.lanes=s,e.memoizedState=d}}function uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!=typeof a)throw Error(i(191,a));a.call(r)}}}var fo=(new r.Component).refs;function po(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var mo={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=il(),a=sl(e),o=io(r,a);o.payload=t,null!=n&&(o.callback=n),so(e,o),ll(e,a,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=il(),a=sl(e),o=io(r,a);o.tag=1,o.payload=t,null!=n&&(o.callback=n),so(e,o),ll(e,a,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=il(),r=sl(e),a=io(n,r);a.tag=2,null!=t&&(a.callback=t),so(e,a),ll(e,r,n)}};function ho(e,t,n,r,a,o,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!(t.prototype&&t.prototype.isPureReactComponent&&lr(n,r)&&lr(a,o))}function yo(e,t,n){var r=!1,a=la,o=t.contextType;return"object"==typeof o&&null!==o?o=no(o):(a=pa(t)?fa:ca.current,o=(r=null!=(r=t.contextTypes))?da(e,a):la),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function go(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function bo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=fo,ao(e);var o=t.contextType;"object"==typeof o&&null!==o?a.context=no(o):(o=pa(t)?fa:ca.current,a.context=da(e,o)),co(e,n,a,r),a.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(po(e,t,o,n),a.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(t=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&mo.enqueueReplaceState(a,a.state,null),co(e,n,a,r),a.state=e.memoizedState),"function"==typeof a.componentDidMount&&(e.flags|=4)}var vo=Array.isArray;function wo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=r.refs;t===fo&&(t=r.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Eo(e,t){if("textarea"!==e.type)throw Error(i(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function So(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Hl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zl(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=wo(e,t,n),r.return=e,r):((r=Fl(n.type,n.key,n.props,null,e.mode,r)).ref=wo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vl(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Wl(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=zl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Fl(t.type,t.key,t.props,null,e.mode,n)).ref=wo(e,null,t),n.return=e,n;case k:return(t=Vl(t,e.mode,n)).return=e,t}if(vo(t)||W(t))return(t=Wl(t,e.mode,n,null)).return=e,t;Eo(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==a?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===a?n.type===C?f(e,t,n.props.children,r,a):c(e,t,n,r):null;case k:return n.key===a?u(e,t,n,r):null}if(vo(n)||W(n))return null!==a?null:f(e,t,n,r,null);Eo(e,n)}return null}function m(e,t,n,r,a){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case S:return e=e.get(null===r.key?n:r.key)||null,r.type===C?f(t,e,r.props.children,a,r.key):c(t,e,r,a);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(vo(r)||W(r))return f(t,e=e.get(n)||null,r,a,null);Eo(t,r)}return null}function h(a,i,s,l){for(var c=null,u=null,f=i,h=i=0,y=null;null!==f&&h<s.length;h++){f.index>h?(y=f,f=null):y=f.sibling;var g=p(a,f,s[h],l);if(null===g){null===f&&(f=y);break}e&&f&&null===g.alternate&&t(a,f),i=o(g,i,h),null===u?c=g:u.sibling=g,u=g,f=y}if(h===s.length)return n(a,f),c;if(null===f){for(;h<s.length;h++)null!==(f=d(a,s[h],l))&&(i=o(f,i,h),null===u?c=f:u.sibling=f,u=f);return c}for(f=r(a,f);h<s.length;h++)null!==(y=m(f,a,h,s[h],l))&&(e&&null!==y.alternate&&f.delete(null===y.key?h:y.key),i=o(y,i,h),null===u?c=y:u.sibling=y,u=y);return e&&f.forEach((function(e){return t(a,e)})),c}function y(a,s,l,c){var u=W(l);if("function"!=typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var f=u=null,h=s,y=s=0,g=null,b=l.next();null!==h&&!b.done;y++,b=l.next()){h.index>y?(g=h,h=null):g=h.sibling;var v=p(a,h,b.value,c);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(a,h),s=o(v,s,y),null===f?u=v:f.sibling=v,f=v,h=g}if(b.done)return n(a,h),u;if(null===h){for(;!b.done;y++,b=l.next())null!==(b=d(a,b.value,c))&&(s=o(b,s,y),null===f?u=b:f.sibling=b,f=b);return u}for(h=r(a,h);!b.done;y++,b=l.next())null!==(b=m(h,a,y,b.value,c))&&(e&&null!==b.alternate&&h.delete(null===b.key?y:b.key),s=o(b,s,y),null===f?u=b:f.sibling=b,f=b);return e&&h.forEach((function(e){return t(a,e)})),u}return function(e,r,o,l){var c="object"==typeof o&&null!==o&&o.type===C&&null===o.key;c&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case S:e:{for(u=o.key,c=r;null!==c;){if(c.key===u){switch(c.tag){case 7:if(o.type===C){n(e,c.sibling),(r=a(c,o.props.children)).return=e,e=r;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(r=a(c,o.props)).ref=wo(e,c,o),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===C?((r=Wl(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Fl(o.type,o.key,o.props,null,e.mode,l)).ref=wo(e,r,o),l.return=e,e=l)}return s(e);case k:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=a(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Vl(o,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=a(r,o)).return=e,e=r):(n(e,r),(r=zl(o,e.mode,l)).return=e,e=r),s(e);if(vo(o))return h(e,r,o,l);if(W(o))return y(e,r,o,l);if(u&&Eo(e,o),void 0===o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(i(152,q(e.type)||"Component"))}return n(e,r)}}var ko=So(!0),Co=So(!1),xo={},No=oa(xo),Po=oa(xo),Oo=oa(xo);function _o(e){if(e===xo)throw Error(i(174));return e}function To(e,t){switch(sa(Oo,t),sa(Po,e),sa(No,xo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ia(No),sa(No,t)}function Ro(){ia(No),ia(Po),ia(Oo)}function Ao(e){_o(Oo.current);var t=_o(No.current),n=pe(t,e.type);t!==n&&(sa(Po,e),sa(No,n))}function jo(e){Po.current===e&&(ia(No),ia(Po))}var Do=oa(0);function Lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mo=null,Ko=null,Io=!1;function Uo(e,t){var n=Il(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ho(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Fo(e){if(Io){var t=Ko;if(t){var n=t;if(!Ho(e,t)){if(!(t=zr(n.nextSibling))||!Ho(e,t))return e.flags=-1025&e.flags|2,Io=!1,void(Mo=e);Uo(Mo,n)}Mo=e,Ko=zr(t.firstChild)}else e.flags=-1025&e.flags|2,Io=!1,Mo=e}}function Wo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Mo=e}function Bo(e){if(e!==Mo)return!1;if(!Io)return Wo(e),Io=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Ko;t;)Uo(e,t),t=zr(t.nextSibling);if(Wo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ko=zr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ko=null}}else Ko=Mo?zr(e.stateNode.nextSibling):null;return!0}function zo(){Ko=Mo=null,Io=!1}var Vo=[];function Jo(){for(var e=0;e<Vo.length;e++)Vo[e]._workInProgressVersionPrimary=null;Vo.length=0}var qo=E.ReactCurrentDispatcher,$o=E.ReactCurrentBatchConfig,Go=0,Qo=null,Xo=null,Yo=null,Zo=!1,ei=!1;function ti(){throw Error(i(321))}function ni(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function ri(e,t,n,r,a,o){if(Go=o,Qo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qo.current=null===e||null===e.memoizedState?_i:Ti,e=n(r,a),ei){o=0;do{if(ei=!1,!(25>o))throw Error(i(301));o+=1,Yo=Xo=null,t.updateQueue=null,qo.current=Ri,e=n(r,a)}while(ei)}if(qo.current=Oi,t=null!==Xo&&null!==Xo.next,Go=0,Yo=Xo=Qo=null,Zo=!1,t)throw Error(i(300));return e}function ai(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Yo?Qo.memoizedState=Yo=e:Yo=Yo.next=e,Yo}function oi(){if(null===Xo){var e=Qo.alternate;e=null!==e?e.memoizedState:null}else e=Xo.next;var t=null===Yo?Qo.memoizedState:Yo.next;if(null!==t)Yo=t,Xo=e;else{if(null===e)throw Error(i(310));e={memoizedState:(Xo=e).memoizedState,baseState:Xo.baseState,baseQueue:Xo.baseQueue,queue:Xo.queue,next:null},null===Yo?Qo.memoizedState=Yo=e:Yo=Yo.next=e}return Yo}function ii(e,t){return"function"==typeof t?t(e):t}function si(e){var t=oi(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=Xo,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,n.pending=null}if(null!==a){a=a.next,r=r.baseState;var l=s=o=null,c=a;do{var u=c.lane;if((Go&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=f,o=r):l=l.next=f,Qo.lanes|=u,Ls|=u}c=c.next}while(null!==c&&c!==a);null===l?o=r:l.next=s,ir(r,t.memoizedState)||(ji=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function li(e){var t=oi(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);ir(o,t.memoizedState)||(ji=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ci(e,t,n){var r=t._getVersion;r=r(t._source);var a=t._workInProgressVersionPrimary;if(null!==a?e=a===r:(e=e.mutableReadLanes,(e=(Go&e)===e)&&(t._workInProgressVersionPrimary=r,Vo.push(t))),e)return n(t._source);throw Vo.push(t),Error(i(350))}function ui(e,t,n,r){var a=Ps;if(null===a)throw Error(i(349));var o=t._getVersion,s=o(t._source),l=qo.current,c=l.useState((function(){return ci(a,t,n)})),u=c[1],f=c[0];c=Yo;var d=e.memoizedState,p=d.refs,m=p.getSnapshot,h=d.source;d=d.subscribe;var y=Qo;return e.memoizedState={refs:p,source:t,subscribe:r},l.useEffect((function(){p.getSnapshot=n,p.setSnapshot=u;var e=o(t._source);if(!ir(s,e)){e=n(t._source),ir(f,e)||(u(e),e=sl(y),a.mutableReadLanes|=e&a.pendingLanes),e=a.mutableReadLanes,a.entangledLanes|=e;for(var r=a.entanglements,i=e;0<i;){var l=31-Bt(i),c=1<<l;r[l]|=e,i&=~c}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var r=sl(y);a.mutableReadLanes|=r&a.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),ir(m,n)&&ir(h,t)&&ir(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ii,lastRenderedState:f}).dispatch=u=Pi.bind(null,Qo,e),c.queue=e,c.baseQueue=null,f=ci(a,t,n),c.memoizedState=c.baseState=f),f}function fi(e,t,n){return ui(oi(),e,t,n)}function di(e){var t=ai();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ii,lastRenderedState:e}).dispatch=Pi.bind(null,Qo,e),[t.memoizedState,e]}function pi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Qo.updateQueue)?(t={lastEffect:null},Qo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function mi(e){return e={current:e},ai().memoizedState=e}function hi(){return oi().memoizedState}function yi(e,t,n,r){var a=ai();Qo.flags|=e,a.memoizedState=pi(1|t,n,void 0,void 0===r?null:r)}function gi(e,t,n,r){var a=oi();r=void 0===r?null:r;var o=void 0;if(null!==Xo){var i=Xo.memoizedState;if(o=i.destroy,null!==r&&ni(r,i.deps))return void pi(t,n,o,r)}Qo.flags|=e,a.memoizedState=pi(1|t,n,o,r)}function bi(e,t){return yi(516,4,e,t)}function vi(e,t){return gi(516,4,e,t)}function wi(e,t){return gi(4,2,e,t)}function Ei(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Si(e,t,n){return n=null!=n?n.concat([e]):null,gi(4,2,Ei.bind(null,t,e),n)}function ki(){}function Ci(e,t){var n=oi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ni(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xi(e,t){var n=oi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ni(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ni(e,t){var n=Ha();Wa(98>n?98:n,(function(){e(!0)})),Wa(97<n?97:n,(function(){var n=$o.transition;$o.transition=1;try{e(!1),t()}finally{$o.transition=n}}))}function Pi(e,t,n){var r=il(),a=sl(e),o={lane:a,action:n,eagerReducer:null,eagerState:null,next:null},i=t.pending;if(null===i?o.next=o:(o.next=i.next,i.next=o),t.pending=o,i=e.alternate,e===Qo||null!==i&&i===Qo)ei=Zo=!0;else{if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=i(s,n);if(o.eagerReducer=i,o.eagerState=l,ir(l,s))return}catch(e){}ll(e,a,r)}}var Oi={readContext:no,useCallback:ti,useContext:ti,useEffect:ti,useImperativeHandle:ti,useLayoutEffect:ti,useMemo:ti,useReducer:ti,useRef:ti,useState:ti,useDebugValue:ti,useDeferredValue:ti,useTransition:ti,useMutableSource:ti,useOpaqueIdentifier:ti,unstable_isNewReconciler:!1},_i={readContext:no,useCallback:function(e,t){return ai().memoizedState=[e,void 0===t?null:t],e},useContext:no,useEffect:bi,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,yi(4,2,Ei.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yi(4,2,e,t)},useMemo:function(e,t){var n=ai();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ai();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Pi.bind(null,Qo,e),[r.memoizedState,e]},useRef:mi,useState:di,useDebugValue:ki,useDeferredValue:function(e){var t=di(e),n=t[0],r=t[1];return bi((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=di(!1),t=e[0];return mi(e=Ni.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ai();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ui(r,e,t,n)},useOpaqueIdentifier:function(){if(Io){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Jr++).toString(36))),Error(i(355))})),n=di(t)[1];return 0==(2&Qo.mode)&&(Qo.flags|=516,pi(5,(function(){n("r:"+(Jr++).toString(36))}),void 0,null)),t}return di(t="r:"+(Jr++).toString(36)),t},unstable_isNewReconciler:!1},Ti={readContext:no,useCallback:Ci,useContext:no,useEffect:vi,useImperativeHandle:Si,useLayoutEffect:wi,useMemo:xi,useReducer:si,useRef:hi,useState:function(){return si(ii)},useDebugValue:ki,useDeferredValue:function(e){var t=si(ii),n=t[0],r=t[1];return vi((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=si(ii)[0];return[hi().current,e]},useMutableSource:fi,useOpaqueIdentifier:function(){return si(ii)[0]},unstable_isNewReconciler:!1},Ri={readContext:no,useCallback:Ci,useContext:no,useEffect:vi,useImperativeHandle:Si,useLayoutEffect:wi,useMemo:xi,useReducer:li,useRef:hi,useState:function(){return li(ii)},useDebugValue:ki,useDeferredValue:function(e){var t=li(ii),n=t[0],r=t[1];return vi((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=li(ii)[0];return[hi().current,e]},useMutableSource:fi,useOpaqueIdentifier:function(){return li(ii)[0]},unstable_isNewReconciler:!1},Ai=E.ReactCurrentOwner,ji=!1;function Di(e,t,n,r){t.child=null===e?Co(t,null,n,r):ko(t,e.child,n,r)}function Li(e,t,n,r,a){n=n.render;var o=t.ref;return to(t,a),r=ri(e,t,n,r,o,a),null===e||ji?(t.flags|=1,Di(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,Zi(e,t,a))}function Mi(e,t,n,r,a,o){if(null===e){var i=n.type;return"function"!=typeof i||Ul(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ki(e,t,i,r,a,o))}return i=e.child,0==(a&o)&&(a=i.memoizedProps,(n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)?Zi(e,t,o):(t.flags|=1,(e=Hl(i,r)).ref=t.ref,e.return=t,t.child=e)}function Ki(e,t,n,r,a,o){if(null!==e&&lr(e.memoizedProps,r)&&e.ref===t.ref){if(ji=!1,0==(o&a))return t.lanes=e.lanes,Zi(e,t,o);0!=(16384&e.flags)&&(ji=!0)}return Hi(e,t,n,r,o)}function Ii(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},yl(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},yl(0,e),null;t.memoizedState={baseLanes:0},yl(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,yl(0,r);return Di(e,t,a,n),t.child}function Ui(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Hi(e,t,n,r,a){var o=pa(n)?fa:ca.current;return o=da(t,o),to(t,a),n=ri(e,t,n,r,o,a),null===e||ji?(t.flags|=1,Di(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,Zi(e,t,a))}function Fi(e,t,n,r,a){if(pa(n)){var o=!0;ga(t)}else o=!1;if(to(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),yo(t,n,r),bo(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=n.contextType;c="object"==typeof c&&null!==c?no(c):da(t,c=pa(n)?fa:ca.current);var u=n.getDerivedStateFromProps,f="function"==typeof u||"function"==typeof i.getSnapshotBeforeUpdate;f||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==r||l!==c)&&go(t,i,r,c),ro=!1;var d=t.memoizedState;i.state=d,co(t,r,i,a),l=t.memoizedState,s!==r||d!==l||ua.current||ro?("function"==typeof u&&(po(t,n,u,r),l=t.memoizedState),(s=ro||ho(t,n,s,r,d,l,c))?(f||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4)):("function"==typeof i.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=s):("function"==typeof i.componentDidMount&&(t.flags|=4),r=!1)}else{i=t.stateNode,oo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:qa(t.type,s),i.props=c,f=t.pendingProps,d=i.context,l="object"==typeof(l=n.contextType)&&null!==l?no(l):da(t,l=pa(n)?fa:ca.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==f||d!==l)&&go(t,i,r,l),ro=!1,d=t.memoizedState,i.state=d,co(t,r,i,a);var m=t.memoizedState;s!==f||d!==m||ua.current||ro?("function"==typeof p&&(po(t,n,p,r),m=t.memoizedState),(c=ro||ho(t,n,c,r,d,m,l))?(u||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,m,l),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,m,l)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=m),i.props=r,i.state=m,i.context=l,r=c):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Wi(e,t,n,r,o,a)}function Wi(e,t,n,r,a,o){Ui(e,t);var i=0!=(64&t.flags);if(!r&&!i)return a&&ba(t,n,!1),Zi(e,t,o);r=t.stateNode,Ai.current=t;var s=i&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,s,o)):Di(e,t,s,o),t.memoizedState=r.state,a&&ba(t,n,!0),t.child}function Bi(e){var t=e.stateNode;t.pendingContext?ha(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ha(0,t.context,!1),To(e,t.containerInfo)}var zi,Vi,Ji,qi={dehydrated:null,retryLane:0};function $i(e,t,n){var r,a=t.pendingProps,o=Do.current,i=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(i=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),sa(Do,1&o),null===e?(void 0!==a.fallback&&Fo(t),e=a.children,o=a.fallback,i?(e=Gi(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=qi,e):"number"==typeof a.unstable_expectedLoadTime?(e=Gi(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=qi,t.lanes=33554432,e):((n=Bl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,i?(a=function(e,t,n,r,a){var o=t.mode,i=e.child;e=i.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==i?((n=t.child).childLanes=0,n.pendingProps=s,null!==(i=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=i,i.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hl(i,s),null!==e?r=Hl(e,r):(r=Wl(r,o,a,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,a.children,a.fallback,n),i=t.child,o=e.child.memoizedState,i.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},i.childLanes=e.childLanes&~n,t.memoizedState=qi,a):(n=function(e,t,n,r){var a=e.child;return e=a.sibling,n=Hl(a,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,a.children,n),t.memoizedState=null,n))}function Gi(e,t,n,r){var a=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&a)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Bl(t,a,0,null),n=Wl(n,a,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Qi(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),eo(e.return,t)}function Xi(e,t,n,r,a,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,lastEffect:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a,i.lastEffect=o)}function Yi(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(Di(e,t,r.children,n),0!=(2&(r=Do.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qi(e,n);else if(19===e.tag)Qi(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(sa(Do,r),0==(2&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Lo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Xi(t,!1,a,n,o,t.lastEffect);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Lo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Xi(t,!0,n,null,o,t.lastEffect);break;case"together":Xi(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Zi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Hl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function es(e,t){if(!Io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ts(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return pa(t.type)&&ma(),null;case 3:return Ro(),ia(ua),ia(ca),Jo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Bo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:jo(t);var o=_o(Oo.current);if(n=t.type,null!==e&&null!=t.stateNode)Vi(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(i(166));return null}if(e=_o(No.current),Bo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[$r]=t,r[Gr]=s,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Nr(Sr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,s),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Nr("invalid",r);break;case"textarea":le(r,s),Nr("invalid",r)}for(var c in ke(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":Q(r),re(r,s,!0);break;case"textarea":Q(r),ue(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Mr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[$r]=t,e[Gr]=r,zi(e,t),t.stateNode=e,c=Ce(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),o=r;break;case"iframe":case"object":case"embed":Nr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Sr.length;o++)Nr(Sr[o],e);o=r;break;case"source":Nr("error",e),o=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),o=r;break;case"details":Nr("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Nr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=a({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":le(e,r),o=se(e,r),Nr("invalid",e);break;default:o=r}ke(n,o);var u=o;for(s in u)if(u.hasOwnProperty(s)){var f=u[s];"style"===s?Ee(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"==typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"==typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Nr("scroll",e):null!=f&&w(e,s,f,c))}switch(n){case"input":Q(e),re(e,r,!1);break;case"textarea":Q(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ie(e,!!r.multiple,s,!1):null!=r.defaultValue&&ie(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Mr)}Ur(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ji(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));n=_o(Oo.current),_o(No.current),Bo(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return ia(Do),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Bo(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Do.current)?0===As&&(As=3):(0!==As&&3!==As||(As=4),null===Ps||0==(134217727&Ls)&&0==(134217727&Ms)||dl(Ps,_s))),(r||n)&&(t.flags|=4),null);case 4:return Ro(),null===e&&Or(t.stateNode.containerInfo),null;case 10:return Za(t),null;case 17:return pa(t.type)&&ma(),null;case 19:if(ia(Do),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(c=r.rendering))if(s)es(r,!1);else{if(0!==As||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Lo(e))){for(t.flags|=64,es(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return sa(Do,1&Do.current|2),t.child}e=e.sibling}null!==r.tail&&Ua()>Hs&&(t.flags|=64,s=!0,es(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Lo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),es(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Io)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ua()-r.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=64,s=!0,es(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ua(),n.sibling=null,t=Do.current,sa(Do,s?1&t|2:1&t),n):null;case 23:case 24:return gl(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(i(156,t.tag))}function ns(e){switch(e.tag){case 1:pa(e.type)&&ma();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ro(),ia(ua),ia(ca),Jo(),0!=(64&(t=e.flags)))throw Error(i(285));return e.flags=-4097&t|64,e;case 5:return jo(e),null;case 13:return ia(Do),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ia(Do),null;case 4:return Ro(),null;case 10:return Za(e),null;case 23:case 24:return gl(),null;default:return null}}function rs(e,t){try{var n="",r=t;do{n+=J(r),r=r.return}while(r);var a=n}catch(e){a="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:a}}function as(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}zi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Vi=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,_o(No.current);var i,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=a({},o,{value:void 0}),r=a({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Mr)}for(f in ke(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var c=o[f];for(i in c)c.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(l.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var u=r[f];if(c=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&u!==c&&(null!=u||null!=c))if("style"===f)if(c){for(i in c)!c.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&c[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(s||(s=[]),s.push(f,n)),n=u;else"dangerouslySetInnerHTML"===f?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(s=s||[]).push(f,u)):"children"===f?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(f,""+u):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(l.hasOwnProperty(f)?(null!=u&&"onScroll"===f&&Nr("scroll",e),s||c===u||(s=[])):"object"==typeof u&&null!==u&&u.$$typeof===L?u.toString():(s=s||[]).push(f,u))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Ji=function(e,t,n,r){n!==r&&(t.flags|=4)};var os="function"==typeof WeakMap?WeakMap:Map;function is(e,t,n){(n=io(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zs||(zs=!0,Vs=r),as(0,t)},n}function ss(e,t,n){(n=io(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var a=t.value;n.payload=function(){return as(0,t),r(a)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Js?Js=new Set([this]):Js.add(this),as(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ls="function"==typeof WeakSet?WeakSet:Set;function cs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Dl(e,t)}else t.current=null}function us(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:qa(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Br(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(i(163))}function fs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var a=e;r=a.next,0!=(4&(a=a.tag))&&0!=(1&a)&&(Rl(n,e),Tl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:qa(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&uo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}uo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Ur(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(i(163))}function ds(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var a=n.memoizedProps.style;a=null!=a&&a.hasOwnProperty("display")?a.display:null,r.style.display=we("display",a)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ps(e,t){if(wa&&"function"==typeof wa.onCommitFiberUnmount)try{wa.onCommitFiberUnmount(va,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,a=r.destroy;if(r=r.tag,void 0!==a)if(0!=(4&r))Rl(t,n);else{r=t;try{a()}catch(e){Dl(r,e)}}n=n.next}while(n!==e)}break;case 1:if(cs(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Dl(t,e)}break;case 5:cs(t);break;case 4:vs(e,t)}}function ms(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function hs(e){return 5===e.tag||3===e.tag||4===e.tag}function ys(e){e:{for(var t=e.return;null!==t;){if(hs(t))break e;t=t.return}throw Error(i(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(i(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||hs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?gs(e,n,t):bs(e,n,t)}function gs(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Mr));else if(4!==r&&null!==(e=e.child))for(gs(e,t,n),e=e.sibling;null!==e;)gs(e,t,n),e=e.sibling}function bs(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(bs(e,t,n),e=e.sibling;null!==e;)bs(e,t,n),e=e.sibling}function vs(e,t){for(var n,r,a=t,o=!1;;){if(!o){o=a.return;e:for(;;){if(null===o)throw Error(i(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===a.tag||6===a.tag){e:for(var s=e,l=a,c=l;;)if(ps(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,l=a.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){n=a.stateNode.containerInfo,r=!0,a.child.return=a,a=a.child;continue}}else if(ps(e,a),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function ws(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var a=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Gr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ce(e,a),t=Ce(e,r),a=0;a<o.length;a+=2){var s=o[a],l=o[a+1];"style"===s?Ee(n,l):"dangerouslySetInnerHTML"===s?ye(n,l):"children"===s?ge(n,l):w(n,s,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ie(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ie(n,!!r.multiple,r.defaultValue,!0):ie(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(i(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Us=Ua(),ds(t.child,!0)),void Es(t);case 19:return void Es(t);case 17:return;case 23:case 24:return void ds(t,null!==t.memoizedState)}throw Error(i(163))}function Es(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ls),t.forEach((function(t){var r=Ml.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ss(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var ks=Math.ceil,Cs=E.ReactCurrentDispatcher,xs=E.ReactCurrentOwner,Ns=0,Ps=null,Os=null,_s=0,Ts=0,Rs=oa(0),As=0,js=null,Ds=0,Ls=0,Ms=0,Ks=0,Is=null,Us=0,Hs=1/0;function Fs(){Hs=Ua()+500}var Ws,Bs=null,zs=!1,Vs=null,Js=null,qs=!1,$s=null,Gs=90,Qs=[],Xs=[],Ys=null,Zs=0,el=null,tl=-1,nl=0,rl=0,al=null,ol=!1;function il(){return 0!=(48&Ns)?Ua():-1!==tl?tl:tl=Ua()}function sl(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Ha()?1:2;if(0===nl&&(nl=Ds),0!==Ja.transition){0!==rl&&(rl=null!==Is?Is.pendingLanes:0),e=nl;var t=4186112&~rl;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=Ha(),e=Ut(0!=(4&Ns)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),nl)}function ll(e,t,n){if(50<Zs)throw Zs=0,el=null,Error(i(185));if(null===(e=cl(e,t)))return null;Wt(e,t,n),e===Ps&&(Ms|=t,4===As&&dl(e,_s));var r=Ha();1===t?0!=(8&Ns)&&0==(48&Ns)?pl(e):(ul(e,n),0===Ns&&(Fs(),za())):(0==(4&Ns)||98!==r&&99!==r||(null===Ys?Ys=new Set([e]):Ys.add(e)),ul(e,n)),Is=e}function cl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ul(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Bt(s),c=1<<l,u=o[l];if(-1===u){if(0==(c&r)||0!=(c&a)){u=t,Mt(c);var f=Lt;o[l]=10<=f?u+250:6<=f?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);s&=~c}if(r=Kt(e,e===Ps?_s:0),t=Lt,0===r)null!==n&&(n!==ja&&ka(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ja&&ka(n)}15===t?(n=pl.bind(null,e),null===La?(La=[n],Ma=Sa(Oa,Va)):La.push(n),n=ja):n=14===t?Ba(99,pl.bind(null,e)):Ba(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(i(358,e))}}(t),fl.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function fl(e){if(tl=-1,rl=nl=0,0!=(48&Ns))throw Error(i(327));var t=e.callbackNode;if(_l()&&e.callbackNode!==t)return null;var n=Kt(e,e===Ps?_s:0);if(0===n)return null;var r=n,a=Ns;Ns|=16;var o=wl();for(Ps===e&&_s===r||(Fs(),bl(e,r));;)try{kl();break}catch(t){vl(e,t)}if(Ya(),Cs.current=o,Ns=a,null!==Os?r=0:(Ps=null,_s=0,r=As),0!=(Ds&Ms))bl(e,0);else if(0!==r){if(2===r&&(Ns|=64,e.hydrate&&(e.hydrate=!1,Br(e.containerInfo)),0!==(n=It(e))&&(r=El(e,n))),1===r)throw t=js,bl(e,0),dl(e,n),ul(e,Ua()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(i(345));case 2:Nl(e);break;case 3:if(dl(e,n),(62914560&n)===n&&10<(r=Us+500-Ua())){if(0!==Kt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){il(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Fr(Nl.bind(null,e),r);break}Nl(e);break;case 4:if(dl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,a=-1;0<n;){var s=31-Bt(n);o=1<<s,(s=r[s])>a&&(a=s),n&=~o}if(n=a,10<(n=(120>(n=Ua()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ks(n/1960))-n)){e.timeoutHandle=Fr(Nl.bind(null,e),n);break}Nl(e);break;case 5:Nl(e);break;default:throw Error(i(329))}}return ul(e,Ua()),e.callbackNode===t?fl.bind(null,e):null}function dl(e,t){for(t&=~Ks,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bt(t),r=1<<n;e[n]=-1,t&=~r}}function pl(e){if(0!=(48&Ns))throw Error(i(327));if(_l(),e===Ps&&0!=(e.expiredLanes&_s)){var t=_s,n=El(e,t);0!=(Ds&Ms)&&(n=El(e,t=Kt(e,t)))}else n=El(e,t=Kt(e,0));if(0!==e.tag&&2===n&&(Ns|=64,e.hydrate&&(e.hydrate=!1,Br(e.containerInfo)),0!==(t=It(e))&&(n=El(e,t))),1===n)throw n=js,bl(e,0),dl(e,t),ul(e,Ua()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nl(e),ul(e,Ua()),null}function ml(e,t){var n=Ns;Ns|=1;try{return e(t)}finally{0===(Ns=n)&&(Fs(),za())}}function hl(e,t){var n=Ns;Ns&=-2,Ns|=8;try{return e(t)}finally{0===(Ns=n)&&(Fs(),za())}}function yl(e,t){sa(Rs,Ts),Ts|=t,Ds|=t}function gl(){Ts=Rs.current,ia(Rs)}function bl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Os)for(n=Os.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&ma();break;case 3:Ro(),ia(ua),ia(ca),Jo();break;case 5:jo(r);break;case 4:Ro();break;case 13:case 19:ia(Do);break;case 10:Za(r);break;case 23:case 24:gl()}n=n.return}Ps=e,Os=Hl(e.current,null),_s=Ts=Ds=t,As=0,js=null,Ks=Ms=Ls=0}function vl(e,t){for(;;){var n=Os;try{if(Ya(),qo.current=Oi,Zo){for(var r=Qo.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}Zo=!1}if(Go=0,Yo=Xo=Qo=null,ei=!1,xs.current=null,null===n||null===n.return){As=1,js=t,Os=null;break}e:{var o=e,i=n.return,s=n,l=t;if(t=_s,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l;if(0==(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!=(1&Do.current),d=i;do{var p;if(p=13===d.tag){var m=d.memoizedState;if(null!==m)p=null!==m.dehydrated;else{var h=d.memoizedProps;p=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!f)}}if(p){var y=d.updateQueue;if(null===y){var g=new Set;g.add(c),d.updateQueue=g}else y.add(c);if(0==(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var b=io(-1,1);b.tag=2,so(s,b)}s.lanes|=1;break e}l=void 0,s=t;var v=o.pingCache;if(null===v?(v=o.pingCache=new os,l=new Set,v.set(c,l)):void 0===(l=v.get(c))&&(l=new Set,v.set(c,l)),!l.has(s)){l.add(s);var w=Ll.bind(null,o,c,s);c.then(w,w)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((q(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==As&&(As=2),l=rs(l,s),d=i;do{switch(d.tag){case 3:o=l,d.flags|=4096,t&=-t,d.lanes|=t,lo(d,is(0,o,t));break e;case 1:o=l;var E=d.type,S=d.stateNode;if(0==(64&d.flags)&&("function"==typeof E.getDerivedStateFromError||null!==S&&"function"==typeof S.componentDidCatch&&(null===Js||!Js.has(S)))){d.flags|=4096,t&=-t,d.lanes|=t,lo(d,ss(d,o,t));break e}}d=d.return}while(null!==d)}xl(n)}catch(e){t=e,Os===n&&null!==n&&(Os=n=n.return);continue}break}}function wl(){var e=Cs.current;return Cs.current=Oi,null===e?Oi:e}function El(e,t){var n=Ns;Ns|=16;var r=wl();for(Ps===e&&_s===t||bl(e,t);;)try{Sl();break}catch(t){vl(e,t)}if(Ya(),Ns=n,Cs.current=r,null!==Os)throw Error(i(261));return Ps=null,_s=0,As}function Sl(){for(;null!==Os;)Cl(Os)}function kl(){for(;null!==Os&&!Ca();)Cl(Os)}function Cl(e){var t=Ws(e.alternate,e,Ts);e.memoizedProps=e.pendingProps,null===t?xl(e):Os=t,xs.current=null}function xl(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ts(n,t,Ts)))return void(Os=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Ts)||0==(4&n.mode)){for(var r=0,a=n.child;null!==a;)r|=a.lanes|a.childLanes,a=a.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ns(t)))return n.flags&=2047,void(Os=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Os=t);Os=t=e}while(null!==t);0===As&&(As=5)}function Nl(e){var t=Ha();return Wa(99,Pl.bind(null,e,t)),null}function Pl(e,t){do{_l()}while(null!==$s);if(0!=(48&Ns))throw Error(i(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null;var r=n.lanes|n.childLanes,a=r,o=e.pendingLanes&~a;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=a,e.mutableReadLanes&=a,e.entangledLanes&=a,a=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<o;){var c=31-Bt(o),u=1<<c;a[c]=0,s[c]=-1,l[c]=-1,o&=~u}if(null!==Ys&&0==(24&r)&&Ys.has(e)&&Ys.delete(e),e===Ps&&(Os=Ps=null,_s=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(a=Ns,Ns|=32,xs.current=null,Kr=$t,pr(s=dr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,o=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(e){l=null;break e}var f=0,d=-1,p=-1,m=0,h=0,y=s,g=null;t:for(;;){for(var b;y!==l||0!==o&&3!==y.nodeType||(d=f+o),y!==c||0!==u&&3!==y.nodeType||(p=f+u),3===y.nodeType&&(f+=y.nodeValue.length),null!==(b=y.firstChild);)g=y,y=b;for(;;){if(y===s)break t;if(g===l&&++m===o&&(d=f),g===c&&++h===u&&(p=f),null!==(b=y.nextSibling))break;g=(y=g).parentNode}y=b}l=-1===d||-1===p?null:{start:d,end:p}}else l=null;l=l||{start:0,end:0}}else l=null;Ir={focusedElem:s,selectionRange:l},$t=!1,al=null,ol=!1,Bs=r;do{try{Ol()}catch(e){if(null===Bs)throw Error(i(330));Dl(Bs,e),Bs=Bs.nextEffect}}while(null!==Bs);al=null,Bs=r;do{try{for(s=e;null!==Bs;){var v=Bs.flags;if(16&v&&ge(Bs.stateNode,""),128&v){var w=Bs.alternate;if(null!==w){var E=w.ref;null!==E&&("function"==typeof E?E(null):E.current=null)}}switch(1038&v){case 2:ys(Bs),Bs.flags&=-3;break;case 6:ys(Bs),Bs.flags&=-3,ws(Bs.alternate,Bs);break;case 1024:Bs.flags&=-1025;break;case 1028:Bs.flags&=-1025,ws(Bs.alternate,Bs);break;case 4:ws(Bs.alternate,Bs);break;case 8:vs(s,l=Bs);var S=l.alternate;ms(l),null!==S&&ms(S)}Bs=Bs.nextEffect}}catch(e){if(null===Bs)throw Error(i(330));Dl(Bs,e),Bs=Bs.nextEffect}}while(null!==Bs);if(E=Ir,w=dr(),v=E.focusedElem,s=E.selectionRange,w!==v&&v&&v.ownerDocument&&fr(v.ownerDocument.documentElement,v)){null!==s&&pr(v)&&(w=s.start,void 0===(E=s.end)&&(E=w),"selectionStart"in v?(v.selectionStart=w,v.selectionEnd=Math.min(E,v.value.length)):(E=(w=v.ownerDocument||document)&&w.defaultView||window).getSelection&&(E=E.getSelection(),l=v.textContent.length,S=Math.min(s.start,l),s=void 0===s.end?S:Math.min(s.end,l),!E.extend&&S>s&&(l=s,s=S,S=l),l=ur(v,S),o=ur(v,s),l&&o&&(1!==E.rangeCount||E.anchorNode!==l.node||E.anchorOffset!==l.offset||E.focusNode!==o.node||E.focusOffset!==o.offset)&&((w=w.createRange()).setStart(l.node,l.offset),E.removeAllRanges(),S>s?(E.addRange(w),E.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),E.addRange(w))))),w=[];for(E=v;E=E.parentNode;)1===E.nodeType&&w.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"==typeof v.focus&&v.focus(),v=0;v<w.length;v++)(E=w[v]).element.scrollLeft=E.left,E.element.scrollTop=E.top}$t=!!Kr,Ir=Kr=null,e.current=n,Bs=r;do{try{for(v=e;null!==Bs;){var k=Bs.flags;if(36&k&&fs(v,Bs.alternate,Bs),128&k){w=void 0;var C=Bs.ref;if(null!==C){var x=Bs.stateNode;switch(Bs.tag){case 5:w=x;break;default:w=x}"function"==typeof C?C(w):C.current=w}}Bs=Bs.nextEffect}}catch(e){if(null===Bs)throw Error(i(330));Dl(Bs,e),Bs=Bs.nextEffect}}while(null!==Bs);Bs=null,Da(),Ns=a}else e.current=n;if(qs)qs=!1,$s=e,Gs=t;else for(Bs=r;null!==Bs;)t=Bs.nextEffect,Bs.nextEffect=null,8&Bs.flags&&((k=Bs).sibling=null,k.stateNode=null),Bs=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===el?Zs++:(Zs=0,el=e):Zs=0,n=n.stateNode,wa&&"function"==typeof wa.onCommitFiberRoot)try{wa.onCommitFiberRoot(va,n,void 0,64==(64&n.current.flags))}catch(e){}if(ul(e,Ua()),zs)throw zs=!1,e=Vs,Vs=null,e;return 0!=(8&Ns)||za(),null}function Ol(){for(;null!==Bs;){var e=Bs.alternate;ol||null===al||(0!=(8&Bs.flags)?Ze(Bs,al)&&(ol=!0):13===Bs.tag&&Ss(e,Bs)&&Ze(Bs,al)&&(ol=!0));var t=Bs.flags;0!=(256&t)&&us(e,Bs),0==(512&t)||qs||(qs=!0,Ba(97,(function(){return _l(),null}))),Bs=Bs.nextEffect}}function _l(){if(90!==Gs){var e=97<Gs?97:Gs;return Gs=90,Wa(e,Al)}return!1}function Tl(e,t){Qs.push(t,e),qs||(qs=!0,Ba(97,(function(){return _l(),null})))}function Rl(e,t){Xs.push(t,e),qs||(qs=!0,Ba(97,(function(){return _l(),null})))}function Al(){if(null===$s)return!1;var e=$s;if($s=null,0!=(48&Ns))throw Error(i(331));var t=Ns;Ns|=32;var n=Xs;Xs=[];for(var r=0;r<n.length;r+=2){var a=n[r],o=n[r+1],s=a.destroy;if(a.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(i(330));Dl(o,e)}}for(n=Qs,Qs=[],r=0;r<n.length;r+=2){a=n[r],o=n[r+1];try{var l=a.create;a.destroy=l()}catch(e){if(null===o)throw Error(i(330));Dl(o,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Ns=t,za(),!0}function jl(e,t,n){so(e,t=is(0,t=rs(n,t),1)),t=il(),null!==(e=cl(e,1))&&(Wt(e,1,t),ul(e,t))}function Dl(e,t){if(3===e.tag)jl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){jl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var a=ss(n,e=rs(t,e),1);if(so(n,a),a=il(),null!==(n=cl(n,1)))Wt(n,1,a),ul(n,a);else if("function"==typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Ll(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=il(),e.pingedLanes|=e.suspendedLanes&n,Ps===e&&(_s&n)===n&&(4===As||3===As&&(62914560&_s)===_s&&500>Ua()-Us?bl(e,0):Ks|=n),ul(e,t)}function Ml(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Ha()?1:2:(0===nl&&(nl=Ds),0===(t=Ht(62914560&~nl))&&(t=4194304))),n=il(),null!==(e=cl(e,t))&&(Wt(e,t,n),ul(e,n))}function Kl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Il(e,t,n,r){return new Kl(e,t,n,r)}function Ul(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hl(e,t){var n=e.alternate;return null===n?((n=Il(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fl(e,t,n,r,a,o){var s=2;if(r=e,"function"==typeof e)Ul(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case C:return Wl(n.children,a,o,t);case M:s=8,a|=16;break;case x:s=8,a|=1;break;case N:return(e=Il(12,n,t,8|a)).elementType=N,e.type=N,e.lanes=o,e;case T:return(e=Il(13,n,t,a)).type=T,e.elementType=T,e.lanes=o,e;case R:return(e=Il(19,n,t,a)).elementType=R,e.lanes=o,e;case K:return Bl(n,a,o,t);case I:return(e=Il(24,n,t,a)).elementType=I,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case P:s=10;break e;case O:s=9;break e;case _:s=11;break e;case A:s=14;break e;case j:s=16,r=null;break e;case D:s=22;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Il(s,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Wl(e,t,n,r){return(e=Il(7,e,r,t)).lanes=n,e}function Bl(e,t,n,r){return(e=Il(23,e,r,t)).elementType=K,e.lanes=n,e}function zl(e,t,n){return(e=Il(6,e,null,t)).lanes=n,e}function Vl(e,t,n){return(t=Il(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ft(0),this.expirationTimes=Ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ft(0),this.mutableSourceEagerHydrationData=null}function ql(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function $l(e,t,n,r){var a=t.current,o=il(),s=sl(a);e:if(n){t:{if(Ge(n=n._reactInternals)!==n||1!==n.tag)throw Error(i(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(pa(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(i(171))}if(1===n.tag){var c=n.type;if(pa(c)){n=ya(n,c,l);break e}}n=l}else n=la;return null===t.context?t.context=n:t.pendingContext=n,(t=io(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),so(a,t),ll(a,s,o),s}function Gl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Ql(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xl(e,t){Ql(e,t),(e=e.alternate)&&Ql(e,t)}function Yl(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Jl(e,t,null!=n&&!0===n.hydrate),t=Il(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ao(t),e[Qr]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var a=(t=r[e])._getVersion;a=a(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,a]:n.mutableSourceEagerHydrationData.push(t,a)}this._internalRoot=n}function Zl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ec(e,t,n,r,a){var o=n._reactRootContainer;if(o){var i=o._internalRoot;if("function"==typeof a){var s=a;a=function(){var e=Gl(i);s.call(e)}}$l(t,i,e,a)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Yl(e,0,t?{hydrate:!0}:void 0)}(n,r),i=o._internalRoot,"function"==typeof a){var l=a;a=function(){var e=Gl(i);l.call(e)}}hl((function(){$l(t,i,e,a)}))}return Gl(i)}function tc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zl(t))throw Error(i(200));return ql(e,t,null,n)}Ws=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||ua.current)ji=!0;else{if(0==(n&r)){switch(ji=!1,t.tag){case 3:Bi(t),zo();break;case 5:Ao(t);break;case 1:pa(t.type)&&ga(t);break;case 4:To(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var a=t.type._context;sa($a,a._currentValue),a._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?$i(e,t,n):(sa(Do,1&Do.current),null!==(t=Zi(e,t,n))?t.sibling:null);sa(Do,1&Do.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return Yi(e,t,n);t.flags|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),sa(Do,Do.current),r)break;return null;case 23:case 24:return t.lanes=0,Ii(e,t,n)}return Zi(e,t,n)}ji=0!=(16384&e.flags)}else ji=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=da(t,ca.current),to(t,n),a=ri(null,t,r,e,a,n),t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,pa(r)){var o=!0;ga(t)}else o=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,ao(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&po(t,r,s,e),a.updater=mo,t.stateNode=a,a._reactInternals=t,bo(t,r,e,n),t=Wi(null,t,r,!0,o,n)}else t.tag=0,Di(null,t,a,n),t=t.child;return t;case 16:a=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=(o=a._init)(a._payload),t.type=a,o=t.tag=function(e){if("function"==typeof e)return Ul(e)?1:0;if(null!=e){if((e=e.$$typeof)===_)return 11;if(e===A)return 14}return 2}(a),e=qa(a,e),o){case 0:t=Hi(null,t,a,e,n);break e;case 1:t=Fi(null,t,a,e,n);break e;case 11:t=Li(null,t,a,e,n);break e;case 14:t=Mi(null,t,a,qa(a.type,e),r,n);break e}throw Error(i(306,a,""))}return t;case 0:return r=t.type,a=t.pendingProps,Hi(e,t,r,a=t.elementType===r?a:qa(r,a),n);case 1:return r=t.type,a=t.pendingProps,Fi(e,t,r,a=t.elementType===r?a:qa(r,a),n);case 3:if(Bi(t),r=t.updateQueue,null===e||null===r)throw Error(i(282));if(r=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,oo(e,t),co(t,r,null,n),(r=t.memoizedState.element)===a)zo(),t=Zi(e,t,n);else{if((o=(a=t.stateNode).hydrate)&&(Ko=zr(t.stateNode.containerInfo.firstChild),Mo=t,o=Io=!0),o){if(null!=(e=a.mutableSourceEagerHydrationData))for(a=0;a<e.length;a+=2)(o=e[a])._workInProgressVersionPrimary=e[a+1],Vo.push(o);for(n=Co(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Di(e,t,r,n),zo();t=t.child}return t;case 5:return Ao(t),null===e&&Fo(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,Hr(r,a)?s=null:null!==o&&Hr(r,o)&&(t.flags|=16),Ui(e,t),Di(e,t,s,n),t.child;case 6:return null===e&&Fo(t),null;case 13:return $i(e,t,n);case 4:return To(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ko(t,null,r,n):Di(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Li(e,t,r,a=t.elementType===r?a:qa(r,a),n);case 7:return Di(e,t,t.pendingProps,n),t.child;case 8:case 12:return Di(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value;var l=t.type._context;if(sa($a,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0==(o=ir(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===a.children&&!ua.current){t=Zi(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&o)){1===l.tag&&((u=io(-1,n&-n)).tag=2,so(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),eo(l.return,n),c.lanes|=n;break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Di(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=(o=t.pendingProps).children,to(t,n),r=r(a=no(a,o.unstable_observedBits)),t.flags|=1,Di(e,t,r,n),t.child;case 14:return o=qa(a=t.type,t.pendingProps),Mi(e,t,a,o=qa(a.type,o),r,n);case 15:return Ki(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:qa(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pa(r)?(e=!0,ga(t)):e=!1,to(t,n),yo(t,r,a),bo(t,r,a,n),Wi(null,t,r,!0,e,n);case 19:return Yi(e,t,n);case 23:case 24:return Ii(e,t,n)}throw Error(i(156,t.tag))},Yl.prototype.render=function(e){$l(e,this._internalRoot,null,null)},Yl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;$l(null,e,null,(function(){t[Qr]=null}))},et=function(e){13===e.tag&&(ll(e,4,il()),Xl(e,4))},tt=function(e){13===e.tag&&(ll(e,67108864,il()),Xl(e,67108864))},nt=function(e){if(13===e.tag){var t=il(),n=sl(e);ll(e,n,t),Xl(e,n)}},rt=function(e,t){return t()},Ne=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ta(r);if(!a)throw Error(i(90));X(r),ne(r,a)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ie(e,!!n.multiple,t,!1)}},Ae=ml,je=function(e,t,n,r,a){var o=Ns;Ns|=4;try{return Wa(98,e.bind(null,t,n,r,a))}finally{0===(Ns=o)&&(Fs(),za())}},De=function(){0==(49&Ns)&&(function(){if(null!==Ys){var e=Ys;Ys=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ul(e,Ua())}))}za()}(),_l())},Le=function(e,t){var n=Ns;Ns|=2;try{return e(t)}finally{0===(Ns=n)&&(Fs(),za())}};var nc={Events:[Zr,ea,ta,Te,Re,_l,{current:!1}]},rc={findFiberByHostInstance:Yr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ac={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{va=oc.inject(ac),wa=oc}catch(he){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nc,t.createPortal=tc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw Error(i(268,Object.keys(e)))}return null===(e=Ye(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ns;if(0!=(48&n))return e(t);Ns|=1;try{if(e)return Wa(99,e.bind(null,t))}finally{Ns=n,za()}},t.hydrate=function(e,t,n){if(!Zl(t))throw Error(i(200));return ec(null,e,t,!0,n)},t.render=function(e,t,n){if(!Zl(t))throw Error(i(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zl(e))throw Error(i(40));return!!e._reactRootContainer&&(hl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[Qr]=null}))})),!0)},t.unstable_batchedUpdates=ml,t.unstable_createPortal=function(e,t){return tc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zl(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return ec(e,t,n,!1,r)},t.version="17.0.2"},935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(448)},408:(e,t,n)=>{"use strict";var r=n(418),a=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var i=60109,s=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var f=Symbol.for;a=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),i=f("react.provider"),s=f("react.context"),l=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),u=f("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h={};function y(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||m}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var v=b.prototype=new g;v.constructor=b,r(v,y.prototype),v.isPureReactComponent=!0;var w={current:null},E=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,o={},i=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)E.call(t,r)&&!S.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:a,type:e,key:i,ref:s,props:o,_owner:w.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var x=/\/+/g;function N(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case a:case o:l=!0}}if(l)return i=i(l=e),e=""===r?"."+N(l,0):r,Array.isArray(i)?(n="",null!=e&&(n=e.replace(x,"$&/")+"/"),P(i,t,n,"",(function(e){return e}))):null!=i&&(C(i)&&(i=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(x,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=r+N(s=e[c],c);l+=P(s,t,n,u,i)}else if("function"==typeof(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e)))for(e=u.call(e),c=0;!(s=e.next()).done;)l+=P(s=s.value,t,n,u=r+N(s,c++),i);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function O(e,t,n){if(null==e)return e;var r=[],a=0;return P(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function _(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var T={current:null};function R(){var e=T.current;if(null===e)throw Error(p(321));return e}var A={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error(p(143));return e}},t.Component=y,t.PureComponent=b,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,n){if(null==e)throw Error(p(267,e));var o=r({},e.props),i=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=w.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)E.call(t,u)&&!S.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){c=Array(u);for(var f=0;f<u;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:a,type:e.type,key:i,ref:s,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:_}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},294:(e,t,n)=>{"use strict";e.exports=n(408)},53:(e,t)=>{"use strict";var n,r,a,o;if("object"==typeof performance&&"function"==typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,u=null,f=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(f,0),e}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){u=setTimeout(e,t)},a=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var h=!1,y=null,g=-1,b=5,v=0;t.unstable_shouldYield=function(){return t.unstable_now()>=v},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,E=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();v=e+b;try{y(!0,e)?E.postMessage(null):(h=!1,y=null)}catch(e){throw E.postMessage(null),e}}else h=!1},n=function(e){y=e,h||(h=!0,E.postMessage(null))},r=function(e,n){g=d((function(){e(t.unstable_now())}),n)},a=function(){p(g),g=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,a=e[r];if(!(void 0!==a&&0<x(a,t)))break e;e[r]=t,e[n]=a,n=r}}function k(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length;r<a;){var o=2*(r+1)-1,i=e[o],s=o+1,l=e[s];if(void 0!==i&&0>x(i,n))void 0!==l&&0>x(l,i)?(e[r]=l,e[s]=n,r=s):(e[r]=i,e[o]=n,r=o);else{if(!(void 0!==l&&0>x(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function x(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var N=[],P=[],O=1,_=null,T=3,R=!1,A=!1,j=!1;function D(e){for(var t=k(P);null!==t;){if(null===t.callback)C(P);else{if(!(t.startTime<=e))break;C(P),t.sortIndex=t.expirationTime,S(N,t)}t=k(P)}}function L(e){if(j=!1,D(e),!A)if(null!==k(N))A=!0,n(M);else{var t=k(P);null!==t&&r(L,t.startTime-e)}}function M(e,n){A=!1,j&&(j=!1,a()),R=!0;var o=T;try{for(D(n),_=k(N);null!==_&&(!(_.expirationTime>n)||e&&!t.unstable_shouldYield());){var i=_.callback;if("function"==typeof i){_.callback=null,T=_.priorityLevel;var s=i(_.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?_.callback=s:_===k(N)&&C(N),D(n)}else C(N);_=k(N)}if(null!==_)var l=!0;else{var c=k(P);null!==c&&r(L,c.startTime-n),l=!1}return l}finally{_=null,T=o,R=!1}}var K=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){A||R||(A=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return k(N)},t.unstable_next=function(e){switch(T){case 1:case 2:case 3:var t=3;break;default:t=T}var n=T;T=t;try{return e()}finally{T=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=K,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=T;T=e;try{return t()}finally{T=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?s+i:s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:O++,callback:o,priorityLevel:e,startTime:i,expirationTime:l=i+l,sortIndex:-1},i>s?(e.sortIndex=i,S(P,e),null===k(N)&&e===k(P)&&(j?a():j=!0,r(L,i-s))):(e.sortIndex=l,S(N,e),A||R||(A=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=T;return function(){var n=T;T=t;try{return e.apply(this,arguments)}finally{T=n}}}},840:(e,t,n)=>{"use strict";e.exports=n(53)},154:(e,t,n)=>{var r;if("function"==typeof fetch&&(void 0!==n.g&&n.g.fetch?r=n.g.fetch:"undefined"!=typeof window&&window.fetch&&(r=window.fetch)),"undefined"==typeof window||void 0===window.document){var a=r||n(98);a.default&&(a=a.default),t.default=a,e.exports=t.default}}},o={};function i(e){var t=o[e];if(void 0!==t){if(void 0!==t.error)throw t.error;return t.exports}var n=o[e]={exports:{}};try{var r={id:e,module:n,factory:a[e],require:i};i.i.forEach((function(e){e(r)})),n=r.module,r.factory.call(n.exports,n,n.exports,r.require)}catch(e){throw n.error=e,e}return n.exports}i.m=a,i.c=o,i.i=[],t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var a=Object.create(null);i.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,i.d(a,o),a},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.hu=e=>e+"."+i.h()+".hot-update.js",i.hmrF=()=>"main."+i.h()+".hot-update.json",i.h=()=>"ccb843a436dcfe86bf4f",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},r="hutch:",i.l=(e,t,a,o)=>{if(n[e])n[e].push(t);else{var s,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var f=c[u];if(f.getAttribute("src")==e||f.getAttribute("data-webpack")==r+a){s=f;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",r+a),s.src=e),n[e]=[t];var d=(t,r)=>{s.onerror=s.onload=null,clearTimeout(p);var a=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((e=>e(r))),t)return t(r)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),l&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e,t,n,r,a={},o=i.c,s=[],l=[],c="idle";function u(e){c=e;for(var t=[],n=0;n<l.length;n++)t[n]=l[n].call(null,e);return Promise.all(t)}function f(e){if(0===t.length)return e();var n=t;return t=[],Promise.all(n).then((function(){return f(e)}))}function d(e){if("idle"!==c)throw new Error("check() is only allowed in idle status");return u("check").then(i.hmrM).then((function(r){return r?u("prepare").then((function(){var a=[];return t=[],n=[],Promise.all(Object.keys(i.hmrC).reduce((function(e,t){return i.hmrC[t](r.c,r.r,r.m,e,n,a),e}),[])).then((function(){return f((function(){return e?m(e):u("ready").then((function(){return a}))}))}))})):u(h()?"ready":"idle").then((function(){return null}))}))}function p(e){return"ready"!==c?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status")})):m(e)}function m(e){e=e||{},h();var t=n.map((function(t){return t(e)}));n=void 0;var a=t.map((function(e){return e.error})).filter(Boolean);if(a.length>0)return u("abort").then((function(){throw a[0]}));var o=u("dispose");t.forEach((function(e){e.dispose&&e.dispose()}));var i,s=u("apply"),l=function(e){i||(i=e)},c=[];return t.forEach((function(e){if(e.apply){var t=e.apply(l);if(t)for(var n=0;n<t.length;n++)c.push(t[n])}})),Promise.all([o,s]).then((function(){return i?u("fail").then((function(){throw i})):r?m(e).then((function(e){return c.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e})):u("idle").then((function(){return c}))}))}function h(){if(r)return n||(n=[]),Object.keys(i.hmrI).forEach((function(e){r.forEach((function(t){i.hmrI[e](t,n)}))})),r=void 0,!0}i.hmrD=a,i.i.push((function(m){var h,y,g,b,v=m.module,w=function(n,r){var a=o[r];if(!a)return n;var i=function(t){if(a.hot.active){if(o[t]){var i=o[t].parents;-1===i.indexOf(r)&&i.push(r)}else s=[r],e=t;-1===a.children.indexOf(t)&&a.children.push(t)}else console.warn("[HMR] unexpected require("+t+") from disposed module "+r),s=[];return n(t)},l=function(e){return{configurable:!0,enumerable:!0,get:function(){return n[e]},set:function(t){n[e]=t}}};for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&"e"!==d&&Object.defineProperty(i,d,l(d));return i.e=function(e){return function(e){switch(c){case"ready":return u("prepare"),t.push(e),f((function(){return u("ready")})),e;case"prepare":return t.push(e),e;default:return e}}(n.e(e))},i}(m.require,m.id);v.hot=(h=m.id,y=v,b={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:g=e!==h,_requireSelf:function(){s=y.parents.slice(),e=g?void 0:h,i(h)},active:!0,accept:function(e,t,n){if(void 0===e)b._selfAccepted=!0;else if("function"==typeof e)b._selfAccepted=e;else if("object"==typeof e&&null!==e)for(var r=0;r<e.length;r++)b._acceptedDependencies[e[r]]=t||function(){},b._acceptedErrorHandlers[e[r]]=n;else b._acceptedDependencies[e]=t||function(){},b._acceptedErrorHandlers[e]=n},decline:function(e){if(void 0===e)b._selfDeclined=!0;else if("object"==typeof e&&null!==e)for(var t=0;t<e.length;t++)b._declinedDependencies[e[t]]=!0;else b._declinedDependencies[e]=!0},dispose:function(e){b._disposeHandlers.push(e)},addDisposeHandler:function(e){b._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=b._disposeHandlers.indexOf(e);t>=0&&b._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,c){case"idle":n=[],Object.keys(i.hmrI).forEach((function(e){i.hmrI[e](h,n)})),u("ready");break;case"ready":Object.keys(i.hmrI).forEach((function(e){i.hmrI[e](h,n)}));break;case"prepare":case"check":case"dispose":case"apply":(r=r||[]).push(h)}},check:d,apply:p,status:function(e){if(!e)return c;l.push(e)},addStatusHandler:function(e){l.push(e)},removeStatusHandler:function(e){var t=l.indexOf(e);t>=0&&l.splice(t,1)},data:a[h]},e=void 0,b),v.parents=s,v.children=[],s=[],m.require=w})),i.hmrC={},i.hmrI={}})(),(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e,t,n,r,a={179:0},o={};function s(e){return new Promise(((t,n)=>{o[e]=t;var r=i.p+i.hu(e),a=new Error;i.l(r,(t=>{if(o[e]){o[e]=void 0;var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;a.message="Loading hot update chunk "+e+" failed.\n("+r+": "+i+")",a.name="ChunkLoadError",a.type=r,a.request=i,n(a)}}))}))}function l(o){function s(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var a=r.pop(),o=a.id,s=a.chain,c=i.c[o];if(c&&(!c.hot._selfAccepted||c.hot._selfInvalidated)){if(c.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:o};if(c.hot._main)return{type:"unaccepted",chain:s,moduleId:o};for(var u=0;u<c.parents.length;u++){var f=c.parents[u],d=i.c[f];if(d){if(d.hot._declinedDependencies[o])return{type:"declined",chain:s.concat([f]),moduleId:o,parentId:f};-1===t.indexOf(f)&&(d.hot._acceptedDependencies[o]?(n[f]||(n[f]=[]),l(n[f],[o])):(delete n[f],t.push(f),r.push({chain:s.concat([f]),id:f})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}i.f&&delete i.f.jsonpHmr,e=void 0;var c={},u=[],f={},d=function(e){console.warn("[HMR] unexpected require("+e.id+") to disposed module")};for(var p in t)if(i.o(t,p)){var m,h=t[p],y=!1,g=!1,b=!1,v="";switch((m=h?s(p):{type:"disposed",moduleId:p}).chain&&(v="\nUpdate propagation: "+m.chain.join(" -> ")),m.type){case"self-declined":o.onDeclined&&o.onDeclined(m),o.ignoreDeclined||(y=new Error("Aborted because of self decline: "+m.moduleId+v));break;case"declined":o.onDeclined&&o.onDeclined(m),o.ignoreDeclined||(y=new Error("Aborted because of declined dependency: "+m.moduleId+" in "+m.parentId+v));break;case"unaccepted":o.onUnaccepted&&o.onUnaccepted(m),o.ignoreUnaccepted||(y=new Error("Aborted because "+p+" is not accepted"+v));break;case"accepted":o.onAccepted&&o.onAccepted(m),g=!0;break;case"disposed":o.onDisposed&&o.onDisposed(m),b=!0;break;default:throw new Error("Unexception type "+m.type)}if(y)return{error:y};if(g)for(p in f[p]=h,l(u,m.outdatedModules),m.outdatedDependencies)i.o(m.outdatedDependencies,p)&&(c[p]||(c[p]=[]),l(c[p],m.outdatedDependencies[p]));b&&(l(u,[m.moduleId]),f[p]=d)}t=void 0;for(var w,E=[],S=0;S<u.length;S++){var k=u[S],C=i.c[k];C&&(C.hot._selfAccepted||C.hot._main)&&f[k]!==d&&!C.hot._selfInvalidated&&E.push({module:k,require:C.hot._requireSelf,errorHandler:C.hot._selfAccepted})}return{dispose:function(){var e;n.forEach((function(e){delete a[e]})),n=void 0;for(var t,r=u.slice();r.length>0;){var o=r.pop(),s=i.c[o];if(s){var l={},f=s.hot._disposeHandlers;for(S=0;S<f.length;S++)f[S].call(null,l);for(i.hmrD[o]=l,s.hot.active=!1,delete i.c[o],delete c[o],S=0;S<s.children.length;S++){var d=i.c[s.children[S]];d&&(e=d.parents.indexOf(o))>=0&&d.parents.splice(e,1)}}}for(var p in c)if(i.o(c,p)&&(s=i.c[p]))for(w=c[p],S=0;S<w.length;S++)t=w[S],(e=s.children.indexOf(t))>=0&&s.children.splice(e,1)},apply:function(e){for(var t in f)i.o(f,t)&&(i.m[t]=f[t]);for(var n=0;n<r.length;n++)r[n](i);for(var a in c)if(i.o(c,a)){var s=i.c[a];if(s){w=c[a];for(var l=[],d=[],p=[],m=0;m<w.length;m++){var h=w[m],y=s.hot._acceptedDependencies[h],g=s.hot._acceptedErrorHandlers[h];if(y){if(-1!==l.indexOf(y))continue;l.push(y),d.push(g),p.push(h)}}for(var b=0;b<l.length;b++)try{l[b].call(null,w)}catch(t){if("function"==typeof d[b])try{d[b](t,{moduleId:a,dependencyId:p[b]})}catch(n){o.onErrored&&o.onErrored({type:"accept-error-handler-errored",moduleId:a,dependencyId:p[b],error:n,originalError:t}),o.ignoreErrored||(e(n),e(t))}else o.onErrored&&o.onErrored({type:"accept-errored",moduleId:a,dependencyId:p[b],error:t}),o.ignoreErrored||e(t)}}}for(var v=0;v<E.length;v++){var S=E[v],k=S.module;try{S.require(k)}catch(t){if("function"==typeof S.errorHandler)try{S.errorHandler(t,{moduleId:k,module:i.c[k]})}catch(n){o.onErrored&&o.onErrored({type:"self-accept-error-handler-errored",moduleId:k,error:n,originalError:t}),o.ignoreErrored||(e(n),e(t))}else o.onErrored&&o.onErrored({type:"self-accept-errored",moduleId:k,error:t}),o.ignoreErrored||e(t)}}return u}}}self.webpackHotUpdatehutch=(e,n,a)=>{for(var s in n)i.o(n,s)&&(t[s]=n[s]);a&&r.push(a),o[e]&&(o[e](),o[e]=void 0)},i.hmrI.jsonp=function(e,a){t||(t={},r=[],n=[],a.push(l)),i.o(t,e)||(t[e]=i.m[e])},i.hmrC.jsonp=function(o,c,u,f,d,p){d.push(l),e={},n=c,t=u.reduce((function(e,t){return e[t]=!1,e}),{}),r=[],o.forEach((function(t){i.o(a,t)&&void 0!==a[t]&&(f.push(s(t)),e[t]=!0)})),i.f&&(i.f.jsonpHmr=function(t,n){e&&!i.o(e,t)&&i.o(a,t)&&void 0!==a[t]&&(n.push(s(t)),e[t]=!0)})},i.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(i.p+i.hmrF()).then((e=>{if(404!==e.status){if(!e.ok)throw new Error("Failed to fetch update manifest "+e.statusText);return e.json()}}))}})(),i(392)})();