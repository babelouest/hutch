/*! For license information please see hutch.js.LICENSE.txt */
(()=>{var e,t,n,a,r={786:(e,t,n)=>{"use strict";var a=n(294),r=n(935);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){i(e,t,n[t])}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?f(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var g={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},b=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(this,e),this.init(t,n)}return u(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||g,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,a){return a&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,s({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}}]),e}()),v=function(){function e(){l(this,e),this.observers={}}return u(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(this.observers[e]){var r=[].concat(this.observers[e]);r.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function w(){var e,t,n=new Promise((function(n,a){e=n,t=a}));return n.resolve=e,n.reject=t,n}function S(e){return null==e?"":""+e}function E(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function k(e,t,n){function a(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function r(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(r())return{};var i=a(o.shift());!e[i]&&n&&(e[i]=new n),e=Object.prototype.hasOwnProperty.call(e,i)?e[i]:{}}return r()?{}:{obj:e,k:a(o.shift())}}function C(e,t,n){var a=k(e,t,Object);a.obj[a.k]=n}function P(e,t){var n=k(e,t),a=n.obj,r=n.k;if(a)return a[r]}function N(e,t,n){var a=P(e,n);return void 0!==a?a:P(t,n)}function x(e,t,n){for(var a in t)"__proto__"!==a&&"constructor"!==a&&(a in e?"string"==typeof e[a]||e[a]instanceof String||"string"==typeof t[a]||t[a]instanceof String?n&&(e[a]=t[a]):x(e[a],t[a],n):e[a]=t[a]);return e}function O(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var _={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function T(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return _[e]})):e}var R="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,A=[" ",",","?","!",";"];function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var a=t.split(n),r=e,o=0;o<a.length;++o){if(!r)return;if("string"==typeof r[a[o]]&&o+1<a.length)return;if(void 0===r[a[o]]){for(var i=2,s=a.slice(o,o+i).join(n),l=r[s];void 0===l&&a.length>o+i;)i++,l=r[s=a.slice(o,o+i).join(n)];if(void 0===l)return;if("string"==typeof l)return l;if(s&&"string"==typeof l[s])return l[s];var c=a.slice(o+i).join(n);return c?D(l,c,n):void 0}r=r[a[o]]}return r}}var L=function(e){function t(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return l(this,t),n=d(this,p(t).call(this)),R&&v.call(f(n)),n.data=e||{},n.options=a,void 0===n.options.keySeparator&&(n.options.keySeparator="."),void 0===n.options.ignoreJSONStructure&&(n.options.ignoreJSONStructure=!0),n}return h(t,e),u(t,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0!==a.keySeparator?a.keySeparator:this.options.keySeparator,o=void 0!==a.ignoreJSONStructure?a.ignoreJSONStructure:this.options.ignoreJSONStructure,i=[e,t];n&&"string"!=typeof n&&(i=i.concat(n)),n&&"string"==typeof n&&(i=i.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(i=e.split("."));var s=P(this.data,i);return s||!o||"string"!=typeof n?s:D(this.data&&this.data[e]&&this.data[e][t],n,r)}},{key:"addResource",value:function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var i=[e,t];n&&(i=i.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=t,t=(i=e.split("."))[1]),this.addNamespaces(t),C(this.data,i,a),r.silent||this.emit("added",e,t,n,a)}},{key:"addResources",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in n)"string"!=typeof n[r]&&"[object Array]"!==Object.prototype.toString.apply(n[r])||this.addResource(e,t,r,n[r],{silent:!0});a.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,a,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},i=[e,t];e.indexOf(".")>-1&&(a=n,n=t,t=(i=e.split("."))[1]),this.addNamespaces(t);var l=P(this.data,i)||{};a?x(l,n,r):l=s({},l,n),C(this.data,i,l),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?s({},{},this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),t}(v),j={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,a,r){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,a,r))})),t}},M={},I=function(e){function t(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l(this,t),n=d(this,p(t).call(this)),R&&v.call(f(n)),E(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,f(n)),n.options=a,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=b.create("translator"),n}return h(t,e),u(t,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,r=t.ns||this.options.defaultNS,o=n&&e.indexOf(n)>-1,i=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var a=A.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===a.length)return!0;var r=new RegExp("(".concat(a.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),o=!r.test(e);if(!o){var i=e.indexOf(n);i>0&&!r.test(e.substring(0,i))&&(o=!0)}return o}(e,n,a));if(o&&!i){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:r};var l=e.split(n);(n!==a||n===a&&this.options.ns.indexOf(l[0])>-1)&&(r=l.shift()),e=l.join(a)}return"string"==typeof r&&(r=[r]),{key:e,namespaces:r}}},{key:"translate",value:function(e,n,a){var r=this;if("object"!==o(n)&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),n||(n={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var i=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,l=this.extractFromKey(e[e.length-1],n),c=l.key,u=l.namespaces,f=u[u.length-1],d=n.lng||this.language,p=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&"cimode"===d.toLowerCase()){if(p){var m=n.nsSeparator||this.options.nsSeparator;return f+m+c}return c}var h=this.resolve(e,n),y=h&&h.res,g=h&&h.usedKey||c,b=h&&h.exactUsedKey||c,v=Object.prototype.toString.apply(y),w=["[object Number]","[object Function]","[object RegExp]"],S=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,E=!this.i18nFormat||this.i18nFormat.handleAsObject,k="string"!=typeof y&&"boolean"!=typeof y&&"number"!=typeof y;if(E&&y&&k&&w.indexOf(v)<0&&("string"!=typeof S||"[object Array]"!==v)){if(!n.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,y,s({},n,{ns:u})):"key '".concat(c," (").concat(this.language,")' returned an object instead of string.");if(i){var C="[object Array]"===v,P=C?[]:{},N=C?b:g;for(var x in y)if(Object.prototype.hasOwnProperty.call(y,x)){var O="".concat(N).concat(i).concat(x);P[x]=this.translate(O,s({},n,{joinArrays:!1,ns:u})),P[x]===O&&(P[x]=y[x])}y=P}}else if(E&&"string"==typeof S&&"[object Array]"===v)(y=y.join(S))&&(y=this.extendTranslation(y,e,n,a));else{var _=!1,T=!1,R=void 0!==n.count&&"string"!=typeof n.count,A=t.hasDefaultValue(n),D=R?this.pluralResolver.getSuffix(d,n.count,n):"",L=n["defaultValue".concat(D)]||n.defaultValue;!this.isValidLookup(y)&&A&&(_=!0,y=L),this.isValidLookup(y)||(T=!0,y=c);var j=n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,M=j&&T?void 0:y,I=A&&L!==y&&this.options.updateMissing;if(T||_||I){if(this.logger.log(I?"updateKey":"missingKey",d,f,c,I?L:y),i){var K=this.resolve(c,s({},n,{keySeparator:!1}));K&&K.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var U=[],H=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&H&&H[0])for(var F=0;F<H.length;F++)U.push(H[F]);else"all"===this.options.saveMissingTo?U=this.languageUtils.toResolveHierarchy(n.lng||this.language):U.push(n.lng||this.language);var W=function(e,t,a){r.options.missingKeyHandler?r.options.missingKeyHandler(e,f,t,I?a:M,I,n):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(e,f,t,I?a:M,I,n),r.emit("missingKey",e,f,t,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&R?U.forEach((function(e){r.pluralResolver.getSuffixes(e).forEach((function(t){W([e],c+t,n["defaultValue".concat(t)]||L)}))})):W(U,c,L))}y=this.extendTranslation(y,e,n,h,a),T&&y===c&&this.options.appendNamespaceToMissingKey&&(y="".concat(f,":").concat(c)),(T||_)&&this.options.parseMissingKeyHandler&&(y=this.options.parseMissingKeyHandler(y))}return y}},{key:"extendTranslation",value:function(e,t,n,a,r){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,n,a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(s({},n,{interpolation:s({},this.options.interpolation,n.interpolation)}));var i,l=n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(l){var c=e.match(this.interpolator.nestingRegexp);i=c&&c.length}var u=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(u=s({},this.options.interpolation.defaultVariables,u)),e=this.interpolator.interpolate(e,u,n.lng||this.language,n),l){var f=e.match(this.interpolator.nestingRegexp);i<(f&&f.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return r&&r[0]===a[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(a[0]," in key: ").concat(t[0])),null):o.translate.apply(o,a.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,p="string"==typeof d?[d]:d;return null!=e&&p&&p.length&&!1!==n.applyPostProcessor&&(e=j.handle(p,e,t,this.options&&this.options.postProcessPassResolved?s({i18nResolved:a},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,a,r,o,i=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!i.isValidLookup(t)){var l=i.extractFromKey(e,s),c=l.key;n=c;var u=l.namespaces;i.options.fallbackNS&&(u=u.concat(i.options.fallbackNS));var f=void 0!==s.count&&"string"!=typeof s.count,d=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,p=s.lngs?s.lngs:i.languageUtils.toResolveHierarchy(s.lng||i.language,s.fallbackLng);u.forEach((function(e){i.isValidLookup(t)||(o=e,!M["".concat(p[0],"-").concat(e)]&&i.utils&&i.utils.hasLoadedNamespace&&!i.utils.hasLoadedNamespace(o)&&(M["".concat(p[0],"-").concat(e)]=!0,i.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!i.isValidLookup(t)){r=n;var o,l,u=c,p=[u];for(i.i18nFormat&&i.i18nFormat.addLookupKeys?i.i18nFormat.addLookupKeys(p,c,n,e,s):(f&&(o=i.pluralResolver.getSuffix(n,s.count,s)),f&&d&&p.push(u+o),d&&p.push(u+="".concat(i.options.contextSeparator).concat(s.context)),f&&p.push(u+=o));l=p.pop();)i.isValidLookup(t)||(a=l,t=i.getResource(n,e,l,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:a,usedLng:r,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,a):this.resourceStore.getResource(e,t,n,a)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),t}(v);function K(e){return e.charAt(0).toUpperCase()+e.slice(1)}var U=function(){function e(t){l(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=b.create("languageUtils")}return u(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=K(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=K(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=K(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var a=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(a)||(t=a)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var a=n.getLanguagePartFromCode(e);if(n.isSupportedCode(a))return t=a;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(a))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,a=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],o=function(e){e&&(n.isSupportedCode(e)?r.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),a.forEach((function(e){r.indexOf(e)<0&&o(n.formatLanguageCode(e))})),r}}]),e}(),H=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],F={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},W=["v1","v2","v3"],B={zero:0,one:1,two:2,few:3,many:4,other:5};function z(){var e={};return H.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:F[t.fc]}}))})),e}var J=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(this,e),this.languageUtils=t,this.options=n,this.logger=b.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=z()}return u(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this.getRule(e,n);return a?this.shouldUseIntlApi()?a.resolvedOptions().pluralCategories.sort((function(e,t){return B[e]-B[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):a.numbers.map((function(a){return t.getSuffix(e,a,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=this.getRule(e,n);return a?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(a.select(t)):this.getSuffixRetroCompatible(a,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,a=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),r=e.numbers[a];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===r?r="plural":1===r&&(r=""));var o=function(){return n.options.prepend&&r.toString()?n.options.prepend+r.toString():r.toString()};return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?"_plural_".concat(r.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}},{key:"shouldUseIntlApi",value:function(){return!W.includes(this.options.compatibilityJSON)}}]),e}(),V=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,e),this.logger=b.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return u(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:T,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?O(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?O(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?O(t.nestingPrefix):t.nestingPrefixEscaped||O("$t("),this.nestingSuffix=t.nestingSuffix?O(t.nestingSuffix):t.nestingSuffixEscaped||O(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,a){var r,o,i,l=this,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(e){return e.replace(/\$/g,"$$$$")}var f=function(e){if(e.indexOf(l.formatSeparator)<0){var r=N(t,c,e);return l.alwaysFormat?l.format(r,void 0,n,s({},a,t,{interpolationkey:e})):r}var o=e.split(l.formatSeparator),i=o.shift().trim(),u=o.join(l.formatSeparator).trim();return l.format(N(t,c,i),u,n,s({},a,t,{interpolationkey:i}))};this.resetRegExp();var d=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,p=a&&a.interpolation&&a.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return u(e)}},{regex:this.regexp,safeValue:function(e){return l.escapeValue?u(l.escape(e)):u(e)}}].forEach((function(t){for(i=0;r=t.regex.exec(e);){if(void 0===(o=f(r[1].trim())))if("function"==typeof d){var n=d(e,r,a);o="string"==typeof n?n:""}else{if(p){o=r[0];continue}l.logger.warn("missed to pass in variable ".concat(r[1]," for interpolating ").concat(e)),o=""}else"string"==typeof o||l.useRawValueToEscape||(o=S(o));var s=t.safeValue(o);if(e=e.replace(r[0],s),p?(t.regex.lastIndex+=s.length,t.regex.lastIndex-=r[0].length):t.regex.lastIndex=0,++i>=l.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,a,r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=s({},o);function l(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var a=e.split(new RegExp("".concat(n,"[ ]*{"))),r="{".concat(a[1]);e=a[0],r=(r=this.interpolate(r,i)).replace(/'/g,'"');try{i=JSON.parse(r),t&&(i=s({},t,i))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(r)}return delete i.defaultValue,e}for(i.applyPostProcessor=!1,delete i.defaultValue;n=this.nestingRegexp.exec(e);){var c=[],u=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var f=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=f.shift(),c=f,u=!0}if((a=t(l.call(this,n[1].trim(),i),i))&&n[0]===e&&"string"!=typeof a)return a;"string"!=typeof a&&(a=S(a)),a||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),a=""),u&&(a=c.reduce((function(e,t){return r.format(e,t,o.lng,s({},o,{interpolationkey:n[1].trim()}))}),a.trim())),e=e.replace(n[0],a),this.regexp.lastIndex=0}return e}}]),e}(),q=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,e),this.logger=b.create("formatter"),this.options=t,this.formats={number:function(e,t,n){return new Intl.NumberFormat(t,n).format(e)},currency:function(e,t,n){return new Intl.NumberFormat(t,s({},n,{style:"currency"})).format(e)},datetime:function(e,t,n){return new Intl.DateTimeFormat(t,s({},n)).format(e)},relativetime:function(e,t,n){return new Intl.RelativeTimeFormat(t,s({},n)).format(e,n.range||"day")},list:function(e,t,n){return new Intl.ListFormat(t,s({},n)).format(e)}},this.init(t)}return u(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=t.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e]=t}},{key:"format",value:function(e,t,n,a){var r=this;return t.split(this.formatSeparator).reduce((function(e,t){var o=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var a=e.split("(");t=a[0].toLowerCase().trim();var r=a[1].substring(0,a[1].length-1);"currency"===t&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):"relativetime"===t&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach((function(e){if(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split(":"),2),a=t[0],r=t[1];"false"===r.trim()&&(n[a.trim()]=!1),"true"===r.trim()&&(n[a.trim()]=!0),isNaN(r.trim())||(n[a.trim()]=parseInt(r.trim(),10)),n[a.trim()]||(n[a.trim()]=r.trim())}}))}return{formatName:t,formatOptions:n}}(t),i=o.formatName,l=o.formatOptions;if(r.formats[i]){var c=e;try{var u=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},f=u.locale||u.lng||a.locale||a.lng||n;c=r.formats[i](e,f,s({},l,a,u))}catch(e){r.logger.warn(e)}return c}return r.logger.warn("there was no format function for ".concat(i)),e}),e)}}]),e}(),G=function(e){function t(e,n,a){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return l(this,t),r=d(this,p(t).call(this)),R&&v.call(f(r)),r.backend=e,r.store=n,r.services=a,r.languageUtils=a.languageUtils,r.options=o,r.logger=b.create("backendConnector"),r.state={},r.queue=[],r.backend&&r.backend.init&&r.backend.init(a,o.backend,o),r}return h(t,e),u(t,[{key:"queueLoad",value:function(e,t,n,a){var r=this,o=[],i=[],s=[],l=[];return e.forEach((function(e){var a=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&r.store.hasResourceBundle(e,t)?r.state[s]=2:r.state[s]<0||(1===r.state[s]?i.indexOf(s)<0&&i.push(s):(r.state[s]=1,a=!1,i.indexOf(s)<0&&i.push(s),o.indexOf(s)<0&&o.push(s),l.indexOf(t)<0&&l.push(t)))})),a||s.push(e)})),(o.length||i.length)&&this.queue.push({pending:i,loaded:{},errors:[],callback:a}),{toLoad:o,pending:i,toLoadLanguages:s,toLoadNamespaces:l}}},{key:"loaded",value:function(e,t,n){var a=e.split("|"),r=a[0],o=a[1];t&&this.emit("failedLoading",r,o,t),n&&this.store.addResourceBundle(r,o,n),this.state[e]=t?-1:2;var i={};this.queue.forEach((function(n){!function(e,t,n,a){var r=k(e,t,Object),o=r.obj,i=r.k;o[i]=o[i]||[],o[i].push(n)}(n.loaded,[r],o),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(e){i[e]||(i[e]=[]),n.loaded[e].length&&n.loaded[e].forEach((function(t){i[e].indexOf(t)<0&&i[e].push(t)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",i),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var a=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,i=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,(function(s,l){s&&l&&r<5?setTimeout((function(){a.read.call(a,e,t,n,r+1,2*o,i)}),o):i(s,l)})):i(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,a,r);if(!o.toLoad.length)return o.pending.length||r(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=e.split("|"),r=a[0],o=a[1];this.read(r,o,"read",void 0,void 0,(function(a,i){a&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(r," failed"),a),!a&&i&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(r),i),t.loaded(e,a,i)}))}},{key:"saveMissing",value:function(e,t,n,a,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,a,null,s({},o,{isUpdate:r})),e&&e[0]&&this.store.addResource(e[0],t,n,a))}}]),t}(v);function Q(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===o(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===o(e[2])||"object"===o(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,a){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function X(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Y(){}function Z(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){"function"==typeof e[t]&&(e[t]=e[t].bind(e))}))}const ee=new(function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(l(this,t),e=d(this,p(t).call(this)),R&&v.call(f(e)),e.options=X(n),e.services={},e.logger=b,e.modules={external:[]},Z(f(e)),a&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,a),d(e,f(e));setTimeout((function(){e.init(n,a)}),0)}return e}return h(t,e),u(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var a=Q();function r(e){return e?"function"==typeof e?new e:e:null}if(this.options=s({},a,this.options,X(t)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var o;this.modules.logger?b.init(r(this.modules.logger),this.options):b.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!=typeof Intl&&(o=q);var i=new U(this.options);this.store=new L(this.options.resources,this.options);var l=this.services;l.logger=b,l.resourceStore=this.store,l.languageUtils=i,l.pluralResolver=new J(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==a.interpolation.format||(l.formatter=r(o),l.formatter.init(l,this.options),this.options.interpolation.format=l.formatter.format.bind(l.formatter)),l.interpolator=new V(this.options),l.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},l.backendConnector=new G(r(this.modules.backend),l.resourceStore,l,this.options),l.backendConnector.on("*",(function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];e.emit.apply(e,[t].concat(a))})),this.modules.languageDetector&&(l.languageDetector=r(this.modules.languageDetector),l.languageDetector.init(l,this.options.detection,this.options)),this.modules.i18nFormat&&(l.i18nFormat=r(this.modules.i18nFormat),l.i18nFormat.init&&l.i18nFormat.init(this)),this.translator=new I(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];e.emit.apply(e,[t].concat(a))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=Y),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&"dev"!==c[0]&&(this.options.lng=c[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var u=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];u.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var f=["addResource","addResources","addResourceBundle","removeResourceBundle"];f.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var d=w(),p=function(){var t=function(t,a){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),d.resolve(a),n(t,a)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?p():setTimeout(p,0),d}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y,a=n,r="string"==typeof e?e:this.language;if("function"==typeof e&&(a=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return a();var o=[],i=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};if(r)i(r);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(e){return i(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return i(e)})),this.services.backendConnector.load(o,this.options.ns,a)}else a(null)}},{key:"reloadResources",value:function(e,t,n){var a=w();return e||(e=this.languages),t||(t=this.options.ns),n||(n=Y),this.services.backendConnector.reload(e,t,(function(e){a.resolve(),n(e)})),a}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&j.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var a=w();this.emit("languageChanging",e);var r=function(e){if(n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<n.languages.length;t++){var a=n.languages[t];if(!(["cimode","dev"].indexOf(a)>-1)&&n.store.hasLanguageSomeTranslations(a)){n.resolvedLanguage=a;break}}},o=function(o){e||o||!n.services.languageDetector||(o=[]);var i="string"==typeof o?o:n.services.languageUtils.getBestMatchFromCodes(o);i&&(n.language||r(i),n.translator.language||n.translator.changeLanguage(i),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(i)),n.loadResources(i,(function(e){!function(e,o){o?(r(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit("languageChanged",o),n.logger.log("languageChanged",o)):n.isLanguageChangingTo=void 0,a.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,i)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),a}},{key:"getFixedT",value:function(e,t,n){var a=this,r=function e(t,r){var i;if("object"!==o(r)){for(var l=arguments.length,c=new Array(l>2?l-2:0),u=2;u<l;u++)c[u-2]=arguments[u];i=a.options.overloadTranslationOptionHandler([t,r].concat(c))}else i=s({},r);i.lng=i.lng||e.lng,i.lngs=i.lngs||e.lngs,i.ns=i.ns||e.ns;var f=a.options.keySeparator||".",d=n?"".concat(n).concat(f).concat(t):t;return a.t(d,i)};return"string"==typeof e?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=n,r}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var a=this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===a.toLowerCase())return!0;var i=function(e,n){var a=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===a||2===a};if(n.precheck){var s=n.precheck(this,i);if(void 0!==s)return s}return!!this.hasResourceBundle(a,e)||!this.services.backendConnector.backend||!(!i(a,e)||r&&!i(o,e))}},{key:"loadNamespaces",value:function(e,t){var n=this,a=w();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){a.resolve(),t&&t(e)})),a):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=w();"string"==typeof e&&(e=[e]);var a=this.options.preload||[],r=e.filter((function(e){return a.indexOf(e)<0}));return r.length?(this.options.preload=a.concat(r),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){return e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}},{key:"createInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new t(e,n)}},{key:"cloneInstance",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y,r=s({},this.options,n,{isClone:!0}),o=new t(r),i=["store","services","language"];return i.forEach((function(t){o[t]=e[t]})),o.services=s({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new I(o.services,o.options),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];o.emit.apply(o,[e].concat(n))})),o.init(r,a),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),t}(v));function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ne=[],ae=ne.forEach,re=ne.slice;function oe(e){return ae.call(re.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}function ie(){return"function"==typeof XMLHttpRequest||"object"===("undefined"==typeof XMLHttpRequest?"undefined":te(XMLHttpRequest))}var se,le,ce,ue=n(579),fe=n.t(ue,2);function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"function"==typeof fetch&&("undefined"!=typeof global&&global.fetch?se=global.fetch:"undefined"!=typeof window&&window.fetch&&(se=window.fetch)),ie&&("undefined"!=typeof global&&global.XMLHttpRequest?le=global.XMLHttpRequest:"undefined"!=typeof window&&window.XMLHttpRequest&&(le=window.XMLHttpRequest)),"function"==typeof ActiveXObject&&("undefined"!=typeof global&&global.ActiveXObject?ce=global.ActiveXObject:"undefined"!=typeof window&&window.ActiveXObject&&(ce=window.ActiveXObject)),se||!fe||le||ce||(se=ue||fe),"function"!=typeof se&&(se=void 0);var pe=function(e,t){if(t&&"object"===de(t)){var n="";for(var a in t)n+="&"+encodeURIComponent(a)+"="+encodeURIComponent(t[a]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e};const me=function(e,t,n,a){return"function"==typeof n&&(a=n,n=void 0),a=a||function(){},se?function(e,t,n,a){e.queryStringParams&&(t=pe(t,e.queryStringParams));var r=oe({},"function"==typeof e.customHeaders?e.customHeaders():e.customHeaders);n&&(r["Content-Type"]="application/json"),se(t,oe({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:r},"function"==typeof e.requestOptions?e.requestOptions(n):e.requestOptions)).then((function(e){if(!e.ok)return a(e.statusText||"Error",{status:e.status});e.text().then((function(t){a(null,{status:e.status,data:t})})).catch(a)})).catch(a)}(e,t,n,a):ie||"function"==typeof ActiveXObject?function(e,t,n,a){n&&"object"===de(n)&&(n=pe("",n).slice(1)),e.queryStringParams&&(t=pe(t,e.queryStringParams));try{var r;(r=le?new le:new ce("MSXML2.XMLHTTP.3.0")).open(n?"POST":"GET",t,1),e.crossDomain||r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.withCredentials=!!e.withCredentials,n&&r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.overrideMimeType&&r.overrideMimeType("application/json");var o=e.customHeaders;if(o="function"==typeof o?o():o)for(var i in o)r.setRequestHeader(i,o[i]);r.onreadystatechange=function(){r.readyState>3&&a(r.status>=400?r.statusText:null,{status:r.status,data:r.responseText})},r.send(n)}catch(e){console&&console.log(e)}}(e,t,n,a):void 0};function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ye(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var ge=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(e){return JSON.parse(e)},stringify:JSON.stringify,parsePayload:function(e,t,n){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n||"")},request:me,reloadInterval:"undefined"==typeof window&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},be=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};he(this,e),this.services=t,this.options=n,this.allOptions=a,this.type="backend",this.init(t,n,a)}var t,n;return t=e,(n=[{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=oe(n,this.options||{},ge()),this.allOptions=a,this.services&&this.options.reloadInterval&&setInterval((function(){return t.reload()}),this.options.reloadInterval)}},{key:"readMulti",value:function(e,t,n){this._readAny(e,e,t,t,n)}},{key:"read",value:function(e,t,n){this._readAny([e],e,[t],t,n)}},{key:"_readAny",value:function(e,t,n,a,r){var o,i=this,s=this.options.loadPath;"function"==typeof this.options.loadPath&&(s=this.options.loadPath(e,n)),(s=function(e){return!!e&&"function"==typeof e.then}(o=s)?o:Promise.resolve(o)).then((function(o){var s=i.services.interpolator.interpolate(o,{lng:e.join("+"),ns:n.join("+")});i.loadUrl(s,r,t,a)}))}},{key:"loadUrl",value:function(e,t,n,a){var r=this;this.options.request(this.options,e,void 0,(function(o,i){if(i&&(i.status>=500&&i.status<600||!i.status))return t("failed loading "+e+"; status code: "+i.status,!0);if(i&&i.status>=400&&i.status<500)return t("failed loading "+e+"; status code: "+i.status,!1);if(!i&&o&&o.message&&o.message.indexOf("Failed to fetch")>-1)return t("failed loading "+e+": "+o.message,!0);if(o)return t(o,!1);var s,l;try{s="string"==typeof i.data?r.options.parse(i.data,n,a):i.data}catch(t){l="failed parsing "+e+" to json"}if(l)return t(l,!1);t(null,s)}))}},{key:"create",value:function(e,t,n,a,r){var o=this;if(this.options.addPath){"string"==typeof e&&(e=[e]);var i=this.options.parsePayload(t,n,a),s=0,l=[],c=[];e.forEach((function(n){var a=o.options.addPath;"function"==typeof o.options.addPath&&(a=o.options.addPath(n,t));var u=o.services.interpolator.interpolate(a,{lng:n,ns:t});o.options.request(o.options,u,i,(function(t,n){s+=1,l.push(t),c.push(n),s===e.length&&r&&r(l,c)}))}))}}},{key:"reload",value:function(){var e=this,t=this.services,n=t.backendConnector,a=t.languageUtils,r=t.logger,o=n.language;if(!o||"cimode"!==o.toLowerCase()){var i=[],s=function(e){a.toResolveHierarchy(e).forEach((function(e){i.indexOf(e)<0&&i.push(e)}))};s(o),this.allOptions.preload&&this.allOptions.preload.forEach((function(e){return s(e)})),i.forEach((function(t){e.allOptions.ns.forEach((function(e){n.read(t,e,"read",null,null,(function(a,o){a&&r.warn("loading namespace ".concat(e," for language ").concat(t," failed"),a),!a&&o&&r.log("loaded namespace ".concat(e," for language ").concat(t),o),n.loaded("".concat(t,"|").concat(e),a,o)}))}))}))}}}])&&ye(t.prototype,n),e}();be.type="backend";const ve=be;function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var Ee=[],ke=Ee.forEach,Ce=Ee.slice;function Pe(e){return ke.call(Ce.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}var Ne=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,xe=function(e,t,n){var a=n||{};a.path=a.path||"/";var r=e+"="+encodeURIComponent(t);if(a.maxAge>0){var o=a.maxAge-0;if(isNaN(o))throw new Error("maxAge should be a Number");r+="; Max-Age="+Math.floor(o)}if(a.domain){if(!Ne.test(a.domain))throw new TypeError("option domain is invalid");r+="; Domain="+a.domain}if(a.path){if(!Ne.test(a.path))throw new TypeError("option path is invalid");r+="; Path="+a.path}if(a.expires){if("function"!=typeof a.expires.toUTCString)throw new TypeError("option expires is invalid");r+="; Expires="+a.expires.toUTCString()}if(a.httpOnly&&(r+="; HttpOnly"),a.secure&&(r+="; Secure"),a.sameSite)switch("string"==typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r},Oe={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!=typeof document){var n=function(e){for(var t=e+"=",n=document.cookie.split(";"),a=0;a<n.length;a++){for(var r=n[a];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null}(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+60*n*1e3)),a&&(r.domain=a),document.cookie=xe(e,encodeURIComponent(t),r)}(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},_e={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window)for(var n=window.location.search.substring(1).split("&"),a=0;a<n.length;a++){var r=n[a].indexOf("=");r>0&&n[a].substring(0,r)===e.lookupQuerystring&&(t=n[a].substring(r+1))}return t}},Te=null,Re=function(){if(null!==Te)return Te;try{Te="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){Te=!1}return Te},Ae={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&Re()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&Re()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},De=null,Le=function(){if(null!==De)return De;try{De="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){De=!1}return De},je={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&Le()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&Le()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},Me={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},Ie={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},Ke={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},Ue={name:"subdomain",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);n instanceof Array&&(t="number"==typeof e.lookupFromSubdomainIndex?n[e.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):n[0].replace("http://","").replace("https://","").replace(".",""))}return t}},He=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};we(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}var t,n;return t=e,(n=[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=Pe(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(Oe),this.addDetector(_e),this.addDetector(Ae),this.addDetector(je),this.addDetector(Me),this.addDetector(Ie),this.addDetector(Ke),this.addDetector(Ue)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];return e.forEach((function(e){if(t.detectors[e]){var a=t.detectors[e].lookup(t.options);a&&"string"==typeof a&&(a=[a]),a&&(n=n.concat(a))}})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)})))}}])&&Se(t.prototype,n),e}();He.type="languageDetector";const Fe=He,We=new TextEncoder,Be=new TextDecoder,ze=2**32;function Je(...e){const t=e.reduce(((e,{length:t})=>e+t),0),n=new Uint8Array(t);let a=0;return e.forEach((e=>{n.set(e,a),a+=e.length})),n}function Ve(e,t){return Je(We.encode(e),new Uint8Array([0]),t)}function qe(e,t,n){if(t<0||t>=ze)throw new RangeError(`value must be >= 0 and <= 4294967295. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],n)}function $e(e){const t=Math.floor(e/ze),n=e%ze,a=new Uint8Array(8);return qe(a,t,0),qe(a,n,4),a}function Ge(e){const t=new Uint8Array(4);return qe(t,e),t}function Qe(e){return Je(Ge(e.length),e)}function Xe(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;throw new Error("unable to locate global object")}const Ye=Xe();function Ze(){try{return void 0!==Xe().WebSocketPair}catch(e){return!1}}function et(){var e,t;try{return void 0!==(null===(t=null===(e=Xe().process)||void 0===e?void 0:e.versions)||void 0===t?void 0:t.node)}catch(e){return!1}}const tt=e=>(e=>{let t=e;"string"==typeof t&&(t=We.encode(t));const n=[];for(let e=0;e<t.length;e+=32768)n.push(String.fromCharCode.apply(null,t.subarray(e,e+32768)));return Ye.btoa(n.join(""))})(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),nt=e=>{let t=e;t instanceof Uint8Array&&(t=Be.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return(e=>new Uint8Array(Ye.atob(e).split("").map((e=>e.charCodeAt(0)))))(t)}catch(e){throw new TypeError("The input to be decoded is not correctly encoded.")}},at=Ye.crypto;function rt(e){return void 0!==Ye.CryptoKey&&null!=e&&e instanceof Ye.CryptoKey}class ot extends Error{constructor(e){var t;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,null===(t=Error.captureStackTrace)||void 0===t||t.call(Error,this,this.constructor)}static get code(){return"ERR_JOSE_GENERIC"}}class it extends ot{constructor(e,t="unspecified",n="unspecified"){super(e),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=t,this.reason=n}static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}}class st extends ot{constructor(e,t="unspecified",n="unspecified"){super(e),this.code="ERR_JWT_EXPIRED",this.claim=t,this.reason=n}static get code(){return"ERR_JWT_EXPIRED"}}class lt extends ot{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}class ct extends ot{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class ut extends ot{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}}class ft extends ot{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}}class dt extends ot{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class pt extends ot{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}class mt extends ot{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}static get code(){return"ERR_JWK_INVALID"}}class ht extends ot{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}}class yt extends ot{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}}class gt extends ot{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}class bt extends ot{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}}class vt extends ot{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}const wt=async e=>{var t,n;const{algorithm:a,keyUsages:r}=function(e){let t,n;switch(e.kty){case"oct":switch(e.alg){case"HS256":case"HS384":case"HS512":t={name:"HMAC",hash:{name:`SHA-${e.alg.substr(-3)}`}},n=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new ct(`${e.alg} keys cannot be imported as CryptoKey instances`);case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":t={name:"AES-GCM"},n=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":t={name:"AES-KW"},n=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":t={name:"PBKDF2"},n=["deriveBits"];break;default:throw new ct('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:{name:`SHA-${e.alg.substr(-3)}`}},n=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:{name:`SHA-${e.alg.substr(-3)}`}},n=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:{name:`SHA-${parseInt(e.alg.substr(-3),10)||1}`}},n=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new ct('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},n=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},n=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},n=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},n=e.d?["deriveBits"]:[];break;default:throw new ct('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case(Ze()||et())&&"OKP":if("EdDSA"!==e.alg)throw new ct('Invalid or unsupported JWK "alg" (Algorithm) Parameter value');switch(e.crv){case"Ed25519":t={name:"NODE-ED25519",namedCurve:"NODE-ED25519"},n=e.d?["sign"]:["verify"];break;case et()&&"Ed448":t={name:"NODE-ED448",namedCurve:"NODE-ED448"},n=e.d?["sign"]:["verify"];break;default:throw new ct('Invalid or unsupported JWK "crv" (Subtype of Key Pair) Parameter value')}break;default:throw new ct('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:n}}(e),o=[a,null!==(t=e.ext)&&void 0!==t&&t,null!==(n=e.key_ops)&&void 0!==n?n:r];if("PBKDF2"===a.name)return at.subtle.importKey("raw",nt(e.k),...o);const i={...e};return delete i.alg,at.subtle.importKey("jwk",i,...o)};function St(e){if("object"!=typeof(t=e)||null===t||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}async function Et(e,t,n){if(!St(e))throw new TypeError("JWK must be an object");if(t||(t=e.alg),"string"!=typeof t||!t)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');switch(e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return null!=n||(n=!0!==e.ext),n?wt({...e,alg:t,ext:!1}):nt(e.k);case"RSA":if(void 0!==e.oth)throw new ct('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return wt({...e,alg:t});default:throw new ct('Unsupported "kty" (Key Type) Parameter value')}}async function kt(e,t,n){return Et(e,t,n)}const Ct=(e,t)=>{if(e.startsWith("HS")){const n=parseInt(e.substr(-3),10),{length:a}=t.algorithm;if("number"!=typeof a||a<n)throw new TypeError(`${e} requires symmetric keys to be ${n} bits or larger`)}if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:n}=t.algorithm;if("number"!=typeof n||n<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}},Pt=(e,...t)=>{let n="Key must be ";if(t.length>2){const e=t.pop();n+=`one of type ${t.join(", ")}, or ${e}.`}else 2===t.length?n+=`one of type ${t[0]} or ${t[1]}.`:n+=`of type ${t[0]}.`;return null==e?n+=` Received ${e}`:"function"==typeof e&&e.name?n+=` Received function ${e.name}`:"object"==typeof e&&null!=e&&e.constructor&&e.constructor.name&&(n+=` Received an instance of ${e.constructor.name}`),n},Nt=(...e)=>{const t=e.filter(Boolean);if(0===t.length||1===t.length)return!0;let n;for(const e of t){const t=Object.keys(e);if(n&&0!==n.size)for(const e of t){if(n.has(e))return!1;n.add(e)}else n=new Set(t)}return!0},xt=e=>rt(e),Ot=["CryptoKey"],_t=(e,t,n)=>{e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?(e=>{if(!(e instanceof Uint8Array)){if(!xt(e))throw new TypeError(Pt(e,...Ot,"Uint8Array"));if("secret"!==e.type)throw new TypeError(`${Ot.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}})(t):((e,t)=>{if(!xt(e))throw new TypeError(Pt(e,...Ot));if("secret"===e.type)throw new TypeError(`${Ot.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===t&&"public"===e.type)throw new TypeError(`${Ot.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===t&&"public"===e.type)throw new TypeError(`${Ot.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(e.algorithm&&"verify"===t&&"private"===e.type)throw new TypeError(`${Ot.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(e.algorithm&&"encrypt"===t&&"private"===e.type)throw new TypeError(`${Ot.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)})(t,n)},Tt=function(e,t,n,a,r){if(void 0!==r.crit&&void 0===a.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!a||void 0===a.crit)return new Set;if(!Array.isArray(a.crit)||0===a.crit.length||a.crit.some((e=>"string"!=typeof e||0===e.length)))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let o;o=void 0!==n?new Map([...Object.entries(n),...t.entries()]):t;for(const t of a.crit){if(!o.has(t))throw new ct(`Extension Header Parameter "${t}" is not recognized`);if(void 0===r[t])throw new e(`Extension Header Parameter "${t}" is missing`);if(o.get(t)&&void 0===a[t])throw new e(`Extension Header Parameter "${t}" MUST be integrity protected`)}return new Set(a.crit)},Rt=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some((e=>"string"!=typeof e))))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)},At=async function(e,t,n){var a;if(!St(e))throw new dt("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new dt('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new dt("JWS Protected Header incorrect type");if(void 0===e.payload)throw new dt("JWS Payload missing");if("string"!=typeof e.signature)throw new dt("JWS Signature missing or incorrect type");if(void 0!==e.header&&!St(e.header))throw new dt("JWS Unprotected Header incorrect type");let r={};if(e.protected){const t=nt(e.protected);try{r=JSON.parse(Be.decode(t))}catch(e){throw new dt("JWS Protected Header is invalid")}}if(!Nt(r,e.header))throw new dt("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const o={...r,...e.header};let i=!0;if(Tt(dt,new Map([["b64",!0]]),null==n?void 0:n.crit,r,o).has("b64")&&(i=r.b64,"boolean"!=typeof i))throw new dt('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:s}=o;if("string"!=typeof s||!s)throw new dt('JWS "alg" (Algorithm) Header Parameter missing or invalid');const l=n&&Rt("algorithms",n.algorithms);if(l&&!l.has(s))throw new lt('"alg" (Algorithm) Header Parameter not allowed');if(i){if("string"!=typeof e.payload)throw new dt("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new dt("JWS Payload must be a string or an Uint8Array instance");let c=!1;"function"==typeof t&&(t=await t(r,e),c=!0),_t(s,t,"verify");const u=Je(We.encode(null!==(a=e.protected)&&void 0!==a?a:""),We.encode("."),"string"==typeof e.payload?We.encode(e.payload):e.payload),f=nt(e.signature);if(!await(async(e,t,n,a)=>{const r=await function(e,t,n){if(rt(t))return t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(Pt(t,"CryptoKey"));return at.subtle.importKey("raw",t,{hash:{name:`SHA-${e.substr(-3)}`},name:"HMAC"},!1,["verify"])}throw new TypeError(Pt(t,"CryptoKey","Uint8Array"))}(e,t);Ct(e,r);const o=function(e,t){switch(e){case"HS256":return{hash:{name:"SHA-256"},name:"HMAC"};case"HS384":return{hash:{name:"SHA-384"},name:"HMAC"};case"HS512":return{hash:{name:"SHA-512"},name:"HMAC"};case"PS256":return{hash:{name:"SHA-256"},name:"RSA-PSS",saltLength:32};case"PS384":return{hash:{name:"SHA-384"},name:"RSA-PSS",saltLength:48};case"PS512":return{hash:{name:"SHA-512"},name:"RSA-PSS",saltLength:64};case"RS256":return{hash:{name:"SHA-256"},name:"RSASSA-PKCS1-v1_5"};case"RS384":return{hash:{name:"SHA-384"},name:"RSASSA-PKCS1-v1_5"};case"RS512":return{hash:{name:"SHA-512"},name:"RSASSA-PKCS1-v1_5"};case"ES256":return{hash:{name:"SHA-256"},name:"ECDSA",namedCurve:"P-256"};case"ES384":return{hash:{name:"SHA-384"},name:"ECDSA",namedCurve:"P-384"};case"ES512":return{hash:{name:"SHA-512"},name:"ECDSA",namedCurve:"P-521"};case(Ze()||et())&&"EdDSA":return{name:t,namedCurve:t};default:throw new ct(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}(e,r.algorithm.namedCurve);try{return await at.subtle.verify(o,r,n,a)}catch(e){return!1}})(s,t,f,u))throw new vt;let d;d=i?nt(e.payload):"string"==typeof e.payload?We.encode(e.payload):e.payload;const p={payload:d};return void 0!==e.protected&&(p.protectedHeader=r),void 0!==e.header&&(p.unprotectedHeader=e.header),c?{...p,key:t}:p},Dt=e=>Math.floor(e.getTime()/1e3),Lt=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,jt=e=>{const t=Lt.exec(e);if(!t)throw new TypeError("Invalid time period format");const n=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(n);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(60*n);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(3600*n);case"day":case"days":case"d":return Math.round(86400*n);case"week":case"weeks":case"w":return Math.round(604800*n);default:return Math.round(31557600*n)}},Mt=e=>e.toLowerCase().replace(/^application\//,""),It=(e,t,n={})=>{const{typ:a}=n;if(a&&("string"!=typeof e.typ||Mt(e.typ)!==Mt(a)))throw new it('unexpected "typ" JWT header value',"typ","check_failed");let r;try{r=JSON.parse(Be.decode(t))}catch(e){}if(!St(r))throw new pt("JWT Claims Set must be a top-level JSON object");const{issuer:o}=n;if(o&&!(Array.isArray(o)?o:[o]).includes(r.iss))throw new it('unexpected "iss" claim value',"iss","check_failed");const{subject:i}=n;if(i&&r.sub!==i)throw new it('unexpected "sub" claim value',"sub","check_failed");const{audience:s}=n;if(s&&(c="string"==typeof s?[s]:s,!("string"==typeof(l=r.aud)?c.includes(l):Array.isArray(l)&&c.some(Set.prototype.has.bind(new Set(l))))))throw new it('unexpected "aud" claim value',"aud","check_failed");var l,c;let u;switch(typeof n.clockTolerance){case"string":u=jt(n.clockTolerance);break;case"number":u=n.clockTolerance;break;case"undefined":u=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:f}=n,d=Dt(f||new Date);if(void 0!==r.iat||n.maxTokenAge){if("number"!=typeof r.iat)throw new it('"iat" claim must be a number',"iat","invalid");if(void 0===r.exp&&r.iat>d+u)throw new it('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}if(void 0!==r.nbf){if("number"!=typeof r.nbf)throw new it('"nbf" claim must be a number',"nbf","invalid");if(r.nbf>d+u)throw new it('"nbf" claim timestamp check failed',"nbf","check_failed")}if(void 0!==r.exp){if("number"!=typeof r.exp)throw new it('"exp" claim must be a number',"exp","invalid");if(r.exp<=d-u)throw new st('"exp" claim timestamp check failed',"exp","check_failed")}if(n.maxTokenAge){const e=d-r.iat;if(e-u>("number"==typeof n.maxTokenAge?n.maxTokenAge:jt(n.maxTokenAge)))throw new st('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(e<0-u)throw new it('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return r};async function Kt(e,t,n){var a;const r=await async function(e,t,n){if(e instanceof Uint8Array&&(e=Be.decode(e)),"string"!=typeof e)throw new dt("Compact JWS must be a string or Uint8Array");const{0:a,1:r,2:o,length:i}=e.split(".");if(3!==i)throw new dt("Invalid Compact JWS");const s=await At({payload:r||void 0,protected:a||void 0,signature:o||void 0},t,n),l={payload:s.payload,protectedHeader:s.protectedHeader};return"function"==typeof t?{...l,key:s.key}:l}(e,t,n);if((null===(a=r.protectedHeader.crit)||void 0===a?void 0:a.includes("b64"))&&!1===r.protectedHeader.b64)throw new pt("JWTs MUST NOT use unencoded payload");const o={payload:It(r.protectedHeader,r.payload,n),protectedHeader:r.protectedHeader};return"function"==typeof t?{...o,key:r.key}:o}const Ut=async(e,t)=>{const n=`SHA-${e.substr(-3)}`;return new Uint8Array(await at.subtle.digest(n,t))},Ht=(e,t)=>{if("string"!=typeof e||!e)throw new mt(`${t} missing or invalid`)};const Ft=at.getRandomValues.bind(at);async function Wt(e,t){return async function(e,t){var n;let a,r,o;switch(e){case"HS256":case"HS384":case"HS512":a=parseInt(e.substr(-3),10),r={name:"HMAC",hash:{name:`SHA-${a}`},length:a},o=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return a=parseInt(e.substr(-3),10),Ft(new Uint8Array(a>>3));case"A128KW":case"A192KW":case"A256KW":a=parseInt(e.substring(1,4),10),r={name:"AES-KW",length:a},o=["wrapKey","unwrapKey"];break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":a=parseInt(e.substring(1,4),10),r={name:"AES-GCM",length:a},o=["encrypt","decrypt"];break;default:throw new ct('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return at.subtle.generateKey(r,null!==(n=null==t?void 0:t.extractable)&&void 0!==n&&n,o)}(e,t)}async function Bt(e){return(async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:tt(e)};if(!rt(e))throw new TypeError(Pt(e,"CryptoKey","Uint8Array"));if(!e.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:t,key_ops:n,alg:a,use:r,...o}=await at.subtle.exportKey("jwk",e);return o})(e)}async function zt(e){return Bt(e)}const Jt=new Map([["A128CBC-HS256",128],["A128GCM",96],["A128GCMKW",96],["A192CBC-HS384",128],["A192GCM",96],["A192GCMKW",96],["A256CBC-HS512",128],["A256GCM",96],["A256GCMKW",96]]),Vt=e=>{const t=Jt.get(e);if(!t)throw new ct(`Unsupported JWE Algorithm: ${e}`);return Ft(new Uint8Array(t>>3))},qt=(e,t)=>{if(t.length<<3!==Jt.get(e))throw new ft("Invalid Initialization Vector length")},$t=(e,t)=>{let n;switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":if(n=parseInt(e.substr(-3),10),!(t instanceof Uint8Array))throw new TypeError(`${e} content encryption requires Uint8Array as key input`);break;case"A128GCM":case"A192GCM":case"A256GCM":n=parseInt(e.substr(1,3),10);break;default:throw new ct(`Content Encryption Algorithm ${e} is not supported either by JOSE or your javascript runtime`)}if(t instanceof Uint8Array){if(t.length<<3!==n)throw new ft("Invalid Content Encryption Key length")}else{if(!rt(t))throw new TypeError("Invalid Content Encryption Key type");{const{length:e}=t.algorithm;if(e!==n)throw new ft("Invalid Content Encryption Key length")}}},Gt=async(e,t,n,a,r)=>{if(!(rt(n)||n instanceof Uint8Array))throw new TypeError(Pt(n,"CryptoKey","Uint8Array"));switch($t(e,n),qt(e,a),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return async function(e,t,n,a,r){const o=parseInt(e.substr(1,3),10),i=await at.subtle.importKey("raw",n.subarray(o>>3),"AES-CBC",!1,["encrypt"]),s=await at.subtle.importKey("raw",n.subarray(0,o>>3),{hash:{name:"SHA-"+(o<<1)},name:"HMAC"},!1,["sign"]),l=new Uint8Array(await at.subtle.encrypt({iv:a,name:"AES-CBC"},i,t)),c=Je(r,a,l,$e(r.length<<3));return{ciphertext:l,tag:new Uint8Array((await at.subtle.sign("HMAC",s,c)).slice(0,o>>3))}}(e,t,n,a,r);case"A128GCM":case"A192GCM":case"A256GCM":return async function(e,t,n,a){const r=t instanceof Uint8Array?await at.subtle.importKey("raw",t,"AES-GCM",!1,["encrypt"]):t,o=new Uint8Array(await at.subtle.encrypt({additionalData:a,iv:n,name:"AES-GCM",tagLength:128},r,e)),i=o.slice(-16);return{ciphertext:o.slice(0,-16),tag:i}}(t,n,a,r);default:throw new ct("Unsupported JWE Content Encryption Algorithm")}},Qt=async()=>{throw new ct('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `inflateRaw` decrypt option to provide Inflate Raw implementation.')},Xt=async()=>{throw new ct('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `deflateRaw` encrypt option to provide Deflate Raw implementation.')},Yt=[{hash:{name:"SHA-256"},name:"HMAC"},!0,["sign"]];function Zt(e,t){if(e.algorithm.length!==parseInt(t.substr(1,3),10))throw new TypeError(`Invalid key size for alg: ${t}`)}function en(e,t){if(rt(e))return e;if(e instanceof Uint8Array)return at.subtle.importKey("raw",e,"AES-KW",!0,[t]);throw new TypeError(Pt(e,"CryptoKey","Uint8Array"))}const tn=async(e,t,n)=>{const a=await en(t,"wrapKey");Zt(a,e);const r=await at.subtle.importKey("raw",n,...Yt);return new Uint8Array(await at.subtle.wrapKey("raw",r,a,"AES-KW"))},nn=async(e,t,n)=>{const a=await en(t,"unwrapKey");Zt(a,e);const r=await at.subtle.unwrapKey("raw",n,a,"AES-KW",...Yt);return new Uint8Array(await at.subtle.exportKey("raw",r))},an=async(e,t,n,a,r=new Uint8Array(0),o=new Uint8Array(0))=>{if(!rt(e))throw new TypeError(Pt(e,"CryptoKey"));if(!rt(t))throw new TypeError(Pt(t,"CryptoKey"));const i=Je(Qe(We.encode(n)),Qe(r),Qe(o),Ge(a));if(!t.usages.includes("deriveBits"))throw new TypeError('ECDH-ES private key "usages" must include "deriveBits"');const s=new Uint8Array(await at.subtle.deriveBits({name:"ECDH",public:e},t,Math.ceil(parseInt(t.algorithm.namedCurve.substr(-3),10)/8)<<3));return async function(e,t,n,a){const r=Math.ceil((n>>3)/32);let o;for(let n=1;n<=r;n++){const r=new Uint8Array(4+t.length+a.length);r.set(Ge(n)),r.set(t,4),r.set(a,4+t.length),o=o?Je(o,await e("sha256",r)):await e("sha256",r)}return o=o.slice(0,n>>3),o}(Ut,s,a,i)},rn=e=>{if(!rt(e))throw new TypeError(Pt(e,"CryptoKey"));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)};function on(e){if(!(e instanceof Uint8Array)||e.length<8)throw new ft("PBES2 Salt Input must be 8 or more octets")}function sn(e){if(e instanceof Uint8Array)return at.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]);if(rt(e))return e;throw new TypeError(Pt(e,"CryptoKey","Uint8Array"))}function ln(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new ct(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}const cn=async(e,t,n,a,r,o)=>{if(!(rt(t)||t instanceof Uint8Array))throw new TypeError(Pt(t,"CryptoKey","Uint8Array"));switch($t(e,t),qt(e,a),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return async function(e,t,n,a,r,o){const i=parseInt(e.substr(1,3),10),s=await at.subtle.importKey("raw",t.subarray(i>>3),"AES-CBC",!1,["decrypt"]),l=await at.subtle.importKey("raw",t.subarray(0,i>>3),{hash:{name:"SHA-"+(i<<1)},name:"HMAC"},!1,["sign"]),c=Je(o,a,n,$e(o.length<<3)),u=new Uint8Array((await at.subtle.sign("HMAC",l,c)).slice(0,i>>3));let f,d;try{f=((e,t)=>{if(!(e instanceof Uint8Array))throw new TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw new TypeError("Second argument must be a buffer");if(e.length!==t.length)throw new TypeError("Input buffers must have the same length");const n=e.length;let a=0,r=-1;for(;++r<n;)a|=e[r]^t[r];return 0===a})(r,u)}catch(e){}if(!f)throw new ut;try{d=new Uint8Array(await at.subtle.decrypt({iv:a,name:"AES-CBC"},s,n))}catch(e){}if(!d)throw new ut;return d}(e,t,n,a,r,o);case"A128GCM":case"A192GCM":case"A256GCM":return async function(e,t,n,a,r){const o=e instanceof Uint8Array?await at.subtle.importKey("raw",e,"AES-GCM",!1,["decrypt"]):e;try{return new Uint8Array(await at.subtle.decrypt({additionalData:r,iv:n,name:"AES-GCM",tagLength:128},o,Je(t,a)))}catch(e){throw new ut}}(t,n,a,r,o);default:throw new ct("Unsupported JWE Content Encryption Algorithm")}},un=new Map([["A128CBC-HS256",256],["A128GCM",128],["A192CBC-HS384",384],["A192GCM",192],["A256CBC-HS512",512],["A256GCM",256]]),fn=e=>{const t=un.get(e);if(!t)throw new ct(`Unsupported JWE Algorithm: ${e}`);return Ft(new Uint8Array(t>>3))};class dn extends class{constructor(e){if(!St(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return this._payload="number"==typeof e?{...this._payload,nbf:e}:{...this._payload,nbf:Dt(new Date)+jt(e)},this}setExpirationTime(e){return this._payload="number"==typeof e?{...this._payload,exp:e}:{...this._payload,exp:Dt(new Date)+jt(e)},this}setIssuedAt(e){return this._payload=void 0===e?{...this._payload,iat:Dt(new Date)}:{...this._payload,iat:e},this}}{setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){const n=new class{constructor(e){this._flattened=new class{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,t){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new ft("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!Nt(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new ft("JWE Shared Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const n={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(Tt(ft,new Map,null==t?void 0:t.crit,this._protectedHeader,n),void 0!==n.zip){if(!this._protectedHeader||!this._protectedHeader.zip)throw new ft('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==n.zip)throw new ct('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:a,enc:r}=n;if("string"!=typeof a||!a)throw new ft('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof r||!r)throw new ft('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let o,i,s,l,c,u,f;if("dir"===a){if(this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if("ECDH-ES"===a&&this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");{let t;({cek:i,encryptedKey:o,parameters:t}=await async function(e,t,n,a,r={}){let o,i,s;switch(_t(e,n,"encrypt"),e){case"dir":s=n;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!rn(n))throw new ct("ECDH-ES with the provided key is not allowed or not supported by your javascript runtime");const{apu:l,apv:c}=r;let{epk:u}=r;u||(u=await(async e=>{if(!rt(e))throw new TypeError(Pt(e,"CryptoKey"));return(await at.subtle.generateKey({name:"ECDH",namedCurve:e.algorithm.namedCurve},!0,["deriveBits"])).privateKey})(n));const{x:f,y:d,crv:p,kty:m}=await Bt(u),h=await an(n,u,"ECDH-ES"===e?t:e,parseInt(e.substr(-5,3),10)||un.get(t),l,c);if(i={epk:{x:f,y:d,crv:p,kty:m}},l&&(i.apu=tt(l)),c&&(i.apv=tt(c)),"ECDH-ES"===e){s=h;break}s=a||fn(t);const y=e.substr(-6);o=await tn(y,h,s);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s=a||fn(t),o=await(async(e,t,n)=>{if(!rt(t))throw new TypeError(Pt(t,"CryptoKey"));if(Ct(e,t),t.usages.includes("encrypt"))return new Uint8Array(await at.subtle.encrypt(ln(e),t,n));if(t.usages.includes("wrapKey")){const a=await at.subtle.importKey("raw",n,...Yt);return new Uint8Array(await at.subtle.wrapKey("raw",a,t,ln(e)))}throw new TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')})(e,n,s);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{s=a||fn(t);const{p2c:l,p2s:c}=r;({encryptedKey:o,...i}=await(async(e,t,n,a=Math.floor(2049*Math.random())+2048,r=Ft(new Uint8Array(16)))=>{on(r);const o=Ve(e,r),i=parseInt(e.substr(13,3),10),s={hash:{name:`SHA-${e.substr(8,3)}`},iterations:a,name:"PBKDF2",salt:o},l={length:i,name:"AES-KW"},c=await sn(t);let u;if(c.usages.includes("deriveBits"))u=new Uint8Array(await at.subtle.deriveBits(s,c,i));else{if(!c.usages.includes("deriveKey"))throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"');u=await at.subtle.deriveKey(s,c,l,!1,["wrapKey"])}return{encryptedKey:await tn(e.substr(-6),u,n),p2c:a,p2s:tt(r)}})(e,n,s,l,c));break}case"A128KW":case"A192KW":case"A256KW":s=a||fn(t),o=await tn(e,n,s);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{s=a||fn(t);const{iv:l}=r;({encryptedKey:o,...i}=await(async(e,t,n,a)=>{const r=e.substr(0,7);a||(a=Vt(r));const{ciphertext:o,tag:i}=await Gt(r,n,t,a,new Uint8Array(0));return{encryptedKey:o,iv:tt(a),tag:tt(i)}})(e,n,s,l));break}default:throw new ct('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:s,encryptedKey:o,parameters:i}}(a,r,e,this._cek,this._keyManagementParameters)),t&&(this._protectedHeader?this._protectedHeader={...this._protectedHeader,...t}:this.setProtectedHeader(t))}if(this._iv||(this._iv=Vt(r)),l=this._protectedHeader?We.encode(tt(JSON.stringify(this._protectedHeader))):We.encode(""),this._aad?(c=tt(this._aad),s=Je(l,We.encode("."),We.encode(c))):s=l,"DEF"===n.zip){const e=await((null==t?void 0:t.deflateRaw)||Xt)(this._plaintext);({ciphertext:u,tag:f}=await Gt(r,e,i,this._iv,s))}else({ciphertext:u,tag:f}=await Gt(r,this._plaintext,i,this._iv,s));const d={ciphertext:tt(u),iv:tt(this._iv),tag:tt(f)};return o&&(d.encrypted_key=tt(o)),c&&(d.aad=c),this._protectedHeader&&(d.protected=Be.decode(l)),this._sharedUnprotectedHeader&&(d.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(d.header=this._unprotectedHeader),d}}(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){const n=await this._flattened.encrypt(e,t);return[n.protected,n.encrypted_key,n.iv,n.ciphertext,n.tag].join(".")}}(We.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),n.setProtectedHeader(this._protectedHeader),this._iv&&n.setInitializationVector(this._iv),this._cek&&n.setContentEncryptionKey(this._cek),this._keyManagementParameters&&n.setKeyManagementParameters(this._keyManagementParameters),n.encrypt(e,t)}}const pn=async function(e,t,n){var a;if(!St(e))throw new ft("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new ft("JOSE Header missing");if("string"!=typeof e.iv)throw new ft("JWE Initialization Vector missing or incorrect type");if("string"!=typeof e.ciphertext)throw new ft("JWE Ciphertext missing or incorrect type");if("string"!=typeof e.tag)throw new ft("JWE Authentication Tag missing or incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new ft("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new ft("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new ft("JWE AAD incorrect type");if(void 0!==e.header&&!St(e.header))throw new ft("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!St(e.unprotected))throw new ft("JWE Per-Recipient Unprotected Header incorrect type");let r;if(e.protected){const t=nt(e.protected);try{r=JSON.parse(Be.decode(t))}catch(e){throw new ft("JWE Protected Header is invalid")}}if(!Nt(r,e.header,e.unprotected))throw new ft("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");const o={...r,...e.header,...e.unprotected};if(Tt(ft,new Map,null==n?void 0:n.crit,r,o),void 0!==o.zip){if(!r||!r.zip)throw new ft('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==o.zip)throw new ct('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:i,enc:s}=o;if("string"!=typeof i||!i)throw new ft("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof s||!s)throw new ft("missing JWE Encryption Algorithm (enc) in JWE Header");const l=n&&Rt("keyManagementAlgorithms",n.keyManagementAlgorithms),c=n&&Rt("contentEncryptionAlgorithms",n.contentEncryptionAlgorithms);if(l&&!l.has(i))throw new lt('"alg" (Algorithm) Header Parameter not allowed');if(c&&!c.has(s))throw new lt('"enc" (Encryption Algorithm) Header Parameter not allowed');let u;void 0!==e.encrypted_key&&(u=nt(e.encrypted_key));let f,d=!1;"function"==typeof t&&(t=await t(r,e),d=!0);try{f=await async function(e,t,n,a){switch(_t(e,t,"decrypt"),e){case"dir":if(void 0!==n)throw new ft("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==n)throw new ft("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!St(a.epk))throw new ft('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!rn(t))throw new ct("ECDH-ES with the provided key is not allowed or not supported by your javascript runtime");const r=await Et(a.epk,e);let o,i;if(void 0!==a.apu){if("string"!=typeof a.apu)throw new ft('JOSE Header "apu" (Agreement PartyUInfo) invalid');o=nt(a.apu)}if(void 0!==a.apv){if("string"!=typeof a.apv)throw new ft('JOSE Header "apv" (Agreement PartyVInfo) invalid');i=nt(a.apv)}const s=await an(r,t,"ECDH-ES"===e?a.enc:e,parseInt(e.substr(-5,3),10)||un.get(a.enc),o,i);if("ECDH-ES"===e)return s;if(void 0===n)throw new ft("JWE Encrypted Key missing");return nn(e.substr(-6),s,n)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===n)throw new ft("JWE Encrypted Key missing");return(async(e,t,n)=>{if(!rt(t))throw new TypeError(Pt(t,"CryptoKey"));if(Ct(e,t),t.usages.includes("decrypt"))return new Uint8Array(await at.subtle.decrypt(ln(e),t,n));if(t.usages.includes("unwrapKey")){const a=await at.subtle.unwrapKey("raw",n,t,ln(e),...Yt);return new Uint8Array(await at.subtle.exportKey("raw",a))}throw new TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')})(e,t,n);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(void 0===n)throw new ft("JWE Encrypted Key missing");if("number"!=typeof a.p2c)throw new ft('JOSE Header "p2c" (PBES2 Count) missing or invalid');if("string"!=typeof a.p2s)throw new ft('JOSE Header "p2s" (PBES2 Salt) missing or invalid');return(async(e,t,n,a,r)=>{on(r);const o=Ve(e,r),i=parseInt(e.substr(13,3),10),s={hash:{name:`SHA-${e.substr(8,3)}`},iterations:a,name:"PBKDF2",salt:o},l={length:i,name:"AES-KW"},c=await sn(t);let u;if(c.usages.includes("deriveBits"))u=new Uint8Array(await at.subtle.deriveBits(s,c,i));else{if(!c.usages.includes("deriveKey"))throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"');u=await at.subtle.deriveKey(s,c,l,!1,["unwrapKey"])}return nn(e.substr(-6),u,n)})(e,t,n,a.p2c,nt(a.p2s));case"A128KW":case"A192KW":case"A256KW":if(void 0===n)throw new ft("JWE Encrypted Key missing");return nn(e,t,n);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":if(void 0===n)throw new ft("JWE Encrypted Key missing");if("string"!=typeof a.iv)throw new ft('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof a.tag)throw new ft('JOSE Header "tag" (Authentication Tag) missing or invalid');return(async(e,t,n,a,r)=>{const o=e.substr(0,7);return cn(o,t,n,a,r,new Uint8Array(0))})(e,t,n,nt(a.iv),nt(a.tag));default:throw new ct('Invalid or unsupported "alg" (JWE Algorithm) header value')}}(i,t,u,o)}catch(e){if(e instanceof TypeError)throw e;f=fn(s)}const p=nt(e.iv),m=nt(e.tag),h=We.encode(null!==(a=e.protected)&&void 0!==a?a:"");let y;y=void 0!==e.aad?Je(h,We.encode("."),We.encode(e.aad)):h;let g=await cn(s,f,nt(e.ciphertext),p,m,y);"DEF"===o.zip&&(g=await((null==n?void 0:n.inflateRaw)||Qt)(g));const b={plaintext:g};return void 0!==e.protected&&(b.protectedHeader=r),void 0!==e.aad&&(b.additionalAuthenticatedData=nt(e.aad)),void 0!==e.unprotected&&(b.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(b.unprotectedHeader=e.header),d?{...b,key:t}:b};async function mn(e,t,n){const a=await async function(e,t,n){if(e instanceof Uint8Array&&(e=Be.decode(e)),"string"!=typeof e)throw new ft("Compact JWE must be a string or Uint8Array");const{0:a,1:r,2:o,3:i,4:s,length:l}=e.split(".");if(5!==l)throw new ft("Invalid Compact JWE");const c=await pn({ciphertext:i||void 0,iv:o||void 0,protected:a||void 0,tag:s||void 0,encrypted_key:r||void 0},t,n),u={plaintext:c.plaintext,protectedHeader:c.protectedHeader};return"function"==typeof t?{...u,key:c.key}:u}(e,t,n),r=It(a.protectedHeader,a.plaintext,n),{protectedHeader:o}=a;if(void 0!==o.iss&&o.iss!==r.iss)throw new it('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(void 0!==o.sub&&o.sub!==r.sub)throw new it('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(void 0!==o.aud&&JSON.stringify(o.aud)!==JSON.stringify(r.aud))throw new it('replicated "aud" claim header parameter mismatch',"aud","mismatch");const i={payload:r,protectedHeader:o};return"function"==typeof t?{...i,key:a.key}:i}const hn=nt;function yn(e){let t;if("string"==typeof e){const n=e.split(".");3!==n.length&&5!==n.length||([t]=n)}else if("object"==typeof e&&e){if(!("protected"in e))throw new TypeError("Token does not contain a Protected Header");t=e.protected}try{if("string"!=typeof t||!t)throw new Error;const e=JSON.parse(Be.decode(hn(t)));if(!St(e))throw new Error;return e}catch(e){throw new TypeError("Invalid Token or Protected Header formatting")}}function gn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}const bn=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subscriberList={}}var t,n;return t=e,(n=[{key:"subscribe",value:function(e,t){this.subscriberList[e]=t}},{key:"sendMessage",value:function(e,t){if(Array.isArray(e)||(e=[e]),"broadcast"===e[0])this.subscriberList.forEach((function(e,n){e({type:"broadcast",message:t})}));else for(var n in this.subscriberList)e.indexOf(n)>=0&&this.subscriberList[n](t)}}])&&gn(t.prototype,n),e}());function vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)e[a]=n[a]}return e}const wn=function e(t,n){function a(e,a,r){if("undefined"!=typeof document){"number"==typeof(r=vn({},n,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var i in r)r[i]&&(o+="; "+i,!0!==r[i]&&(o+="="+r[i].split(";")[0]));return document.cookie=e+"="+t.write(a,e)+o}}return Object.create({set:a,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],a={},r=0;r<n.length;r++){var o=n[r].split("="),i=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(a[s]=t.read(i,s),e===s)break}catch(e){}}return e?a[e]:a}},remove:function(e,t){a(e,"",vn({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,vn({},this.attributes,t))},withConverter:function(t){return e(vn({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});function Sn(e){return St(e)}class En{constructor(e,t){if(this._cached=new WeakMap,!(e instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:null==t?void 0:t.agent},this._timeoutDuration="number"==typeof(null==t?void 0:t.timeoutDuration)?null==t?void 0:t.timeoutDuration:5e3,this._cooldownDuration="number"==typeof(null==t?void 0:t.cooldownDuration)?null==t?void 0:t.cooldownDuration:3e4}coolingDown(){return!!this._cooldownStarted&&Date.now()<this._cooldownStarted+this._cooldownDuration}async getKey(e){this._jwks||await this.reload();const t=this._jwks.keys.filter((t=>{let n=t.kty===function(e){switch("string"==typeof e&&e.substr(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new ct('Unsupported "alg" value for a JSON Web Key Set')}}(e.alg);if(n&&"string"==typeof e.kid&&(n=e.kid===t.kid),n&&"string"==typeof t.alg&&(n=e.alg===t.alg),n&&"string"==typeof t.use&&(n="sig"===t.use),n&&Array.isArray(t.key_ops)&&(n=t.key_ops.includes("verify")),n&&"EdDSA"===e.alg&&(n="Ed25519"===t.crv||"Ed448"===t.crv),n)switch(e.alg){case"ES256":n="P-256"===t.crv;break;case"ES256K":n="secp256k1"===t.crv;break;case"ES384":n="P-384"===t.crv;break;case"ES512":n="P-521"===t.crv}return n})),{0:n,length:a}=t;if(0===a){if(!1===this.coolingDown())return await this.reload(),this.getKey(e);throw new yt}if(1!==a)throw new gt;const r=this._cached.get(n)||this._cached.set(n,{}).get(n);if(void 0===r[e.alg]){const t=await Et({...n,ext:!0},e.alg);if(t instanceof Uint8Array||"public"!==t.type)throw new ht("JSON Web Key Set members must be public keys");r[e.alg]=t}return r[e.alg]}async reload(){this._pendingFetch||(this._pendingFetch=(async(e,t)=>{let n,a,r=!1;"function"==typeof AbortController&&(n=new AbortController,a=setTimeout((()=>{r=!0,n.abort()}),t));const o=await Ye.fetch(e.href,{signal:n?n.signal:void 0,redirect:"manual",method:"GET",...Ze()?void 0:{referrerPolicy:"no-referrer",credentials:"omit",mode:"cors"}}).catch((e=>{if(r)throw new bt;throw e}));if(void 0!==a&&clearTimeout(a),200!==o.status)throw new ot("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await o.json()}catch(e){throw new ot("Failed to parse the JSON Web Key Set HTTP response as JSON")}})(this._url,this._timeoutDuration,this._options).then((e=>{if("object"!=typeof e||!e||!Array.isArray(e.keys)||!e.keys.every(Sn))throw new ht("JSON Web Key Set malformed");this._jwks={keys:e.keys},this._cooldownStarted=Date.now(),this._pendingFetch=void 0})).catch((e=>{throw this._pendingFetch=void 0,e}))),await this._pendingFetch}}function kn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}const Cn=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"init",value:function(e){var t=this;this.refreshToken=!1,this.accessToken=!1,this.idToken=!1,this.changeStatusCb=[],this.connected=!1,this.parameters={},this.jwks=!1,this.pkce=!1,"/"!==window.location.pathname?this.localStorageKey=e.storagePrefix+"-"+window.btoa(unescape(encodeURIComponent(window.location.pathname))).replace(/\=+$/m,""):this.localStorageKey=e.storagePrefix,this.refreshTimeout=!1,e&&(this.parameters.storageType=e.storageType||"none",this.parameters.responseType=e.responseType||"code",this.parameters.scope=e.scope||"",this.parameters.openidConfigUrl=e.openidConfigUrl||"",this.parameters.authUrl=e.authUrl||"",this.parameters.tokenUrl=e.tokenUrl||"",this.parameters.clientId=e.clientId||"",this.parameters.clientPassword=e.clientPassword||"",this.parameters.redirectUri=e.redirectUri||"",this.parameters.userinfoUrl=e.userinfoUrl||"",this.parameters.usePkce=!!e.usePkce,this.parameters.refreshTokenLoop=!!e.refreshTokenLoop,e.changeStatusCb&&this.changeStatusCb.push(e.changeStatusCb)),this.parameters.openidConfigUrl?$.ajax({type:"GET",url:this.parameters.openidConfigUrl,success:function(e){var n,a;t.parameters.authUrl=e.authorization_endpoint,t.parameters.tokenUrl=e.token_endpoint,t.parameters.userinfoUrl=e.userinfo_endpoint,e.jwks_uri&&(t.jwks=(n=new URL(e.jwks_uri),En.prototype.getKey.bind(new En(n,a)))),t.parseInitialUrl()},error:function(e){t.broadcastMessage("error")}}):this.parseInitialUrl()}},{key:"setParameter",value:function(e,t){this.parameters[e]=t}},{key:"getParameter",value:function(e){return!!this.parameters[e]&&this.parameters[e]}},{key:"parseInitialUrl",value:function(){var e,t,n=this;if("code"===this.parameters.responseType){var a=this.getCodeFromQuery();if(a)this.getRefreshTokenFromCode(a,(function(e){e?(n.refreshToken=e.refresh_token,n.storeRefreshToken(n.refreshToken),e.access_token?(n.accessToken={access_token:e.access_token,iat:e.iat,expires_in:parseInt(e.expires_in)},n.storeAccessToken(n.accessToken),e.id_token&&(n.idToken=e.id_token,n.storeIDToken(n.idToken)),n.broadcastMessage("connected",n.accessToken.access_token,n.accessToken.expires_in),n.getConnectedProfile((function(e,t){e?n.broadcastMessage("profile",null,null,t):n.broadcastMessage("profile",null,null,!1)})),n.refreshTokenLoop(e.refresh_token,n.accessToken.expires_in)):n.broadcastMessage("disconnected")):n.broadcastMessage("disconnected")})),window.history.pushState(null,"",document.location.href.split("?")[0]);else if((e=this.getStoredData())&&e.accessToken&&this.isTokenValid(e.accessToken)){this.accessToken=e.accessToken;var r=new Date,o=Math.floor((1e3*(this.accessToken.iat+this.accessToken.expires_in)-r.getTime())/1e3);if(this.broadcastMessage("connected",this.accessToken.access_token,o),this.getConnectedProfile((function(e,t){e?n.broadcastMessage("profile",null,null,t):n.broadcastMessage("profile",null,null,!1)})),e.refreshToken){r=new Date;var i=Math.floor((1e3*(this.accessToken.iat+this.accessToken.expires_in)-r.getTime())/1e3);this.refreshTokenLoop(e.refreshToken,i)}}else e&&e.refreshToken?(this.accessToken=!1,this.refreshToken=e.refreshToken,this.storeAccessToken(!1),this.executeRefreshToken(e.refreshToken,(function(t,a){if(t){var r=new Date;n.accessToken=a,n.storeAccessToken(a);var o=Math.floor((1e3*(a.iat+a.expires_in)-r.getTime())/1e3);n.refreshTokenLoop(e.refreshToken,o),n.broadcastMessage("connected",a.access_token,o),n.getConnectedProfile((function(e,t){e?n.broadcastMessage("profile",null,null,t):n.broadcastMessage("profile",null,null,!1)}))}else n.broadcastMessage("disconnected"),n.storeIDToken(!1)}))):this.broadcastMessage("disconnected")}else{if(this.parameters.responseType.search("token")>-1)if(t=this.getAccessTokenFromFragment())this.accessToken=t,this.storeAccessToken(t),this.broadcastMessage("connected",this.accessToken.access_token,this.accessToken.expires_in);else if((e=this.getStoredData())&&e.accessToken&&this.isTokenValid(e.accessToken)){r=new Date,this.accessToken=e.accessToken;var s=Math.floor((1e3*(t.iat+t.expires_in)-r.getTime())/1e3);this.broadcastMessage("connected",this.accessToken.access_token,s)}else this.broadcastMessage("disconnected"),this.accessToken=!1,this.storeAccessToken(!1),this.storeIDToken(!1);this.parameters.responseType.search("id_token")>-1&&(this.getQueryParams(document.location.hash).id_token?(this.idToken=this.getQueryParams(document.location.hash).id_token,this.storeIDToken(this.idToken)):(e=this.getStoredData())&&e.IDToken?this.idToken=e.IDToken:this.idToken=!1),this.getConnectedProfile((function(e,t){e?n.broadcastMessage("profile",null,null,t):n.broadcastMessage("profile",null,null,!1)}))}}},{key:"getQueryParams",value:function(e){e=e.split("+").join(" ");var t,n={},a=/[#&]?([^=]+)=([^&]*)/g;for(t=a.exec(e);t;)n[decodeURIComponent(t[1])]=decodeURIComponent(t[2]),t=a.exec(e);return n}},{key:"getAccessTokenFromFragment",value:function(){var e=this.getQueryParams(document.location.hash),t=new Date;return!(!e.access_token||!e.expires_in)&&{access_token:e.access_token,expires_in:parseInt(e.expires_in),iat:Math.floor(t.getTime()/1e3)}}},{key:"getCodeFromQuery",value:function(){return this.getQueryParams(document.location.search.substring(1)).code||!1}},{key:"refresh",value:function(e){var t=this;"code"===this.parameters.responseType&&this.refreshToken?this.executeRefreshToken(this.refreshToken,(function(n,a){n&&(t.accessToken=a,t.storeAccessToken(a),t.refreshTokenLoop(t.refreshToken,t.accessToken.expires_in),t.broadcastMessage("refresh",a.access_token,a.expires_in),e(a.access_token))})):e(!1)}},{key:"getStatus",value:function(){return this.accessToken&&this.isTokenValid(this.accessToken)?"connected":(this.accessToken=!1,"disconnected")}},{key:"storeAccessToken",value:function(e){var t=this.getStoredData();return t||(t={}),t.accessToken=e,"local"===this.parameters.storageType?localStorage.setItem(this.localStorageKey,JSON.stringify(t)):"cookie"===this.parameters.storageType&&wn.set(this.localStorageKey,JSON.stringify(t))}},{key:"storeIDToken",value:function(e){var t=this.getStoredData();return t||(t={}),t.IDToken=e,"local"===this.parameters.storageType?localStorage.setItem(this.localStorageKey,JSON.stringify(t)):"cookie"===this.parameters.storageType&&wn.set(this.localStorageKey,JSON.stringify(t))}},{key:"storeRefreshToken",value:function(e){var t=this.getStoredData();return t||(t={}),t.refreshToken=e,"local"===this.parameters.storageType?localStorage.setItem(this.localStorageKey,JSON.stringify(t)):"cookie"===this.parameters.storageType&&wn.set(this.localStorageKey,JSON.stringify(t))}},{key:"storeNonce",value:function(e){var t=this.getStoredData();return t||(t={}),t.nonce=e,"local"===this.parameters.storageType?localStorage.setItem(this.localStorageKey,JSON.stringify(t)):"cookie"===this.parameters.storageType&&wn.set(this.localStorageKey,JSON.stringify(t))}},{key:"storePkce",value:function(e){var t=this.getStoredData();return t||(t={}),t.pkce=e,"local"===this.parameters.storageType?localStorage.setItem(this.localStorageKey,JSON.stringify(t)):"cookie"===this.parameters.storageType&&wn.set(this.localStorageKey,JSON.stringify(t))}},{key:"makeRandomString",value:function(e){var t=new Uint8Array(e),n="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=a.length;window.crypto.getRandomValues(t);for(var o=0;o<e;o++){for(;t[o]>=r;){var i=new Uint8Array(1);window.crypto.getRandomValues(i),t[o]=i[0]}n+=a.charAt(t[o])}return n}},{key:"getStoredData",value:function(){if("local"===this.parameters.storageType)return JSON.parse(localStorage.getItem(this.localStorageKey))||{};if("cookie"!==this.parameters.storageType)return{};try{return JSON.parse(wn.get(this.localStorageKey))||{}}catch(e){return{}}}},{key:"onChangeStatus",value:function(e){this.changeStatusCb.push(e)}},{key:"isTokenValid",value:function(e){if(e){var t=new Date;return 1e3*(e.iat+e.expires_in)>t.getTime()}return!1}},{key:"getRefreshTokenFromCode",value:function(e,t){var n=this,a={grant_type:"authorization_code",client_id:this.parameters.clientId,redirect_uri:this.parameters.redirectUri,code:e},r=this.getStoredData();this.parameters.usePkce&&r.pkce&&(a.code_verifier=r.pkce),$.ajax({type:"POST",url:this.parameters.tokenUrl,data:a,success:function(e,n,a){t(e)},error:function(e){403===e.status&&(n.refreshToken=!1),n.accessToken=!1,t(!1)}})}},{key:"refreshTokenLoop",value:function(e,t){var n=this;this.parameters.refreshTokenLoop&&(clearTimeout(this.refreshTimeout),this.refreshTimeout=setTimeout((function(){n.executeRefreshToken(e,(function(t,a){if(t){var r=new Date,o=Math.floor((1e3*(a.iat+a.expires_in)-r.getTime())/1e3);n.refreshTokenLoop(e,o)}}))}),1e3*(t-60)))}},{key:"runRefreshToken",value:function(e){return this.getStoredData().refreshToken?this.executeRefreshToken(this.getStoredData().refreshToken,e):$.Deferred().reject("disconnected")}},{key:"executeRefreshToken",value:function(e,t){var n=this;return $.ajax({type:"POST",url:this.parameters.tokenUrl,data:{grant_type:"refresh_token",refresh_token:e},success:function(e,a,r){n.accessToken=e.access_token,n.storeAccessToken(e),n.broadcastMessage("refresh",e.access_token,e.expires_in),t&&t(!0,e)},error:function(e){403!==e.status&&400!==e.status||(n.refreshToken=!1),n.accessToken=!1,n.storeAccessToken(!1),n.storeRefreshToken(!1),0===e.readyState?n.broadcastMessage("network error"):n.broadcastMessage("disconnected"),t&&t(!1)}}).then((function(e){return{token:e.access_token,expires_in:e.expires_in}}))}},{key:"broadcastMessage",value:function(e,t,n,a){for(var r in this.changeStatusCb)this.changeStatusCb[r](e,t,n,a)}},{key:"getConnectedProfile",value:function(e){var t=this;this.getStoredData().IDToken&&this.jwks?Kt(this.getStoredData().IDToken,this.jwks).then((function(t){e&&e(!0,t.payload)})).catch((function(n){t.storeIDToken(!1),"ERR_JWT_EXPIRED"===n.code?$.ajax({type:"GET",url:t.parameters.userinfoUrl,headers:{Authorization:"Bearer "+t.accessToken.access_token},success:function(t){e&&e(!0,t)},error:function(n){t.accessToken=!1,t.storeAccessToken(!1),t.storeRefreshToken(!1),e&&e(!0,"error")}}):(t.accessToken=!1,t.storeAccessToken(!1),t.storeRefreshToken(!1),e&&e(!0,"error"))})):this.parameters.userinfoUrl&&this.accessToken?$.ajax({type:"GET",url:this.parameters.userinfoUrl,headers:{Authorization:"Bearer "+this.accessToken.access_token},success:function(t){e&&e(!0,t)},error:function(n){t.accessToken=!1,t.storeAccessToken(!1),t.storeRefreshToken(!1),t.storeIDToken(!1),e&&e(!0,"error")}}):e&&e(!1)}},{key:"connect",value:function(){var e=this;this.storeAccessToken(!1),this.storeRefreshToken(!1),this.storeIDToken(!1);var t=this.getStoredData();if(t&&this.isTokenValid(t.accessToken)){var n=new Date,a=Math.floor((1e3*(t.iat+t.expires_in)-n.getTime())/1e3);this.broadcastMessage("connected",t.accessToken.access_token,a),this.getConnectedProfile((function(t,n){t?e.broadcastMessage("profile",null,null,n):e.broadcastMessage("profile",null,null,!1)}))}else{t.accessToken=!1;var r=this.makeRandomString(16);if(this.storeAccessToken(!1),this.storeNonce(r),this.parameters.usePkce&&"code"===this.parameters.responseType){var o=this.makeRandomString(64);this.storePkce(o);var i=new TextEncoder,s=this.parameters.scope;-1===s.search("openid")&&(s+=" openid"),crypto.subtle.digest("SHA-256",i.encode(o)).then((function(t){var n=e.base64UrlArrayBuffer(t);document.location=e.parameters.authUrl+"?response_type="+e.parameters.responseType+"&client_id="+e.parameters.clientId+"&redirect_uri="+e.parameters.redirectUri+"&scope="+s+"&nonce="+r+"&code_challenge_method=S256&code_challenge="+n}))}else{var l=this.parameters.scope;this.parameters.responseType.search("id_token")>-1&&-1===l.search("openid")&&(l+=" openid"),document.location=this.parameters.authUrl+"?response_type="+this.parameters.responseType+"&client_id="+this.parameters.clientId+"&redirect_uri="+this.parameters.redirectUri+"&scope="+l+"&nonce="+r}}}},{key:"disconnect",value:function(){clearTimeout(this.refreshTimeout),"local"===this.parameters.storageType?localStorage.removeItem(this.localStorageKey):"cookie"===this.parameters.storageType&&wn.remove(this.localStorageKey),this.refreshToken=!1,this.accessToken=!1,this.storeAccessToken(!1),this.storeRefreshToken(!1),this.storeIDToken(!1),this.broadcastMessage("disconnected")}},{key:"base64UrlArrayBuffer",value:function(e){for(var t,n="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",r=new Uint8Array(e),o=r.byteLength,i=o%3,s=o-i,l=0;l<s;l+=3)n+=a[(16515072&(t=r[l]<<16|r[l+1]<<8|r[l+2]))>>18]+a[(258048&t)>>12]+a[(4032&t)>>6]+a[63&t];return 1==i?n+=a[(252&(t=r[s]))>>2]+a[(3&t)<<4]:2==i&&(n+=a[(64512&(t=r[s]<<8|r[s+1]))>>10]+a[(1008&t)>>4]+a[(15&t)<<2]),n}}])&&kn(t.prototype,n),e}());function Pn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}const Nn=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.apiPrefix="",this.token="",this.token_expires_at=0,this.signJwk=!1,this.counter=0}var t,n;return t=e,(n=[{key:"setConfig",value:function(e){this.apiPrefix=e}},{key:"setToken",value:function(e,t){this.token=e,this.token_expires_at=t}},{key:"setSignJwk",value:function(e){this.signJwk=e}},{key:"getConfig",value:function(e){return this.apiPrefix}},{key:"request",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/json; charset=utf-8";if(this.counter<=100){this.counter++;var o=new Date;return!this.token||1e3*this.token_expires_at>o.getTime()?(this.counter--,this.APIRequestExecute(e,n,a,r)):(this.counter--,Cn.runRefreshToken().then((function(i){return t.token=i.token,t.token_expires_at=o.getTime()/1e3+i.expires_in,t.APIRequestExecute(e,n,a,r)})).fail((function(){bn.sendMessage("App",{action:"sessionTimeout"})})))}return $.Deferred().reject("error too busy")}},{key:"APIRequestExecute",value:function(e,t,n,a){var r={Authorization:"Bearer "+this.token,accept:a},o=null,i=n?JSON.stringify(n):null;return n&&(o="application/json; charset=utf-8"),$.ajax({method:t,url:e,data:i,contentType:o,headers:r}).fail((function(e){401===e.status&&bn.sendMessage("App",{action:"sessionTimeout"})}))}},{key:"requestSigned",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.request(e,n,a).then((function(e,n,a){return"application/jwt"===a.getResponseHeader("content-type")?t.signJwk?Kt(e,t.signJwk):$.Deferred().reject("No public key to verify signature"):$.Deferred().reject("invalid content-type")}))}}])&&Pn(t.prototype,n),e}());function xn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}const On=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state=0,this.changeCallback=[],window.onhashchange=function(){t.changeCallback.forEach((function(e){e(t.getCurrentRoute())}))}}var t,n;return t=e,(n=[{key:"addChangeRouteCallback",value:function(e){this.changeCallback.push(e)}},{key:"getCurrentRoute",value:function(){var e=window.location.hash;return!!e&&e.substring(1)}},{key:"addRoute",value:function(e){history.pushState({id:"state-"+this.state++},"","#"+e)}}])&&xn(t.prototype,n),e}());function _n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}const Tn=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.storageType=!1}var t,n;return t=e,(n=[{key:"setStorageType",value:function(e){if("local"===e){var t="testLocalStorage";try{localStorage.setItem(t,t),localStorage.removeItem(t),this.storageType="local"}catch(e){this.storageType="cookie"}}else this.storageType=e}},{key:"setValue",value:function(e,t){return"local"===this.storageType?localStorage.setItem(e,JSON.stringify(t)):"cookie"===this.storageType&&wn.set(e,JSON.stringify(t))}},{key:"removeValue",value:function(e){return"local"===this.storageType?localStorage.removeItem(e):"cookie"===this.storageType&&wn.remove(e)}},{key:"getValue",value:function(e){if("local"===this.storageType)return JSON.parse(localStorage.getItem(e))||!1;if("cookie"!==this.storageType)return!1;try{return JSON.parse(wn.get(e))||!1}catch(e){return!1}}}])&&_n(t.prototype,n),e}());function Rn(e){return(Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function An(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Dn(e,t){return(Dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ln(e,t){return!t||"object"!==Rn(t)&&"function"!=typeof t?jn(e):t}function jn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mn(e){return(Mn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const In=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dn(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Mn(o);if(i){var n=Mn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ln(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={message:[],counter:0,loggedIn:e.loggedIn},bn.subscribe("Notification",(function(e){if(e.type){var n=t.state.message;n.push({type:e.type,message:e.message,id:t.state.counter}),t.setState({message:n,counter:t.state.counter+1},(function(){var n=e.autohide;void 0===n&&(n=!0),$("#toast-"+(t.state.counter-1)).toast({animation:!0,autohide:n}).toast("show")}))}})),t.close=t.close.bind(jn(t)),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"close",value:function(e){var t=this,n=this.state.message;n.forEach((function(a,r){a.id===e&&(n.splice(r,1),t.setState({message:n}))}))}},{key:"render",value:function(){var e=this,t=[],n=this.state.loggedIn;return this.state.message.forEach((function(e){"danger"!==e.type&&"warning"!==e.type||(n=!0)})),n&&this.state.message.forEach((function(n,r){var o;o="success"===n.type?a.createElement("i",{className:"fa fa-check-square-o btn-icon text-success"}):"danger"===n.type?a.createElement("i",{className:"fa fa-exclamation-circle text-danger btn-icon"}):"warning"===n.type?a.createElement("i",{className:"fa fa-exclamation-triangle text-warning btn-icon"}):a.createElement("i",{className:"fa fa-info-circle btn-icon text-info"}),t.push(a.createElement("div",{className:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true",key:r,id:"toast-"+n.id},a.createElement("div",{className:"toast-header"},o,a.createElement("strong",{className:"me-auto"},"Hutch"),a.createElement("button",{"aria-label":"Close",className:"btn-close","data-bs-dismiss":"toast",type:"button",onClick:function(t){return e.close(n.id)}})),a.createElement("div",{className:"toast-body"},n.message)))})),a.createElement("div",{className:"position-fixed",style:{top:45,right:20,zIndex:9999}},t)}}])&&An(t.prototype,n),r&&An(t,r),l}(a.Component);function Kn(e){return(Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Un(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Hn(e,t){return(Hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fn(e,t){return!t||"object"!==Kn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wn(e){return(Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Bn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hn(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Wn(o);if(i){var n=Wn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Fn(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={status:e.status},t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"logOut",value:function(){Cn.disconnect()}},{key:"logIn",value:function(){Cn.connect()}},{key:"render",value:function(){return"connecting"===this.state.status?a.createElement("a",{className:"nav-link",onClick:this.logIn,href:"#"},ee.t("connecting")):"connected"===this.state.status?a.createElement("a",{className:"nav-link",onClick:this.logOut,href:"#"},ee.t("log_out")):a.createElement("a",{className:"nav-link",onClick:this.logIn,href:"#"},ee.t("log_in"))}}])&&Un(t.prototype,n),r&&Un(t,r),l}(a.Component);function zn(e){return(zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Vn(e,t){return(Vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qn(e,t){return!t||"object"!==zn(t)&&"function"!=typeof t?$n(e):t}function $n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gn(e){return(Gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Qn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vn(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Gn(o);if(i){var n=Gn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return qn(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={config:e.config,oidcStatus:e.oidcStatus,safeList:e.safeList,safeContent:e.safeContent,curSafe:e.curSafe,hasProfile:e.hasProfile},t.navigateTo=t.navigateTo.bind($n(t)),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"navigateTo",value:function(e,t){e.preventDefault(),On.addRoute(t||""),bn.sendMessage("App",{action:"nav",target:t})}},{key:"navigateoConfig",value:function(e){e.preventDefault(),bn.sendMessage("App",{action:"config"})}},{key:"render",value:function(){var e,t,n=this,r=[];return this.state.safeList.forEach((function(e,t){var o;o=n.state.safeContent&&n.state.safeContent[e.name]&&n.state.safeContent[e.name].key?a.createElement("i",{className:"fa fa-unlock btn-icon-right","aria-hidden":"true"}):a.createElement("i",{className:"fa fa-lock btn-icon-right","aria-hidden":"true"});var i="nav-link";n.state.curSafe.name===e.name&&(i+=" active"),r.push(a.createElement("li",{className:"nav-item",key:t},a.createElement("a",{className:i,"data-bs-toggle":"collapse","data-bs-target":".navbar-collapse.show",href:"#","aria-current":"page",onClick:function(t){return n.navigateTo(t,e.name)}},e.display_name||e.name,o)))})),"connected"===this.state.oidcStatus&&this.state.hasProfile,a.createElement("nav",{className:"navbar navbar-expand-lg nav-pills navbar-light bg-light"},a.createElement("div",{className:"container-fluid"},a.createElement("a",{className:"navbar-brand",href:"#",onClick:function(e){return n.navigateTo(e,!1)}},"Hutch"),a.createElement("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},a.createElement("span",{className:"navbar-toggler-icon"})),a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},a.createElement("ul",{className:"navbar-nav"},r),a.createElement("ul",{className:"navbar-nav ms-auto flex-nowrap text-right"},a.createElement("li",{className:"nav-item"},a.createElement("a",("#",(t="href")in(e={className:"nav-link","data-bs-toggle":"collapse","data-bs-target":".navbar-collapse.show",href:"#",onClick:function(e){return n.navigateoConfig(e)}})?Object.defineProperty(e,t,{value:"#",enumerable:!0,configurable:!0,writable:!0}):e.href="#",e),a.createElement("i",{className:"fa fa-cog btn-icon-right","aria-hidden":"true"}))),a.createElement("li",{className:"nav-item"},a.createElement(Bn,{status:this.state.oidcStatus}))))))}}])&&Jn(t.prototype,n),r&&Jn(t,r),l}(a.Component);function Xn(e){return(Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Zn(e,t){return(Zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ea(e,t){return!t||"object"!==Xn(t)&&"function"!=typeof t?ta(e):t}function ta(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function na(e){return(na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const aa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zn(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=na(o);if(i){var n=na(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ea(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={name:e.name,title:e.title,message:e.message,cb:e.cb},t.closeModal=t.closeModal.bind(ta(t)),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"closeModal",value:function(e,t){this.state.cb&&this.state.cb(t)}},{key:"render",value:function(){var e=this;return a.createElement("div",{className:"modal",tabIndex:"-1",id:this.state.name},a.createElement("div",{className:"modal-dialog"},a.createElement("div",{className:"modal-content"},a.createElement("div",{className:"modal-header"},a.createElement("h5",{className:"modal-title"},this.state.title),a.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(t){return e.closeModal(t,!1)}})),a.createElement("div",{className:"modal-body"},a.createElement("p",null,this.state.message)),a.createElement("div",{className:"modal-footer"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.closeModal(t,!1)}},ee.t("modalClose")),a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(t){return e.closeModal(t,!0)}},ee.t("modalOk"))))))}}])&&Yn(t.prototype,n),r&&Yn(t,r),l}(a.Component);function ra(e){return(ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oa(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ia(e,t){return(ia=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sa(e,t){return!t||"object"!==ra(t)&&"function"!=typeof t?la(e):t}function la(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ca(e){return(ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const ua=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ia(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ca(o);if(i){var n=ca(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return sa(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={config:e.config,hutchProfile:e.hutchProfile,imageError:!1,nameMandatory:!1,messageMandatory:!1,imageMandatory:!1,imageLoading:!1},t.editProfile=t.editProfile.bind(la(t)),t.cancelEditProfile=t.cancelEditProfile.bind(la(t)),t.editKey=t.editKey.bind(la(t)),t.editMessage=t.editMessage.bind(la(t)),t.getRandomWikimediaImage=t.getRandomWikimediaImage.bind(la(t)),t.uploadImage=t.uploadImage.bind(la(t)),t.onUploadImage=t.onUploadImage.bind(la(t)),t.saveProfile=t.saveProfile.bind(la(t)),t.removeProfile=t.removeProfile.bind(la(t)),t.removeProfileConfirm=t.removeProfileConfirm.bind(la(t)),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"editProfile",value:function(){var e=this.state.hutchProfile;e.name||(e.name=this.state.profile.name),e.sign_kid||(e.sign_kid=this.state.config.jwks.keys[0].kid),this.setState({editProfile:!0,hutchProfile:e})}},{key:"cancelEditProfile",value:function(){bn.sendMessage("App",{action:"getProfile"})}},{key:"editKey",value:function(e){var t=this.state.hutchProfile;t.sign_kid=e.target.value,this.setState({hutchProfile:t})}},{key:"editMessage",value:function(e){var t=this.state.hutchProfile;t.message=e.target.value,this.setState({hutchProfile:t})}},{key:"editName",value:function(e){var t=this.state.hutchProfile;t.name=e.target.value,this.setState({hutchProfile:t})}},{key:"getRandomWikimediaImage",value:function(){var e=this;this.setState({imageLoading:!0},(function(){$.ajax({url:"https://commons.wikimedia.org/w/api.php?action=query&list=random&rnnamespace=6&rnlimit=1&prop=imageinfo&format=json&origin=*"}).then((function(t){$.ajax({url:"https://commons.wikimedia.org/w/api.php?action=query&prop=imageinfo&iiprop=url&iiurlwidth=200&format=json&origin=*&titles="+t.query.random[0].title}).then((function(n){var a=new XMLHttpRequest;a.open("GET",n.query.pages[t.query.random[0].id].imageinfo[0].responsiveUrls[1.5],!0),a.responseType="arraybuffer",a.onload=function(t){a.response;var n=e.state.hutchProfile;n.picture="data:"+a.getResponseHeader("content-type")+";base64,"+btoa(String.fromCharCode.apply(null,new Uint8Array(a.response))),e.setState({hutchProfile:n,imageError:!1,imageLoading:!1})},a.send(null)})).catch((function(){bn.sendMessage("Notification",{type:"warning",message:ee.t("messageErrorWikiImage")}),e.setState({imageError:!0,imageLoading:!1})}))})).catch((function(){bn.sendMessage("Notification",{type:"warning",message:ee.t("messageErrorWikiImage")}),e.setState({imageError:!0,imageLoading:!1})}))}))}},{key:"uploadImage",value:function(){$("#uploadImageInput").trigger("click")}},{key:"onUploadImage",value:function(e){var t=this,n=e.target.files;if(n.length>0){var a=n[0];if(a.size>409600)this.setState({imageError:!0});else{var r=new FileReader;r.onload=function(e){var n=t.state.hutchProfile;n.picture=e.target.result,t.setState({hutchProfile:n,imageError:!1})},r.readAsDataURL(a)}}}},{key:"saveProfile",value:function(e){e.preventDefault();var t=this.state.hutchProfile;t.message&&t.name&&t.picture?Nn.request(this.state.config.profile_endpoint,"PUT",t).then((function(){bn.sendMessage("App",{action:"getProfile"}),bn.sendMessage("Notification",{type:"info",message:ee.t("messageProfileSaved")})})).catch((function(){bn.sendMessage("Notification",{type:"warning",message:ee.t("messageErrorSaveProfile")})})):this.setState({messageMandatory:!t.message,nameMandatory:!t.name,imageMandatory:!t.picture})}},{key:"removeProfile",value:function(){new bootstrap.Modal(document.getElementById("removeProfile"),{keyboard:!1}).show()}},{key:"removeProfileConfirm",value:function(e){e&&Nn.request(this.state.config.profile_endpoint,"DELETE").then((function(){bn.sendMessage("App",{action:"resetProfile"}),bn.sendMessage("Notification",{type:"info",message:ee.t("messageRemoveProfile")})})).catch((function(){bn.sendMessage("Notification",{type:"warning",message:ee.t("messageErrorSaveProfile")})})),bootstrap.Modal.getOrCreateInstance(document.querySelector("#removeProfile")).hide()}},{key:"render",value:function(){var e,t,n,r,o=this,i=[];this.state.config.jwks.keys.forEach((function(e,t){i.push(a.createElement("option",{value:e.kid,key:t},e.alg))})),this.state.imageLoading?e=a.createElement("i",{className:"fa fa-spinner fa-spin fa-3x fa-fw"}):this.state.hutchProfile.picture&&(e=a.createElement("img",{src:this.state.hutchProfile.picture,alt:"profile image",className:"profile-image"}));var s="form-control";this.state.messageMandatory&&(s+=" is-invalid",n=a.createElement("div",{className:"invalid-feedback"},ee.t("profileMessageMandatory")));var l="form-control";return this.state.nameMandatory&&(l+=" is-invalid",r=a.createElement("div",{className:"invalid-feedback"},ee.t("profileNameMandatory"))),this.state.imageMandatory&&(t=a.createElement("div",{className:"alert alert-danger"},ee.t("profileImageMandatory"))),a.createElement("div",null,a.createElement("form",{onSubmit:this.saveProfile},a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"keyList",className:"form-label"},ee.t("profileServerKey")),a.createElement("select",{className:"form-select","aria-label":"public key",id:"keyList",onChange:function(e){return o.editKey(e)},value:this.state.hutchProfile.sign_kid},i)),a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"profileName",className:"form-label"},ee.t("profileName")),a.createElement("input",{type:"text",className:l,id:"profileName",value:this.state.hutchProfile.name||"",onChange:function(e){return o.editName(e)}}),r),a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"profileMessage",className:"form-label"},ee.t("profileMessage")),a.createElement("textarea",{className:s,id:"profileMessage",value:this.state.hutchProfile.message||"",onChange:function(e){return o.editMessage(e)},maxLength:"512"}),n),a.createElement("div",{className:"mb-3"},a.createElement("label",{className:"form-label"},ee.t("profileImage")),a.createElement("div",null,e,t)),a.createElement("div",{className:"mb-3"},a.createElement("input",{type:"file",id:"uploadImageInput",onChange:this.onUploadImage,accept:".jpg,.jpg,.png,.gif,.bmp",className:"upload"}),a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.uploadImage},ee.t("profileImageSelect")),a.createElement("span",{className:"badge bg-secondary btn-icon btn-icon-right"},ee.t("or")),a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.getRandomWikimediaImage},ee.t("profileImageRandom"))),a.createElement("hr",null),a.createElement("div",{className:"btn-toolbar justify-content-between",role:"toolbar"},a.createElement("div",{className:"btn-group",role:"group"},a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.saveProfile},ee.t("profileSubmit")),a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.cancelEditProfile},ee.t("profileCancel"))),a.createElement("div",{className:"input-group"},a.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.removeProfile},a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"}))))),a.createElement(aa,{name:"removeProfile",title:ee.t("removeProfileTitle"),message:ee.t("removeProfileMessage"),cb:this.removeProfileConfirm}))}}])&&oa(t.prototype,n),r&&oa(t,r),l}(a.Component);function fa(e){return(fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function da(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function pa(e,t){return(pa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ma(e,t){return!t||"object"!==fa(t)&&"function"!=typeof t?ha(e):t}function ha(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ya(e){return(ya=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const ga=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pa(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ya(o);if(i){var n=ya(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ma(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={config:e.config,profile:e.profile,hutchProfile:e.hutchProfile},t.addSafe=t.addSafe.bind(ha(t)),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"editProfile",value:function(){bn.sendMessage("App",{action:"editProfile"})}},{key:"lockAllSafe",value:function(){bn.sendMessage("App",{action:"lockAllSafe"}),bn.sendMessage("Notification",{type:"info",message:ee.t("lockedAllSafe")})}},{key:"addSafe",value:function(){bn.sendMessage("App",{action:"addSafe"})}},{key:"render",value:function(){var e,t;return this.state.hutchProfile?(e=a.createElement("div",null,a.createElement("div",{className:"d-flex justify-content-center"},a.createElement("img",{src:this.state.hutchProfile.picture,className:"card-img-top profile-image"})),a.createElement("div",{className:"d-flex justify-content-center"},a.createElement("p",null,this.state.hutchProfile.message))),t=a.createElement("div",{className:"d-flex justify-content-center"},a.createElement("button",{type:"button",onClick:this.editProfile,className:"btn btn-secondary"},ee.t("profileEdit")))):t=a.createElement("button",{type:"button",onClick:this.editProfile,className:"btn btn-secondary"},ee.t("profileCreate")),a.createElement("div",null,a.createElement("div",{className:"alert alert-primary",role:"alert"},ee.t("profileValue",{name:this.state.hutchProfile.name||this.state.profile.name||""}),a.createElement("div",{className:"btn-group float-end",role:"group"},a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.lockAllSafe,title:ee.t("lockAllSafe")},a.createElement("i",{className:"fa fa-lock","aria-hidden":"true"})),a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.addSafe,title:ee.t("addSafe")},a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})))),e,t)}}])&&da(t.prototype,n),r&&da(t,r),l}(a.Component);function ba(e){return(ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function va(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function wa(e,t){return(wa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sa(e,t){return!t||"object"!==ba(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ea(e){return(Ea=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const ka=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wa(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ea(o);if(i){var n=Ea(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Sa(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={config:e.config,profile:e.profile,hutchProfile:e.hutchProfile,hasProfile:e.hasProfile,editProfile:e.editProfile,oidcStatus:e.oidcStatus},t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"render",value:function(){return"connecting"===this.state.oidcStatus?a.createElement("div",{className:"alert alert-success",role:"alert"},ee.t("connectingMessage")):"disconnected"===this.state.oidcStatus?a.createElement("div",{className:"alert alert-warning",role:"alert"},ee.t("disconnectedMessage")):this.state.editProfile?a.createElement(ua,{config:this.state.config,hutchProfile:this.state.hutchProfile}):a.createElement(ga,{config:this.state.config,hutchProfile:this.state.hutchProfile,profile:this.state.profile})}}])&&va(t.prototype,n),r&&va(t,r),l}(a.Component);function Ca(e){return(Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pa(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Na(e,t){return(Na=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xa(e,t){return!t||"object"!==Ca(t)&&"function"!=typeof t?Oa(e):t}function Oa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _a(e){return(_a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Ta=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Na(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_a(o);if(i){var n=_a(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return xa(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={isError:e.isError,ph:e.ph,cb:e.cb,value:"",filename:""},t.changeValue=t.changeValue.bind(Oa(t)),t.getFile=t.getFile.bind(Oa(t)),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changeValue",value:function(e){var t=this;this.setState({value:e.target.value,filename:""},(function(){t.state.cb(t.state.value)}))}},{key:"getFile",value:function(e){var t=this,n=e.target.files[0],a=new FileReader;a.onload=function(e){t.setState({value:e.target.result,filename:n.name},(function(){t.state.cb(t.state.value)}))},a.readAsText(n)}},{key:"render",value:function(){var e,t,n=this,r="form-control";return this.state.isError&&(r+=" is-invalid",e=a.createElement("div",{className:"invalid-feedback"},ee.t("jwkError"))),this.state.filename&&(t=a.createElement("code",{className:"btn-icon-right"},this.state.filename)),a.createElement("div",null,a.createElement("div",{className:"input-group"},a.createElement("textarea",{className:r,autoComplete:"off",placeholder:this.state.ph,value:this.state.value,onChange:function(e){return n.changeValue(e)}}),a.createElement("input",{type:"file",className:"upload",id:"jwkFile",onChange:this.getFile}),a.createElement("label",{htmlFor:"jwkFile",className:"btn btn-outline-secondary btn-sm"},a.createElement("i",{className:"fa fa-cloud-upload","aria-hidden":"true"})),e),t)}}])&&Pa(t.prototype,n),r&&Pa(t,r),l}(a.Component);function Ra(e){return(Ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Aa(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Da(e,t){return(Da=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function La(e,t){return!t||"object"!==Ra(t)&&"function"!=typeof t?ja(e):t}function ja(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ma(e){return(Ma=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Ia=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Da(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ma(o);if(i){var n=Ma(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return La(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={safeKey:e.safeKey,cb:e.callback,newPassword:"",confirmNewPassword:"",prefixPassword:"",confirmPrefixPassword:"",safeKeyJwk:"",keyName:"",pwdScore:-1,isValid:!1},t.changeNewPassword=t.changeNewPassword.bind(ja(t)),t.changeConfirmNewPassword=t.changeConfirmNewPassword.bind(ja(t)),t.changePrefixPassword=t.changePrefixPassword.bind(ja(t)),t.changeConfirmPrefixPassword=t.changeConfirmPrefixPassword.bind(ja(t)),t.editSafeKeyJwk=t.editSafeKeyJwk.bind(ja(t)),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changeDisplayName",value:function(e){var t=this,n=this.state.safeKey;n.display_name=e.target.value,this.setState({safeKey:n},(function(){t.isSafeKeyValid()}))}},{key:"changeNewPassword",value:function(e){var t=this,n=-1;e.target.value&&(n=zxcvbn(e.target.value).score),this.setState({newPassword:e.target.value,pwdScore:n},(function(){t.isSafeKeyValid()}))}},{key:"changeConfirmNewPassword",value:function(e){var t=this;this.setState({confirmNewPassword:e.target.value},(function(){t.isSafeKeyValid()}))}},{key:"changePrefixPassword",value:function(e){this.setState({prefixPassword:e.target.value})}},{key:"changeConfirmPrefixPassword",value:function(e){var t=this;this.setState({confirmPrefixPassword:e.target.value},(function(){t.isSafeKeyValid()}))}},{key:"editSafeKeyJwk",value:function(e){var t=this;this.setState({safeKeyJwk:e},(function(){t.isSafeKeyValid()}))}},{key:"isSafeKeyValid",value:function(){var e=!0;if(this.state.safeKey.display_name||(e=!1),"password"===this.state.safeKey.type)this.state.newPassword||(e=!1),this.state.newPassword!==this.state.confirmNewPassword&&(e=!1);else if("master-password"===this.state.safeKey.type)this.state.newPassword||(e=!1),this.state.prefixPassword&&this.state.prefixPassword!==this.state.confirmPrefixPassword&&(e=!1);else if("jwk"===this.state.safeKey.type)try{var t=JSON.parse(this.state.safeKeyJwk);t.keys&&(t=t.keys[0]),t&&t.alg||(e=!1)}catch(t){e=!1}this.setState({isValid:e})}},{key:"saveSafe",value:function(e){e.preventDefault(),this.state.isValid&&this.closeModal(e,!0)}},{key:"closeModal",value:function(e,t){var n;try{n=JSON.parse(this.state.safeKeyJwk)}catch(e){n=!1}this.state.cb&&(this.state.cb(t,{safeKey:this.state.safeKey,password:this.state.prefixPassword+this.state.newPassword,prefixPassword:!!this.state.prefixPassword,jwk:n}),this.setState({newPassword:"",confirmNewPassword:"",pwdScore:-1,isValid:!1}))}},{key:"render",value:function(){var e,t,n=this;if("password"===this.state.safeKey.type)0===this.state.pwdScore?e=a.createElement("span",{className:"badge bg-danger"},ee.t("pwdScoreTooGuessable")):1===this.state.pwdScore?e=a.createElement("span",{className:"badge bg-warning"},ee.t("pwdScoreVeryGuessable")):2===this.state.pwdScore?e=a.createElement("span",{className:"badge bg-secondary"},ee.t("pwdScoreSomewhatGuessable")):3===this.state.pwdScore?e=a.createElement("span",{className:"badge bg-primary"},ee.t("pwdScoreSafelyUnguessable")):4===this.state.pwdScore&&(e=a.createElement("span",{className:"badge bg-success"},ee.t("pwdScoreVeryUnguessable"))),t=a.createElement("div",null,a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"newPassword",className:"form-label"},ee.t("newPassword")),a.createElement("input",{type:"password",autoComplete:"off",className:"form-control",id:"newPassword",placeholder:ee.t("newPasswordPh"),value:this.state.newPassword,onChange:function(e){return n.changeNewPassword(e)}}),e),a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"confirmNewPassword",className:"form-label"},ee.t("confirmNewPassword")),a.createElement("input",{type:"password",autoComplete:"off",className:"form-control",id:"confirmNewPassword",placeholder:ee.t("confirmNewPasswordPh"),value:this.state.confirmNewPassword,onChange:function(e){return n.changeConfirmNewPassword(e)}})));else if("master-password"===this.state.safeKey.type)t=a.createElement("div",null,a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"prefixPassword",className:"form-label"},ee.t("prefixPassword")),a.createElement("input",{type:"password",autoComplete:"off",className:"form-control",id:"prefixPassword",placeholder:ee.t("prefixPasswordPh"),value:this.state.prefixPassword,onChange:function(e){return n.changePrefixPassword(e)}}),e),a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"confirmPrefixPassword",className:"form-label"},ee.t("confirmPrefixPassword")),a.createElement("input",{type:"password",autoComplete:"off",className:"form-control",id:"confirmPrefixPassword",placeholder:ee.t("confirmPrefixPasswordPh"),value:this.state.confirmPrefixPassword,onChange:function(e){return n.changeConfirmPrefixPassword(e)}})),a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"newPassword",className:"form-label"},ee.t("masterPassword")),a.createElement("input",{type:"password",autoComplete:"off",className:"form-control",id:"newPassword",placeholder:ee.t("masterPasswordPh"),value:this.state.newPassword,onChange:function(e){return n.changeNewPassword(e)}})));else if("jwk"===this.state.safeKey.type){var r;this.state.isValid||(r=a.createElement("div",{className:"invalid-feedback"},ee.t("jwkError"))),t=a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"safeKeyJwk",className:"form-label"},ee.t("safeKeyJwk")),a.createElement(Ta,{isError:!this.state.isValid,ph:ee.t("safeKeyJwkPh"),cb:this.editSafeKeyJwk}),r)}return a.createElement("div",{className:"modal",tabIndex:"-1",id:"modalSafeKey"},a.createElement("div",{className:"modal-dialog"},a.createElement("div",{className:"modal-content"},a.createElement("div",{className:"modal-header"},a.createElement("h5",{className:"modal-title"},ee.t("modalSafeKey-"+this.state.safeKey.type)),a.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(e){return n.closeModal(e,!1)}})),a.createElement("form",{onSubmit:this.saveSafe},a.createElement("div",{className:"modal-body"},a.createElement("input",{type:"hidden",maxLength:"128",id:"safeKeyName",value:this.state.safeKey.name}),a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"safeKeyDisplayName",className:"form-label"},ee.t("safeKeyDisplayName")),a.createElement("input",{type:"text",maxLength:"512",className:"form-control",id:"safeKeyDisplayName",placeholder:ee.t("safeKeyDisplayNamePh"),value:this.state.safeKey.display_name,onChange:function(e){return n.changeDisplayName(e)}})),t),a.createElement("div",{className:"modal-footer"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return n.closeModal(e,!1)}},ee.t("modalClose")),a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(e){return n.saveSafe(e)},disabled:!this.state.isValid},ee.t("modalOk")))))))}}])&&Aa(t.prototype,n),r&&Aa(t,r),l}(a.Component);function Ka(e){return(Ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ua(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ha(e,t){return(Ha=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fa(e,t){return!t||"object"!==Ka(t)&&"function"!=typeof t?Wa(e):t}function Wa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ba(e){return(Ba=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function za(e,t){var n=!1,a="hutchsafekey-"+t.name;"/"!==window.location.pathname&&(a+="-"+window.btoa(unescape(encodeURIComponent(window.location.pathname))).replace(/\=+$/m,""));var r=Tn.getValue(a);return r?e[t.name]&&e[t.name].keyList&&e[t.name].keyList.forEach((function(e){e.name===r&&(n=e)})):e&&t&&e[t.name]&&e[t.name].keyList&&e[t.name].keyList.forEach((function(e){n||"password"!==e.type&&"master-password"!==e.type&&"jwk"!==e.type||(n=e)})),n}const Ja=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ha(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ba(o);if(i){var n=Ba(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Fa(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={config:e.config,safe:e.safe,safeContent:e.safeContent,cb:e.cb,allowKeepUnlocked:e.allowKeepUnlocked,safeKey:za(e.safeContent,e.safe),safePassword:"",safePrefixPassword:"",safeKeyJwk:"",safeSecretError:!1,keepUnlocked:!1,unlockKeyName:t.getBrowserInfo()},t.closeModal=t.closeModal.bind(Wa(t)),t.setSafeKey=t.setSafeKey.bind(Wa(t)),t.toggleKeepUnlocked=t.toggleKeepUnlocked.bind(Wa(t)),t.changeUnlockKeyName=t.changeUnlockKeyName.bind(Wa(t)),t.editSafeKeyJwk=t.editSafeKeyJwk.bind(Wa(t)),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=Object.assign({},e);return t.safe.name!==e.safe.name&&(n.safeKey=za(e.safeContent,e.safe)),n}}],(n=[{key:"changePassword",value:function(e){this.setState({safePassword:e.target.value})}},{key:"changePrefixPassword",value:function(e){this.setState({safePrefixPassword:e.target.value})}},{key:"editSafeKeyJwk",value:function(e){this.setState({safeKeyJwk:e})}},{key:"toggleKeepUnlocked",value:function(e){var t=!this.state.keepUnlocked;this.setState({keepUnlocked:t})}},{key:"changeUnlockKeyName",value:function(e){this.setState({unlockKeyName:e.target.value})}},{key:"setSafeKey",value:function(e,t){var n=this;e.preventDefault(),this.setState({safeKey:t,safeSecretError:!1},(function(){var e="hutchsafekey-"+n.state.safe.name;"/"!==window.location.pathname&&(e+="-"+window.btoa(unescape(encodeURIComponent(window.location.pathname))).replace(/\=+$/m,"")),Tn.setValue(e,t.name)}))}},{key:"getBrowserInfo",value:function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?"IE "+((e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""):"Chrome"===n[1]&&null!==(e=t.match(/\b(OPR|Edge)\/(\d+)/))?e.slice(1).join(" ").replace("OPR","Opera"):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),n.join(" "))}},{key:"verifyKey",value:function(e){var t=this;if(e.preventDefault(),this.state.safeKey){if("password"===this.state.safeKey.type||"master-password"===this.state.safeKey.type){var n=new TextEncoder;mn(this.state.safeKey.data,n.encode(this.state.safePrefixPassword+this.state.safePassword)).then((function(e){t.setState({safeSecretError:!1},(function(){kt(e.payload,t.state.safe.alg_type).then((function(n){t.setState({safePassword:"",safePrefixPassword:"",safeKeyJwk:"",safeSecretError:!1},(function(){t.state.cb(!0,n,t.state.keepUnlocked,t.state.unlockKeyName,e.payload)}))}))}))})).catch((function(){t.setState({safeSecretError:!0})}))}else if("jwk"===this.state.safeKey.type)try{var a,r=JSON.parse(this.state.safeKeyJwk);kt(a=r.keys&&r.keys.length?r.keys[0]:r,a.alg).then((function(e){mn(t.state.safeKey.data,e).then((function(e){t.setState({safeSecretError:!1},(function(){kt(e.payload,t.state.safe.alg_type).then((function(n){t.setState({safePassword:"",safePrefixPassword:"",safeKeyJwk:"",safeSecretError:!1},(function(){t.state.cb(!0,n,t.state.keepUnlocked,t.state.unlockKeyName,e.payload)}))}))}))})).catch((function(){t.setState({safeSecretError:!0})}))})).catch((function(){t.setState({safeSecretError:!0})}))}catch(e){this.setState({safeSecretError:!0})}}else this.setState({safeSecretError:!0})}},{key:"closeModal",value:function(e,t){var n=this;this.setState({safePassword:"",safePrefixPassword:"",safeKeyJwk:"",safeSecretError:!1,keepUnlocked:!1},(function(){n.state.cb&&n.state.cb(t)}))}},{key:"render",value:function(){var e,t,n,r,o=this,i=[],s={prefixPassword:!1},l="form-control";return this.state.safe&&this.state.safeContent&&this.state.safeContent[this.state.safe.name]&&this.state.safeContent[this.state.safe.name].keyList&&("password"===this.state.safeKey.type?(this.state.safeSecretError&&(l+=" is-invalid",e=a.createElement("div",{className:"invalid-feedback"},ee.t("safeKeyError"))),n=a.createElement("input",{type:"password",className:l,autoComplete:"new-password",placeholder:ee.t("safePassword"),onChange:function(e){return o.changePassword(e)},autoFocus:!0,value:this.state.safePassword})):"master-password"===this.state.safeKey.type?(this.state.safeSecretError&&(l+=" is-invalid",e=a.createElement("div",{className:"invalid-feedback"},ee.t("safeKeyError"))),this.state.safeKey&&this.state.safeKey.data&&(s=yn(this.state.safeKey.data)),s.prefixPassword&&(r=a.createElement("input",{type:"password",className:l,autoComplete:"new-password",placeholder:ee.t("safePrefixPassword"),onChange:function(e){return o.changePrefixPassword(e)},autoFocus:!0,value:this.state.safePrefixPassword})),n=a.createElement("div",null,r,a.createElement("input",{type:"password",className:l,autoComplete:"new-password",placeholder:ee.t("safePassword"),onChange:function(e){return o.changePassword(e)},autoFocus:!0,value:this.state.safePassword}))):"jwk"===this.state.safeKey.type&&(n=a.createElement(Ta,{isError:this.state.safeSecretError,errorMessage:ee.t("safeKeyError"),ph:ee.t("safeKeyJwkPh"),cb:this.editSafeKeyJwk})),this.state.safeContent[this.state.safe.name].keyList.forEach((function(e,t){("password"===e.type||"master-password"===e.type||"jwk"===e.type)&&i.push(a.createElement("li",{key:t},a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return o.setSafeKey(t,e)}},e.display_name||e.name)))}))),this.state.allowKeepUnlocked&&(t=a.createElement("div",null,a.createElement("div",{className:"form-check"},a.createElement("input",{className:"form-check-input",type:"checkbox",checked:this.state.keepUnlocked,id:"keepUnlocked",onChange:function(e){return o.toggleKeepUnlocked(e)}}),a.createElement("label",{className:"form-check-label",htmlFor:"keepUnlocked"},ee.t("keepUnlocked"))),a.createElement("div",{className:"mb-3"},a.createElement("input",{type:"text",className:"form-control",placeholder:this.getBrowserInfo(),onChange:function(e){return o.changeUnlockKeyName(e)},disabled:!this.state.keepUnlocked,id:"safeUnlockKeyName",value:this.state.unlockKeyName}),a.createElement("div",{className:"form-text",htmlFor:"safeUnlockKeyName"},ee.t("safeUnlockKeyName"))))),a.createElement("div",{className:"modal",tabIndex:"-1",id:"modalUnlockSafe"},a.createElement("div",{className:"modal-dialog"},a.createElement("div",{className:"modal-content"},a.createElement("div",{className:"modal-header"},a.createElement("h5",{className:"modal-title"},ee.t("safeUnlockTitle")),a.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(e){return o.closeModal(e,!1)}})),a.createElement("form",{onSubmit:this.verifyKey},a.createElement("div",{className:"modal-body"},a.createElement("div",{className:"input-group mb-3"},a.createElement("div",{className:"input-group-prepend"},a.createElement("label",{className:"input-group-text",htmlFor:"safeKeySelect"},ee.t("safeKeySelect"))),a.createElement("button",{className:"btn btn-outline-secondary dropdown-toggle",type:"button",id:"safeKeySelect","data-bs-toggle":"dropdown","aria-expanded":"false"},this.state.safeKey.display_name||this.state.safeKey.name),a.createElement("ul",{className:"dropdown-menu"},i)),a.createElement("div",{className:"input-group mb-3"},n,e),t),a.createElement("div",{className:"modal-footer"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return o.closeModal(e,!1)}},ee.t("modalClose")),a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(e){return o.verifyKey(e)}},ee.t("modalOk")))))))}}])&&Ua(t.prototype,n),r&&Ua(t,r),l}(a.Component);function Va(e){return(Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qa(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function $a(e,t){return($a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ga(e,t){return!t||"object"!==Va(t)&&"function"!=typeof t?Qa(e):t}function Qa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xa(e){return(Xa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Ya=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$a(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Xa(o);if(i){var n=Xa(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ga(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={config:e.config,safe:e.safe,safeContent:e.safeContent,editMode:e.editMode,nameMandatory:!1,namePresent:!1,safeKey:e.safeKey,addKey:!1,curSafeKeyContainer:!1,nextStep:!1,nextStepType:!1,removeSafeKeyMessage:!1},t.saveSafe=t.saveSafe.bind(Qa(t)),t.cancelEditSafe=t.cancelEditSafe.bind(Qa(t)),t.addSafeKey=t.addSafeKey.bind(Qa(t)),t.saveSafeKey=t.saveSafeKey.bind(Qa(t)),t.removeSafeKey=t.removeSafeKey.bind(Qa(t)),t.removeSafeKeyConfirm=t.removeSafeKeyConfirm.bind(Qa(t)),t.editSafeKey=t.editSafeKey.bind(Qa(t)),t.completeAddSafeKey=t.completeAddSafeKey.bind(Qa(t)),t.completeSetSafeKey=t.completeSetSafeKey.bind(Qa(t)),t.unlockSafeCallback=t.unlockSafeCallback.bind(Qa(t)),t.createKeyForSafe=t.createKeyForSafe.bind(Qa(t)),t.removeSafe=t.removeSafe.bind(Qa(t)),t.removeSafeConfirm=t.removeSafeConfirm.bind(Qa(t)),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"editDisplayName",value:function(e){var t=this.state.safe;t.display_name=e.target.value,this.setState({safe:t})}},{key:"editEncType",value:function(e){var t=this.state.safe;t.enc_type=e.target.value,this.setState({safe:t})}},{key:"editAlgType",value:function(e){var t=this.state.safe;t.alg_type=e.target.value,this.setState({safe:t})}},{key:"saveSafe",value:function(e){e.preventDefault();var t=this.state.safe;1===this.state.editMode?(Nn.request(this.state.config.safe_endpoint,"POST",t).then((function(){bn.sendMessage("App",{action:"saveSafe",safe:t}),bn.sendMessage("Notification",{type:"info",message:ee.t("messageSaveSafe")})})).catch((function(){bn.sendMessage("Notification",{type:"warning",message:ee.t("messageErrorSaveSafe")})})),this.setState({nameMandatory:!1,namePresent:!1})):Nn.request(this.state.config.safe_endpoint+"/"+t.name,"PUT",t).then((function(){bn.sendMessage("App",{action:"saveSafe",safe:t}),bn.sendMessage("Notification",{type:"info",message:ee.t("messageSaveSafe")})})).catch((function(){bn.sendMessage("Notification",{type:"warning",message:ee.t("messageErrorSaveSafe")})}))}},{key:"cancelEditSafe",value:function(){bn.sendMessage("App",{action:"nav",target:1!==this.state.editMode&&this.state.safe.name})}},{key:"createKeyForSafe",value:function(){var e=this;return Wt(this.state.safe.alg_type,{extractable:!0}).then((function(t){return zt(t).then((function(t){return kt(t,e.state.safe.alg_type).then((function(e){return{key:e,extractableKey:t}}))}))}))}},{key:"saveSafeKey",value:function(e,t){var n=this;if(bootstrap.Modal.getOrCreateInstance(document.querySelector("#modalSafeKey")).hide(),e)if("password"===t.safeKey.type||"master-password"===t.safeKey.type){var a="PBES2-HS256+A128KW";"A192KW"===this.state.safe.alg_type||"A192GCMKW"===this.state.safe.alg_type?a="PBES2-HS384+A192KW":"A256KW"!==this.state.safe.alg_type&&"A256GCMKW"!==this.state.safe.alg_type||(a="PBES2-HS512+A256KW");var r=(new TextEncoder).encode(t.password);this.state.addKey?this.state.safeContent[this.state.safe.name].key?this.completeAddSafeKey(r,t.safeKey,a,t.prefixPassword):this.createKeyForSafe().then((function(e){var o=n.state.safeContent;o[n.state.safe.name].extractableKey=e.extractableKey,o[n.state.safe.name].key=e.key,n.setState({safeContent:o},(function(){n.completeAddSafeKey(r,t.safeKey,a,t.prefixPassword)}))})):this.completeSetSafeKey(r,t.safeKey,a,t.prefixPassword)}else if("jwk"===t.safeKey.type){var o;o=t.jwk.keys&&t.jwk.keys.length?t.jwk.keys[0]:t.jwk,this.state.addKey?this.state.safeContent[this.state.safe.name].key?kt(o,o.alg).then((function(e){n.completeAddSafeKey(e,t.safeKey,o.alg,t.prefixPassword)})):this.createKeyForSafe().then((function(e){var a=n.state.safeContent;a[n.state.safe.name].extractableKey=e.extractableKey,a[n.state.safe.name].key=e.key,n.setState({safeContent:a},(function(){kt(o,o.alg).then((function(e){n.completeAddSafeKey(e,t.safeKey,o.alg,t.prefixPassword)}))}))})):kt(o,o.alg).then((function(e){n.completeSetSafeKey(e,t.safeKey,o.alg,t.prefixPassword)}))}else"browser"===t.safeKey.type&&Nn.request(this.state.config.safe_endpoint+"/"+this.state.safe.name+"/key/"+t.safeKey.name,"PUT",t.safeKey).then((function(){bn.sendMessage("App",{action:"setSafeKey",target:n.state.safe,newSafeKey:t.safeKey,removeStorage:!1}),n.setState({curSafeKeyContainer:!1}),bn.sendMessage("Notification",{type:"info",message:ee.t("safeLockUpdated")})}))}},{key:"addSafeKey",value:function(e,t){e&&e.preventDefault(),!this.state.safeContent[this.state.safe.name].extractableKey&&this.state.safeContent[this.state.safe.name].keyList.length?this.setState({nextStep:this.addSafeKey,nextStepType:t},(function(){new bootstrap.Modal(document.getElementById("modalUnlockSafe"),{keyboard:!1}).show()})):this.setState({addKey:!0,curSafeKeyContainer:{name:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),display_name:"",type:t,data:""}},(function(){new bootstrap.Modal(document.getElementById("modalSafeKey"),{keyboard:!1}).show()}))}},{key:"completeAddSafeKey",value:function(e,t,n){var a=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.state.safeContent[this.state.safe.name].extractableKey?new dn(this.state.safeContent[this.state.safe.name].extractableKey).setProtectedHeader({alg:n,enc:this.state.safe.enc_type,sign_key:this.state.config.sign_thumb,prefixPassword:r}).encrypt(e).then((function(e){t.data=e,Nn.request(a.state.config.safe_endpoint+"/"+a.state.safe.name+"/key","POST",t).then((function(){bn.sendMessage("App",{action:"updateSafeKey",safe:a.state.safe}),bn.sendMessage("Notification",{type:"info",message:ee.t("safeLockAdded")})}))})):bn.sendMessage("Notification",{type:"warning",message:ee.t("lockedSafe")})}},{key:"editSafeKey",value:function(e,t){var n=this,a={addKey:!1};t&&(a.curSafeKeyContainer=t),this.setState(a,(function(){n.state.safeContent[n.state.safe.name].extractableKey?new bootstrap.Modal(document.getElementById("modalSafeKey"),{keyboard:!1}).show():n.setState({nextStep:n.editSafeKey},(function(){new bootstrap.Modal(document.getElementById("modalUnlockSafe"),{keyboard:!1}).show()}))}))}},{key:"completeSetSafeKey",value:function(e,t,n){var a=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.state.safeContent[this.state.safe.name].extractableKey?new dn(this.state.safeContent[this.state.safe.name].extractableKey).setProtectedHeader({alg:n,enc:this.state.safe.enc_type,sign_key:this.state.config.sign_thumb,prefixPassword:r}).encrypt(e).then((function(e){t.data=e,Nn.request(a.state.config.safe_endpoint+"/"+a.state.safe.name+"/key/"+t.name,"PUT",t).then((function(){bn.sendMessage("App",{action:"setSafeKey",target:a.state.safe,newSafeKey:t,removeStorage:!1}),a.setState({curSafeKeyContainer:!1}),bn.sendMessage("Notification",{type:"info",message:ee.t("safeLockUpdated")})}))})):bn.sendMessage("Notification",{type:"warning",message:ee.t("lockedSafe")})}},{key:"removeSafeKey",value:function(e,t){var n=this;e&&e.preventDefault();var a={};t&&(a.curSafeKeyContainer=t,a.removeSafeKeyMessage=ee.t("removeSafeKeyMessage",{name:t.display_name})),this.setState(a,(function(){n.state.safeContent[n.state.safe.name].extractableKey?new bootstrap.Modal(document.getElementById("removeSafeKey"),{keyboard:!1}).show():n.setState({nextStep:n.removeSafeKey},(function(){new bootstrap.Modal(document.getElementById("modalUnlockSafe"),{keyboard:!1}).show()}))}))}},{key:"removeSafeKeyConfirm",value:function(e){var t=this;e&&Nn.request(this.state.config.safe_endpoint+"/"+this.state.safe.name+"/key/"+this.state.curSafeKeyContainer.name,"DELETE").then((function(){t.setState({curSafeKeyContainer:!1},(function(){bn.sendMessage("Notification",{type:"info",message:ee.t("messageRemoveSafeKey")}),bn.sendMessage("App",{action:"updateSafeKey",safe:t.state.safe})}))})).catch((function(){bn.sendMessage("Notification",{type:"warning",message:ee.t("messageErrorSaveSafeKey")})})),bootstrap.Modal.getOrCreateInstance(document.querySelector("#removeSafeKey")).hide()}},{key:"unlockSafeCallback",value:function(e,t,n,a,r){bootstrap.Modal.getOrCreateInstance(document.querySelector("#modalUnlockSafe")).hide(),e&&(bn.sendMessage("App",{action:"unlockSafe",safe:this.state.safe,extractableKey:r}),this.state.nextStep&&this.state.nextStep(!1,this.state.nextStepType))}},{key:"removeSafe",value:function(){new bootstrap.Modal(document.getElementById("removeSafe"),{keyboard:!1}).show()}},{key:"removeSafeConfirm",value:function(e){var t=this;e&&Nn.request(this.state.config.safe_endpoint+"/"+this.state.safe.name,"DELETE").then((function(){bn.sendMessage("App",{action:"removeSafe",safe:t.state.safe}),bn.sendMessage("Notification",{type:"info",message:ee.t("messageRemoveSafe")})})).catch((function(){bn.sendMessage("Notification",{type:"warning",message:ee.t("messageErrorSaveSafe")})})),bootstrap.Modal.getOrCreateInstance(document.querySelector("#removeSafe")).hide()}},{key:"render",value:function(){var e,t=this,n=[];if(this.state.safeContent&&this.state.safe&&this.state.safeContent[this.state.safe.name]){var r=0;this.state.safeContent[this.state.safe.name].keyList.forEach((function(e){-1!==["password","master-password"].indexOf(e.type)&&r++})),this.state.safeContent[this.state.safe.name].keyList.forEach((function(e,o){var i="fa btn-icon ";"password"===e.type?i+="fa-key":"master-password"===e.type?i+="fa-usb":"jwk"===e.type?i+="fa-file-code-o":"browser"===e.type&&(i+="fa-firefox"),n.push(a.createElement("div",{className:"input-group",key:o},a.createElement("div",{className:"input-group-text"},a.createElement("i",{className:i,"aria-hidden":"true"}),e.display_name||e.name),a.createElement("div",{className:"btn-group me-2",role:"group"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(n){return t.editSafeKey(n,e)}},a.createElement("i",{className:"fa fa-pencil","aria-hidden":"true"})),a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(n){return t.removeSafeKey(n,e)},disabled:r<=1&&-1!==["password","master-password"].indexOf(e.type)},a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})))))}))}return this.state.curSafeKeyContainer&&(e=a.createElement(Ia,{safeKey:this.state.curSafeKeyContainer,callback:this.saveSafeKey})),a.createElement("div",null,a.createElement("form",{onSubmit:this.saveSafe},a.createElement("input",{type:"hidden",id:"safeName",value:this.state.safe.name}),a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"safeDisplayName",className:"form-label"},ee.t("safeDisplayName")),a.createElement("input",{type:"text",className:"form-control",id:"safeDisplayName",value:this.state.safe.display_name||"",onChange:function(e){return t.editDisplayName(e)}})),a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"encType",className:"form-label"},ee.t("safeEncType")),a.createElement("select",{disabled:2===this.state.editMode,className:"form-select","aria-label":"enc type",id:"encType",onChange:function(e){return t.editEncType(e)},value:this.state.safe.enc_type},a.createElement("option",{value:"A128CBC-HS256"},"A128CBC-HS256"),a.createElement("option",{value:"A192CBC-HS384"},"A192CBC-HS384"),a.createElement("option",{value:"A256CBC-HS512"},"A256CBC-HS512"),a.createElement("option",{value:"A128GCM"},"A128GCM"),a.createElement("option",{value:"A192GCM"},"A192GCM"),a.createElement("option",{value:"A256GCM"},"A256GCM"))),a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"algType",className:"form-label"},ee.t("safeAlgType")),a.createElement("select",{disabled:2===this.state.editMode,className:"form-select","aria-label":"enc type",id:"algType",onChange:function(e){return t.editAlgType(e)},value:this.state.safe.alg_type},a.createElement("option",{value:"A128KW"},"A128KW"),a.createElement("option",{value:"A192KW"},"A192KW"),a.createElement("option",{value:"A256KW"},"A256KW"),a.createElement("option",{value:"A128GCMKW"},"A128GCMKW"),a.createElement("option",{value:"A192GCMKW"},"A192GCMKW"),a.createElement("option",{value:"A256GCMKW"},"A256GCMKW"))),a.createElement("div",{className:"alert alert-primary",role:"alert"},a.createElement("div",{className:"btn-toolbar justify-content-between",role:"toolbar"},ee.t("safeKeyList"),a.createElement("div",{className:"input-group"},a.createElement("div",{className:"input-group mb-3"},a.createElement("button",{className:"btn btn-outline-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",disabled:1===this.state.editMode},a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})),a.createElement("ul",{className:"dropdown-menu"},a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(e){return t.addSafeKey(e,"password")}},ee.t("securityTypePassword")),a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(e){return t.addSafeKey(e,"master-password")}},ee.t("securityTypeMasterPassword")),a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(e){return t.addSafeKey(e,"jwk")}},ee.t("securityTypeJwk"))))))),a.createElement("div",{className:"btn-toolbar mb-3",role:"toolbar"},n),a.createElement("div",{className:"btn-toolbar justify-content-between",role:"toolbar"},a.createElement("div",{className:"btn-group",role:"group","aria-label":"First group"},a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.saveSafe},ee.t("profileSubmit")),a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.cancelEditSafe},ee.t("profileCancel"))),a.createElement("div",{className:"btn-group",role:"group","aria-label":"First group"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.removeSafe},ee.t("removeSafe"))))),a.createElement(aa,{name:"removeSafe",title:ee.t("removeSafeTitle"),message:ee.t("removeSafeMessage",{name:this.state.safe.display_name||this.state.safe.name}),cb:this.removeSafeConfirm}),a.createElement(aa,{name:"removeSafeKey",title:ee.t("removeSafeKeyTitle"),message:this.state.removeSafeKeyMessage,cb:this.removeSafeKeyConfirm}),e,a.createElement(Ja,{config:this.state.config,safe:this.state.safe,safeContent:this.state.safeContent,allowKeepUnlocked:!1,cb:this.unlockSafeCallback}))}}])&&qa(t.prototype,n),r&&qa(t,r),l}(a.Component);function Za(e){return(Za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function er(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function tr(e,t){return(tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nr(e,t){return!t||"object"!==Za(t)&&"function"!=typeof t?ar(e):t}function ar(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rr(e){return(rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const or=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tr(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rr(o);if(i){var n=rr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return nr(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={cb:e.cb,name:e.name,content:e.content,iconList:e.iconListOrig,iconListOrig:e.iconListOrig,iconFilter:"",displayNameError:!1},t.changeDisplayName=t.changeDisplayName.bind(ar(t)),t.useIcon=t.useIcon.bind(ar(t)),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changeDisplayName",value:function(e){var t=this.state.content;t.displayName=e.target.value,this.setState({content:t,displayNameError:!1})}},{key:"changeIconFilter",value:function(e){var t=this;this.setState({iconFilter:e.target.value},(function(){if(t.state.iconFilter){var e={};Object.keys(t.state.iconListOrig).forEach((function(n){e[n]=[],(t.state.iconListOrig[n]||[]).forEach((function(a){a.label.toUpperCase().search(t.state.iconFilter.toUpperCase())>-1&&e[n].push(a)})),e[n].length||delete e[n]})),t.setState({iconList:e},(function(){console.log(e,t.state.iconList)}))}else t.setState({iconList:t.state.iconListOrig})}))}},{key:"useIcon",value:function(e,t){e.preventDefault();var n=this.state.content;n.icon=t.icon,this.setState({content:n})}},{key:"verifyDisplayName",value:function(e){e.preventDefault(),this.state.content.displayName?this.closeModal(e,!0):this.setState({displayNameError:!0})}},{key:"closeModal",value:function(e,t){this.state.cb&&this.state.cb(t,this.state.name,this.state.content,!0)}},{key:"render",value:function(){var e,t,n=this,r=[],o="form-control";return Object.keys(this.state.iconList).forEach((function(e){var t=n.state.iconList[e]||[];r.push(a.createElement("li",{className:"list-group-item",key:e},a.createElement("span",{className:"badge bg-secondary"},e)));var o=[];t.forEach((function(t,r){o.push(a.createElement("a",{key:e+"-"+r,href:"",onClick:function(e){return n.useIcon(e,t)},className:"btn btn-primary btn-icon btn-icon-top"},a.createElement("span",{className:"btn-icon"},t.label),a.createElement("i",{className:"fa "+t.icon,"aria-hidden":"true"})))})),r.push(a.createElement("li",{className:"list-group-item",key:e+"-lst"},o))})),this.state.content.icon&&(e=a.createElement("i",{className:"btn-icon-right fa "+this.state.content.icon,"aria-hidden":"true"})),this.state.displayNameError&&(o+=" is-invalid",t=a.createElement("div",{className:"invalid-feedback"},ee.t("displayNameError"))),a.createElement("div",{className:"modal",tabIndex:"-1",id:"modalCoinEdit"},a.createElement("div",{className:"modal-dialog"},a.createElement("div",{className:"modal-content"},a.createElement("div",{className:"modal-header"},a.createElement("h5",{className:"modal-title"},this.state.name?ee.t("CoinEditTitle"):ee.t("CoinAddTitle")),a.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(e){return n.closeModal(e,!1)}})),a.createElement("form",{onSubmit:function(e){return n.verifyDisplayName(e)}},a.createElement("div",{className:"modal-body"},a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"coinDisplayName",className:"form-label"},ee.t("coinDisplayName")),a.createElement("input",{type:"text",maxLength:"128",className:o,id:"coinDisplayName",value:this.state.content.displayName||"",onChange:function(e){return n.changeDisplayName(e)}}),t),a.createElement("hr",null),a.createElement("div",{className:"mb-3"},a.createElement("label",{className:"form-label"},ee.t("coinIconList"),e),a.createElement("input",{type:"text",maxLength:"128",className:"form-control",id:"coinIconFilter",placeholder:ee.t("coinIconFilterPh"),value:this.state.iconFilter||"",onChange:function(e){return n.changeIconFilter(e)}}),a.createElement("ul",{className:"list-group icon-list"},r))),a.createElement("div",{className:"modal-footer"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return n.closeModal(e,!1)}},ee.t("modalClose")),a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(e){return n.verifyDisplayName(e)}},ee.t("modalOk")))))))}}])&&er(t.prototype,n),r&&er(t,r),l}(a.Component);function ir(e){return(ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function lr(e,t){return(lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cr(e,t){return!t||"object"!==ir(t)&&"function"!=typeof t?ur(e):t}function ur(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fr(e){return(fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const dr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lr(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=fr(r);if(o){var n=fr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return cr(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={config:e.config,safe:e.safe,content:e.content,id:e.id,name:e.name,exportSafeWithSecurity:!1,exportSecurityType:"password",pwdScore:-1,password:"",confirmPassword:"",exportInvalid:!1,exportJwk:""},t.toggleExportSafeWithSecurity=t.toggleExportSafeWithSecurity.bind(ur(t)),t.changeExportSecurityType=t.changeExportSecurityType.bind(ur(t)),t.changePassword=t.changePassword.bind(ur(t)),t.changeConfirmPassword=t.changeConfirmPassword.bind(ur(t)),t.exportSafe=t.exportSafe.bind(ur(t)),t.editExportJwk=t.editExportJwk.bind(ur(t)),t}return t=s,(n=[{key:"toggleExportSafeWithSecurity",value:function(){var e=this;this.setState({exportSafeWithSecurity:!this.state.exportSafeWithSecurity,importData:!1,importDataResult:!1,importTotalCount:0,importTotalSuccess:0,importSecurityType:!1},(function(){e.setState({exportInvalid:e.isExportInvalid()})}))}},{key:"changeExportSecurityType",value:function(e){var t=this;this.setState({exportSecurityType:e.target.value},(function(){t.setState({exportInvalid:t.isExportInvalid()})}))}},{key:"changePassword",value:function(e){var t=this,n=-1;e.target.value&&(n=zxcvbn(e.target.value).score),this.setState({password:e.target.value,pwdScore:n},(function(){t.setState({exportInvalid:t.isExportInvalid()})}))}},{key:"changeConfirmPassword",value:function(e){var t=this;this.setState({confirmPassword:e.target.value},(function(){t.setState({exportInvalid:t.isExportInvalid()})}))}},{key:"editExportJwk",value:function(e){var t=this;this.setState({exportJwk:e},(function(){t.setState({exportInvalid:t.isExportInvalid()})}))}},{key:"isExportInvalid",value:function(){if(this.state.exportSafeWithSecurity)if("password"===this.state.exportSecurityType){if(!this.state.password||this.state.password!==this.state.confirmPassword)return!0}else if("master-password"===this.state.exportSecurityType){if(!this.state.password)return!0}else if("jwk"===this.state.exportSecurityType)try{if(!this.state.exportJwk||!JSON.parse(this.state.exportJwk).alg)return!0}catch(e){return!0}return!1}},{key:"exportSafe",value:function(){var e=this,t=[];if(this.state.content.forEach((function(e){t.push(e.data)})),this.state.exportSafeWithSecurity){if("password"===this.state.exportSecurityType||"master-password"===this.state.exportSecurityType){var n=(new TextEncoder).encode(this.state.password),a="PBES2-HS256+A128KW";"A192KW"===this.state.safe.alg_type||"A192GCMKW"===this.state.safe.alg_type||"PBES2-HS384+A192KW"===this.state.safe.alg_type?a="PBES2-HS384+A192KW":"A256KW"!==this.state.safe.alg_type&&"A256GCMKW"!==this.state.safe.alg_type&&"PBES2-HS512+A256KW"!==this.state.safe.alg_type||(a="PBES2-HS512+A256KW"),new dn({data:t}).setProtectedHeader({alg:a,enc:this.state.safe.enc_type,sign_key:this.state.config.sign_thumb}).encrypt(n).then((function(t){var n=$("#"+e.state.id+"-download");n.attr("href","data:application/octet-stream;base64,"+btoa(t)),n.attr("download",e.state.name+".jwt"),n[0].click()}))}else if("jwk"===this.state.exportSecurityType){var r=JSON.parse(this.state.exportJwk);r.use="enc",kt(r,r.alg).then((function(n){"public"===n.type||"secret"===n.type?new dn({data:t}).setProtectedHeader({alg:r.alg,enc:e.state.safe.enc_type,sign_key:e.state.config.sign_thumb}).encrypt(n).then((function(t){var n=$("#"+e.state.id+"-download");n.attr("href","data:application/octet-stream;base64,"+btoa(t)),n.attr("download",e.state.name+".jwt"),n[0].click()})):e.setState({exportInvalid:1})}))}}else{var o=$("#"+this.state.id+"-download");o.attr("href","data:application/octet-stream;base64,"+btoa(JSON.stringify(t))),o.attr("download",this.state.name+".json"),o[0].click()}}},{key:"render",value:function(){var e,t,n;if(this.state.exportSafeWithSecurity)if(e=a.createElement("select",{className:"form-select",value:this.state.exportSecurityType,onChange:this.changeExportSecurityType},a.createElement("option",{value:"password"},ee.t("securityTypePassword")),a.createElement("option",{value:"master-password"},ee.t("securityTypeMasterPassword")),a.createElement("option",{value:"jwk"},ee.t("securityTypeJwk"))),"password"===this.state.exportSecurityType)0===this.state.pwdScore?n=a.createElement("span",{className:"badge bg-danger"},ee.t("pwdScoreTooGuessable")):1===this.state.pwdScore?n=a.createElement("span",{className:"badge bg-warning"},ee.t("pwdScoreVeryGuessable")):2===this.state.pwdScore?n=a.createElement("span",{className:"badge bg-secondary"},ee.t("pwdScoreSomewhatGuessable")):3===this.state.pwdScore?n=a.createElement("span",{className:"badge bg-primary"},ee.t("pwdScoreSafelyUnguessable")):4===this.state.pwdScore&&(n=a.createElement("span",{className:"badge bg-success"},ee.t("pwdScoreVeryUnguessable"))),t=a.createElement("div",null,a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"newPassword",className:"form-label"},ee.t("newPassword")),a.createElement("input",{type:"password",autoComplete:"new-password",className:"form-control",id:"newPassword",value:this.state.password,onChange:this.changePassword}),n),a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"confirmNewPassword",className:"form-label"},ee.t("confirmNewPassword")),a.createElement("input",{type:"password",autoComplete:"new-password",className:"form-control",id:"confirmNewPassword",value:this.state.confirmPassword,onChange:this.changeConfirmPassword})));else if("master-password"===this.state.exportSecurityType)t=a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"newPassword",className:"form-label"},ee.t("newPassword")),a.createElement("input",{type:"password",autoComplete:"new-password",className:"form-control",id:"newPassword",value:this.state.password,onChange:this.changePassword}));else if("jwk"===this.state.exportSecurityType){var r;this.state.exportInvalid&&(r=a.createElement("div",{className:"invalid-feedback"},ee.t("jwkError"))),t=a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"exportJwk",className:"form-label"},ee.t("exportJwk")),a.createElement(Ta,{isError:this.state.exportInvalid,errorMessage:ee.t("safeSecretError"),ph:ee.t("safeKeyJwkPh"),cb:this.editExportJwk}),r)}return a.createElement("div",null,a.createElement("div",{className:"mb-3"},a.createElement("div",{className:"form-check"},a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:this.state.id+"-exportSafeWithSecurity",checked:this.state.exportSafeWithSecurity,onChange:this.toggleExportSafeWithSecurity}),a.createElement("label",{className:"form-check-label",htmlFor:this.state.id+"-exportSafeWithSecurity"},ee.t("exportSafeWithSecurity")))),e,a.createElement("form",null,t),a.createElement("div",{className:"mb-3"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.exportSafe,title:ee.t("downloadExport"),disabled:this.state.exportInvalid},a.createElement("i",{className:"fa fa-cloud-download","aria-hidden":"true"}))),a.createElement("a",{className:"upload",id:this.state.id+"-download"}))}}])&&sr(t.prototype,n),s}(a.Component);function pr(e){return(pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function hr(e,t){return(hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yr(e,t){return!t||"object"!==pr(t)&&"function"!=typeof t?gr(e):t}function gr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function br(e){return(br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vr(e){return e.safeContent&&e.safe.name&&e.safeContent[e.safe.name]?e.safeContent[e.safe.name].unlockedCoinList:[]}const wr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hr(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=br(o);if(i){var n=br(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return yr(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={config:e.config,oidcStatus:e.oidcStatus,safe:e.safe,safeContent:e.safeContent,cbSaveCoin:e.cbSaveCoin,cbClose:e.cbClose,unlockedCoinList:vr(e),exportSafeWithSecurity:!1,exportSecurityType:"password",password:"",confirmPassword:"",pwdScore:-1,importJwk:"",errorExportJwk:!1,exportInvalid:!1,importData:!1,importDataResult:!1,importTotalCount:0,importTotalSuccess:0,importSecurityType:!1,importRunning:!1,showProgress:!1,coinMax:0,coinNow:0},t.changePassword=t.changePassword.bind(gr(t)),t.getImportFile=t.getImportFile.bind(gr(t)),t.parseContent=t.parseContent.bind(gr(t)),t.importContent=t.importContent.bind(gr(t)),t.completeImportContent=t.completeImportContent.bind(gr(t)),t.editImportJwk=t.editImportJwk.bind(gr(t)),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changePassword",value:function(e){var t=this,n=-1;e.target.value&&(n=zxcvbn(e.target.value).score),this.setState({password:e.target.value,pwdScore:n},(function(){t.setState({exportInvalid:t.isImportInvalid()})}))}},{key:"isImportInvalid",value:function(){if(this.state.exportSafeWithSecurity)if("password"===this.state.exportSecurityType){if(!this.state.password||this.state.password!==this.state.confirmPassword)return!0}else if("jwk"===this.state.exportSecurityType)try{if(!this.state.importJwk||!JSON.parse(this.state.importJwk).alg)return!0}catch(e){return!0}return!1}},{key:"editImportJwk",value:function(e){var t=this;this.setState({importJwk:e},(function(){t.setState({exportInvalid:t.isImportInvalid()})}))}},{key:"getImportFile",value:function(e){var t=this;this.setState({exportSafeWithSecurity:!1,importData:!1,importDataResult:!1,importTotalCount:0,importTotalSuccess:0,importSecurityType:!1},(function(){var n=e.target.files[0],a=new FileReader;a.onload=function(e){t.setState({importData:e.target.result},(function(){t.parseContent()}))},a.readAsText(n)}))}},{key:"parseContent",value:function(){if(this.state.importData){var e=!1;try{e=JSON.parse(this.state.importData)}catch(e){}if(e&&Array.isArray(e))this.importContent(e);else{var t=!1;try{t=yn(this.state.importData)}catch(e){this.setState({importDataResult:"invalidData"})}t&&("PBES2-HS256+A128KW"===t.alg||"PBES2-HS384+A192KW"===t.alg||"PBES2-HS512+A256KW"===t.alg?this.setState({importSecurityType:"password"}):this.setState({importSecurityType:"jwk"}))}}else this.setState({importDataResult:"invalidData"})}},{key:"completeImportContent",value:function(){var e=this;if("password"===this.state.importSecurityType){var t=new TextEncoder;mn(this.state.importData,t.encode(this.state.password)).then((function(t){e.importContent(t.payload.data)})).catch((function(){e.setState({importDataResult:"invalidPassword"})}))}else if("jwk"===this.state.importSecurityType)try{var n=JSON.parse(this.state.importJwk);n.use="enc",kt(n,n.alg).then((function(t){mn(e.state.importData,t).then((function(t){e.importContent(t.payload.data)})).catch((function(){e.setState({importDataResult:"invalidJwk"})}))}))}catch(e){this.setState({importDataResult:"invalidJwk"})}}},{key:"importContent",value:function(e){var t=this,n=0,a=0;this.setState({importRunning:!0,showProgress:!0,coinMax:e.length,coinNow:0},(function(){e.forEach((function(r){try{t.state.cbSaveCoin(!0,!1,r).then((function(){n++})).catch((function(){messageDispatcher.sendMessage("Notification",{type:"warning",message:ee.t("messageErrorCoinSave")})})).finally((function(){a++,t.setState({coinNow:t.state.coinNow+1},(function(){a===e.length&&(a===n?t.setState({importDataResult:"importComplete",importTotalCount:n,importRunning:!1,showProgress:!1}):t.setState({importDataResult:"importIncomplete",importTotalCount:n,importTotalSuccess:a,importRunning:!1,showProgress:!1}))}))}))}catch(r){a++,t.setState({coinNow:t.state.coinNow+1},(function(){a===e.length&&(a===n?t.setState({importDataResult:"importComplete",importTotalCount:n,importRunning:!1,showProgress:!1}):t.setState({importDataResult:"importIncomplete",importTotalCount:n,importTotalSuccess:a,importRunning:!1,showProgress:!1}))}))}}))}))}},{key:"closeModal",value:function(e,t){this.state.cbClose&&this.state.cbClose()}},{key:"render",value:function(){var e,t,n,r,o=this;if("invalidData"===this.state.importDataResult?e=a.createElement("div",{className:"alert alert-danger",role:"alert"},ee.t("importInvalidData")):"importComplete"===this.state.importDataResult?e=a.createElement("div",{className:"alert alert-success",role:"alert"},ee.t("importComplete",{count:this.state.importTotalCount})):"importIncomplete"===this.state.importDataResult?e=a.createElement("div",{className:"alert alert-warning",role:"alert"},ee.t("importIncomplete",{count:this.state.importTotalCount,total:this.state.importTotalSuccess})):"invalidPassword"===this.state.importDataResult?e=a.createElement("div",{className:"alert alert-danger",role:"alert"},ee.t("importInvalidPassword")):"invalidJwk"===this.state.importDataResult&&(e=a.createElement("div",{className:"alert alert-danger",role:"alert"},ee.t("importInvalidKey"))),this.state.importSecurityType){var i;this.state.importRunning&&(i=a.createElement("i",{className:"fa fa-spinner fa-spin fa-fw btn-icon-right"}));var s="password"===this.state.importSecurityType&&!this.state.password||"jwk"===this.state.importSecurityType&&!this.state.importJwk;n=a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.completeImportContent,title:ee.t("modalOk"),disabled:s||this.state.importRunning},ee.t("modalOk"),i)}return"password"===this.state.importSecurityType?t=a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"newPassword",className:"form-label"},ee.t("importPassword")),a.createElement("input",{type:"password",className:"form-control",id:"password",autoComplete:"new-password",value:this.state.password,onChange:this.changePassword})):"jwk"===this.state.importSecurityType&&(t=a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"importJwk",className:"form-label"},ee.t("importJwk")),a.createElement(Ta,{isError:!1,ph:ee.t("safeKeyJwkPh"),cb:this.editImportJwk}))),this.state.showProgress&&(r=a.createElement("code",{className:"btn-icon-right"},this.state.coinNow,"/",this.state.coinMax)),a.createElement("div",{className:"modal",tabIndex:"-1",id:"manageSafe"},a.createElement("div",{className:"modal-dialog"},a.createElement("div",{className:"modal-content"},a.createElement("div",{className:"modal-header"},a.createElement("h5",{className:"modal-title"},ee.t("manageSafe")),a.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(e){return o.closeModal(e,!1)}})),a.createElement("div",{className:"modal-body"},a.createElement("div",{className:"mb-3"},a.createElement("div",{className:"alert alert-primary",role:"alert"},ee.t("exportSafe"))),a.createElement(dr,{config:this.state.config,safe:this.state.safe,content:this.state.unlockedCoinList,id:this.state.safe.name,name:this.state.safe.display_name}),a.createElement("hr",null),a.createElement("div",{className:"mb-3"},a.createElement("div",{className:"alert alert-primary",role:"alert"},ee.t("importSafe"))),a.createElement("div",{className:"mb-3"},a.createElement("input",{type:"file",className:"upload",id:"importSafeFileInput",disabled:"connected"!==this.state.oidcStatus,onChange:this.getImportFile}),a.createElement("label",{htmlFor:"importSafeFileInput",className:"btn btn-secondary",disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-cloud-upload","aria-hidden":"true"})),t,n,r,e),a.createElement("div",{className:"modal-footer"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return o.closeModal(e,!1)},disabled:this.state.importRunning},ee.t("modalClose")))))))}}])&&mr(t.prototype,n),r&&mr(t,r),l}(a.Component);function Sr(e){return(Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Er(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function kr(e,t){return(kr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cr(e,t){return!t||"object"!==Sr(t)&&"function"!=typeof t?Pr(e):t}function Pr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nr(e){return(Nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const xr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kr(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Nr(o);if(i){var n=Nr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Cr(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={coin:e.coin,element:e.element,index:e.index,cbSave:e.cbSave,cbCancel:e.cbCancel,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.changeValue=t.changeValue.bind(Pr(t)),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changeValue",value:function(e){var t=this.state.element;t.value=e.target.value,this.setState({element:t})}},{key:"render",value:function(){var e=this;return a.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},a.createElement("form",{onSubmit:function(t){return e.state.cbSave(t,e.state.element,e.state.index)}},a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:this.state.coin.name+"-"+this.state.index,className:"form-label"},ee.t("coinElementUrl")),a.createElement("input",{type:"text",className:"form-control",id:this.state.coin.name+"-"+this.state.index,value:this.state.element.value,placeholder:ee.t("coinElementUrlPh"),onChange:this.changeValue})),a.createElement("div",{className:"mb-3 btn-group"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.state.cbCancel(t,e.state.index)}},ee.t("modalClose")),a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(t){return e.state.cbSave(t,e.state.element,e.state.index)},disabled:!this.state.element.value},ee.t("modalOk")))))}}])&&Er(t.prototype,n),r&&Er(t,r),l}(a.Component);function Or(e){return(Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Tr(e,t){return(Tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rr(e,t){return!t||"object"!==Or(t)&&"function"!=typeof t?Ar(e):t}function Ar(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dr(e){return(Dr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Lr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tr(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Dr(o);if(i){var n=Dr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Rr(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={coin:e.coin,element:e.element,index:e.index,cbSave:e.cbSave,cbCancel:e.cbCancel,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.changeValue=t.changeValue.bind(Ar(t)),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changeValue",value:function(e){var t=this.state.element;t.value=e.target.value,this.setState({element:t})}},{key:"render",value:function(){var e=this;return a.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},a.createElement("form",{onSubmit:function(t){return e.state.cbSave(t,e.state.element,e.state.index)}},a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:this.state.coin.name+"-"+this.state.index,className:"form-label"},ee.t("coinElementLogin")),a.createElement("input",{type:"text",className:"form-control",id:this.state.coin.name+"-"+this.state.index,value:this.state.element.value,placeholder:ee.t("coinElementLoginPh"),onChange:this.changeValue})),a.createElement("div",{className:"mb-3 btn-group"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.state.cbCancel(t,e.state.index)}},ee.t("modalClose")),a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(t){return e.state.cbSave(t,e.state.element,e.state.index)},disabled:!this.state.element.value},ee.t("modalOk")))))}}])&&_r(t.prototype,n),r&&_r(t,r),l}(a.Component);function jr(e){return(jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ir(e,t){return(Ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kr(e,t){return!t||"object"!==jr(t)&&"function"!=typeof t?Ur(e):t}function Ur(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hr(e){return(Hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Fr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ir(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Hr(o);if(i){var n=Hr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Kr(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={config:e.config,cb:e.callback,element:e.element,originalPassword:e.originalPassword,wordsLists:{},showPassword:!1,passwordGenerated:!1},t.toggleShowPassword=t.toggleShowPassword.bind(Ur(t)),t.toggleParam=t.toggleParam.bind(Ur(t)),t.changePasswordLength=t.changePasswordLength.bind(Ur(t)),t.generateRandomChars=t.generateRandomChars.bind(Ur(t)),t.changePasswordWordsNumber=t.changePasswordWordsNumber.bind(Ur(t)),t.changePasswordWordsSeparator=t.changePasswordWordsSeparator.bind(Ur(t)),t.generateRandomWords=t.generateRandomWords.bind(Ur(t)),t.copyOriginalPassword=t.copyOriginalPassword.bind(Ur(t)),t.copyNewPassword=t.copyNewPassword.bind(Ur(t)),t.state.config.frontend.lang.forEach((function(e){Nn.request("words-"+e+".json").then((function(n){var a=t.state.wordsLists;a[e]=n,t.setState({wordsLists:a})}))})),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"toggleShowPassword",value:function(){this.setState({showPassword:!this.state.showPassword})}},{key:"toggleParam",value:function(e,t){var n=this.state.element;n.params[t]=!n.params[t],this.setState({element:n})}},{key:"changePasswordLength",value:function(e){var t=this.state.element;e.target.value?t.params.passwordCharLength=parseInt(e.target.value):t.params.passwordCharLength=0,this.setState({element:t})}},{key:"closeModal",value:function(e,t){this.state.cb&&this.state.cb(t,this.state.element)}},{key:"randomCharsRangeList",value:function(e,t){var n=new Uint8Array(e);window.crypto.getRandomValues(n);for(var a=0;a<e;a++)for(;n[a]>=t;){var r=new Uint8Array(1);window.crypto.getRandomValues(r),n[a]=r[0]}return n}},{key:"randomWordsRangeList",value:function(e,t){var n=new Uint32Array(e);window.crypto.getRandomValues(n);for(var a=0;a<e;a++)for(;n[a]>=t;){var r=new Uint32Array(1);window.crypto.getRandomValues(r),n[a]=r[0]}return n}},{key:"generateRandomChars",value:function(){var e="";this.state.element.params.lowercase&&(e+="abcdefghijklmnopqrstuvwxyz"),this.state.element.params.upprcase&&(e+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"),this.state.element.params.numbers&&(e+="0123456789"),this.state.element.params.special&&(e+="!\"#$%&\\'()*+,-./:;<=>?@[]^_`{|}~"),this.state.element.params.spaces&&(e+=" ");var t=this.randomCharsRangeList(this.state.element.params.passwordCharLength,e.length);if(this.state.element.params.noSimilarFollowingChars)for(var n=1;n<this.state.element.params.passwordCharLength;n++)for(;t[n]===t[n-1];){var a=this.randomCharsRangeList(1,e.length);t[n]=a[0]}var r="";for(n=0;n<this.state.element.params.passwordCharLength;n++)r+=e[t[n]];var o=this.state.element;o.params.type="chars",o.value=r,this.setState({element:o,passwordGenerated:!0})}},{key:"changePasswordWordsNumber",value:function(e){var t=this.state.element;e.target.value?t.params.wordsNumber=parseInt(e.target.value):t.params.wordsNumber=0,this.setState({element:t})}},{key:"toggleWordsLang",value:function(e,t){var n=this.state.element;-1!==n.params.wordsLangsList.indexOf(t)?n.params.wordsLangsList.splice(n.params.wordsLangsList.indexOf(t),1):n.params.wordsLangsList.push(t),this.setState({element:n})}},{key:"changePasswordWordsSeparator",value:function(e){var t=this.state.element;t.params.wordSeparator=e.target.value,this.setState({element:t})}},{key:"generateRandomWords",value:function(){var e=this,t=[];this.state.element.params.wordsLangsList.forEach((function(n){t=t.concat(e.state.wordsLists[n])}));for(var n=this.randomWordsRangeList(this.state.element.params.wordsNumber,t.length),a=[],r=0;r<this.state.element.params.wordsNumber;r++)a.push(t[n[r]]);var o=this.state.element;o.params.type="words",o.value=a.join(this.state.element.params.wordSeparator),this.setState({element:o,passwordGenerated:!0})}},{key:"copyOriginalPassword",value:function(){navigator.clipboard.writeText(this.state.originalPassword).then((function(){messageDispatcher.sendMessage("Notification",{type:"info",message:ee.t("messageCopyOriginalPasswordToClipboard")})}))}},{key:"copyNewPassword",value:function(){navigator.clipboard.writeText(this.state.element.value).then((function(){messageDispatcher.sendMessage("Notification",{type:"info",message:ee.t("messageCopyNewPasswordToClipboard")})}))}},{key:"render",value:function(){var e=this,t="chars"===this.state.element.params.type,n="chars"!==this.state.element.params.type;"chars"===this.state.element.params.type?t=" show":n=" show";var r=a.createElement("div",{className:"alert alert-primary",role:"alert"},ee.t("newPassword"));this.state.showPassword&&this.state.passwordGenerated?r=a.createElement("div",{className:"alert alert-secondary",role:"alert"},a.createElement("code",null,this.state.element.value)):this.state.passwordGenerated&&(r=a.createElement("div",{className:"alert alert-success",role:"alert"},ee.t("messagePasswordGenerated")));var o=[];return this.state.config.frontend.lang.forEach((function(t){o.push(a.createElement("div",{className:"form-group form-check",key:t},a.createElement("input",{type:"checkbox",className:"form-check-input",id:"passwordWordsLangs-"+t,onChange:function(n){return e.toggleWordsLang(n,t)},checked:-1!==e.state.element.params.wordsLangsList.indexOf(t)}),a.createElement("label",{className:"form-check-label",htmlFor:"passwordWordsLangs-"+t},ee.t("passwordWordsLangs-"+t))))})),a.createElement("div",{className:"modal",tabIndex:"-1",id:"modalGeneratePassword"},a.createElement("div",{className:"modal-dialog"},a.createElement("div",{className:"modal-content"},a.createElement("div",{className:"modal-header"},a.createElement("h5",{className:"modal-title"},ee.t("modalGeneratePassword")),a.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(t){return e.closeModal(t,!1)}})),a.createElement("div",{className:"modal-body"},a.createElement("div",{className:"accordion",id:"passwordRandom"},a.createElement("div",{className:"accordion-item"},a.createElement("h2",{className:"accordion-header",id:"headingOne"},a.createElement("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#passwordRandomCharacters","aria-expanded":t?"true":"false","aria-controls":"passwordRandomCharacters"},ee.t("passwordRandomCharacters"))),a.createElement("div",{id:"passwordRandomCharacters",className:"accordion-collapse collapse"+(t?" show":""),"aria-labelledby":"headingOne","data-bs-parent":"#passwordRandom"},a.createElement("div",{className:"accordion-body"},a.createElement("div",{className:"form-group form-check"},a.createElement("input",{type:"checkbox",className:"form-check-input",id:"lowercase",onChange:function(t){return e.toggleParam(t,"lowercase")},checked:this.state.element.params.lowercase}),a.createElement("label",{className:"form-check-label",htmlFor:"lowercase"},ee.t("passwordRandomLowercase"))),a.createElement("div",{className:"form-group form-check"},a.createElement("input",{type:"checkbox",className:"form-check-input",id:"upprcase",onChange:function(t){return e.toggleParam(t,"upprcase")},checked:this.state.element.params.upprcase}),a.createElement("label",{className:"form-check-label",htmlFor:"upprcase"},ee.t("passwordRandomUppercase"))),a.createElement("div",{className:"form-group form-check"},a.createElement("input",{type:"checkbox",className:"form-check-input",id:"numbers",onChange:function(t){return e.toggleParam(t,"numbers")},checked:this.state.element.params.numbers}),a.createElement("label",{className:"form-check-label",htmlFor:"numbers"},ee.t("passwordRandomNumbers"))),a.createElement("div",{className:"form-group form-check"},a.createElement("input",{type:"checkbox",className:"form-check-input",id:"special",onChange:function(t){return e.toggleParam(t,"special")},checked:this.state.element.params.special}),a.createElement("label",{className:"form-check-label",htmlFor:"special"},ee.t("passwordRandomSpecial"))),a.createElement("div",{className:"form-group form-check"},a.createElement("input",{type:"checkbox",className:"form-check-input",id:"spaces",onChange:function(t){return e.toggleParam(t,"spaces")},checked:this.state.element.params.spaces}),a.createElement("label",{className:"form-check-label",htmlFor:"spaces"},ee.t("passwordRandomSpaces"))),a.createElement("div",{className:"form-group form-check"},a.createElement("input",{type:"checkbox",className:"form-check-input",id:"noSimilarFollowingChars",onChange:function(t){return e.toggleParam(t,"noSimilarFollowingChars")},checked:this.state.element.params.noSimilarFollowingChars}),a.createElement("label",{className:"form-check-label",htmlFor:"noSimilarFollowingChars"},ee.t("passwordNoSimilarFollowingChars"))),a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"passwordCharLength",className:"form-label"},ee.t("passwordCharLength")),a.createElement("input",{type:"number",step:"1",min:"0",className:"form-control",id:"passwordCharLength",value:this.state.element.params.passwordCharLength,onChange:this.changePasswordLength})),a.createElement("div",{className:"mb-3"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.generateRandomChars,disabled:!this.state.element.params.lowercase&&!this.state.element.params.upprcase&&!this.state.element.params.numbers&&!this.state.element.params.special||!this.state.element.params.passwordCharLength},ee.t("passwordGenerate")))))),a.createElement("div",{className:"accordion-item"},a.createElement("h2",{className:"accordion-header",id:"headingTwo"},a.createElement("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#passwordRandomWords","aria-expanded":n?"true":"false","aria-controls":"passwordRandomWords"},ee.t("passwordRandomWords"))),a.createElement("div",{id:"passwordRandomWords",className:"accordion-collapse collapse"+(n?" show":""),"aria-labelledby":"headingTwo","data-bs-parent":"#passwordRandom"},a.createElement("div",{className:"accordion-body"},a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"passwordWordsNumber",className:"form-label"},ee.t("passwordWordsNumber")),a.createElement("input",{type:"number",step:"1",min:"0",className:"form-control",id:"passwordWordsNumber",value:this.state.element.params.wordsNumber,onChange:this.changePasswordWordsNumber})),a.createElement("div",{className:"input-group mb-3"},a.createElement("label",{className:"input-group-text",htmlFor:"passwordWordsSeparator"},ee.t("passwordWordsSeparator")),a.createElement("select",{className:"form-select",id:"passwordWordsSeparator",value:this.state.element.params.wordSeparator,onChange:this.changePasswordWordsSeparator},a.createElement("option",{value:" "},ee.t("passwordWordsSeparatorSpace")),a.createElement("option",{value:"."},ee.t("passwordWordsSeparatorDot")),a.createElement("option",{value:"-"},ee.t("passwordWordsSeparatorDash")),a.createElement("option",{value:"_"},ee.t("passwordWordsSeparatorUnderscore")),a.createElement("option",{value:","},ee.t("passwordWordsSeparatorComma")),a.createElement("option",{value:""},ee.t("passwordWordsSeparatorNone")))),a.createElement("h5",null,ee.t("passwordWordsLangs")),o,a.createElement("div",{className:"mb-3"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.generateRandomWords,disabled:!this.state.element.params.wordsNumber||!this.state.element.params.wordsLangsList.length},ee.t("passwordGenerate"))))))),a.createElement("hr",null),a.createElement("div",{className:"mb-3"},r),a.createElement("div",{className:"mb-3"},a.createElement("div",{className:"btn-toolbar justify-content-between",role:"toolbar"},a.createElement("div",{className:"btn-group",role:"group"},a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.toggleShowPassword,title:ee.t("coinElementShowPassword"),disabled:!this.state.passwordGenerated},a.createElement("i",{className:"fa fa-eye","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.copyNewPassword,title:ee.t("passwordCopyNewPassword"),disabled:!this.state.passwordGenerated},a.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"}))),a.createElement("div",{className:"btn-group",role:"group"},a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.copyOriginalPassword,title:ee.t("passwordCopyOriginalPassword"),disabled:!this.state.originalPassword},a.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"})))))),a.createElement("div",{className:"modal-footer"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.closeModal(t,!1)}},ee.t("modalClose")),a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(t){return e.closeModal(t,!0)},disabled:!this.state.passwordGenerated},ee.t("modalCloseAndSave"))))))}}])&&Mr(t.prototype,n),r&&Mr(t,r),l}(a.Component);function Wr(e){return(Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Br(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function zr(e,t){return(zr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jr(e,t){return!t||"object"!==Wr(t)&&"function"!=typeof t?Vr(e):t}function Vr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qr(e){return(qr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const $r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zr(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=qr(o);if(i){var n=qr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Jr(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={config:e.config,coin:e.coin,element:e.element,index:e.index,cbSave:e.cbSave,cbCancel:e.cbCancel,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver,password:"",passwordConfirm:"",showModalGeneratePassword:!1,modalElement:!1,originalPassword:!1,pwdScore:-1},t.changePassword=t.changePassword.bind(Vr(t)),t.changePasswordConfirm=t.changePasswordConfirm.bind(Vr(t)),t.closeAndSave=t.closeAndSave.bind(Vr(t)),t.openGenerateModal=t.openGenerateModal.bind(Vr(t)),t.getGeneratedPassword=t.getGeneratedPassword.bind(Vr(t)),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changePassword",value:function(e){var t=-1;e.target.value&&(t=zxcvbn(e.target.value).score),this.setState({password:e.target.value,pwdScore:t})}},{key:"changePasswordConfirm",value:function(e){this.setState({passwordConfirm:e.target.value})}},{key:"closeAndSave",value:function(e){if(this.state.password&&this.state.password===this.state.passwordConfirm){var t=this.state.element;t.value=this.state.password,this.state.cbSave(e,t,this.state.index)}}},{key:"openGenerateModal",value:function(){var e=Object.assign({},this.state.element);e.params||(e.params={type:"chars",lowercase:!0,upprcase:!0,numbers:!0,special:!0,spaces:!0,noSimilarFollowingChars:!1,passwordCharLength:32,wordsNumber:4,wordsLangsList:[ee.language],wordSeparator:" "}),this.setState({showModalGeneratePassword:!0,modalElement:e,originalPassword:this.state.element.value},(function(){new bootstrap.Modal(document.getElementById("modalGeneratePassword"),{keyboard:!1}).show()}))}},{key:"getGeneratedPassword",value:function(e,t){var n=this;if(e){var a=-1;a=zxcvbn(t.value).score,navigator.clipboard.writeText(t.value).then((function(){bn.sendMessage("Notification",{type:"info",message:ee.t("messageCopyToClipboard")}),n.state.cbSave(!1,t,n.state.index)}))}bootstrap.Modal.getOrCreateInstance(document.querySelector("#modalGeneratePassword")).hide(),this.setState({showModalGeneratePassword:!1,modalElement:!1,originalPassword:!1,pwdScore:a})}},{key:"render",value:function(){var e,t,n=this;return this.state.showModalGeneratePassword&&(e=a.createElement(Fr,{config:this.state.config,element:this.state.modalElement,originalPassword:this.state.originalPassword,callback:this.getGeneratedPassword})),0===this.state.pwdScore?t=a.createElement("span",{className:"badge bg-danger"},ee.t("pwdScoreTooGuessable")):1===this.state.pwdScore?t=a.createElement("span",{className:"badge bg-warning"},ee.t("pwdScoreVeryGuessable")):2===this.state.pwdScore?t=a.createElement("span",{className:"badge bg-secondary"},ee.t("pwdScoreSomewhatGuessable")):3===this.state.pwdScore?t=a.createElement("span",{className:"badge bg-primary"},ee.t("pwdScoreSafelyUnguessable")):4===this.state.pwdScore&&(t=a.createElement("span",{className:"badge bg-success"},ee.t("pwdScoreVeryUnguessable"))),a.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},a.createElement("form",{onSubmit:function(e){return n.state.cbSave(e,n.state.element,n.state.index)}},a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:this.state.coin.name+"-"+this.state.index,className:"form-label"},ee.t("coinElementPassword")),a.createElement("input",{type:"password",className:"form-control",id:this.state.coin.name+"-"+this.state.index,value:this.state.password,onChange:this.changePassword}),t),a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:this.state.coin.name+"-"+this.state.index,className:"form-label"},ee.t("coinElementPasswordConfirm")),a.createElement("input",{type:"password",className:"form-control",id:this.state.coin.name+"-"+this.state.index+"-confirm",value:this.state.passwordConfirm,onChange:this.changePasswordConfirm})),a.createElement("div",{className:"mb-3"},a.createElement("div",{className:"btn-group"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return n.state.cbCancel(e,n.state.index)}},ee.t("modalClose")),a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(e){return n.closeAndSave(e)},disabled:!this.state.password||this.state.password!==this.state.passwordConfirm},ee.t("modalOk"))),a.createElement("div",{className:"btn-group float-end"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.openGenerateModal,title:ee.t("coinPasswordGenerate")},a.createElement("i",{className:"fa fa-magic","aria-hidden":"true"})))),e))}}])&&Br(t.prototype,n),r&&Br(t,r),l}(a.Component);function Gr(e){return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Xr(e,t){return(Xr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yr(e,t){return!t||"object"!==Gr(t)&&"function"!=typeof t?Zr(e):t}function Zr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eo(e){return(eo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const to=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xr(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=eo(o);if(i){var n=eo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Yr(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={coin:e.coin,element:e.element,index:e.index,cbSave:e.cbSave,cbCancel:e.cbCancel,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.getFile=t.getFile.bind(Zr(t)),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"getFile",value:function(e){var t=this,n=this.state.element,a=e.target.files[0],r=new FileReader;r.onload=function(e){n.value={name:a.name,data:btoa(e.target.result)},t.setState({element:n})},r.readAsBinaryString(a)}},{key:"render",value:function(){var e,t=this;return this.state.element.value.name&&(e=a.createElement("code",{className:"btn-icon-right"},this.state.element.value.name)),a.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},a.createElement("div",{className:"mb-3"},a.createElement("input",{type:"file",className:"upload",id:this.state.coin.name+this.state.index,onChange:this.getFile}),a.createElement("label",{htmlFor:this.state.coin.name+this.state.index,className:"btn btn-outline-secondary btn-sm"},a.createElement("i",{className:"fa fa-cloud-upload","aria-hidden":"true"})),e),a.createElement("div",{className:"mb-3 btn-group"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return t.state.cbCancel(e,t.state.index)}},ee.t("modalClose")),a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(e){return t.state.cbSave(e,t.state.element,t.state.index)},disabled:!this.state.element.value},ee.t("modalOk"))))}}])&&Qr(t.prototype,n),r&&Qr(t,r),l}(a.Component);function no(e){return(no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ao(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ro(e,t){return(ro=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oo(e,t){return!t||"object"!==no(t)&&"function"!=typeof t?io(e):t}function io(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function so(e){return(so=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const lo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ro(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=so(o);if(i){var n=so(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return oo(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={coin:e.coin,element:e.element,index:e.index,cbSave:e.cbSave,cbCancel:e.cbCancel,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.changeValue=t.changeValue.bind(io(t)),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changeValue",value:function(e){var t=this.state.element;t.value=e.target.value,this.setState({element:t})}},{key:"render",value:function(){var e=this;return a.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},a.createElement("form",{onSubmit:function(t){return e.state.cbSave(t,e.state.element,e.state.index)}},a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:this.state.coin.name+"-"+this.state.index,className:"form-label"},ee.t("coinElementMisc")),a.createElement("input",{type:"text",className:"form-control",id:this.state.coin.name+"-"+this.state.index,value:this.state.element.value,placeholder:ee.t("coinElementMiscPh"),onChange:this.changeValue})),a.createElement("div",{className:"mb-3 btn-group"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.state.cbCancel(t,e.state.index)}},ee.t("modalClose")),a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(t){return e.state.cbSave(t,e.state.element,e.state.index)},disabled:!this.state.element.value},ee.t("modalOk")))))}}])&&ao(t.prototype,n),r&&ao(t,r),l}(a.Component);function co(e){return(co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uo(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function fo(e,t){return(fo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function po(e,t){return!t||"object"!==co(t)&&"function"!=typeof t?mo(e):t}function mo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ho(e){return(ho=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const yo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fo(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ho(o);if(i){var n=ho(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return po(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={coin:e.coin,oidcStatus:e.oidcStatus,element:e.element,index:e.index,cbEdit:e.cbEdit,cbRemove:e.cbRemove,cbTags:e.cbTags,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.copyToClipboard=t.copyToClipboard.bind(mo(t)),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"copyToClipboard",value:function(){navigator.clipboard.writeText(this.state.element.value).then((function(){bn.sendMessage("Notification",{type:"info",message:ee.t("messageCopyToClipboard")})}))}},{key:"render",value:function(){var e=this,t=[];return this.state.element.tags&&this.state.element.tags.forEach((function(e,n){t.push(a.createElement("span",{key:n,className:"badge rounded-pill bg-secondary btn-icon"},e))})),a.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},a.createElement("div",{className:"row btn-icon-bottom"},a.createElement("div",{className:"col"},a.createElement("span",{className:"btn-icon-right"},a.createElement("span",{className:"badge bg-primary"},ee.t("coinElementUrl")))),a.createElement("div",{className:"col text-truncate"},a.createElement("span",{className:"btn-icon-right"},a.createElement("a",{href:this.state.element.value,target:"_blank",rel:"noreferrer noopener",title:this.state.element.value,className:"link-secondary"},this.state.element.value))),a.createElement("div",{className:"col"},a.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:ee.t("coinElementCopy"),onClick:this.copyToClipboard},a.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:ee.t("coinElementEdit"),onClick:function(t){return e.state.cbEdit(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:ee.t("coinElementRemove"),onClick:function(t){return e.state.cbRemove(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:ee.t("coinElementTags"),onClick:function(t){return e.state.cbTags(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-tags","aria-hidden":"true"}))))),a.createElement("div",{className:"row coin-tag"},a.createElement("div",{className:"col"},t)))}}])&&uo(t.prototype,n),r&&uo(t,r),l}(a.Component);function go(e){return(go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bo(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function vo(e,t){return(vo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wo(e,t){return!t||"object"!==go(t)&&"function"!=typeof t?So(e):t}function So(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eo(e){return(Eo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const ko=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vo(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Eo(o);if(i){var n=Eo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return wo(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={oidcStatus:e.oidcStatus,coin:e.coin,element:e.element,index:e.index,cbEdit:e.cbEdit,cbRemove:e.cbRemove,cbTags:e.cbTags,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.copyToClipboard=t.copyToClipboard.bind(So(t)),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"copyToClipboard",value:function(){navigator.clipboard.writeText(this.state.element.value).then((function(){bn.sendMessage("Notification",{type:"info",message:ee.t("messageCopyToClipboard")})}))}},{key:"render",value:function(){var e=this,t=[];return this.state.element.tags&&this.state.element.tags.forEach((function(e,n){t.push(a.createElement("span",{key:n,className:"badge rounded-pill bg-secondary btn-icon"},e))})),a.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},a.createElement("div",{className:"row btn-icon-bottom"},a.createElement("div",{className:"col"},a.createElement("span",{className:"btn-icon-right"},a.createElement("span",{className:"badge bg-primary"},ee.t("coinElementLogin")))),a.createElement("div",{className:"col text-truncate"},a.createElement("span",{className:"btn-icon-right"},this.state.element.value)),a.createElement("div",{className:"col"},a.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:ee.t("coinElementCopy"),onClick:this.copyToClipboard},a.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:ee.t("coinElementEdit"),onClick:function(t){return e.state.cbEdit(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:ee.t("coinElementRemove"),onClick:function(t){return e.state.cbRemove(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:ee.t("coinElementTags"),onClick:function(t){return e.state.cbTags(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-tags","aria-hidden":"true"}))))),a.createElement("div",{className:"row coin-tag"},a.createElement("div",{className:"col"},t)))}}])&&bo(t.prototype,n),r&&bo(t,r),l}(a.Component);function Co(e){return(Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Po(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function No(e,t){return(No=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xo(e,t){return!t||"object"!==Co(t)&&"function"!=typeof t?Oo(e):t}function Oo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _o(e){return(_o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const To=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&No(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_o(o);if(i){var n=_o(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return xo(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={coin:e.coin,oidcStatus:e.oidcStatus,element:e.element,index:e.index,cbEdit:e.cbEdit,cbRemove:e.cbRemove,cbTags:e.cbTags,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver,showPassword:!1},t.copyToClipboard=t.copyToClipboard.bind(Oo(t)),t.toggleShowPassword=t.toggleShowPassword.bind(Oo(t)),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"copyToClipboard",value:function(){navigator.clipboard.writeText(this.state.element.value).then((function(){bn.sendMessage("Notification",{type:"info",message:ee.t("messageCopyToClipboard")})}))}},{key:"toggleShowPassword",value:function(e){e.preventDefault(),this.setState({showPassword:!this.state.showPassword})}},{key:"render",value:function(){var e,t=this,n=[];return this.state.element.tags&&this.state.element.tags.forEach((function(e,t){n.push(a.createElement("span",{key:t,className:"badge rounded-pill bg-secondary btn-icon"},e))})),e=this.state.showPassword?a.createElement("div",{className:"col"},a.createElement("code",null,this.state.element.value)):a.createElement("div",{className:"col text-truncate"},a.createElement("span",{className:"btn-icon-right"},"********")),a.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},a.createElement("div",{className:"row btn-icon-bottom"},a.createElement("div",{className:"col text-truncate"},a.createElement("span",{className:"btn-icon-right"},a.createElement("span",{className:"badge bg-primary"},ee.t("coinElementPassword"))),a.createElement("a",{className:"link-secondary btn-icon-right",alt:ee.t("coinElementShowPassword"),href:"#",onClick:this.toggleShowPassword},a.createElement("i",{className:"fa fa-eye","aria-hidden":"true"}))),e,a.createElement("div",{className:"col"},a.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:ee.t("coinElementCopy"),onClick:this.copyToClipboard},a.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:ee.t("coinElementEdit"),onClick:function(e){return t.state.cbEdit(e,t.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:ee.t("coinElementRemove"),onClick:function(e){return t.state.cbRemove(e,t.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:ee.t("coinElementTags"),onClick:function(e){return t.state.cbTags(e,t.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-tags","aria-hidden":"true"}))))),a.createElement("div",{className:"row coin-tag"},a.createElement("div",{className:"col"},n)))}}])&&Po(t.prototype,n),r&&Po(t,r),l}(a.Component);function Ro(e){return(Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ao(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Do(e,t){return(Do=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lo(e,t){return!t||"object"!==Ro(t)&&"function"!=typeof t?jo(e):t}function jo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mo(e){return(Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Io=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Do(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Mo(o);if(i){var n=Mo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Lo(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={oidcStatus:e.oidcStatus,value:e.value,index:e.index,cbSave:e.cbSave,disableEdit:e.disableEdit,showAnswer:!1},t.copyToClipboard=t.copyToClipboard.bind(jo(t)),t.toggleShowAnswer=t.toggleShowAnswer.bind(jo(t)),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"copyToClipboard",value:function(){navigator.clipboard.writeText(this.state.value.answer).then((function(){bn.sendMessage("Notification",{type:"info",message:ee.t("messageCopyToClipboard")})}))}},{key:"toggleShowAnswer",value:function(e){e.preventDefault(),this.setState({showAnswer:!this.state.showAnswer})}},{key:"render",value:function(){var e,t,n,r,o=this;return e=this.state.value.answer.length>4&&!this.state.showAnswer?this.state.value.answer.substring(0,2)+"[...]"+this.state.value.answer.slice(-2):this.state.value.answer,a.createElement("div",{className:"row"},a.createElement("div",{className:"col"},a.createElement("code",{className:"btn-icon-right"},this.state.value.question),a.createElement("a",{className:"link-secondary btn-icon-right",href:"#",alt:ee.t("coinElementShowAnswer"),onClick:this.toggleShowAnswer},a.createElement("i",{className:"fa fa-eye","aria-hidden":"true"}))),a.createElement("div",{className:"col"},a.createElement("code",{className:"btn-icon-right"},e)),a.createElement("div",{className:"col"},a.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:ee.t("coinElementCopy"),onClick:this.copyToClipboard},a.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"})),a.createElement("button",(t={className:"btn btn-outline-secondary btn-sm",type:"button",title:ee.t("coinElementEdit"),onClick:function(e){return o.state.cbEdit(e,o.state.index)},disabled:this.state.disableEdit},n="disabled",r="connected"!==this.state.oidcStatus,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t),a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:ee.t("coinElementRemove"),onClick:function(e){return o.state.cbRemove(e,o.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})))))}}])&&Ao(t.prototype,n),r&&Ao(t,r),l}(a.Component);function Ko(e){return(Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uo(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ho(e,t){return(Ho=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fo(e,t){return!t||"object"!==Ko(t)&&"function"!=typeof t?Wo(e):t}function Wo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bo(e){return(Bo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const zo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ho(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Bo(o);if(i){var n=Bo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Fo(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={value:e.value,index:e.index,wordsList:e.wordsList,cbSave:e.cbSave,cbCancel:e.cbCancel},t.changeQuestion=t.changeQuestion.bind(Wo(t)),t.changeAnswer=t.changeAnswer.bind(Wo(t)),t.generateAnswer=t.generateAnswer.bind(Wo(t)),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changeQuestion",value:function(e){var t=this.state.value;t.question=e.target.value,this.setState({value:t})}},{key:"changeAnswer",value:function(e){var t=this.state.value;t.answer=e.target.value,this.setState({value:t})}},{key:"randomWordsRangeList",value:function(e,t){var n=new Uint32Array(e);window.crypto.getRandomValues(n);for(var a=0;a<e;a++)for(;n[a]>=t;){var r=new Uint32Array(1);window.crypto.getRandomValues(r),n[a]=r[0]}return n}},{key:"generateAnswer",value:function(){var e=this.randomWordsRangeList(2,this.state.wordsList.length),t=this.state.wordsList[e[0]]+" "+this.state.wordsList[e[1]],n=this.state.value;n.answer=t,this.setState({value:n})}},{key:"render",value:function(){var e=this;return a.createElement("div",null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col"},a.createElement("div",{className:"input-group mb-3"},a.createElement("span",{className:"input-group-text",id:"basic-addon1"},ee.t("coinElementQuestionQ")),a.createElement("input",{type:"text",className:"form-control",placeholder:ee.t("coinElementQuestionQPH"),value:this.state.value.question,onChange:this.changeQuestion})))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col"},a.createElement("div",{className:"input-group mb-3"},a.createElement("span",{className:"input-group-text",id:"basic-addon1"},ee.t("coinElementQuestionA")),a.createElement("input",{type:"text",className:"form-control",placeholder:ee.t("coinElementQuestionAPH"),value:this.state.value.answer,onChange:this.changeAnswer}),a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.generateAnswer},a.createElement("i",{className:"fa fa-magic","aria-hidden":"true"}))))),a.createElement("div",{className:"mb-3 btn-group"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.state.cbCancel(t,e.state.index)}},ee.t("modalCancel")),a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(t){return e.state.cbSave(t,e.state.value,e.state.index)},disabled:!this.state.value.answer},ee.t("modalOk"))))}}])&&Uo(t.prototype,n),r&&Uo(t,r),l}(a.Component);function Jo(e){return(Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vo(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function qo(e,t){return(qo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $o(e,t){return!t||"object"!==Jo(t)&&"function"!=typeof t?Go(e):t}function Go(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qo(e){return(Qo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Xo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qo(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Qo(o);if(i){var n=Qo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return $o(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={coin:e.coin,oidcStatus:e.oidcStatus,element:e.element,index:e.index,closeButon:e.closeButon,cbRemove:e.cbRemove,cbSave:e.cbSave,cbTags:e.cbTags,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver,config:e.config,editList:[]},t.copyToClipboard=t.copyToClipboard.bind(Go(t)),t.saveRow=t.saveRow.bind(Go(t)),t.cancelRow=t.cancelRow.bind(Go(t)),t.editRow=t.editRow.bind(Go(t)),t.removeRow=t.removeRow.bind(Go(t)),t.cbAddQuestion=t.cbAddQuestion.bind(Go(t)),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"copyToClipboard",value:function(e){navigator.clipboard.writeText(this.state.element.value[e].answer).then((function(){bn.sendMessage("Notification",{type:"info",message:ee.t("messageCopyToClipboard")})}))}},{key:"saveRow",value:function(e,t,n){var a=this,r=this.state.element;r.value[n]?r.value[n]=t:r.value.push(t);var o=this.state.editList;-1!==o.indexOf(n)&&o.splice(o.indexOf(n),1),this.setState({element:r,editList:o},(function(){a.state.cbSave(e,a.state.element,a.state.index)}))}},{key:"cancelRow",value:function(e,t){var n=this.state.editList;-1!==n.indexOf(t)&&n.splice(n.indexOf(t),1),this.setState({editList:n})}},{key:"editRow",value:function(e,t){var n=this.state.editList;n.push(t),this.setState({editList:n})}},{key:"removeRow",value:function(e,t){var n=this,a=this.state.element;a.value.splice(t,1);var r=this.state.editList;-1!==r.indexOf(t)&&r.splice(r.indexOf(t),1),this.setState({editList:r,element:a},(function(){n.state.cbSave(e,n.state.element,n.state.index)}))}},{key:"cbAddQuestion",value:function(){var e=this.state.editList,t=this.state.element;e.push(t.value.length),t.value.push({question:"",answer:""}),this.setState({editList:e,element:t})}},{key:"render",value:function(){var e,t,n,r,o=this,i=[],s=[];return this.state.element.tags&&this.state.element.tags.forEach((function(e,t){i.push(a.createElement("span",{key:t,className:"badge rounded-pill bg-secondary btn-icon"},e))})),this.state.element.value.length?this.state.element.value.forEach((function(e,t){-1!==o.state.editList.indexOf(t)?s.push(a.createElement(zo,{value:Object.assign({},e),index:t,wordsList:o.state.config.wordsList,cbSave:o.saveRow,cbCancel:o.cancelRow,key:t})):s.push(a.createElement(Io,{value:Object.assign({},e),index:t,cbEdit:function(e){return o.editRow(e,t)},cbRemove:function(e){return o.removeRow(e,t)},key:t,disableEdit:!!o.state.editList.length,oidcStatus:o.state.oidcStatus}))})):s.push(a.createElement(zo,{value:{question:"",answer:""},index:0,wordsList:this.state.config.wordsList,cbSave:this.saveRow,cbCancel:this.cancelRow,key:-1})),this.state.closeButon&&(e=a.createElement("div",{className:"row"},a.createElement("div",{className:"col"},a.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:ee.t("modalClose"),onClick:function(e){return o.state.cbSave(e,o.state.element,o.state.index)}},ee.t("modalClose")))))),a.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},a.createElement("div",{className:"row btn-icon-bottom"},a.createElement("div",{className:"col"},a.createElement("span",{className:"btn-icon-right"},a.createElement("span",{className:"badge bg-primary"},ee.t("coinElementSecretQuestions")))),a.createElement("div",{className:"col"},a.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},a.createElement("button",(t={className:"btn btn-outline-secondary btn-sm",type:"button",title:ee.t("coinElementAddQuestion"),onClick:this.cbAddQuestion,disabled:this.state.editList.length},n="disabled",r="connected"!==this.state.oidcStatus,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t),a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:ee.t("coinElementRemove"),onClick:function(e){return o.state.cbRemove(e,o.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:ee.t("coinElementTags"),onClick:function(e){return o.state.cbTags(e,o.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-tags","aria-hidden":"true"}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col"},a.createElement("span",{className:"badge bg-info text-dark"},ee.t("coinElementQuestionQ"))),a.createElement("div",{className:"col"},a.createElement("span",{className:"badge bg-info text-dark"},ee.t("coinElementQuestionA"))),a.createElement("div",{className:"col"})),s,a.createElement("div",{className:"row coin-tag"},a.createElement("div",{className:"col"},i)),e)}}])&&Vo(t.prototype,n),r&&Vo(t,r),l}(a.Component);function Yo(e){return(Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zo(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ei(e,t){return(ei=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ti(e,t){return!t||"object"!==Yo(t)&&"function"!=typeof t?ni(e):t}function ni(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ai(e){return(ai=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const ri=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ei(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ai(o);if(i){var n=ai(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ti(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={coin:e.coin,oidcStatus:e.oidcStatus,element:e.element,index:e.index,cbEdit:e.cbEdit,cbRemove:e.cbRemove,cbTags:e.cbTags,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.downloadFile=t.downloadFile.bind(ni(t)),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"downloadFile",value:function(){if(this.state.element.value.data){var e=$("#"+this.state.coin.name+"-"+this.state.index+"-download");e.attr("href","data:application/octet-stream;base64,"+this.state.element.value.data),e[0].click()}}},{key:"render",value:function(){var e=this,t=[];return this.state.element.tags&&this.state.element.tags.forEach((function(e,n){t.push(a.createElement("span",{key:n,className:"badge rounded-pill bg-secondary btn-icon"},e))})),a.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},a.createElement("div",{className:"row btn-icon-bottom"},a.createElement("div",{className:"col"},a.createElement("span",{className:"btn-icon-right"},a.createElement("span",{className:"badge bg-primary"},ee.t("coinElementFile")))),a.createElement("div",{className:"col text-truncate"},a.createElement("span",{className:"btn-icon-right"},a.createElement("code",null,this.state.element.value.name))),a.createElement("div",{className:"col"},a.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:ee.t("coinElementDownload"),onClick:this.downloadFile},a.createElement("i",{className:"fa fa-cloud-download","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:ee.t("coinElementEdit"),onClick:function(t){return e.state.cbEdit(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:ee.t("coinElementRemove"),onClick:function(t){return e.state.cbRemove(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:ee.t("coinElementTags"),onClick:function(t){return e.state.cbTags(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-tags","aria-hidden":"true"}))))),a.createElement("div",{className:"row coin-tag"},a.createElement("div",{className:"col"},t)),a.createElement("a",{className:"upload",id:this.state.coin.name+"-"+this.state.index+"-download",download:this.state.element.value.name}))}}])&&Zo(t.prototype,n),r&&Zo(t,r),l}(a.Component);function oi(e){return(oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ii(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function si(e,t){return(si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function li(e,t){return!t||"object"!==oi(t)&&"function"!=typeof t?ci(e):t}function ci(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ui(e){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const fi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&si(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ui(o);if(i){var n=ui(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return li(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={coin:e.coin,oidcStatus:e.oidcStatus,element:e.element,index:e.index,cbEdit:e.cbEdit,cbRemove:e.cbRemove,cbTags:e.cbTags,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.copyToClipboard=t.copyToClipboard.bind(ci(t)),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"copyToClipboard",value:function(){navigator.clipboard.writeText(this.state.element.value).then((function(){bn.sendMessage("Notification",{type:"info",message:ee.t("messageCopyToClipboard")})}))}},{key:"render",value:function(){var e=this,t=[];return this.state.element.tags&&this.state.element.tags.forEach((function(e,n){t.push(a.createElement("span",{key:n,className:"badge rounded-pill bg-secondary btn-icon"},e))})),a.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},a.createElement("div",{className:"row btn-icon-bottom"},a.createElement("div",{className:"col"},a.createElement("span",{className:"btn-icon-right"},a.createElement("span",{className:"badge bg-primary"},ee.t("coinElementMisc")))),a.createElement("div",{className:"col text-truncate"},a.createElement("span",{className:"btn-icon-right"},a.createElement("code",null,this.state.element.value))),a.createElement("div",{className:"col"},a.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:ee.t("coinElementCopy"),onClick:this.copyToClipboard},a.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:ee.t("coinElementEdit"),onClick:function(t){return e.state.cbEdit(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:ee.t("coinElementRemove"),onClick:function(t){return e.state.cbRemove(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:ee.t("coinElementTags"),onClick:function(t){return e.state.cbTags(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-tags","aria-hidden":"true"}))))),a.createElement("div",{className:"row coin-tag"},a.createElement("div",{className:"col"},t)))}}])&&ii(t.prototype,n),r&&ii(t,r),l}(a.Component);function di(e){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pi(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function mi(e,t){return(mi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hi(e,t){return!t||"object"!==di(t)&&"function"!=typeof t?yi(e):t}function yi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gi(e){return(gi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const bi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mi(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=gi(o);if(i){var n=gi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return hi(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={index:e.index,tags:e.tags,cb:e.cb,inputValue:""},t.addTag=t.addTag.bind(yi(t)),t.deleteTag=t.deleteTag.bind(yi(t)),t.submitForm=t.submitForm.bind(yi(t)),t.changeInputValue=t.changeInputValue.bind(yi(t)),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"closeModal",value:function(e,t){this.state.cb&&this.state.cb(t,this.state.tags)}},{key:"changeInputValue",value:function(e){/\s/.test(e.target.value)?this.addTag():this.setState({inputValue:e.target.value})}},{key:"addTag",value:function(){var e=this.state.tags;return this.state.inputValue&&e.push(this.state.inputValue),this.setState({tags:e,inputValue:""})}},{key:"deleteTag",value:function(e,t){e.preventDefault();var n=this.state.tags;n.splice(t,1),this.setState({tags:n})}},{key:"submitForm",value:function(e){var t=this;e.preventDefault();var n=this.state.tags;this.state.inputValue&&n.push(this.state.inputValue),this.setState({tags:n,inputValue:""},(function(){t.closeModal(e,!0)}))}},{key:"render",value:function(){var e=this,t=[];return this.state.tags.forEach((function(n,r){t.push(a.createElement("a",{href:"#",onClick:function(t){return e.deleteTag(t,r)},key:r},a.createElement("span",{className:"badge rounded-pill bg-secondary btn-icon"},n,a.createElement("span",{className:"badge badge-light btn-icon-right"},a.createElement("i",{className:"fas fa-times"})))))})),a.createElement("div",{className:"modal",tabIndex:"-1",id:"modalCoinElementTags"},a.createElement("div",{className:"modal-dialog"},a.createElement("div",{className:"modal-content"},a.createElement("div",{className:"modal-header"},a.createElement("h5",{className:"modal-title"},ee.t("CoinElementTags")),a.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(t){return e.closeModal(t,!1)}})),a.createElement("form",{onSubmit:function(t){return e.submitForm(t)}},a.createElement("div",{className:"modal-body"},a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"coinDisplayName",className:"form-label"},ee.t("coinDisplayName")),a.createElement("div",{className:"input-group mb-3"},a.createElement("input",{type:"text",maxLength:"128",className:"form-control",id:"coinDisplayName",value:this.state.inputValue,onChange:function(t){return e.changeInputValue(t)}}),a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.addTag},a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"}))),t)),a.createElement("div",{className:"modal-footer"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.closeModal(t,!1)}},ee.t("modalClose")),a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(t){return e.submitForm(t)}},ee.t("modalOk")))))))}}])&&pi(t.prototype,n),r&&pi(t,r),l}(a.Component);function vi(e){return(vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wi(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Si(e,t){return(Si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ei(e,t){return!t||"object"!==vi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ki(e){return(ki=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Ci=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Si(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ki(o);if(i){var n=ki(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ei(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={config:e.config,cb:e.cb,safe:e.safe,coin:e.coin},t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"render",value:function(){var e=this;return a.createElement("div",{className:"modal",tabIndex:"-1",id:"exportCoinModal"},a.createElement("div",{className:"modal-dialog"},a.createElement("div",{className:"modal-content"},a.createElement("div",{className:"modal-header"},a.createElement("h5",{className:"modal-title"},ee.t("exportCoin")),a.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(t){return e.state.cb(t)}})),a.createElement("div",{className:"modal-body"},a.createElement(dr,{config:this.state.config,safe:this.state.safe,content:[this.state.coin],id:this.state.coin.name,name:this.state.coin.data.displayName})),a.createElement("div",{className:"modal-footer"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.state.cb(t)}},ee.t("modalClose"))))))}}])&&wi(t.prototype,n),r&&wi(t,r),l}(a.Component);function Pi(e){return(Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ni(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function xi(e,t){return(xi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oi(e,t){return!t||"object"!==Pi(t)&&"function"!=typeof t?_i(e):t}function _i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ti(e){return(Ti=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Ri=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xi(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ti(o);if(i){var n=Ti(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Oi(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={config:e.config,oidcStatus:e.oidcStatus,safe:e.safe,coin:e.coin,cbEditHeader:e.cbEditHeader,cbRemoveCoin:e.cbRemoveCoin,cbSaveCoin:e.cbSaveCoin,showAddElement:!1,newElementType:!1,editElementList:[],curElementIndex:-1,showConfirm:!1,showEditTags:!1,showExportCoin:!1,sortRowsEnabled:!1,overId:!1},t.exportCoin=t.exportCoin.bind(_i(t)),t.exportCoinClose=t.exportCoinClose.bind(_i(t)),t.addSecretElement=t.addSecretElement.bind(_i(t)),t.cancelEditElement=t.cancelEditElement.bind(_i(t)),t.editElement=t.editElement.bind(_i(t)),t.removeElement=t.removeElement.bind(_i(t)),t.removeElementConfirm=t.removeElementConfirm.bind(_i(t)),t.setElementTags=t.setElementTags.bind(_i(t)),t.setElementTagsConfirm=t.setElementTagsConfirm.bind(_i(t)),t.saveElement=t.saveElement.bind(_i(t)),t.onDrop=t.onDrop.bind(_i(t)),t.onDragOver=t.onDragOver.bind(_i(t)),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"exportCoin",value:function(){this.setState({showExportCoin:!0},(function(){new bootstrap.Modal(document.getElementById("exportCoinModal"),{keyboard:!1}).show()}))}},{key:"exportCoinClose",value:function(){bootstrap.Modal.getOrCreateInstance(document.querySelector("#exportCoinModal")).hide(),this.setState({showExportCoin:!1})}},{key:"addSecretElement",value:function(){var e,t=!1,n=!1;this.state.coin.data.rows.forEach((function(e,a){"url"===e.type?t=!0:"login"===e.type&&(n=!0)})),e=t&&n?"password":t?"login":"url",this.setState({showAddElement:!0,newElementType:e})}},{key:"setNewElementType",value:function(e){this.setState({newElementType:e.target.value})}},{key:"editElement",value:function(e,t){e.preventDefault();var n=this.state.editElementList;n.push(t),this.setState({editElementList:n})}},{key:"removeElement",value:function(e,t){e.preventDefault(),this.setState({curElementIndex:t,showConfirm:!0},(function(){new bootstrap.Modal(document.getElementById("removeElement"),{keyboard:!1}).show()}))}},{key:"removeElementConfirm",value:function(e){if(e){var t=this.state.coin;t.data.rows.splice(this.state.curElementIndex,1),this.state.cbSaveCoin(!0,t.name,t.data,!0)}bootstrap.Modal.getOrCreateInstance(document.querySelector("#removeElement")).hide(),this.setState({showConfirm:!1})}},{key:"setElementTags",value:function(e,t){e.preventDefault(),this.setState({curElementIndex:t,curTags:this.state.coin.data.rows[t].tags||[],showEditTags:!0},(function(){new bootstrap.Modal(document.getElementById("modalCoinElementTags"),{keyboard:!1}).show()}))}},{key:"setElementTagsConfirm",value:function(e,t){if(e){var n=this.state.coin;t.length?n.data.rows[this.state.curElementIndex].tags=t:delete n.data.rows[this.state.curElementIndex].tags,this.state.cbSaveCoin(!0,n.name,n.data,!0)}bootstrap.Modal.getOrCreateInstance(document.querySelector("#modalCoinElementTags")).hide(),this.setState({showEditTags:!1})}},{key:"saveElement",value:function(e,t,n){var a=this,r=this.state.coin;-1===n?r.data.rows.push(t):(r.data.rows[n]=t,this.cancelEditElement(e,n)),this.setState({showAddElement:!1,newElementType:!1},(function(){a.state.cbSaveCoin(!0,r.name,r.data,!0)}))}},{key:"cancelEditElement",value:function(e,t){if(e&&e.preventDefault(),-1===t)this.setState({showAddElement:!1,newElementType:!1});else{var n=this.state.editElementList;n.indexOf(t)>-1&&n.splice(n.indexOf(t),1),this.setState({editElementList:n})}}},{key:"copyToClipboard",value:function(e){navigator.clipboard.writeText(e).then((function(){bn.sendMessage("Notification",{type:"info",message:ee.t("messageCopyToClipboard")})}))}},{key:"sortRows",value:function(){var e=this;this.setState({sortRowsEnabled:!this.state.sortRowsEnabled},(function(){e.state.sortRowsEnabled?bn.sendMessage("Notification",{type:"info",message:ee.t("messageSortEnabled")}):bn.sendMessage("Notification",{type:"info",message:ee.t("messageSortDisabled")})}))}},{key:"switchRows",value:function(e,t){var n=this.state.coin,a=n.data.rows[e];n.data.rows.splice(e,1),n.data.rows.splice(t,0,a),this.state.cbSaveCoin(!0,n.name,n.data,!0)}},{key:"onDragStart",value:function(e){e.dataTransfer.setData("text",e.target.id)}},{key:"onDrop",value:function(e){e.preventDefault();var t=e.dataTransfer.getData("text").split("-");t&&2===t.length&&t[0]===this.state.coin.name&&this.switchRows(parseInt(t[1]),parseInt(this.state.overId))}},{key:"onDragOver",value:function(e){for(var t=e.target;t;){if(t.draggable){var n=t.id.split("-");n&&2===n.length&&n[0]===this.state.coin.name&&this.setState({overId:n[1]});break}t=t.parentElement}e.preventDefault()}},{key:"toggleAccordion",value:function(e){e.preventDefault(),$("#collapse-"+this.state.coin.name).collapse("toggle")}},{key:"render",value:function(){var e,t,n,r,o,i,s,l,c=this,u=[],f=[],d=[];switch(this.state.coin.data.icon&&(e=a.createElement("i",{className:this.state.coin.data.icon+" fa btn-icon","aria-hidden":"true"})),this.state.showAddElement&&(t=a.createElement("div",{className:"input-group mb-3"},a.createElement("span",{className:"input-group-text",id:"basic-addon1"},ee.t("coinElementType")),a.createElement("select",{className:"form-select",id:"addElement",onChange:function(e){return c.setNewElementType(e)},value:this.state.newElementType},a.createElement("option",{value:"url"},ee.t("coinElementTypeUrl")),a.createElement("option",{value:"login"},ee.t("coinElementTypeLogin")),a.createElement("option",{value:"password"},ee.t("coinElementTypePassword")),a.createElement("option",{value:"secretQuestion"},ee.t("coinElementTypeSecretQuestion")),a.createElement("option",{value:"file"},ee.t("coinElementTypeFile")),a.createElement("option",{value:"misc"},ee.t("coinElementTypeMisc"))))),this.state.newElementType){case"url":n=a.createElement(xr,{coin:this.state.coin,element:{type:this.state.newElementType,value:""},index:-1,cbSave:this.saveElement,cbCancel:this.cancelEditElement}),r=a.createElement("hr",null);break;case"login":n=a.createElement(Lr,{coin:this.state.coin,element:{type:this.state.newElementType,value:""},index:-1,cbSave:this.saveElement,cbCancel:this.cancelEditElement}),r=a.createElement("hr",null);break;case"password":n=a.createElement($r,{config:this.state.config,coin:this.state.coin,element:{type:this.state.newElementType,value:""},index:-1,cbSave:this.saveElement,cbCancel:this.cancelEditElement}),r=a.createElement("hr",null);break;case"secretQuestion":n=a.createElement(Xo,{config:this.state.config,coin:this.state.coin,element:{type:this.state.newElementType,value:[]},index:-1,closeButon:!0,cbSave:this.saveElement,cbRemove:this.removeElement,cbCancel:this.cancelEditElement,cbTags:function(e){return c.setElementTags(e,index)}}),r=a.createElement("hr",null);break;case"file":n=a.createElement(to,{coin:this.state.coin,element:{type:this.state.newElementType,value:{}},index:-1,cbSave:this.saveElement,cbCancel:this.cancelEditElement}),r=a.createElement("hr",null);break;case"misc":n=a.createElement(lo,{coin:this.state.coin,element:{type:this.state.newElementType,value:""},index:-1,cbSave:this.saveElement,cbCancel:this.cancelEditElement}),r=a.createElement("hr",null)}this.state.showConfirm&&(o=a.createElement(aa,{name:"removeElement",title:ee.t("removeElementTitle"),message:ee.t("removeElementMessage"),cb:this.removeElementConfirm})),this.state.showEditTags&&(i=a.createElement(bi,{index:this.state.curElementIndex,tags:this.state.curTags,cb:this.setElementTagsConfirm})),this.state.showExportCoin&&(s=a.createElement(Ci,{config:this.state.config,cb:this.exportCoinClose,safe:this.state.safe,coin:this.state.coin})),this.state.coin.data.rows.forEach((function(e,t){switch(e.type){case"url":-1===c.state.editElementList.indexOf(t)?u.push(a.createElement(yo,{key:t,coin:c.state.coin,element:e,index:t,cbEdit:c.editElement,cbRemove:c.removeElement,cbTags:function(e){return c.setElementTags(e,t)},isDraggable:c.state.sortRowsEnabled,cbOnDragStart:c.onDragStart,cbOnDragOver:c.onDragOver,oidcStatus:c.state.oidcStatus})):u.push(a.createElement(xr,{key:t,coin:c.state.coin,element:e,index:t,cbSave:c.saveElement,cbCancel:c.cancelEditElement,isDraggable:c.state.sortRowsEnabled,cbOnDragStart:c.onDragStart,cbOnDragOver:c.onDragOver}));break;case"login":f.push({type:"login",value:e.value,tags:(e.tags||[]).join(" ")}),-1===c.state.editElementList.indexOf(t)?u.push(a.createElement(ko,{key:t,coin:c.state.coin,element:e,index:t,cbEdit:c.editElement,cbRemove:c.removeElement,cbTags:function(e){return c.setElementTags(e,t)},isDraggable:c.state.sortRowsEnabled,cbOnDragStart:c.onDragStart,cbOnDragOver:c.onDragOver,oidcStatus:c.state.oidcStatus})):u.push(a.createElement(Lr,{key:t,coin:c.state.coin,element:e,index:t,cbSave:c.saveElement,cbCancel:c.cancelEditElement,isDraggable:c.state.sortRowsEnabled,cbOnDragStart:c.onDragStart,cbOnDragOver:c.onDragOver}));break;case"password":f.push({type:"password",value:e.value,tags:(e.tags||[]).join(" ")}),-1===c.state.editElementList.indexOf(t)?u.push(a.createElement(To,{key:t,coin:c.state.coin,element:e,index:t,cbEdit:c.editElement,cbRemove:c.removeElement,cbTags:function(e){return c.setElementTags(e,t)},isDraggable:c.state.sortRowsEnabled,cbOnDragStart:c.onDragStart,cbOnDragOver:c.onDragOver,oidcStatus:c.state.oidcStatus})):u.push(a.createElement($r,{key:t,config:c.state.config,coin:c.state.coin,element:e,index:t,cbSave:c.saveElement,cbCancel:c.cancelEditElement,isDraggable:c.state.sortRowsEnabled,cbOnDragStart:c.onDragStart,cbOnDragOver:c.onDragOver}));break;case"secretQuestion":u.push(a.createElement(Xo,{key:t,config:c.state.config,coin:c.state.coin,element:e,index:t,closeButon:!1,cbSave:c.saveElement,cbRemove:c.removeElement,cbCancel:c.cancelEditElement,cbTags:function(e){return c.setElementTags(e,t)},isDraggable:c.state.sortRowsEnabled,cbOnDragStart:c.onDragStart,cbOnDragOver:c.onDragOver,oidcStatus:c.state.oidcStatus}));break;case"file":-1===c.state.editElementList.indexOf(t)?u.push(a.createElement(ri,{key:t,coin:c.state.coin,element:e,index:t,cbEdit:c.editElement,cbRemove:c.removeElement,cbTags:function(e){return c.setElementTags(e,t)},isDraggable:c.state.sortRowsEnabled,cbOnDragStart:c.onDragStart,cbOnDragOver:c.onDragOver,oidcStatus:c.state.oidcStatus})):u.push(a.createElement(to,{key:t,coin:c.state.coin,element:e,index:t,cbSave:c.saveElement,cbCancel:c.cancelEditElement,isDraggable:c.state.sortRowsEnabled,cbOnDragStart:c.onDragStart,cbOnDragOver:c.onDragOver}));break;case"misc":-1===c.state.editElementList.indexOf(t)?u.push(a.createElement(fi,{key:t,coin:c.state.coin,element:e,index:t,cbEdit:c.editElement,cbRemove:c.removeElement,cbTags:function(e){return c.setElementTags(e,t)},isDraggable:c.state.sortRowsEnabled,cbOnDragStart:c.onDragStart,cbOnDragOver:c.onDragOver,oidcStatus:c.state.oidcStatus})):u.push(a.createElement(lo,{key:t,coin:c.state.coin,element:e,index:t,cbSave:c.saveElement,cbCancel:c.cancelEditElement,isDraggable:c.state.sortRowsEnabled,cbOnDragStart:c.onDragStart,cbOnDragOver:c.onDragOver}))}})),f.length<=2?f.forEach((function(e,t){"login"===e.type?d.push(a.createElement("button",{key:t,type:"button",className:"btn btn-secondary",onClick:function(t){return c.copyToClipboard(e.value)},title:e.tags},a.createElement("i",{className:"fa fa-user","aria-hidden":"true"}))):d.push(a.createElement("button",{key:t,type:"button",className:"btn btn-secondary",onClick:function(t){return c.copyToClipboard(e.value)},title:e.tags},a.createElement("i",{className:"fa fa-key","aria-hidden":"true"})))})):d.push(a.createElement("button",{key:0,type:"button",className:"btn btn-secondary",onClick:function(e){return c.toggleAccordion(e)}},a.createElement("i",{className:"fa fa-user btn-icon","aria-hidden":"true"}),a.createElement("i",{className:"fa fa-key btn-icon","aria-hidden":"true"}),a.createElement("i",{className:"fa fa-chevron-down","aria-hidden":"true"}))),l=a.createElement("div",{className:"input-group"},d);var p="btn btn-sm";return this.state.sortRowsEnabled?p+=" btn-primary":p+=" btn-secondary",a.createElement("div",{className:"col"},a.createElement("div",{className:"accordion",id:"coin-"+this.state.coin.name},a.createElement("div",{className:"accordion-item"},a.createElement("h2",{className:"accordion-header",id:"heading-"+this.state.coin.name},a.createElement("div",{className:"btn-toolbar justify-content-between",role:"toolbar","aria-label":"Toolbar with button groups"},a.createElement("div",{className:"btn-group text-truncate",role:"group","aria-label":"First group"},a.createElement("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse-"+this.state.coin.name,"aria-expanded":"false","aria-controls":"collapse-"+this.state.coin.name},e,this.state.coin.data.displayName)),l)),a.createElement("div",{id:"collapse-"+this.state.coin.name,className:"accordion-collapse collapse","aria-labelledby":"heading-"+this.state.coin.name,"data-bs-parent":"#coin-"+this.state.coin.name},a.createElement("div",{className:"accordion-body"},a.createElement("div",{className:"mb-3",role:"group"},a.createElement("div",{className:"btn-group float-end",role:"group"},a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:function(e){return c.state.cbEditHeader(c.state.coin.name,c.state.coin.data)},disabled:"connected"!==this.state.oidcStatus,title:ee.t("editCoinHeader")},a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),a.createElement("button",{type:"button",className:p,onClick:function(e){return c.sortRows()},disabled:"connected"!==this.state.oidcStatus,title:ee.t("sortCoin")},a.createElement("i",{className:"fa fa-sort","aria-hidden":"true"})),a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.exportCoin,title:ee.t("exportCoin")},a.createElement("i",{className:"fa fa-cloud-download","aria-hidden":"true"})),a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.addSecretElement,disabled:"connected"!==this.state.oidcStatus,title:ee.t("addSecretElement")},a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})),a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:function(e){return c.state.cbRemoveCoin(c.state.coin.name,c.state.coin.data.displayName)},disabled:"connected"!==this.state.oidcStatus,title:ee.t("removeCoin")},a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})))),"",t,n,r,a.createElement("div",{onDrop:this.onDrop,onDragOver:this.onDragOver},u)))),o,i,s))}}])&&Ni(t.prototype,n),r&&Ni(t,r),l}(a.Component);function Ai(e){return(Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Di(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Li(e,t){return(Li=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ji(e,t){return!t||"object"!==Ai(t)&&"function"!=typeof t?Mi(e):t}function Mi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ii(e){return(Ii=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ki(e){return e.safeContent&&e.safe.name&&e.safeContent[e.safe.name]?e.safeContent[e.safe.name].unlockedCoinList:[]}const Ui=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Li(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ii(o);if(i){var n=Ii(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ji(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={config:e.config,oidcStatus:e.oidcStatus,safe:e.safe,safeContent:e.safeContent,iconList:e.iconList,filteredCoinList:Ki(e),filter:"",coinEditMode:0,coinEditName:!1,coinEditContent:!1,removeCoinMessage:!1,filterTimeout:!1,filtering:!1},t.reloadSafe=t.reloadSafe.bind(Mi(t)),t.editSafe=t.editSafe.bind(Mi(t)),t.unlockSafe=t.unlockSafe.bind(Mi(t)),t.unlockSafeCallback=t.unlockSafeCallback.bind(Mi(t)),t.removeSafe=t.removeSafe.bind(Mi(t)),t.removeSafeConfirm=t.removeSafeConfirm.bind(Mi(t)),t.lockSafe=t.lockSafe.bind(Mi(t)),t.changeFilter=t.changeFilter.bind(Mi(t)),t.addCoin=t.addCoin.bind(Mi(t)),t.editCoinHeader=t.editCoinHeader.bind(Mi(t)),t.manageSafe=t.manageSafe.bind(Mi(t)),t.removeCoin=t.removeCoin.bind(Mi(t)),t.removeCoinConfirm=t.removeCoinConfirm.bind(Mi(t)),t.coinSaveCallback=t.coinSaveCallback.bind(Mi(t)),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n,a,r,o=Object.assign({},e);return"connected"===e.oidcStatus&&(t.filter?o.filteredCoinList=(n=o.safeContent[o.safe.name].unlockedCoinList,a=t.filter,r=[],n.forEach((function(e){e.data.displayName.toUpperCase().search(a.toUpperCase())>-1&&r.push(e)})),console.log(r),r):o.filteredCoinList=o.safeContent[o.safe.name].unlockedCoinList),o}}],(n=[{key:"reloadSafe",value:function(){bn.sendMessage("App",{action:"loadSafe",target:this.state.safe.name})}},{key:"editSafe",value:function(){bn.sendMessage("App",{action:"editSafe",target:this.state.safe.name})}},{key:"unlockSafe",value:function(){new bootstrap.Modal(document.getElementById("modalUnlockSafe"),{keyboard:!1}).show()}},{key:"unlockSafeCallback",value:function(e,t,n,a,r){e&&(bn.sendMessage("App",{action:"setSafeKey",target:this.state.safe,key:t,keepUnlocked:n,unlockKeyName:a,removeStorage:!1,masterkeyData:r}),bn.sendMessage("Notification",{type:"info",message:ee.t("unlockedSafe")})),bootstrap.Modal.getOrCreateInstance(document.querySelector("#modalUnlockSafe")).hide()}},{key:"lockSafe",value:function(){bn.sendMessage("App",{action:"setSafeKey",target:this.state.safe,key:!1,removeStorage:!0}),bn.sendMessage("Notification",{type:"info",message:ee.t("lockedSafe")})}},{key:"removeSafe",value:function(){new bootstrap.Modal(document.getElementById("removeSafe"),{keyboard:!1}).show()}},{key:"removeSafeConfirm",value:function(e){var t=this;e&&Nn.request(this.state.config.safe_endpoint+"/"+this.state.safe.name,"DELETE").then((function(){bn.sendMessage("App",{action:"removeSafe",safe:t.state.safe}),bn.sendMessage("Notification",{type:"info",message:ee.t("messageRemoveSafe")})})).catch((function(){bn.sendMessage("Notification",{type:"warning",message:ee.t("messageErrorSaveSafe")})})),bootstrap.Modal.getOrCreateInstance(document.querySelector("#removeSafe")).hide()}},{key:"changeFilter",value:function(e){this.setState({filter:e.target.value})}},{key:"addCoin",value:function(){this.setState({name:!1,coinEditContent:{displayName:"",rows:[]}},(function(){new bootstrap.Modal(document.getElementById("modalCoinEdit"),{keyboard:!1}).show()}))}},{key:"editCoinHeader",value:function(e,t){this.setState({coinEditName:e,coinEditContent:t},(function(){new bootstrap.Modal(document.getElementById("modalCoinEdit"),{keyboard:!1}).show()}))}},{key:"removeCoin",value:function(e,t){this.setState({coinEditName:e,removeCoinMessage:ee.t("removeCoinMessage",{name:t||e})},(function(){new bootstrap.Modal(document.getElementById("removeCoin"),{keyboard:!1}).show()}))}},{key:"removeCoinConfirm",value:function(e){var t=this;e&&Nn.request(this.state.config.safe_endpoint+"/"+this.state.safe.name+"/coin/"+this.state.coinEditName,"DELETE").then((function(){bn.sendMessage("Notification",{type:"info",message:ee.t("messageSuccessCoinRemove")}),bn.sendMessage("App",{action:"removeCoin",target:t.state.safe,coin:t.state.coinEditName})})).catch((function(){bn.sendMessage("Notification",{type:"warning",message:ee.t("messageErrorCoinRemove")})})),bootstrap.Modal.getOrCreateInstance(document.querySelector("#removeCoin")).hide()}},{key:"coinSaveCallback",value:function(e,t,n){var a=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=bootstrap.Modal.getOrCreateInstance(document.querySelector("#modalCoinEdit"));return o&&o.hide(),e?t?new dn(n).setProtectedHeader({alg:this.state.safe.alg_type,enc:this.state.safe.enc_type,sign_thumb:this.state.config.sign_thumb}).encrypt(this.state.safeContent[this.state.safe.name].key).then((function(e){var o={name:t,data:e};return Nn.request(a.state.config.safe_endpoint+"/"+a.state.safe.name+"/coin/"+t,"PUT",o).then((function(){r&&bn.sendMessage("Notification",{type:"info",message:ee.t("messageSuccessCoinSave")}),bn.sendMessage("App",{action:"updateCoin",target:a.state.safe,encCoin:o,unlockedCoin:{name:t,data:n}})})).catch((function(){r&&bn.sendMessage("Notification",{type:"warning",message:ee.t("messageErrorCoinSave")})}))})):new dn(n).setProtectedHeader({alg:this.state.safe.alg_type,enc:this.state.safe.enc_type,sign_thumb:this.state.config.sign_thumb}).encrypt(this.state.safeContent[this.state.safe.name].key).then((function(e){var t={name:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),data:e};return Nn.request(a.state.config.safe_endpoint+"/"+a.state.safe.name+"/coin","POST",t).then((function(){r&&bn.sendMessage("Notification",{type:"info",message:ee.t("messageSuccessCoinSave")}),bn.sendMessage("App",{action:"updateCoin",target:a.state.safe,encCoin:t,unlockedCoin:{name:t.name,data:n},cb:a.scrollToCoin})})).catch((function(){bn.sendMessage("Notification",{type:"warning",message:ee.t("messageErrorCoinSave")})}))})):$.Deferred().reject("No can do")}},{key:"scrollToCoin",value:function(e){var t=document.getElementById("coin-"+e);t&&t.scrollIntoView()}},{key:"manageSafe",value:function(){new bootstrap.Modal(document.getElementById("manageSafe"),{keyboard:!1}).show()}},{key:"manageSafeClose",value:function(){bootstrap.Modal.getOrCreateInstance(document.querySelector("#manageSafe")).hide()}},{key:"render",value:function(){var e,t,n=this,r=[],o=this.state.safe&&this.state.safeContent&&this.state.safeContent[this.state.safe.name]&&this.state.safeContent[this.state.safe.name].key;return this.state.safe&&this.state.safeContent&&this.state.safeContent[this.state.safe.name]&&this.state.safeContent[this.state.safe.name].key?(e=a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.lockSafe,title:ee.t("safeLock")},a.createElement("i",{className:"fa fa-lock","aria-hidden":"true"})),t=a.createElement("div",{className:"mb-3"},a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},a.createElement("div",{className:"input-group mb-3"},a.createElement("input",{type:"text",className:"form-control",autoComplete:"new-password",placeholder:ee.t("secretFilter"),id:"coinFilter",name:"coinFilter",value:this.state.filter,onChange:this.changeFilter}))))):e=a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.unlockSafe,title:ee.t("safeUnlock")},a.createElement("i",{className:"fa fa-unlock","aria-hidden":"true"})),o&&this.state.filteredCoinList.forEach((function(e,t){r.push(a.createElement(Ri,{config:n.state.config,coin:e,safe:n.state.safe,cbEditHeader:n.editCoinHeader,cbRemoveCoin:n.removeCoin,cbSaveCoin:n.coinSaveCallback,oidcStatus:n.state.oidcStatus,key:t}))})),a.createElement("div",null,a.createElement("div",{className:"alert alert-primary text-center",role:"alert"},this.state.safe.display_name||this.state.safe.name,a.createElement("div",{className:"btn-group float-end",role:"group"},e,a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.reloadSafe,disabled:!o||"connected"!==this.state.oidcStatus,title:ee.t("reloadSafe")},a.createElement("i",{className:"fa fa-refresh","aria-hidden":"true"})),a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.editSafe,disabled:!o||"connected"!==this.state.oidcStatus,title:ee.t("editSafe")},a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.manageSafe,disabled:!o,title:ee.t("manageSafe")},a.createElement("i",{className:"fa fa-cogs","aria-hidden":"true"})),a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.addCoin,disabled:!o||"connected"!==this.state.oidcStatus,title:ee.t("addCoin")},a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})),a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:function(e){return n.removeSafe()},disabled:!o||"connected"!==this.state.oidcStatus,title:ee.t("removeSafe")},a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})))),t,a.createElement("div",{className:"row row-cols-1 row-cols-sm-1 row-cols-md-1 row-cols-lg-2"},r),a.createElement(Ja,{config:this.state.config,safe:this.state.safe,safeContent:this.state.safeContent,allowKeepUnlocked:!0,cb:this.unlockSafeCallback}),a.createElement(or,{editMode:this.state.coinEditMode,name:this.state.coinEditName,content:this.state.coinEditContent,cb:this.coinSaveCallback,iconListOrig:this.state.iconList}),a.createElement(wr,{config:this.state.config,safe:this.state.safe,safeContent:this.state.safeContent,cbSaveCoin:this.coinSaveCallback,oidcStatus:this.state.oidcStatus,cbClose:this.manageSafeClose}),a.createElement(aa,{name:"removeSafe",title:ee.t("removeSafeTitle"),message:ee.t("removeSafeMessage",{name:this.state.safe.display_name||this.state.safe.name}),cb:this.removeSafeConfirm}),a.createElement(aa,{name:"removeCoin",title:ee.t("removeCoinTitle"),message:this.state.removeCoinMessage,cb:this.removeCoinConfirm}))}}])&&Di(t.prototype,n),r&&Di(t,r),l}(a.Component);function Hi(e){return(Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fi(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Wi(e,t){return(Wi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bi(e,t){return!t||"object"!==Hi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zi(e){return(zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Ji=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wi(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=zi(o);if(i){var n=zi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Bi(this,e)});function l(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),t=s.call(this,e);var n=e.editMode;return!e.editMode&&e.safeContent&&e.safe&&e.safeContent[e.safe.name]&&!e.safeContent[e.safe.name].keyList.length&&(n=2),t.state={config:e.config,oidcStatus:e.oidcStatus,hutchProfile:e.hutchProfile,safe:e.safe,safeContent:e.safeContent,iconList:e.iconList,editMode:n},t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=Object.assign({},e);return!e.editMode&&e.safeContent&&e.safe&&e.safeContent[e.safe.name]&&!e.safeContent[e.safe.name].keyList.length&&(n.editMode=2),n}}],(n=[{key:"render",value:function(){var e=this.state.safe&&this.state.safeContent&&this.state.safeContent[this.state.safe.name]&&this.state.safeContent[this.state.safe.name].keyList.length;return!this.state.editMode&&e||"connected"!==this.state.oidcStatus?a.createElement(Ui,{config:this.state.config,safe:this.state.safe,safeContent:this.state.safeContent,oidcStatus:this.state.oidcStatus,iconList:this.state.iconList}):a.createElement(Ya,{config:this.state.config,safe:this.state.safe,safeContent:this.state.safeContent,editMode:this.state.editMode})}}])&&Fi(t.prototype,n),r&&Fi(t,r),l}(a.Component);function Vi(e){return(Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qi(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function $i(e,t){return($i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gi(e,t){return!t||"object"!==Vi(t)&&"function"!=typeof t?Qi(e):t}function Qi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xi(e){return(Xi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Yi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$i(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Xi(r);if(o){var n=Xi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Gi(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={config:e.config},t.changeLang=t.changeLang.bind(Qi(t)),t}return t=s,(n=[{key:"changeLang",value:function(e,t){e.preventDefault(),bn.sendMessage("App",{action:"lang",lang:t})}},{key:"render",value:function(){var e=this,t=[];return this.state.config.frontend.lang.forEach((function(n,r){var o="dropdown-item";ee.language===n&&(o+=" active"),t.push(a.createElement("li",{key:r},a.createElement("a",{className:o,href:"#",onClick:function(t){return e.changeLang(t,n)}},ee.t("lang-"+n))))})),a.createElement("div",{className:"dropdown"},a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"langDropdown","data-bs-toggle":"dropdown","aria-expanded":"false"},ee.t("lang-"+ee.language)),a.createElement("ul",{className:"dropdown-menu","aria-labelledby":"langDropdown"},t))}}])&&qi(t.prototype,n),s}(a.Component);function Zi(e){return(Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function es(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ts(e,t){return(ts=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ns(e,t){return!t||"object"!==Zi(t)&&"function"!=typeof t?as(e):t}function as(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rs(e){return(rs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const os=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ts(e,t)}(l,e);var t,n,r,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rs(o);if(i){var n=rs(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ns(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={config:e.config,longSession:!!Tn.getValue("longSession")},t.toggleLongSession=t.toggleLongSession.bind(as(t)),t}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"toggleLongSession",value:function(e){var t=this;this.setState({longSession:!this.state.longSession},(function(){Tn.setValue("longSession",t.state.longSession),Cn.setParameter("responseType",t.state.longSession?"code":"token id_token")}))}},{key:"render",value:function(){var e=this;return a.createElement("div",null,a.createElement("hr",null),a.createElement("div",null,a.createElement("h3",null,ee.t("selectLang")),a.createElement(Yi,{config:this.state.config})),a.createElement("hr",null),a.createElement("div",null,a.createElement("h3",null,ee.t("selectSession")),a.createElement("div",{className:"form-check"},a.createElement("input",{className:"form-check-input",type:"checkbox",checked:this.state.longSession,id:"longSession",onChange:function(t){return e.toggleLongSession(t)}}),a.createElement("label",{className:"form-check-label",htmlFor:"longSession"},ee.t("longSession"))),a.createElement("p",{className:"fs-6 fst-italic"},ee.t("selectSessionWarning"))))}}])&&es(t.prototype,n),r&&es(t,r),l}(a.Component);function is(e){return(is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ss(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ls(e,t){return(ls=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cs(e,t){return!t||"object"!==is(t)&&"function"!=typeof t?us(e):t}function us(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fs(e){return(fs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const ds=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ls(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=fs(r);if(o){var n=fs(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return cs(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={config:e.config,profile:!1,hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{},iconList:[],curSafe:!1,addSafe:!1,oidcStatus:"connecting",tokenTimeout:!1,nav:"profile",oldNav:!1,langChanged:!1,editProfile:!1,editSafeMode:0,trustworthy:!0,forceTrust:!1},On.addChangeRouteCallback((function(e){t.gotoRoute(e)})),bn.subscribe("OIDC",(function(e){if("disconnected"===e.status)t.setState({oidcStatus:e.status,safeList:[],safeContent:{},curSafe:!1}),bn.sendMessage("Notification",{type:"warning",message:ee.t("messageDisconnected")});else if("connected"===e.status||"refresh"===e.status){var n=new Date;Nn.setToken(e.token,n.getTime()/1e3+e.expires_in),"connected"===e.status&&bn.sendMessage("Notification",{type:"success",message:ee.t("messageConnected")});var a=!1;-1===Cn.getParameter("responseType").search("code")&&(clearTimeout(t.state.tokenTimeout),a=setTimeout((function(){bn.sendMessage("Notification",{type:"warning",message:ee.t("messageSessionTimeout"),autohide:!1}),t.setState({oidcStatus:"timeout"})}),1e3*e.expires_in)),t.setState({oidcStatus:"connected",tokenTimeout:a})}else"profile"===e.status&&("error"==e.profile?(bn.sendMessage("Notification",{type:"warning",message:ee.t("messageProfileError")}),t.setState({oidcStatus:"disconnected",safeList:[],safeContent:{},curSafe:!1})):e.profile&&t.setState({profile:e.profile},(function(){t.getHutchProfile().then((function(){t.getSafeList().then((function(){t.gotoRoute(On.getCurrentRoute())}))})).catch((function(){}))})));t.setForceTrust=t.setForceTrust.bind(us(t))})),bn.subscribe("App",(function(e){if("lang"===e.action)e.lang!==ee.language&&ee.changeLanguage(e.lang).then((function(){t.setState({langChanged:!0},(function(){Nn.request("words-"+ee.language+".json").then((function(e){var n=t.state.config;n.wordsList=e,t.setState({config:n})}))}))}));else if("editProfile"===e.action){var n=t.state.hutchProfile||{name:t.state.profile.name,message:"",picture:"",sign_kid:t.state.config.jwks.keys[0].kid};t.setState({nav:"profile",editProfile:!0,hutchProfile:n})}else if("getProfile"===e.action)t.setState({nav:"profile",editProfile:!1},(function(){t.getHutchProfile()}));else if("resetProfile"===e.action)t.setState({nav:"profile",editProfile:!1,hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{},curSafe:!1});else if("nav"===e.action)e.target?t.state.safeList.forEach((function(n){n.name===e.target&&t.setState({nav:"safe",curSafe:n,editSafeMode:0})})):t.setState({nav:"profile",editProfile:!1,curSafe:!1});else if("config"===e.action)"config"===t.state.nav&&t.state.oldNav?t.setState({nav:t.state.oldNav,oldNav:!1}):t.setState({nav:"config",oldNav:t.state.nav});else if("addSafe"===e.action)t.setState({nav:"safe",curSafe:{name:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),display_name:"",enc_type:"A256GCM",alg_type:"A256GCMKW"},editSafeMode:1});else if("loadSafe"===e.action)t.getSafe(e.target);else if("editSafe"===e.action)t.state.safeList.forEach((function(n){n.name===e.target&&t.setState({nav:"safe",curSafe:n,editSafeMode:2})}));else if("saveSafe"===e.action){var a=t.state.safeList,r=t.state.safeContent,o=!1;a.forEach((function(t,n){t.name===e.safe.name&&(a[n]=e.safe,o=!0)})),o||(a.push(e.safe),r[e.safe.name]={keyList:[],coinList:[],unlockedCoinList:[],key:!1}),On.addRoute(e.safe.name),t.setState({safeList:a,safeContent:r,nav:"safe",curSafe:e.safe,editSafeMode:0})}else if("removeSafe"===e.action)a=t.state.safeList,r=t.state.safeContent,a.forEach((function(t,n){t.name===e.safe.name&&a.splice(n,1)})),On.addRoute(""),delete r[e.safe.name],t.setState({safeList:a,safeContent:r,nav:"profile",editProfile:!1});else if("updateSafeKey"===e.action)t.getSafeKeyList(e.safe.name).then((function(){t.setState({nav:"safe",curSafe:e.safe,editSafeMode:2})}));else if("setSafeKey"===e.action){if(!(r=t.state.safeContent)[e.target.name].key&&e.key&&(r[e.target.name].key=e.key),r[e.target.name].extractableKey=e.masterkeyData,r[e.target.name].lastUnlock=e.key?Date.now()/1e3:0,e.key){if(e.keepUnlocked){var i="A128KW";"A192KW"===e.target.alg_type||"A192GCMKW"===e.target.alg_type||"PBES2-HS384+A192KW"===e.target.alg_type?i="A192KW":"A256KW"!==e.target.alg_type&&"A256GCMKW"!==e.target.alg_type&&"PBES2-HS512+A256KW"!==e.target.alg_type||(i="A256KW"),Wt(i,{extractable:!0}).then((function(n){var a=Math.random().toString(36).substring(7);new dn(e.masterkeyData).setProtectedHeader({alg:i,enc:e.target.enc_type,sign_key:t.state.config.sign_thumb,kid:a}).encrypt(n).then((function(r){var o={name:a,display_name:e.unlockKeyName,type:"browser",data:r},s=t.state.safeContent;s[e.target.name].keyList.push(o),t.setState({safeContent:s}),Nn.request(t.state.config.safe_endpoint+"/"+e.target.name+"/key","POST",o).then((function(){zt(n).then((function(t){t.kid=a,t.alg=i;var n="hutchsafe-"+e.target.name;"/"!==window.location.pathname&&(n+="-"+window.btoa(unescape(encodeURIComponent(window.location.pathname))).replace(/\=+$/m,"")),Tn.setValue(n,t)}))}))}))}))}}else if(e.removeStorage){var s="hutchsafe-"+e.target.name;"/"!==window.location.pathname&&(s+="-"+window.btoa(unescape(encodeURIComponent(window.location.pathname))).replace(/\=+$/m,""));var l=Tn.getValue(s);l&&Nn.request(t.state.config.safe_endpoint+"/"+e.target.name+"/key/"+l.kid,"DELETE").then((function(){var n=t.state.safeContent;n[e.target.name].keyList.forEach((function(t,a){t.name===l.kid&&n[e.target.name].keyList.splice(a,1)})),t.setState({safeContent:n})})).catch((function(e){bn.sendMessage("Notification",{type:"danger",message:ee.t("messageErrorSaveSafeKey")})})),Tn.removeValue(s),r[e.target.name].key=!1,r[e.target.name].extractableKey=!1,r[e.target.name].lastUnlock=0}r[e.target.name].unlockedCoinList=[],t.setState({safeContent:r},(function(){t.unlockCoinList(e.target.name,t.state.safeContent[e.target.name].key),t.state.safeContent[e.target.name].extractableKey&&setTimeout((function(){var n=t.state.safeContent;delete n[e.target.name].extractableKey,t.setState({safeContent:n},(function(){}))}),6e5)}))}else if("unlockSafe"===e.action)(r=t.state.safeContent)[e.safe.name].extractableKey=e.extractableKey,t.setState({safeContent:r},(function(){setTimeout((function(){var n=t.state.safeContent;delete n[e.safe.name].extractableKey,t.setState({safeContent:n})}),6e5),r[e.safe.name].unlockedCoinList.length!==r[e.safe.name].coinList.length&&t.unlockCoinList(e.safe.name,t.state.safeContent[e.safe.name].key)}));else if("lockAllSafe"===e.action)t.state.safeList.forEach((function(e){bn.sendMessage("App",{action:"setSafeKey",target:e,removeStorage:!0,key:!1})}));else if("updateCoin"===e.action){r=t.state.safeContent;var c=!1;r[e.target.name].coinList.forEach((function(t,n){t.name===e.encCoin.name&&(r[e.target.name].coinList[n]=e.encCoin,c=!0)})),c?r[e.target.name].unlockedCoinList.forEach((function(t,n){t.name===e.unlockedCoin.name&&(r[e.target.name].unlockedCoinList[n]=e.unlockedCoin)})):(r[e.target.name].coinList.push(e.encCoin),r[e.target.name].unlockedCoinList.push(e.unlockedCoin)),r[e.target.name].unlockedCoinList.sort(t.compareCoin),t.setState({safeContent:r},(function(){e.cb&&e.cb(e.encCoin.name)}))}else"removeCoin"===e.action?((r=t.state.safeContent)[e.target.name].coinList.forEach((function(t,n){t.name===e.coin&&delete r[e.target.name].coinList[n]})),r[e.target.name].unlockedCoinList.forEach((function(t,n){t.name===e.coin&&delete r[e.target.name].unlockedCoinList[n]})),t.setState({safeContent:r})):"sessionTimeout"===e.action&&(bn.sendMessage("Notification",{type:"warning",message:ee.t("messageSessionTimeout"),autohide:!1}),t.setState({oidcStatus:"timeout"}))})),Nn.request("words-"+ee.language+".json").then((function(e){var n=t.state.config;n.wordsList=e,t.setState({config:n})})),Nn.request("fonts/forkawesome-ful-list.json").then((function(e){t.setState({iconList:e})})),t.getHutchProfile=t.getHutchProfile.bind(us(t)),t.getSafeList=t.getSafeList.bind(us(t)),t.getSafeKeyList=t.getSafeKeyList.bind(us(t)),t.unlockCoinList=t.unlockCoinList.bind(us(t)),t.gotoRoute=t.gotoRoute.bind(us(t)),t}return t=s,(n=[{key:"gotoRoute",value:function(e){var t=this;e?this.state.safeList.forEach((function(n){n.name===e&&t.setState({nav:"safe",curSafe:n,editSafeMode:0})})):this.setState({nav:"profile",editProfile:!1})}},{key:"getHutchProfile",value:function(){var e=this;return Nn.request(this.state.config.profile_endpoint).then((function(t){var n=JSON.parse(atob(t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"))),a=!1;if(e.state.config.jwks.keys.forEach((function(r){r.kid===n.sign_kid&&(a=!0,kt(r,r.alg).then((function(n){(async function(e,t="sha256"){if(!St(e))throw new TypeError("JWK must be an object");let n;switch(e.kty){case"EC":Ht(e.crv,'"crv" (Curve) Parameter'),Ht(e.x,'"x" (X Coordinate) Parameter'),Ht(e.y,'"y" (Y Coordinate) Parameter'),n={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":Ht(e.crv,'"crv" (Subtype of Key Pair) Parameter'),Ht(e.x,'"x" (Public Key) Parameter'),n={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":Ht(e.e,'"e" (Exponent) Parameter'),Ht(e.n,'"n" (Modulus) Parameter'),n={e:e.e,kty:e.kty,n:e.n};break;case"oct":Ht(e.k,'"k" (Key Value) Parameter'),n={k:e.k,kty:e.kty};break;default:throw new ct('"kty" (Key Type) Parameter missing or unsupported')}const a=We.encode(JSON.stringify(n));return tt(await Ut(t,a))})(r).then((function(a){Kt(t,n).then((function(t){Nn.setSignJwk(n);var r=e.state.config;r.sign_thumb=a,e.setState({config:r,hutchProfile:t.payload,hasProfile:!0})}))}))})))})),!a)return $.Deferred().reject("invalid sign key")})).fail((function(t){var n={hutchProfile:!1,hasProfile:!1};404===t.status?bn.sendMessage("Notification",{type:"info",message:ee.t("messageNoProfile")}):401===t.status?(n.oidcStatus="disconnected",n.safeList=[],n.safeContent={},n.curSafe=!1,bn.sendMessage("Notification",{type:"danger",message:ee.t("messageAuthorizationInvalid")})):(n.oidcStatus="disconnected",n.safeList=[],n.safeContent={},n.curSafe=!1,bn.sendMessage("Notification",{type:"warning",message:ee.t("messageProfileError")})),e.setState(n)}))}},{key:"getSafeList",value:function(){var e=this;return Nn.requestSigned(this.state.config.safe_endpoint).then((function(t){return e.setState({safeList:t.payload.list,trustworthy:!0},(function(){e.state.safeList.forEach((function(t){return Nn.requestSigned(e.state.config.safe_endpoint+"/"+t.name+"/key").then((function(n){return Nn.requestSigned(e.state.config.safe_endpoint+"/"+t.name+"/coin").then((function(a){var r=!0;a.payload.list.forEach((function(t){yn(t.data).sign_thumb!==e.state.config.sign_thumb&&(r=!1)}));var o=e.state.safeContent;o[t.name]={keyList:n.payload.list,coinList:a.payload.list,unlockedCoinList:[],key:!1,lastUnlock:0},e.setState({safeContent:o,trustworthy:e.state.trustworthy&&r},(function(){var a="hutchsafe-"+t.name;"/"!==window.location.pathname&&(a+="-"+window.btoa(unescape(encodeURIComponent(window.location.pathname))).replace(/\=+$/m,""));var r=Tn.getValue(a);r&&n.payload.list.forEach((function(n){n.name===r.kid&&kt(r,r.alg).then((function(a){mn(n.data,a).then((function(n){kt(n.payload,t.alg_type).then((function(n){var a=e.state.safeContent;a[t.name].key=n,e.setState({safeContent:a},(function(){e.unlockCoinList(t.name,a[t.name].key)}))}))}))}))}))}))})).fail((function(t){console.error("getSafeCoins",t),bn.sendMessage("Notification",{type:"warning",message:ee.t("messageErrorCoinList")}),e.setState({hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{}})}))})).fail((function(t){console.error("getSafeKeys",t),bn.sendMessage("Notification",{type:"warning",message:ee.t("messageErrorKeyList")}),e.setState({hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{}})}))}))}))})).fail((function(t){console.error("getSafeList",t),bn.sendMessage("Notification",{type:"warning",message:ee.t("messageErrorSafeList")}),e.setState({hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{}})}))}},{key:"getSafe",value:function(e){var t=this;return Nn.requestSigned(this.state.config.safe_endpoint+"/"+e).then((function(n){var a=t.state.safeList;return a.forEach((function(t,r){t.name===e&&(a[r]=n.payload)})),t.setState({safeList:a},(function(){return Nn.requestSigned(t.state.config.safe_endpoint+"/"+e+"/key").then((function(n){return Nn.requestSigned(t.state.config.safe_endpoint+"/"+e+"/coin").then((function(a){var r=!0;a.payload.list.forEach((function(e){yn(e.data).sign_thumb!==t.state.config.sign_thumb&&(r=!1)}));var o=t.state.safeContent;o[e].keyList=n.payload.list,o[e].coinList=a.payload.list,o[e].unlockedCoinList=[],t.setState({safeContent:o,trustworthy:t.state.trustworthy&&r},(function(){t.unlockCoinList(e,o[e].key),bn.sendMessage("Notification",{type:"info",message:ee.t("messageSafeLoaded")})}))})).fail((function(e){console.error("getSafeCoins",e),bn.sendMessage("Notification",{type:"warning",message:ee.t("messageErrorCoinList")}),t.setState({hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{}})}))})).fail((function(e){console.error("getSafeKeys",e),bn.sendMessage("Notification",{type:"warning",message:ee.t("messageErrorKeyList")}),t.setState({hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{}})}))}))})).fail((function(e){console.error("getSafe",e),bn.sendMessage("Notification",{type:"warning",message:ee.t("messageErrorSafeList")}),t.setState({hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{}})}))}},{key:"compareCoin",value:function(e,t){return e.data.displayName.toUpperCase()<t.data.displayName.toUpperCase()?-1:e.data.displayName.toUpperCase()>t.data.displayName.toUpperCase()?1:0}},{key:"unlockCoinList",value:function(e,t){var n=this,a=this.state.safeContent;t&&(this.state.trustworthy||this.state.forceTrust)?a[e].coinList.forEach((function(r,o){mn(r.data,t).then((function(t){a[e].unlockedCoinList.push({name:r.name,data:t.payload}),o===a[e].coinList.length-1&&(a[e].unlockedCoinList.sort(n.compareCoin),n.setState({safeContent:a}))}))})):(a[e].unlockedCoinList=[],this.setState({safeContent:a}))}},{key:"getSafeKeyList",value:function(e){var t=this;return Nn.requestSigned(this.state.config.safe_endpoint+"/"+e+"/key").then((function(n){var a=t.state.safeContent;a[e].keyList=n.payload.list,t.setState({safeContent:a})})).catch((function(e){bn.sendMessage("Notification",{type:"warning",message:ee.t("messageErrorKeyList")})}))}},{key:"setForceTrust",value:function(){var e=this;this.setState({forceTrust:!0},(function(){e.state.safeList.forEach((function(t){e.state.safeContent[t.name].key&&e.unlockCoinList(t.name,e.state.safeContent[t.name].key)}))}))}},{key:"render",value:function(){var e,t,n,r=[];return(this.state.trustworthy||!this.state.trustworthy&&this.state.forceTrust)&&(r=this.state.safeList,"profile"===this.state.nav?e=a.createElement(ka,{config:this.state.config,profile:this.state.profile,hutchProfile:this.state.hutchProfile,hasProfile:this.state.hasProfile,editProfile:this.state.editProfile,oidcStatus:this.state.oidcStatus}):"safe"===this.state.nav?e=a.createElement(Ji,{config:this.state.config,hutchProfile:this.state.hutchProfile,safe:this.state.curSafe,safeContent:this.state.safeContent,editMode:this.state.editSafeMode,oidcStatus:this.state.oidcStatus,iconList:this.state.iconList}):"config"===this.state.nav&&(e=a.createElement(os,{config:this.state.config}))),this.state.trustworthy||(this.state.forceTrust||(n=a.createElement("div",null,a.createElement("div",null,ee.t("untrustworthyOpenMessage")),a.createElement("div",null,a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.setForceTrust},ee.t("untrustworthyOpen"))))),t=a.createElement("div",{className:"alert alert-danger text-center",role:"alert"},ee.t("untrustworthySafe"),n)),a.createElement("div",{className:"container-fluid"},a.createElement(Qn,{config:this.state.config,oidcStatus:this.state.oidcStatus,safeList:r,safeContent:this.state.safeContent,curSafe:this.state.curSafe,hasProfile:this.state.hasProfile}),t,e,a.createElement(In,{loggedIn:this.state.oidcStatus}))}}])&&ss(t.prototype,n),s}(a.Component);function ps(e){return(ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ms(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function hs(e,t){return(hs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ys(e,t){return!t||"object"!==ps(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gs(e){return(gs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const bs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hs(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=gs(r);if(o){var n=gs(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ys(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={message:e.message},t}return t=s,(n=[{key:"render",value:function(){return a.createElement("div",{className:"alert alert-danger perfect-centering",role:"alert"},a.createElement("h4",null,"Configuration error"),a.createElement("span",null,this.state.message))}}])&&ms(t.prototype,n),s}(a.Component);try{ee.use(ve).use(Fe).init({fallbackLng:"en",ns:["translations"],defaultNS:"translations",backend:{loadPath:"locales/{{lng}}/{{ns}}.json"}}).then((function(){new URLSearchParams(window.location.search),Nn.request("config.json").then((function(e){var t,n;e.lang||(e.lang=["en","fr"]),Tn.setStorageType(e.storageType),(t=e.hutchRootUrl,n={},Nn.request(t+"/.well-known/hutch-configuration","GET",!1,"application/jwt").then((function(e){return JSON.parse(atob(e.split(".")[0].replace(/-/g,"+").replace(/_/g,"/"))),n.config=JSON.parse(atob(e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"))),Nn.request(n.config.jwks_uri,"GET",!1,"application/jwt").then((function(t){return JSON.parse(atob(t.split(".")[0].replace(/-/g,"+").replace(/_/g,"/"))),n.jwks=JSON.parse(atob(t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"))),kt(n.jwks.keys[0],n.jwks.keys[0].alg).then((function(a){return Kt(e,a).then((function(){return Kt(t,a).then((function(){return n}))}))}))}))}))).then((function(t){var n={oidc:{status:"connecting"},frontend:e,backend:t.config,jwks:t.jwks,profile_endpoint:e.profile_endpoint||t.config.profile_endpoint,safe_endpoint:e.safe_endpoint||t.config.safe_endpoint,oidc_server_remote_config:e.oidc.oidc_server_remote_config||t.config.oidc_server_remote_config,scope:e.oidc.scope||t.config.scope};Cn.init({storagePrefix:"hutchOidc",storageType:Tn.storageType,responseType:Tn.getValue("longSession")?"code":"token id_token",openidConfigUrl:n.oidc_server_remote_config,authUrl:e.oidc.authUrl,tokenUrl:e.oidc.tokenUrl,clientId:e.oidc.clientId,redirectUri:e.oidc.redirectUri,usePkce:e.oidc.usePkce,scope:n.scope,userinfoUrl:e.oidc.userinfoUrl,refreshTokenLoop:e.oidc.refreshTokenLoop,changeStatusCb:function(e,t,n,a){bn.sendMessage("OIDC",{status:e,token:t,expires_in:n,profile:a})}}),Nn.setConfig(e.APIUrl),r.render(a.createElement(ds,{config:n}),document.getElementById("root"))})).fail((function(e){r.render(a.createElement(bs,{message:"Error getting hutch backend config"}),document.getElementById("root"))}))})).fail((function(e){r.render(a.createElement(bs,{message:"Error getting hutch frontend config"}),document.getElementById("root"))}))}))}catch(e){$("#root").html('<div class="alert alert-danger" role="alert"><i class="fas fa-exclamation-triangle"></i><span class="btn-icon-right">You must use a browser compatible with Hutch</span></div>')}},98:function(e,t){var n="undefined"!=typeof self?self:this,a=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,a="Symbol"in e&&"iterator"in Symbol,r="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,i="ArrayBuffer"in e;if(i)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return a&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function m(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function h(e){var t=new FileReader,n=m(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:r&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i&&r&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var e,t,n,a=p(this);if(a)return a;if(this._bodyBlob)return e=this._bodyBlob,n=m(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),a=0;a<t.length;a++)n[a]=String.fromCharCode(t[a]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=c(e),t=u(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},d.prototype.delete=function(e){delete this.map[c(e)]},d.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},d.prototype.set=function(e,t){this.map[c(e)]=u(t)},d.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},a&&(d.prototype[Symbol.iterator]=d.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){var n,a,r=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(a=(n=t.method||this.method||"GET").toUpperCase(),b.indexOf(a)>-1?a:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),a=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(a),decodeURIComponent(r))}})),t}function S(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},g.call(v.prototype),g.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];S.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function k(e,n){return new Promise((function(a,o){var i=new v(e,n);if(i.signal&&i.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function l(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),a=n.shift().trim();if(a){var r=n.join(":").trim();t.append(a,r)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var r="response"in s?s.response:s.responseText;a(new S(r,n))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},s.open(i.method,i.url,!0),"include"===i.credentials?s.withCredentials=!0:"omit"===i.credentials&&(s.withCredentials=!1),"responseType"in s&&r&&(s.responseType="blob"),i.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),i.signal&&(i.signal.addEventListener("abort",l),s.onreadystatechange=function(){4===s.readyState&&i.signal.removeEventListener("abort",l)}),s.send(void 0===i._bodyInit?null:i._bodyInit)}))}k.polyfill=!0,e.fetch||(e.fetch=k,e.Headers=d,e.Request=v,e.Response=S),t.Headers=d,t.Request=v,t.Response=S,t.fetch=k,Object.defineProperty(t,"__esModule",{value:!0})}({})}(a),a.fetch.ponyfill=!0,delete a.fetch.polyfill;var r=a;(t=r.fetch).default=r.fetch,t.fetch=r.fetch,t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response,e.exports=t},579:(e,t,n)=>{var a;if("function"==typeof fetch&&(void 0!==n.g&&n.g.fetch?a=n.g.fetch:"undefined"!=typeof window&&window.fetch&&(a=window.fetch)),"undefined"==typeof window||void 0===window.document){var r=a||n(98);r.default&&(r=r.default),t.default=r,e.exports=t.default}},418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var i,s,l=r(e),c=1;c<arguments.length;c++){for(var u in i=Object(arguments[c]))n.call(i,u)&&(l[u]=i[u]);if(t){s=t(i);for(var f=0;f<s.length;f++)a.call(i,s[f])&&(l[s[f]]=i[s[f]])}}return l}},448:(e,t,n)=>{"use strict";var a=n(294),r=n(418),o=n(840);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!a)throw Error(i(227));var s=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,m={},h={};function y(e,t,n,a,r,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,a){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0===r.type:!a&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,a){if(null==t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,a)&&(n=null),a||null===r?function(e){return!!p.call(h,e)||!p.call(m,e)&&(d.test(e)?h[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,a=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,v);g[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,v);g[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,v);g[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var S=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,k=60106,C=60107,P=60108,N=60114,x=60109,O=60110,_=60112,T=60113,R=60120,A=60115,D=60116,L=60121,j=60128,M=60129,I=60130,K=60131;if("function"==typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),k=U("react.portal"),C=U("react.fragment"),P=U("react.strict_mode"),N=U("react.profiler"),x=U("react.provider"),O=U("react.context"),_=U("react.forward_ref"),T=U("react.suspense"),R=U("react.suspense_list"),A=U("react.memo"),D=U("react.lazy"),L=U("react.block"),U("react.scope"),j=U("react.opaque.id"),M=U("react.debug_trace_mode"),I=U("react.offscreen"),K=U("react.legacy_hidden")}var H,F="function"==typeof Symbol&&Symbol.iterator;function W(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=F&&e[F]||e["@@iterator"])?e:null}function B(e){if(void 0===H)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);H=t&&t[1]||""}return"\n"+H+e}var z=!1;function J(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var a=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){a=e}e.call(t.prototype)}else{try{throw Error()}catch(e){a=e}e()}}catch(e){if(e&&a&&"string"==typeof e.stack){for(var r=e.stack.split("\n"),o=a.stack.split("\n"),i=r.length-1,s=o.length-1;1<=i&&0<=s&&r[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(r[i]!==o[s]){if(1!==i||1!==s)do{if(i--,0>--s||r[i]!==o[s])return"\n"+r[i].replace(" at new "," at ")}while(1<=i&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function V(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return J(e.type,!1);case 11:return J(e.type.render,!1);case 22:return J(e.type._render,!1);case 1:return J(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case C:return"Fragment";case k:return"Portal";case N:return"Profiler";case P:return"StrictMode";case T:return"Suspense";case R:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case A:return q(e.type);case L:return q(e._render);case D:t=e._payload,e=e._init;try{return q(e(t))}catch(e){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){a=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=G(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function Y(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=$(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?re(e,t.type,n):t.hasOwnProperty("defaultValue")&&re(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ae(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function re(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return a.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ie(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function ce(e,t){var n=$(t.value),a=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,he,ye=(he=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction((function(){return he(e,t)}))}:he);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Se(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),r=we(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,r):e[n]=r}}Object.keys(be).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Ee=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Pe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,xe=null,Oe=null;function _e(e){if(e=Za(e)){if("function"!=typeof Ne)throw Error(i(280));var t=e.stateNode;t&&(t=tr(t),Ne(e.stateNode,e.type,t))}}function Te(e){xe?Oe?Oe.push(e):Oe=[e]:xe=e}function Re(){if(xe){var e=xe,t=Oe;if(Oe=xe=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ae(e,t){return e(t)}function De(e,t,n,a,r){return e(t,n,a,r)}function Le(){}var je=Ae,Me=!1,Ie=!1;function Ke(){null===xe&&null===Oe||(Le(),Re())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var a=tr(n);if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var He=!1;if(f)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){He=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(he){He=!1}function We(e,t,n,a,r,o,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Be=!1,ze=null,Je=!1,Ve=null,qe={onError:function(e){Be=!0,ze=e}};function $e(e,t,n,a,r,o,i,s,l){Be=!1,ze=null,We.apply(qe,arguments)}function Ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Xe(e){if(Ge(e)!==e)throw Error(i(188))}function Ye(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ge(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(a=r.return)){n=a;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return Xe(r),e;if(o===a)return Xe(r),t;o=o.sibling}throw Error(i(188))}if(n.return!==a.return)n=r,a=o;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,a=o;break}if(l===a){s=!0,a=r,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,a=r;break}if(l===a){s=!0,a=o,n=r;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==a)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,at,rt=!1,ot=[],it=null,st=null,lt=null,ct=new Map,ut=new Map,ft=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,a,r){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:r,targetContainers:[a]}}function mt(e,t){switch(e){case"focusin":case"focusout":it=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(t.pointerId)}}function ht(e,t,n,a,r,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,a,r,o),null!==t&&null!==(t=Za(t))&&tt(t),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function yt(e){var t=Ya(e.target);if(null!==t){var n=Ge(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Qe(n)))return e.blockedOn=t,void at(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Za(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){gt(e)&&n.delete(t)}function vt(){for(rt=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=Za(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==it&&gt(it)&&(it=null),null!==st&&gt(st)&&(st=null),null!==lt&&gt(lt)&&(lt=null),ct.forEach(bt),ut.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,rt||(rt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,vt)))}function St(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var a=ot[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==it&&wt(it,e),null!==st&&wt(st,e),null!==lt&&wt(lt,e),ct.forEach(t),ut.forEach(t),n=0;n<ft.length;n++)(a=ft[n]).blockedOn===e&&(a.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)yt(n),null===n.blockedOn&&ft.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kt={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},Ct={},Pt={};function Nt(e){if(Ct[e])return Ct[e];if(!kt[e])return e;var t,n=kt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Pt)return Ct[e]=n[t];return e}f&&(Pt=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);var xt=Nt("animationend"),Ot=Nt("animationiteration"),_t=Nt("animationstart"),Tt=Nt("transitionend"),Rt=new Map,At=new Map,Dt=["abort","abort",xt,"animationEnd",Ot,"animationIteration",_t,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Tt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var a=e[n],r=e[n+1];r="on"+(r[0].toUpperCase()+r.slice(1)),At.set(a,t),Rt.set(a,r),c(r,[a])}}(0,o.unstable_now)();var jt=8;function Mt(e){if(0!=(1&e))return jt=15,1;if(0!=(2&e))return jt=14,2;if(0!=(4&e))return jt=13,4;var t=24&e;return 0!==t?(jt=12,t):0!=(32&e)?(jt=11,32):0!=(t=192&e)?(jt=10,t):0!=(256&e)?(jt=9,256):0!=(t=3584&e)?(jt=8,t):0!=(4096&e)?(jt=7,4096):0!=(t=4186112&e)?(jt=6,t):0!=(t=62914560&e)?(jt=5,t):67108864&e?(jt=4,67108864):0!=(134217728&e)?(jt=3,134217728):0!=(t=805306368&e)?(jt=2,t):0!=(1073741824&e)?(jt=1,1073741824):(jt=8,e)}function It(e,t){var n=e.pendingLanes;if(0===n)return jt=0;var a=0,r=0,o=e.expiredLanes,i=e.suspendedLanes,s=e.pingedLanes;if(0!==o)a=o,r=jt=15;else if(0!=(o=134217727&n)){var l=o&~i;0!==l?(a=Mt(l),r=jt):0!=(s&=o)&&(a=Mt(s),r=jt)}else 0!=(o=n&~i)?(a=Mt(o),r=jt):0!==s&&(a=Mt(s),r=jt);if(0===a)return 0;if(a=n&((0>(a=31-Bt(a))?0:1<<a)<<1)-1,0!==t&&t!==a&&0==(t&i)){if(Mt(t),r<=jt)return t;jt=r}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)r=1<<(n=31-Bt(t)),a|=e[n],t&=~r;return a}function Kt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ht(24&~t))?Ut(10,t):e;case 10:return 0===(e=Ht(192&~t))?Ut(8,t):e;case 8:return 0===(e=Ht(3584&~t))&&0===(e=Ht(4186112&~t))&&(e=512),e;case 2:return 0===(t=Ht(805306368&~t))&&(t=268435456),t}throw Error(i(358,e))}function Ht(e){return e&-e}function Ft(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wt(e,t,n){e.pendingLanes|=t;var a=t-1;e.suspendedLanes&=a,e.pingedLanes&=a,(e=e.eventTimes)[t=31-Bt(t)]=n}var Bt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(zt(e)/Jt|0)|0},zt=Math.log,Jt=Math.LN2,Vt=o.unstable_UserBlockingPriority,qt=o.unstable_runWithPriority,$t=!0;function Gt(e,t,n,a){Me||Le();var r=Xt,o=Me;Me=!0;try{De(r,e,t,n,a)}finally{(Me=o)||Ke()}}function Qt(e,t,n,a){qt(Vt,Xt.bind(null,e,t,n,a))}function Xt(e,t,n,a){var r;if($t)if((r=0==(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,a),ot.push(e);else{var o=Yt(e,t,n,a);if(null===o)r&&mt(e,a);else{if(r){if(-1<dt.indexOf(e))return e=pt(o,e,t,n,a),void ot.push(e);if(function(e,t,n,a,r){switch(t){case"focusin":return it=ht(it,e,t,n,a,r),!0;case"dragenter":return st=ht(st,e,t,n,a,r),!0;case"mouseover":return lt=ht(lt,e,t,n,a,r),!0;case"pointerover":var o=r.pointerId;return ct.set(o,ht(ct.get(o)||null,e,t,n,a,r)),!0;case"gotpointercapture":return o=r.pointerId,ut.set(o,ht(ut.get(o)||null,e,t,n,a,r)),!0}return!1}(o,e,t,n,a))return;mt(e,a)}Ra(e,t,a,null,n)}}}function Yt(e,t,n,a){var r=Pe(a);if(null!==(r=Ya(r))){var o=Ge(r);if(null===o)r=null;else{var i=o.tag;if(13===i){if(null!==(r=Qe(o)))return r;r=null}else if(3===i){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Ra(e,t,a,r,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,a=n.length,r="value"in Zt?Zt.value:Zt.textContent,o=r.length;for(e=0;e<a&&n[e]===r[e];e++);var i=a-e;for(t=1;t<=i&&n[a-t]===r[o-t];t++);return tn=r.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function on(){return!1}function sn(e){function t(t,n,a,r,o){for(var i in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?rn:on,this.isPropagationStopped=on,this}return r(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var ln,cn,un,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(fn),pn=r({},fn,{view:0,detail:0}),mn=sn(pn),hn=r({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(ln=e.screenX-un.screenX,cn=e.screenY-un.screenY):cn=ln=0,un=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),yn=sn(hn),gn=sn(r({},hn,{dataTransfer:0})),bn=sn(r({},pn,{relatedTarget:0})),vn=sn(r({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=sn(r({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),Sn=sn(r({},fn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Nn(){return Pn}var xn=sn(r({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),On=sn(r({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=sn(r({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),Tn=sn(r({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=sn(r({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),An=[9,13,27,32],Dn=f&&"CompositionEvent"in window,Ln=null;f&&"documentMode"in document&&(Ln=document.documentMode);var jn=f&&"TextEvent"in window&&!Ln,Mn=f&&(!Dn||Ln&&8<Ln&&11>=Ln),In=String.fromCharCode(32),Kn=!1;function Un(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Fn=!1,Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function zn(e,t,n,a){Te(a),0<(t=Da(t,"onChange")).length&&(n=new dn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Jn=null,Vn=null;function qn(e){Pa(e,0)}function $n(e){if(X(er(e)))return e}function Gn(e,t){if("change"===e)return t}var Qn=!1;if(f){var Xn;if(f){var Yn="oninput"in document;if(!Yn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Yn="function"==typeof Zn.oninput}Xn=Yn}else Xn=!1;Qn=Xn&&(!document.documentMode||9<document.documentMode)}function ea(){Jn&&(Jn.detachEvent("onpropertychange",ta),Vn=Jn=null)}function ta(e){if("value"===e.propertyName&&$n(Vn)){var t=[];if(zn(t,Vn,e,Pe(e)),e=qn,Me)e(t);else{Me=!0;try{Ae(e,t)}finally{Me=!1,Ke()}}}}function na(e,t,n){"focusin"===e?(ea(),Vn=n,(Jn=t).attachEvent("onpropertychange",ta)):"focusout"===e&&ea()}function aa(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Vn)}function ra(e,t){if("click"===e)return $n(t)}function oa(e,t){if("input"===e||"change"===e)return $n(t)}var ia="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},sa=Object.prototype.hasOwnProperty;function la(e,t){if(ia(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++)if(!sa.call(t,n[a])||!ia(e[n[a]],t[n[a]]))return!1;return!0}function ca(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ua(e,t){var n,a=ca(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ca(a)}}function fa(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fa(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function da(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ma=f&&"documentMode"in document&&11>=document.documentMode,ha=null,ya=null,ga=null,ba=!1;function va(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ba||null==ha||ha!==Y(a)||(a="selectionStart"in(a=ha)&&pa(a)?{start:a.selectionStart,end:a.selectionEnd}:{anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},ga&&la(ga,a)||(ga=a,0<(a=Da(ya,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=ha)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var wa="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sa=0;Sa<wa.length;Sa++)At.set(wa[Sa],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ka=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ea));function Ca(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,a,r,o,s,l,c){if($e.apply(this,arguments),Be){if(!Be)throw Error(i(198));var u=ze;Be=!1,ze=null,Je||(Je=!0,Ve=u)}}(a,t,void 0,e),e.currentTarget=null}function Pa(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var o=void 0;if(t)for(var i=a.length-1;0<=i;i--){var s=a[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&r.isPropagationStopped())break e;Ca(r,s,c),o=l}else for(i=0;i<a.length;i++){if(l=(s=a[i]).instance,c=s.currentTarget,s=s.listener,l!==o&&r.isPropagationStopped())break e;Ca(r,s,c),o=l}}}if(Je)throw e=Ve,Je=!1,Ve=null,e}function Na(e,t){var n=nr(t),a=e+"__bubble";n.has(a)||(Ta(t,e,2,!1),n.add(a))}var xa="_reactListening"+Math.random().toString(36).slice(2);function Oa(e){e[xa]||(e[xa]=!0,s.forEach((function(t){ka.has(t)||_a(t,!1,e,null),_a(t,!0,e,null)})))}function _a(e,t,n,a){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==a&&!t&&ka.has(e)){if("scroll"!==e)return;r|=2,o=a}var i=nr(o),s=e+"__"+(t?"capture":"bubble");i.has(s)||(t&&(r|=4),Ta(o,e,r,t),i.add(s))}function Ta(e,t,n,a){var r=At.get(t);switch(void 0===r?2:r){case 0:r=Gt;break;case 1:r=Qt;break;default:r=Xt}n=r.bind(null,t,n,e),r=void 0,!He||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Ra(e,t,n,a,r){var o=a;if(0==(1&t)&&0==(2&t)&&null!==a)e:for(;;){if(null===a)return;var i=a.tag;if(3===i||4===i){var s=a.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===i)for(i=a.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;i=i.return}for(;null!==s;){if(null===(i=Ya(s)))return;if(5===(l=i.tag)||6===l){a=o=i;continue e}s=s.parentNode}}a=a.return}!function(e,t,n){if(Ie)return e();Ie=!0;try{je(e,t,n)}finally{Ie=!1,Ke()}}((function(){var a=o,r=Pe(n),i=[];e:{var s=Rt.get(e);if(void 0!==s){var l=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":l=xn;break;case"focusin":c="focus",l=bn;break;case"focusout":c="blur",l=bn;break;case"beforeblur":case"afterblur":l=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=_n;break;case xt:case Ot:case _t:l=vn;break;case Tt:l=Tn;break;case"scroll":l=mn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var u=0!=(4&t),f=!u&&"scroll"===e,d=u?null!==s?s+"Capture":null:s;u=[];for(var p,m=a;null!==m;){var h=(p=m).stateNode;if(5===p.tag&&null!==h&&(p=h,null!==d&&null!=(h=Ue(m,d))&&u.push(Aa(m,h,p))),f)break;m=m.return}0<u.length&&(s=new l(s,c,null,n,r),i.push({event:s,listeners:u}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!Ya(c)&&!c[Qa])&&(l||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=a,null!==(c=(c=n.relatedTarget||n.toElement)?Ya(c):null)&&(c!==(f=Ge(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=a),l!==c)){if(u=yn,h="onMouseLeave",d="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=On,h="onPointerLeave",d="onPointerEnter",m="pointer"),f=null==l?s:er(l),p=null==c?s:er(c),(s=new u(h,m+"leave",l,n,r)).target=f,s.relatedTarget=p,h=null,Ya(r)===a&&((u=new u(d,m+"enter",c,n,r)).target=p,u.relatedTarget=f,h=u),f=h,l&&c)e:{for(d=c,m=0,p=u=l;p;p=La(p))m++;for(p=0,h=d;h;h=La(h))p++;for(;0<m-p;)u=La(u),m--;for(;0<p-m;)d=La(d),p--;for(;m--;){if(u===d||null!==d&&u===d.alternate)break e;u=La(u),d=La(d)}u=null}else u=null;null!==l&&ja(i,s,l,u,!1),null!==c&&null!==f&&ja(i,f,c,u,!0)}if("select"===(l=(s=a?er(a):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var y=Gn;else if(Bn(s))if(Qn)y=oa;else{y=aa;var g=na}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=ra);switch(y&&(y=y(e,a))?zn(i,y,n,r):(g&&g(e,s,a),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&re(s,"number",s.value)),g=a?er(a):window,e){case"focusin":(Bn(g)||"true"===g.contentEditable)&&(ha=g,ya=a,ga=null);break;case"focusout":ga=ya=ha=null;break;case"mousedown":ba=!0;break;case"contextmenu":case"mouseup":case"dragend":ba=!1,va(i,n,r);break;case"selectionchange":if(ma)break;case"keydown":case"keyup":va(i,n,r)}var b;if(Dn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Fn?Un(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Mn&&"ko"!==n.locale&&(Fn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Fn&&(b=nn()):(en="value"in(Zt=r)?Zt.value:Zt.textContent,Fn=!0)),0<(g=Da(a,v)).length&&(v=new Sn(v,e,null,n,r),i.push({event:v,listeners:g}),(b||null!==(b=Hn(n)))&&(v.data=b))),(b=jn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Kn=!0,In);case"textInput":return(e=t.data)===In&&Kn?null:e;default:return null}}(e,n):function(e,t){if(Fn)return"compositionend"===e||!Dn&&Un(e,t)?(e=nn(),tn=en=Zt=null,Fn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&0<(a=Da(a,"onBeforeInput")).length&&(r=new Sn("onBeforeInput","beforeinput",null,n,r),i.push({event:r,listeners:a}),r.data=b)}Pa(i,t)}))}function Aa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Da(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=Ue(e,n))&&a.unshift(Aa(e,o,r)),null!=(o=Ue(e,t))&&a.push(Aa(e,o,r))),e=e.return}return a}function La(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ja(e,t,n,a,r){for(var o=t._reactName,i=[];null!==n&&n!==a;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===a)break;5===s.tag&&null!==c&&(s=c,r?null!=(l=Ue(n,o))&&i.unshift(Aa(n,l,s)):r||null!=(l=Ue(n,o))&&i.push(Aa(n,l,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}function Ma(){}var Ia=null,Ka=null;function Ua(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ha(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Fa="function"==typeof setTimeout?setTimeout:void 0,Wa="function"==typeof clearTimeout?clearTimeout:void 0;function Ba(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function za(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Ja(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Va=0,qa=Math.random().toString(36).slice(2),$a="__reactFiber$"+qa,Ga="__reactProps$"+qa,Qa="__reactContainer$"+qa,Xa="__reactEvents$"+qa;function Ya(e){var t=e[$a];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qa]||n[$a]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ja(e);null!==e;){if(n=e[$a])return n;e=Ja(e)}return t}n=(e=n).parentNode}return null}function Za(e){return!(e=e[$a]||e[Qa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function er(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function tr(e){return e[Ga]||null}function nr(e){var t=e[Xa];return void 0===t&&(t=e[Xa]=new Set),t}var ar=[],rr=-1;function or(e){return{current:e}}function ir(e){0>rr||(e.current=ar[rr],ar[rr]=null,rr--)}function sr(e,t){rr++,ar[rr]=e.current,e.current=t}var lr={},cr=or(lr),ur=or(!1),fr=lr;function dr(e,t){var n=e.type.contextTypes;if(!n)return lr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function pr(e){return null!=e.childContextTypes}function mr(){ir(ur),ir(cr)}function hr(e,t,n){if(cr.current!==lr)throw Error(i(168));sr(cr,t),sr(ur,n)}function yr(e,t,n){var a=e.stateNode;if(e=t.childContextTypes,"function"!=typeof a.getChildContext)return n;for(var o in a=a.getChildContext())if(!(o in e))throw Error(i(108,q(t)||"Unknown",o));return r({},n,a)}function gr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lr,fr=cr.current,sr(cr,e),sr(ur,ur.current),!0}function br(e,t,n){var a=e.stateNode;if(!a)throw Error(i(169));n?(e=yr(e,t,fr),a.__reactInternalMemoizedMergedChildContext=e,ir(ur),ir(cr),sr(cr,e)):ir(ur),sr(ur,n)}var vr=null,wr=null,Sr=o.unstable_runWithPriority,Er=o.unstable_scheduleCallback,kr=o.unstable_cancelCallback,Cr=o.unstable_shouldYield,Pr=o.unstable_requestPaint,Nr=o.unstable_now,xr=o.unstable_getCurrentPriorityLevel,Or=o.unstable_ImmediatePriority,_r=o.unstable_UserBlockingPriority,Tr=o.unstable_NormalPriority,Rr=o.unstable_LowPriority,Ar=o.unstable_IdlePriority,Dr={},Lr=void 0!==Pr?Pr:function(){},jr=null,Mr=null,Ir=!1,Kr=Nr(),Ur=1e4>Kr?Nr:function(){return Nr()-Kr};function Hr(){switch(xr()){case Or:return 99;case _r:return 98;case Tr:return 97;case Rr:return 96;case Ar:return 95;default:throw Error(i(332))}}function Fr(e){switch(e){case 99:return Or;case 98:return _r;case 97:return Tr;case 96:return Rr;case 95:return Ar;default:throw Error(i(332))}}function Wr(e,t){return e=Fr(e),Sr(e,t)}function Br(e,t,n){return e=Fr(e),Er(e,t,n)}function zr(){if(null!==Mr){var e=Mr;Mr=null,kr(e)}Jr()}function Jr(){if(!Ir&&null!==jr){Ir=!0;var e=0;try{var t=jr;Wr(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),jr=null}catch(t){throw null!==jr&&(jr=jr.slice(e+1)),Er(Or,zr),t}finally{Ir=!1}}}var Vr=S.ReactCurrentBatchConfig;function qr(e,t){if(e&&e.defaultProps){for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $r=or(null),Gr=null,Qr=null,Xr=null;function Yr(){Xr=Qr=Gr=null}function Zr(e){var t=$r.current;ir($r),e.type._context._currentValue=t}function eo(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function to(e,t){Gr=e,Xr=Qr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Di=!0),e.firstContext=null)}function no(e,t){if(Xr!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Xr=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Qr){if(null===Gr)throw Error(i(308));Qr=t,Gr.dependencies={lanes:0,firstContext:t,responders:null}}else Qr=Qr.next=t;return e._currentValue}var ao=!1;function ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function io(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function so(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function lo(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function co(e,t,n,a){var o=e.updateQueue;ao=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var c=l,u=c.next;c.next=null,null===s?i=u:s.next=u,s=c;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==s&&(null===d?f.firstBaseUpdate=u:d.next=u,f.lastBaseUpdate=c)}}if(null!==i){for(d=o.baseState,s=0,f=u=c=null;;){l=i.lane;var p=i.eventTime;if((a&l)===l){null!==f&&(f=f.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var m=e,h=i;switch(l=t,p=n,h.tag){case 1:if("function"==typeof(m=h.payload)){d=m.call(p,d,l);break e}d=m;break e;case 3:m.flags=-4097&m.flags|64;case 0:if(null==(l="function"==typeof(m=h.payload)?m.call(p,d,l):m))break e;d=r({},d,l);break e;case 2:ao=!0}}null!==i.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[i]:l.push(i))}else p={eventTime:p,lane:l,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===f?(u=f=p,c=d):f=f.next=p,s|=l;if(null===(i=i.next)){if(null===(l=o.shared.pending))break;i=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===f&&(c=d),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=f,js|=s,e.lanes=s,e.memoizedState=d}}function uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],r=a.callback;if(null!==r){if(a.callback=null,a=n,"function"!=typeof r)throw Error(i(191,r));r.call(a)}}}var fo=(new a.Component).refs;function po(e,t,n,a){n=null==(n=n(a,t=e.memoizedState))?t:r({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var mo={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=il(),r=sl(e),o=io(a,r);o.payload=t,null!=n&&(o.callback=n),so(e,o),ll(e,r,a)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=il(),r=sl(e),o=io(a,r);o.tag=1,o.payload=t,null!=n&&(o.callback=n),so(e,o),ll(e,r,a)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=il(),a=sl(e),r=io(n,a);r.tag=2,null!=t&&(r.callback=t),so(e,r),ll(e,a,n)}};function ho(e,t,n,a,r,o,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,o,i):!(t.prototype&&t.prototype.isPureReactComponent&&la(n,a)&&la(r,o))}function yo(e,t,n){var a=!1,r=lr,o=t.contextType;return"object"==typeof o&&null!==o?o=no(o):(r=pr(t)?fr:cr.current,o=(a=null!=(a=t.contextTypes))?dr(e,r):lr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function go(e,t,n,a){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function bo(e,t,n,a){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=fo,ro(e);var o=t.contextType;"object"==typeof o&&null!==o?r.context=no(o):(o=pr(t)?fr:cr.current,r.context=dr(e,o)),co(e,n,r,a),r.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(po(e,t,o,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&mo.enqueueReplaceState(r,r.state,null),co(e,n,r,a),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.flags|=4)}var vo=Array.isArray;function wo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var a=n.stateNode}if(!a)throw Error(i(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===r?t.ref:((t=function(e){var t=a.refs;t===fo&&(t=a.refs={}),null===e?delete t[r]:t[r]=e})._stringRef=r,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function So(e,t){if("textarea"!==e.type)throw Error(i(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Eo(e){function t(t,n){if(e){var a=t.lastEffect;null!==a?(a.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Hl(e,t)).index=0,e.sibling=null,e}function o(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags=2,n):a:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,a){return null===t||6!==t.tag?((t=zl(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,a){return null!==t&&t.elementType===n.type?((a=r(t,n.props)).ref=wo(e,t,n),a.return=e,a):((a=Fl(n.type,n.key,n.props,null,e.mode,a)).ref=wo(e,t,n),a.return=e,a)}function u(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Jl(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function f(e,t,n,a,o){return null===t||7!==t.tag?((t=Wl(n,e.mode,a,o)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=zl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Fl(t.type,t.key,t.props,null,e.mode,n)).ref=wo(e,null,t),n.return=e,n;case k:return(t=Jl(t,e.mode,n)).return=e,t}if(vo(t)||W(t))return(t=Wl(t,e.mode,n,null)).return=e,t;So(e,t)}return null}function p(e,t,n,a){var r=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==r?null:l(e,t,""+n,a);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===r?n.type===C?f(e,t,n.props.children,a,r):c(e,t,n,a):null;case k:return n.key===r?u(e,t,n,a):null}if(vo(n)||W(n))return null!==r?null:f(e,t,n,a,null);So(e,n)}return null}function m(e,t,n,a,r){if("string"==typeof a||"number"==typeof a)return l(t,e=e.get(n)||null,""+a,r);if("object"==typeof a&&null!==a){switch(a.$$typeof){case E:return e=e.get(null===a.key?n:a.key)||null,a.type===C?f(t,e,a.props.children,r,a.key):c(t,e,a,r);case k:return u(t,e=e.get(null===a.key?n:a.key)||null,a,r)}if(vo(a)||W(a))return f(t,e=e.get(n)||null,a,r,null);So(t,a)}return null}function h(r,i,s,l){for(var c=null,u=null,f=i,h=i=0,y=null;null!==f&&h<s.length;h++){f.index>h?(y=f,f=null):y=f.sibling;var g=p(r,f,s[h],l);if(null===g){null===f&&(f=y);break}e&&f&&null===g.alternate&&t(r,f),i=o(g,i,h),null===u?c=g:u.sibling=g,u=g,f=y}if(h===s.length)return n(r,f),c;if(null===f){for(;h<s.length;h++)null!==(f=d(r,s[h],l))&&(i=o(f,i,h),null===u?c=f:u.sibling=f,u=f);return c}for(f=a(r,f);h<s.length;h++)null!==(y=m(f,r,h,s[h],l))&&(e&&null!==y.alternate&&f.delete(null===y.key?h:y.key),i=o(y,i,h),null===u?c=y:u.sibling=y,u=y);return e&&f.forEach((function(e){return t(r,e)})),c}function y(r,s,l,c){var u=W(l);if("function"!=typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var f=u=null,h=s,y=s=0,g=null,b=l.next();null!==h&&!b.done;y++,b=l.next()){h.index>y?(g=h,h=null):g=h.sibling;var v=p(r,h,b.value,c);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(r,h),s=o(v,s,y),null===f?u=v:f.sibling=v,f=v,h=g}if(b.done)return n(r,h),u;if(null===h){for(;!b.done;y++,b=l.next())null!==(b=d(r,b.value,c))&&(s=o(b,s,y),null===f?u=b:f.sibling=b,f=b);return u}for(h=a(r,h);!b.done;y++,b=l.next())null!==(b=m(h,r,y,b.value,c))&&(e&&null!==b.alternate&&h.delete(null===b.key?y:b.key),s=o(b,s,y),null===f?u=b:f.sibling=b,f=b);return e&&h.forEach((function(e){return t(r,e)})),u}return function(e,a,o,l){var c="object"==typeof o&&null!==o&&o.type===C&&null===o.key;c&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case E:e:{for(u=o.key,c=a;null!==c;){if(c.key===u){switch(c.tag){case 7:if(o.type===C){n(e,c.sibling),(a=r(c,o.props.children)).return=e,e=a;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(a=r(c,o.props)).ref=wo(e,c,o),a.return=e,e=a;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===C?((a=Wl(o.props.children,e.mode,l,o.key)).return=e,e=a):((l=Fl(o.type,o.key,o.props,null,e.mode,l)).ref=wo(e,a,o),l.return=e,e=l)}return s(e);case k:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(e,a.sibling),(a=r(a,o.children||[])).return=e,e=a;break e}n(e,a);break}t(e,a),a=a.sibling}(a=Jl(o,e.mode,l)).return=e,e=a}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==a&&6===a.tag?(n(e,a.sibling),(a=r(a,o)).return=e,e=a):(n(e,a),(a=zl(o,e.mode,l)).return=e,e=a),s(e);if(vo(o))return h(e,a,o,l);if(W(o))return y(e,a,o,l);if(u&&So(e,o),void 0===o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(i(152,q(e.type)||"Component"))}return n(e,a)}}var ko=Eo(!0),Co=Eo(!1),Po={},No=or(Po),xo=or(Po),Oo=or(Po);function _o(e){if(e===Po)throw Error(i(174));return e}function To(e,t){switch(sr(Oo,t),sr(xo,e),sr(No,Po),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ir(No),sr(No,t)}function Ro(){ir(No),ir(xo),ir(Oo)}function Ao(e){_o(Oo.current);var t=_o(No.current),n=pe(t,e.type);t!==n&&(sr(xo,e),sr(No,n))}function Do(e){xo.current===e&&(ir(No),ir(xo))}var Lo=or(0);function jo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mo=null,Io=null,Ko=!1;function Uo(e,t){var n=Kl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ho(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Fo(e){if(Ko){var t=Io;if(t){var n=t;if(!Ho(e,t)){if(!(t=za(n.nextSibling))||!Ho(e,t))return e.flags=-1025&e.flags|2,Ko=!1,void(Mo=e);Uo(Mo,n)}Mo=e,Io=za(t.firstChild)}else e.flags=-1025&e.flags|2,Ko=!1,Mo=e}}function Wo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Mo=e}function Bo(e){if(e!==Mo)return!1;if(!Ko)return Wo(e),Ko=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ha(t,e.memoizedProps))for(t=Io;t;)Uo(e,t),t=za(t.nextSibling);if(Wo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Io=za(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Io=null}}else Io=Mo?za(e.stateNode.nextSibling):null;return!0}function zo(){Io=Mo=null,Ko=!1}var Jo=[];function Vo(){for(var e=0;e<Jo.length;e++)Jo[e]._workInProgressVersionPrimary=null;Jo.length=0}var qo=S.ReactCurrentDispatcher,$o=S.ReactCurrentBatchConfig,Go=0,Qo=null,Xo=null,Yo=null,Zo=!1,ei=!1;function ti(){throw Error(i(321))}function ni(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ia(e[n],t[n]))return!1;return!0}function ai(e,t,n,a,r,o){if(Go=o,Qo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qo.current=null===e||null===e.memoizedState?_i:Ti,e=n(a,r),ei){o=0;do{if(ei=!1,!(25>o))throw Error(i(301));o+=1,Yo=Xo=null,t.updateQueue=null,qo.current=Ri,e=n(a,r)}while(ei)}if(qo.current=Oi,t=null!==Xo&&null!==Xo.next,Go=0,Yo=Xo=Qo=null,Zo=!1,t)throw Error(i(300));return e}function ri(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Yo?Qo.memoizedState=Yo=e:Yo=Yo.next=e,Yo}function oi(){if(null===Xo){var e=Qo.alternate;e=null!==e?e.memoizedState:null}else e=Xo.next;var t=null===Yo?Qo.memoizedState:Yo.next;if(null!==t)Yo=t,Xo=e;else{if(null===e)throw Error(i(310));e={memoizedState:(Xo=e).memoizedState,baseState:Xo.baseState,baseQueue:Xo.baseQueue,queue:Xo.queue,next:null},null===Yo?Qo.memoizedState=Yo=e:Yo=Yo.next=e}return Yo}function ii(e,t){return"function"==typeof t?t(e):t}function si(e){var t=oi(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var a=Xo,r=a.baseQueue,o=n.pending;if(null!==o){if(null!==r){var s=r.next;r.next=o.next,o.next=s}a.baseQueue=r=o,n.pending=null}if(null!==r){r=r.next,a=a.baseState;var l=s=o=null,c=r;do{var u=c.lane;if((Go&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),a=c.eagerReducer===e?c.eagerState:e(a,c.action);else{var f={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=f,o=a):l=l.next=f,Qo.lanes|=u,js|=u}c=c.next}while(null!==c&&c!==r);null===l?o=a:l.next=s,ia(a,t.memoizedState)||(Di=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=l,n.lastRenderedState=a}return[t.memoizedState,n.dispatch]}function li(e){var t=oi(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{o=e(o,s.action),s=s.next}while(s!==r);ia(o,t.memoizedState)||(Di=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,a]}function ci(e,t,n){var a=t._getVersion;a=a(t._source);var r=t._workInProgressVersionPrimary;if(null!==r?e=r===a:(e=e.mutableReadLanes,(e=(Go&e)===e)&&(t._workInProgressVersionPrimary=a,Jo.push(t))),e)return n(t._source);throw Jo.push(t),Error(i(350))}function ui(e,t,n,a){var r=xs;if(null===r)throw Error(i(349));var o=t._getVersion,s=o(t._source),l=qo.current,c=l.useState((function(){return ci(r,t,n)})),u=c[1],f=c[0];c=Yo;var d=e.memoizedState,p=d.refs,m=p.getSnapshot,h=d.source;d=d.subscribe;var y=Qo;return e.memoizedState={refs:p,source:t,subscribe:a},l.useEffect((function(){p.getSnapshot=n,p.setSnapshot=u;var e=o(t._source);if(!ia(s,e)){e=n(t._source),ia(f,e)||(u(e),e=sl(y),r.mutableReadLanes|=e&r.pendingLanes),e=r.mutableReadLanes,r.entangledLanes|=e;for(var a=r.entanglements,i=e;0<i;){var l=31-Bt(i),c=1<<l;a[l]|=e,i&=~c}}}),[n,t,a]),l.useEffect((function(){return a(t._source,(function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var a=sl(y);r.mutableReadLanes|=a&r.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,a]),ia(m,n)&&ia(h,t)&&ia(d,a)||((e={pending:null,dispatch:null,lastRenderedReducer:ii,lastRenderedState:f}).dispatch=u=xi.bind(null,Qo,e),c.queue=e,c.baseQueue=null,f=ci(r,t,n),c.memoizedState=c.baseState=f),f}function fi(e,t,n){return ui(oi(),e,t,n)}function di(e){var t=ri();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ii,lastRenderedState:e}).dispatch=xi.bind(null,Qo,e),[t.memoizedState,e]}function pi(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=Qo.updateQueue)?(t={lastEffect:null},Qo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function mi(e){return e={current:e},ri().memoizedState=e}function hi(){return oi().memoizedState}function yi(e,t,n,a){var r=ri();Qo.flags|=e,r.memoizedState=pi(1|t,n,void 0,void 0===a?null:a)}function gi(e,t,n,a){var r=oi();a=void 0===a?null:a;var o=void 0;if(null!==Xo){var i=Xo.memoizedState;if(o=i.destroy,null!==a&&ni(a,i.deps))return void pi(t,n,o,a)}Qo.flags|=e,r.memoizedState=pi(1|t,n,o,a)}function bi(e,t){return yi(516,4,e,t)}function vi(e,t){return gi(516,4,e,t)}function wi(e,t){return gi(4,2,e,t)}function Si(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ei(e,t,n){return n=null!=n?n.concat([e]):null,gi(4,2,Si.bind(null,t,e),n)}function ki(){}function Ci(e,t){var n=oi();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&ni(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Pi(e,t){var n=oi();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&ni(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Ni(e,t){var n=Hr();Wr(98>n?98:n,(function(){e(!0)})),Wr(97<n?97:n,(function(){var n=$o.transition;$o.transition=1;try{e(!1),t()}finally{$o.transition=n}}))}function xi(e,t,n){var a=il(),r=sl(e),o={lane:r,action:n,eagerReducer:null,eagerState:null,next:null},i=t.pending;if(null===i?o.next=o:(o.next=i.next,i.next=o),t.pending=o,i=e.alternate,e===Qo||null!==i&&i===Qo)ei=Zo=!0;else{if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=i(s,n);if(o.eagerReducer=i,o.eagerState=l,ia(l,s))return}catch(e){}ll(e,r,a)}}var Oi={readContext:no,useCallback:ti,useContext:ti,useEffect:ti,useImperativeHandle:ti,useLayoutEffect:ti,useMemo:ti,useReducer:ti,useRef:ti,useState:ti,useDebugValue:ti,useDeferredValue:ti,useTransition:ti,useMutableSource:ti,useOpaqueIdentifier:ti,unstable_isNewReconciler:!1},_i={readContext:no,useCallback:function(e,t){return ri().memoizedState=[e,void 0===t?null:t],e},useContext:no,useEffect:bi,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,yi(4,2,Si.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yi(4,2,e,t)},useMemo:function(e,t){var n=ri();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=ri();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e=(e=a.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=xi.bind(null,Qo,e),[a.memoizedState,e]},useRef:mi,useState:di,useDebugValue:ki,useDeferredValue:function(e){var t=di(e),n=t[0],a=t[1];return bi((function(){var t=$o.transition;$o.transition=1;try{a(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=di(!1),t=e[0];return mi(e=Ni.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var a=ri();return a.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ui(a,e,t,n)},useOpaqueIdentifier:function(){if(Ko){var e=!1,t=function(e){return{$$typeof:j,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Va++).toString(36))),Error(i(355))})),n=di(t)[1];return 0==(2&Qo.mode)&&(Qo.flags|=516,pi(5,(function(){n("r:"+(Va++).toString(36))}),void 0,null)),t}return di(t="r:"+(Va++).toString(36)),t},unstable_isNewReconciler:!1},Ti={readContext:no,useCallback:Ci,useContext:no,useEffect:vi,useImperativeHandle:Ei,useLayoutEffect:wi,useMemo:Pi,useReducer:si,useRef:hi,useState:function(){return si(ii)},useDebugValue:ki,useDeferredValue:function(e){var t=si(ii),n=t[0],a=t[1];return vi((function(){var t=$o.transition;$o.transition=1;try{a(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=si(ii)[0];return[hi().current,e]},useMutableSource:fi,useOpaqueIdentifier:function(){return si(ii)[0]},unstable_isNewReconciler:!1},Ri={readContext:no,useCallback:Ci,useContext:no,useEffect:vi,useImperativeHandle:Ei,useLayoutEffect:wi,useMemo:Pi,useReducer:li,useRef:hi,useState:function(){return li(ii)},useDebugValue:ki,useDeferredValue:function(e){var t=li(ii),n=t[0],a=t[1];return vi((function(){var t=$o.transition;$o.transition=1;try{a(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=li(ii)[0];return[hi().current,e]},useMutableSource:fi,useOpaqueIdentifier:function(){return li(ii)[0]},unstable_isNewReconciler:!1},Ai=S.ReactCurrentOwner,Di=!1;function Li(e,t,n,a){t.child=null===e?Co(t,null,n,a):ko(t,e.child,n,a)}function ji(e,t,n,a,r){n=n.render;var o=t.ref;return to(t,r),a=ai(e,t,n,a,o,r),null===e||Di?(t.flags|=1,Li(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~r,Zi(e,t,r))}function Mi(e,t,n,a,r,o){if(null===e){var i=n.type;return"function"!=typeof i||Ul(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fl(n.type,null,a,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ii(e,t,i,a,r,o))}return i=e.child,0==(r&o)&&(r=i.memoizedProps,(n=null!==(n=n.compare)?n:la)(r,a)&&e.ref===t.ref)?Zi(e,t,o):(t.flags|=1,(e=Hl(i,a)).ref=t.ref,e.return=t,t.child=e)}function Ii(e,t,n,a,r,o){if(null!==e&&la(e.memoizedProps,a)&&e.ref===t.ref){if(Di=!1,0==(o&r))return t.lanes=e.lanes,Zi(e,t,o);0!=(16384&e.flags)&&(Di=!0)}return Hi(e,t,n,a,o)}function Ki(e,t,n){var a=t.pendingProps,r=a.children,o=null!==e?e.memoizedState:null;if("hidden"===a.mode||"unstable-defer-without-hiding"===a.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},yl(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},yl(0,e),null;t.memoizedState={baseLanes:0},yl(0,null!==o?o.baseLanes:n)}else null!==o?(a=o.baseLanes|n,t.memoizedState=null):a=n,yl(0,a);return Li(e,t,r,n),t.child}function Ui(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Hi(e,t,n,a,r){var o=pr(n)?fr:cr.current;return o=dr(t,o),to(t,r),n=ai(e,t,n,a,o,r),null===e||Di?(t.flags|=1,Li(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~r,Zi(e,t,r))}function Fi(e,t,n,a,r){if(pr(n)){var o=!0;gr(t)}else o=!1;if(to(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),yo(t,n,a),bo(t,n,a,r),a=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=n.contextType;c="object"==typeof c&&null!==c?no(c):dr(t,c=pr(n)?fr:cr.current);var u=n.getDerivedStateFromProps,f="function"==typeof u||"function"==typeof i.getSnapshotBeforeUpdate;f||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==a||l!==c)&&go(t,i,a,c),ao=!1;var d=t.memoizedState;i.state=d,co(t,a,i,r),l=t.memoizedState,s!==a||d!==l||ur.current||ao?("function"==typeof u&&(po(t,n,u,a),l=t.memoizedState),(s=ao||ho(t,n,s,a,d,l,c))?(f||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4)):("function"==typeof i.componentDidMount&&(t.flags|=4),t.memoizedProps=a,t.memoizedState=l),i.props=a,i.state=l,i.context=c,a=s):("function"==typeof i.componentDidMount&&(t.flags|=4),a=!1)}else{i=t.stateNode,oo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:qr(t.type,s),i.props=c,f=t.pendingProps,d=i.context,l="object"==typeof(l=n.contextType)&&null!==l?no(l):dr(t,l=pr(n)?fr:cr.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==f||d!==l)&&go(t,i,a,l),ao=!1,d=t.memoizedState,i.state=d,co(t,a,i,r);var m=t.memoizedState;s!==f||d!==m||ur.current||ao?("function"==typeof p&&(po(t,n,p,a),m=t.memoizedState),(c=ao||ho(t,n,c,a,d,m,l))?(u||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(a,m,l),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(a,m,l)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=a,t.memoizedState=m),i.props=a,i.state=m,i.context=l,a=c):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),a=!1)}return Wi(e,t,n,a,o,r)}function Wi(e,t,n,a,r,o){Ui(e,t);var i=0!=(64&t.flags);if(!a&&!i)return r&&br(t,n,!1),Zi(e,t,o);a=t.stateNode,Ai.current=t;var s=i&&"function"!=typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&i?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,s,o)):Li(e,t,s,o),t.memoizedState=a.state,r&&br(t,n,!0),t.child}function Bi(e){var t=e.stateNode;t.pendingContext?hr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&hr(0,t.context,!1),To(e,t.containerInfo)}var zi,Ji,Vi,qi={dehydrated:null,retryLane:0};function $i(e,t,n){var a,r=t.pendingProps,o=Lo.current,i=!1;return(a=0!=(64&t.flags))||(a=(null===e||null!==e.memoizedState)&&0!=(2&o)),a?(i=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===r.fallback||!0===r.unstable_avoidThisFallback||(o|=1),sr(Lo,1&o),null===e?(void 0!==r.fallback&&Fo(t),e=r.children,o=r.fallback,i?(e=Gi(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=qi,e):"number"==typeof r.unstable_expectedLoadTime?(e=Gi(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=qi,t.lanes=33554432,e):((n=Bl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,i?(r=function(e,t,n,a,r){var o=t.mode,i=e.child;e=i.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==i?((n=t.child).childLanes=0,n.pendingProps=s,null!==(i=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=i,i.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hl(i,s),null!==e?a=Hl(e,a):(a=Wl(a,o,r,null)).flags|=2,a.return=t,n.return=t,n.sibling=a,t.child=n,a}(e,t,r.children,r.fallback,n),i=t.child,o=e.child.memoizedState,i.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},i.childLanes=e.childLanes&~n,t.memoizedState=qi,r):(n=function(e,t,n,a){var r=e.child;return e=r.sibling,n=Hl(r,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=a),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,r.children,n),t.memoizedState=null,n))}function Gi(e,t,n,a){var r=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&r)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Bl(t,r,0,null),n=Wl(n,r,a,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Qi(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),eo(e.return,t)}function Xi(e,t,n,a,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r,lastEffect:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=n,i.tailMode=r,i.lastEffect=o)}function Yi(e,t,n){var a=t.pendingProps,r=a.revealOrder,o=a.tail;if(Li(e,t,a.children,n),0!=(2&(a=Lo.current)))a=1&a|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qi(e,n);else if(19===e.tag)Qi(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(sr(Lo,a),0==(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===jo(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Xi(t,!1,r,n,o,t.lastEffect);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===jo(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Xi(t,!0,n,null,o,t.lastEffect);break;case"together":Xi(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Zi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),js|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Hl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function es(e,t){if(!Ko)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ts(e,t,n){var a=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return pr(t.type)&&mr(),null;case 3:return Ro(),ir(ur),ir(cr),Vo(),(a=t.stateNode).pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(Bo(t)?t.flags|=4:a.hydrate||(t.flags|=256)),null;case 5:Do(t);var o=_o(Oo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ji(e,t,n,a),e.ref!==t.ref&&(t.flags|=128);else{if(!a){if(null===t.stateNode)throw Error(i(166));return null}if(e=_o(No.current),Bo(t)){a=t.stateNode,n=t.type;var s=t.memoizedProps;switch(a[$a]=t,a[Ga]=s,n){case"dialog":Na("cancel",a),Na("close",a);break;case"iframe":case"object":case"embed":Na("load",a);break;case"video":case"audio":for(e=0;e<Ea.length;e++)Na(Ea[e],a);break;case"source":Na("error",a);break;case"img":case"image":case"link":Na("error",a),Na("load",a);break;case"details":Na("toggle",a);break;case"input":ee(a,s),Na("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!s.multiple},Na("invalid",a);break;case"textarea":le(a,s),Na("invalid",a)}for(var c in ke(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"==typeof o?a.textContent!==o&&(e=["children",o]):"number"==typeof o&&a.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Na("scroll",a));switch(n){case"input":Q(a),ae(a,s,!0);break;case"textarea":Q(a),ue(a);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(a.onclick=Ma)}a=e,t.updateQueue=a,null!==a&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof a.is?e=c.createElement(n,{is:a.is}):(e=c.createElement(n),"select"===n&&(c=e,a.multiple?c.multiple=!0:a.size&&(c.size=a.size))):e=c.createElementNS(e,n),e[$a]=t,e[Ga]=a,zi(e,t),t.stateNode=e,c=Ce(n,a),n){case"dialog":Na("cancel",e),Na("close",e),o=a;break;case"iframe":case"object":case"embed":Na("load",e),o=a;break;case"video":case"audio":for(o=0;o<Ea.length;o++)Na(Ea[o],e);o=a;break;case"source":Na("error",e),o=a;break;case"img":case"image":case"link":Na("error",e),Na("load",e),o=a;break;case"details":Na("toggle",e),o=a;break;case"input":ee(e,a),o=Z(e,a),Na("invalid",e);break;case"option":o=oe(e,a);break;case"select":e._wrapperState={wasMultiple:!!a.multiple},o=r({},a,{value:void 0}),Na("invalid",e);break;case"textarea":le(e,a),o=se(e,a),Na("invalid",e);break;default:o=a}ke(n,o);var u=o;for(s in u)if(u.hasOwnProperty(s)){var f=u[s];"style"===s?Se(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"==typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"==typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Na("scroll",e):null!=f&&w(e,s,f,c))}switch(n){case"input":Q(e),ae(e,a,!1);break;case"textarea":Q(e),ue(e);break;case"option":null!=a.value&&e.setAttribute("value",""+$(a.value));break;case"select":e.multiple=!!a.multiple,null!=(s=a.value)?ie(e,!!a.multiple,s,!1):null!=a.defaultValue&&ie(e,!!a.multiple,a.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Ma)}Ua(n,a)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Vi(0,t,e.memoizedProps,a);else{if("string"!=typeof a&&null===t.stateNode)throw Error(i(166));n=_o(Oo.current),_o(No.current),Bo(t)?(a=t.stateNode,n=t.memoizedProps,a[$a]=t,a.nodeValue!==n&&(t.flags|=4)):((a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[$a]=t,t.stateNode=a)}return null;case 13:return ir(Lo),a=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(a=null!==a,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Bo(t):n=null!==e.memoizedState,a&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Lo.current)?0===As&&(As=3):(0!==As&&3!==As||(As=4),null===xs||0==(134217727&js)&&0==(134217727&Ms)||dl(xs,_s))),(a||n)&&(t.flags|=4),null);case 4:return Ro(),null===e&&Oa(t.stateNode.containerInfo),null;case 10:return Zr(t),null;case 17:return pr(t.type)&&mr(),null;case 19:if(ir(Lo),null===(a=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(c=a.rendering))if(s)es(a,!1);else{if(0!==As||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=jo(e))){for(t.flags|=64,es(a,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===a.lastEffect&&(t.firstEffect=null),t.lastEffect=a.lastEffect,a=n,n=t.child;null!==n;)e=a,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return sr(Lo,1&Lo.current|2),t.child}e=e.sibling}null!==a.tail&&Ur()>Hs&&(t.flags|=64,s=!0,es(a,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=jo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),es(a,!0),null===a.tail&&"hidden"===a.tailMode&&!c.alternate&&!Ko)return null!==(t=t.lastEffect=a.lastEffect)&&(t.nextEffect=null),null}else 2*Ur()-a.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=64,s=!0,es(a,!1),t.lanes=33554432);a.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=a.last)?n.sibling=c:t.child=c,a.last=c)}return null!==a.tail?(n=a.tail,a.rendering=n,a.tail=n.sibling,a.lastEffect=t.lastEffect,a.renderingStartTime=Ur(),n.sibling=null,t=Lo.current,sr(Lo,s?1&t|2:1&t),n):null;case 23:case 24:return gl(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==a.mode&&(t.flags|=4),null}throw Error(i(156,t.tag))}function ns(e){switch(e.tag){case 1:pr(e.type)&&mr();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ro(),ir(ur),ir(cr),Vo(),0!=(64&(t=e.flags)))throw Error(i(285));return e.flags=-4097&t|64,e;case 5:return Do(e),null;case 13:return ir(Lo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ir(Lo),null;case 4:return Ro(),null;case 10:return Zr(e),null;case 23:case 24:return gl(),null;default:return null}}function as(e,t){try{var n="",a=t;do{n+=V(a),a=a.return}while(a);var r=n}catch(e){r="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:r}}function rs(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}zi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ji=function(e,t,n,a){var o=e.memoizedProps;if(o!==a){e=t.stateNode,_o(No.current);var i,s=null;switch(n){case"input":o=Z(e,o),a=Z(e,a),s=[];break;case"option":o=oe(e,o),a=oe(e,a),s=[];break;case"select":o=r({},o,{value:void 0}),a=r({},a,{value:void 0}),s=[];break;case"textarea":o=se(e,o),a=se(e,a),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof a.onClick&&(e.onclick=Ma)}for(f in ke(n,a),n=null,o)if(!a.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var c=o[f];for(i in c)c.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(l.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in a){var u=a[f];if(c=null!=o?o[f]:void 0,a.hasOwnProperty(f)&&u!==c&&(null!=u||null!=c))if("style"===f)if(c){for(i in c)!c.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&c[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(s||(s=[]),s.push(f,n)),n=u;else"dangerouslySetInnerHTML"===f?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(s=s||[]).push(f,u)):"children"===f?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(f,""+u):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(l.hasOwnProperty(f)?(null!=u&&"onScroll"===f&&Na("scroll",e),s||c===u||(s=[])):"object"==typeof u&&null!==u&&u.$$typeof===j?u.toString():(s=s||[]).push(f,u))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Vi=function(e,t,n,a){n!==a&&(t.flags|=4)};var os="function"==typeof WeakMap?WeakMap:Map;function is(e,t,n){(n=io(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){zs||(zs=!0,Js=a),rs(0,t)},n}function ss(e,t,n){(n=io(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"==typeof a){var r=t.value;n.payload=function(){return rs(0,t),a(r)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof a&&(null===Vs?Vs=new Set([this]):Vs.add(this),rs(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ls="function"==typeof WeakSet?WeakSet:Set;function cs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ll(e,t)}else t.current=null}function us(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,a=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:qr(t.type,n),a),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Ba(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(i(163))}function fs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var a=e.create;e.destroy=a()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var r=e;a=r.next,0!=(4&(r=r.tag))&&0!=(1&r)&&(Rl(n,e),Tl(n,e)),e=a}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(a=n.elementType===n.type?t.memoizedProps:qr(n.type,t.memoizedProps),e.componentDidUpdate(a,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&uo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}uo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Ua(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&St(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(i(163))}function ds(e,t){for(var n=e;;){if(5===n.tag){var a=n.stateNode;if(t)"function"==typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{a=n.stateNode;var r=n.memoizedProps.style;r=null!=r&&r.hasOwnProperty("display")?r.display:null,a.style.display=we("display",r)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ps(e,t){if(wr&&"function"==typeof wr.onCommitFiberUnmount)try{wr.onCommitFiberUnmount(vr,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var a=n,r=a.destroy;if(a=a.tag,void 0!==r)if(0!=(4&a))Rl(t,n);else{a=t;try{r()}catch(e){Ll(a,e)}}n=n.next}while(n!==e)}break;case 1:if(cs(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Ll(t,e)}break;case 5:cs(t);break;case 4:vs(e,t)}}function ms(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function hs(e){return 5===e.tag||3===e.tag||4===e.tag}function ys(e){e:{for(var t=e.return;null!==t;){if(hs(t))break e;t=t.return}throw Error(i(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var a=!1;break;case 3:case 4:t=t.containerInfo,a=!0;break;default:throw Error(i(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||hs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}a?gs(e,n,t):bs(e,n,t)}function gs(e,t,n){var a=e.tag,r=5===a||6===a;if(r)e=r?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Ma));else if(4!==a&&null!==(e=e.child))for(gs(e,t,n),e=e.sibling;null!==e;)gs(e,t,n),e=e.sibling}function bs(e,t,n){var a=e.tag,r=5===a||6===a;if(r)e=r?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&null!==(e=e.child))for(bs(e,t,n),e=e.sibling;null!==e;)bs(e,t,n),e=e.sibling}function vs(e,t){for(var n,a,r=t,o=!1;;){if(!o){o=r.return;e:for(;;){if(null===o)throw Error(i(160));switch(n=o.stateNode,o.tag){case 5:a=!1;break e;case 3:case 4:n=n.containerInfo,a=!0;break e}o=o.return}o=!0}if(5===r.tag||6===r.tag){e:for(var s=e,l=r,c=l;;)if(ps(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}a?(s=n,l=r.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(r.stateNode)}else if(4===r.tag){if(null!==r.child){n=r.stateNode.containerInfo,a=!0,r.child.return=r,r=r.child;continue}}else if(ps(e,r),null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;4===(r=r.return).tag&&(o=!1)}r.sibling.return=r.return,r=r.sibling}}function ws(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{3==(3&a.tag)&&(e=a.destroy,a.destroy=void 0,void 0!==e&&e()),a=a.next}while(a!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){a=t.memoizedProps;var r=null!==e?e.memoizedProps:a;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Ga]=a,"input"===e&&"radio"===a.type&&null!=a.name&&te(n,a),Ce(e,r),t=Ce(e,a),r=0;r<o.length;r+=2){var s=o[r],l=o[r+1];"style"===s?Se(n,l):"dangerouslySetInnerHTML"===s?ye(n,l):"children"===s?ge(n,l):w(n,s,l,t)}switch(e){case"input":ne(n,a);break;case"textarea":ce(n,a);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!a.multiple,null!=(o=a.value)?ie(n,!!a.multiple,o,!1):e!==!!a.multiple&&(null!=a.defaultValue?ie(n,!!a.multiple,a.defaultValue,!0):ie(n,!!a.multiple,a.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(i(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,St(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Us=Ur(),ds(t.child,!0)),void Ss(t);case 19:return void Ss(t);case 17:return;case 23:case 24:return void ds(t,null!==t.memoizedState)}throw Error(i(163))}function Ss(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ls),t.forEach((function(t){var a=Ml.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))}))}}function Es(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var ks=Math.ceil,Cs=S.ReactCurrentDispatcher,Ps=S.ReactCurrentOwner,Ns=0,xs=null,Os=null,_s=0,Ts=0,Rs=or(0),As=0,Ds=null,Ls=0,js=0,Ms=0,Is=0,Ks=null,Us=0,Hs=1/0;function Fs(){Hs=Ur()+500}var Ws,Bs=null,zs=!1,Js=null,Vs=null,qs=!1,$s=null,Gs=90,Qs=[],Xs=[],Ys=null,Zs=0,el=null,tl=-1,nl=0,al=0,rl=null,ol=!1;function il(){return 0!=(48&Ns)?Ur():-1!==tl?tl:tl=Ur()}function sl(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Hr()?1:2;if(0===nl&&(nl=Ls),0!==Vr.transition){0!==al&&(al=null!==Ks?Ks.pendingLanes:0),e=nl;var t=4186112&~al;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=Hr(),e=Ut(0!=(4&Ns)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),nl)}function ll(e,t,n){if(50<Zs)throw Zs=0,el=null,Error(i(185));if(null===(e=cl(e,t)))return null;Wt(e,t,n),e===xs&&(Ms|=t,4===As&&dl(e,_s));var a=Hr();1===t?0!=(8&Ns)&&0==(48&Ns)?pl(e):(ul(e,n),0===Ns&&(Fs(),zr())):(0==(4&Ns)||98!==a&&99!==a||(null===Ys?Ys=new Set([e]):Ys.add(e)),ul(e,n)),Ks=e}function cl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ul(e,t){for(var n=e.callbackNode,a=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Bt(s),c=1<<l,u=o[l];if(-1===u){if(0==(c&a)||0!=(c&r)){u=t,Mt(c);var f=jt;o[l]=10<=f?u+250:6<=f?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);s&=~c}if(a=It(e,e===xs?_s:0),t=jt,0===a)null!==n&&(n!==Dr&&kr(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Dr&&kr(n)}15===t?(n=pl.bind(null,e),null===jr?(jr=[n],Mr=Er(Or,Jr)):jr.push(n),n=Dr):n=14===t?Br(99,pl.bind(null,e)):Br(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(i(358,e))}}(t),fl.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function fl(e){if(tl=-1,al=nl=0,0!=(48&Ns))throw Error(i(327));var t=e.callbackNode;if(_l()&&e.callbackNode!==t)return null;var n=It(e,e===xs?_s:0);if(0===n)return null;var a=n,r=Ns;Ns|=16;var o=wl();for(xs===e&&_s===a||(Fs(),bl(e,a));;)try{kl();break}catch(t){vl(e,t)}if(Yr(),Cs.current=o,Ns=r,null!==Os?a=0:(xs=null,_s=0,a=As),0!=(Ls&Ms))bl(e,0);else if(0!==a){if(2===a&&(Ns|=64,e.hydrate&&(e.hydrate=!1,Ba(e.containerInfo)),0!==(n=Kt(e))&&(a=Sl(e,n))),1===a)throw t=Ds,bl(e,0),dl(e,n),ul(e,Ur()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,a){case 0:case 1:throw Error(i(345));case 2:Nl(e);break;case 3:if(dl(e,n),(62914560&n)===n&&10<(a=Us+500-Ur())){if(0!==It(e,0))break;if(((r=e.suspendedLanes)&n)!==n){il(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Fa(Nl.bind(null,e),a);break}Nl(e);break;case 4:if(dl(e,n),(4186112&n)===n)break;for(a=e.eventTimes,r=-1;0<n;){var s=31-Bt(n);o=1<<s,(s=a[s])>r&&(r=s),n&=~o}if(n=r,10<(n=(120>(n=Ur()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ks(n/1960))-n)){e.timeoutHandle=Fa(Nl.bind(null,e),n);break}Nl(e);break;case 5:Nl(e);break;default:throw Error(i(329))}}return ul(e,Ur()),e.callbackNode===t?fl.bind(null,e):null}function dl(e,t){for(t&=~Is,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bt(t),a=1<<n;e[n]=-1,t&=~a}}function pl(e){if(0!=(48&Ns))throw Error(i(327));if(_l(),e===xs&&0!=(e.expiredLanes&_s)){var t=_s,n=Sl(e,t);0!=(Ls&Ms)&&(n=Sl(e,t=It(e,t)))}else n=Sl(e,t=It(e,0));if(0!==e.tag&&2===n&&(Ns|=64,e.hydrate&&(e.hydrate=!1,Ba(e.containerInfo)),0!==(t=Kt(e))&&(n=Sl(e,t))),1===n)throw n=Ds,bl(e,0),dl(e,t),ul(e,Ur()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nl(e),ul(e,Ur()),null}function ml(e,t){var n=Ns;Ns|=1;try{return e(t)}finally{0===(Ns=n)&&(Fs(),zr())}}function hl(e,t){var n=Ns;Ns&=-2,Ns|=8;try{return e(t)}finally{0===(Ns=n)&&(Fs(),zr())}}function yl(e,t){sr(Rs,Ts),Ts|=t,Ls|=t}function gl(){Ts=Rs.current,ir(Rs)}function bl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wa(n)),null!==Os)for(n=Os.return;null!==n;){var a=n;switch(a.tag){case 1:null!=(a=a.type.childContextTypes)&&mr();break;case 3:Ro(),ir(ur),ir(cr),Vo();break;case 5:Do(a);break;case 4:Ro();break;case 13:case 19:ir(Lo);break;case 10:Zr(a);break;case 23:case 24:gl()}n=n.return}xs=e,Os=Hl(e.current,null),_s=Ts=Ls=t,As=0,Ds=null,Is=Ms=js=0}function vl(e,t){for(;;){var n=Os;try{if(Yr(),qo.current=Oi,Zo){for(var a=Qo.memoizedState;null!==a;){var r=a.queue;null!==r&&(r.pending=null),a=a.next}Zo=!1}if(Go=0,Yo=Xo=Qo=null,ei=!1,Ps.current=null,null===n||null===n.return){As=1,Ds=t,Os=null;break}e:{var o=e,i=n.return,s=n,l=t;if(t=_s,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l;if(0==(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!=(1&Lo.current),d=i;do{var p;if(p=13===d.tag){var m=d.memoizedState;if(null!==m)p=null!==m.dehydrated;else{var h=d.memoizedProps;p=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!f)}}if(p){var y=d.updateQueue;if(null===y){var g=new Set;g.add(c),d.updateQueue=g}else y.add(c);if(0==(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var b=io(-1,1);b.tag=2,so(s,b)}s.lanes|=1;break e}l=void 0,s=t;var v=o.pingCache;if(null===v?(v=o.pingCache=new os,l=new Set,v.set(c,l)):void 0===(l=v.get(c))&&(l=new Set,v.set(c,l)),!l.has(s)){l.add(s);var w=jl.bind(null,o,c,s);c.then(w,w)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((q(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==As&&(As=2),l=as(l,s),d=i;do{switch(d.tag){case 3:o=l,d.flags|=4096,t&=-t,d.lanes|=t,lo(d,is(0,o,t));break e;case 1:o=l;var S=d.type,E=d.stateNode;if(0==(64&d.flags)&&("function"==typeof S.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Vs||!Vs.has(E)))){d.flags|=4096,t&=-t,d.lanes|=t,lo(d,ss(d,o,t));break e}}d=d.return}while(null!==d)}Pl(n)}catch(e){t=e,Os===n&&null!==n&&(Os=n=n.return);continue}break}}function wl(){var e=Cs.current;return Cs.current=Oi,null===e?Oi:e}function Sl(e,t){var n=Ns;Ns|=16;var a=wl();for(xs===e&&_s===t||bl(e,t);;)try{El();break}catch(t){vl(e,t)}if(Yr(),Ns=n,Cs.current=a,null!==Os)throw Error(i(261));return xs=null,_s=0,As}function El(){for(;null!==Os;)Cl(Os)}function kl(){for(;null!==Os&&!Cr();)Cl(Os)}function Cl(e){var t=Ws(e.alternate,e,Ts);e.memoizedProps=e.pendingProps,null===t?Pl(e):Os=t,Ps.current=null}function Pl(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ts(n,t,Ts)))return void(Os=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Ts)||0==(4&n.mode)){for(var a=0,r=n.child;null!==r;)a|=r.lanes|r.childLanes,r=r.sibling;n.childLanes=a}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ns(t)))return n.flags&=2047,void(Os=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Os=t);Os=t=e}while(null!==t);0===As&&(As=5)}function Nl(e){var t=Hr();return Wr(99,xl.bind(null,e,t)),null}function xl(e,t){do{_l()}while(null!==$s);if(0!=(48&Ns))throw Error(i(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null;var a=n.lanes|n.childLanes,r=a,o=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<o;){var c=31-Bt(o),u=1<<c;r[c]=0,s[c]=-1,l[c]=-1,o&=~u}if(null!==Ys&&0==(24&a)&&Ys.has(e)&&Ys.delete(e),e===xs&&(Os=xs=null,_s=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,a=n.firstEffect):a=n:a=n.firstEffect,null!==a){if(r=Ns,Ns|=32,Ps.current=null,Ia=$t,pa(s=da())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,o=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(e){l=null;break e}var f=0,d=-1,p=-1,m=0,h=0,y=s,g=null;t:for(;;){for(var b;y!==l||0!==o&&3!==y.nodeType||(d=f+o),y!==c||0!==u&&3!==y.nodeType||(p=f+u),3===y.nodeType&&(f+=y.nodeValue.length),null!==(b=y.firstChild);)g=y,y=b;for(;;){if(y===s)break t;if(g===l&&++m===o&&(d=f),g===c&&++h===u&&(p=f),null!==(b=y.nextSibling))break;g=(y=g).parentNode}y=b}l=-1===d||-1===p?null:{start:d,end:p}}else l=null;l=l||{start:0,end:0}}else l=null;Ka={focusedElem:s,selectionRange:l},$t=!1,rl=null,ol=!1,Bs=a;do{try{Ol()}catch(e){if(null===Bs)throw Error(i(330));Ll(Bs,e),Bs=Bs.nextEffect}}while(null!==Bs);rl=null,Bs=a;do{try{for(s=e;null!==Bs;){var v=Bs.flags;if(16&v&&ge(Bs.stateNode,""),128&v){var w=Bs.alternate;if(null!==w){var S=w.ref;null!==S&&("function"==typeof S?S(null):S.current=null)}}switch(1038&v){case 2:ys(Bs),Bs.flags&=-3;break;case 6:ys(Bs),Bs.flags&=-3,ws(Bs.alternate,Bs);break;case 1024:Bs.flags&=-1025;break;case 1028:Bs.flags&=-1025,ws(Bs.alternate,Bs);break;case 4:ws(Bs.alternate,Bs);break;case 8:vs(s,l=Bs);var E=l.alternate;ms(l),null!==E&&ms(E)}Bs=Bs.nextEffect}}catch(e){if(null===Bs)throw Error(i(330));Ll(Bs,e),Bs=Bs.nextEffect}}while(null!==Bs);if(S=Ka,w=da(),v=S.focusedElem,s=S.selectionRange,w!==v&&v&&v.ownerDocument&&fa(v.ownerDocument.documentElement,v)){null!==s&&pa(v)&&(w=s.start,void 0===(S=s.end)&&(S=w),"selectionStart"in v?(v.selectionStart=w,v.selectionEnd=Math.min(S,v.value.length)):(S=(w=v.ownerDocument||document)&&w.defaultView||window).getSelection&&(S=S.getSelection(),l=v.textContent.length,E=Math.min(s.start,l),s=void 0===s.end?E:Math.min(s.end,l),!S.extend&&E>s&&(l=s,s=E,E=l),l=ua(v,E),o=ua(v,s),l&&o&&(1!==S.rangeCount||S.anchorNode!==l.node||S.anchorOffset!==l.offset||S.focusNode!==o.node||S.focusOffset!==o.offset)&&((w=w.createRange()).setStart(l.node,l.offset),S.removeAllRanges(),E>s?(S.addRange(w),S.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),S.addRange(w))))),w=[];for(S=v;S=S.parentNode;)1===S.nodeType&&w.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"==typeof v.focus&&v.focus(),v=0;v<w.length;v++)(S=w[v]).element.scrollLeft=S.left,S.element.scrollTop=S.top}$t=!!Ia,Ka=Ia=null,e.current=n,Bs=a;do{try{for(v=e;null!==Bs;){var k=Bs.flags;if(36&k&&fs(v,Bs.alternate,Bs),128&k){w=void 0;var C=Bs.ref;if(null!==C){var P=Bs.stateNode;switch(Bs.tag){case 5:w=P;break;default:w=P}"function"==typeof C?C(w):C.current=w}}Bs=Bs.nextEffect}}catch(e){if(null===Bs)throw Error(i(330));Ll(Bs,e),Bs=Bs.nextEffect}}while(null!==Bs);Bs=null,Lr(),Ns=r}else e.current=n;if(qs)qs=!1,$s=e,Gs=t;else for(Bs=a;null!==Bs;)t=Bs.nextEffect,Bs.nextEffect=null,8&Bs.flags&&((k=Bs).sibling=null,k.stateNode=null),Bs=t;if(0===(a=e.pendingLanes)&&(Vs=null),1===a?e===el?Zs++:(Zs=0,el=e):Zs=0,n=n.stateNode,wr&&"function"==typeof wr.onCommitFiberRoot)try{wr.onCommitFiberRoot(vr,n,void 0,64==(64&n.current.flags))}catch(e){}if(ul(e,Ur()),zs)throw zs=!1,e=Js,Js=null,e;return 0!=(8&Ns)||zr(),null}function Ol(){for(;null!==Bs;){var e=Bs.alternate;ol||null===rl||(0!=(8&Bs.flags)?Ze(Bs,rl)&&(ol=!0):13===Bs.tag&&Es(e,Bs)&&Ze(Bs,rl)&&(ol=!0));var t=Bs.flags;0!=(256&t)&&us(e,Bs),0==(512&t)||qs||(qs=!0,Br(97,(function(){return _l(),null}))),Bs=Bs.nextEffect}}function _l(){if(90!==Gs){var e=97<Gs?97:Gs;return Gs=90,Wr(e,Al)}return!1}function Tl(e,t){Qs.push(t,e),qs||(qs=!0,Br(97,(function(){return _l(),null})))}function Rl(e,t){Xs.push(t,e),qs||(qs=!0,Br(97,(function(){return _l(),null})))}function Al(){if(null===$s)return!1;var e=$s;if($s=null,0!=(48&Ns))throw Error(i(331));var t=Ns;Ns|=32;var n=Xs;Xs=[];for(var a=0;a<n.length;a+=2){var r=n[a],o=n[a+1],s=r.destroy;if(r.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(i(330));Ll(o,e)}}for(n=Qs,Qs=[],a=0;a<n.length;a+=2){r=n[a],o=n[a+1];try{var l=r.create;r.destroy=l()}catch(e){if(null===o)throw Error(i(330));Ll(o,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Ns=t,zr(),!0}function Dl(e,t,n){so(e,t=is(0,t=as(n,t),1)),t=il(),null!==(e=cl(e,1))&&(Wt(e,1,t),ul(e,t))}function Ll(e,t){if(3===e.tag)Dl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Dl(n,e,t);break}if(1===n.tag){var a=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof a.componentDidCatch&&(null===Vs||!Vs.has(a))){var r=ss(n,e=as(t,e),1);if(so(n,r),r=il(),null!==(n=cl(n,1)))Wt(n,1,r),ul(n,r);else if("function"==typeof a.componentDidCatch&&(null===Vs||!Vs.has(a)))try{a.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function jl(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=il(),e.pingedLanes|=e.suspendedLanes&n,xs===e&&(_s&n)===n&&(4===As||3===As&&(62914560&_s)===_s&&500>Ur()-Us?bl(e,0):Is|=n),ul(e,t)}function Ml(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Hr()?1:2:(0===nl&&(nl=Ls),0===(t=Ht(62914560&~nl))&&(t=4194304))),n=il(),null!==(e=cl(e,t))&&(Wt(e,t,n),ul(e,n))}function Il(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Kl(e,t,n,a){return new Il(e,t,n,a)}function Ul(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hl(e,t){var n=e.alternate;return null===n?((n=Kl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fl(e,t,n,a,r,o){var s=2;if(a=e,"function"==typeof e)Ul(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case C:return Wl(n.children,r,o,t);case M:s=8,r|=16;break;case P:s=8,r|=1;break;case N:return(e=Kl(12,n,t,8|r)).elementType=N,e.type=N,e.lanes=o,e;case T:return(e=Kl(13,n,t,r)).type=T,e.elementType=T,e.lanes=o,e;case R:return(e=Kl(19,n,t,r)).elementType=R,e.lanes=o,e;case I:return Bl(n,r,o,t);case K:return(e=Kl(24,n,t,r)).elementType=K,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case O:s=9;break e;case _:s=11;break e;case A:s=14;break e;case D:s=16,a=null;break e;case L:s=22;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Kl(s,n,t,r)).elementType=e,t.type=a,t.lanes=o,t}function Wl(e,t,n,a){return(e=Kl(7,e,a,t)).lanes=n,e}function Bl(e,t,n,a){return(e=Kl(23,e,a,t)).elementType=I,e.lanes=n,e}function zl(e,t,n){return(e=Kl(6,e,null,t)).lanes=n,e}function Jl(e,t,n){return(t=Kl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ft(0),this.expirationTimes=Ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ft(0),this.mutableSourceEagerHydrationData=null}function ql(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}function $l(e,t,n,a){var r=t.current,o=il(),s=sl(r);e:if(n){t:{if(Ge(n=n._reactInternals)!==n||1!==n.tag)throw Error(i(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(pr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(i(171))}if(1===n.tag){var c=n.type;if(pr(c)){n=yr(n,c,l);break e}}n=l}else n=lr;return null===t.context?t.context=n:t.pendingContext=n,(t=io(o,s)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),so(r,t),ll(r,s,o),s}function Gl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Ql(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xl(e,t){Ql(e,t),(e=e.alternate)&&Ql(e,t)}function Yl(e,t,n){var a=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Vl(e,t,null!=n&&!0===n.hydrate),t=Kl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ro(t),e[Qa]=n.current,Oa(8===e.nodeType?e.parentNode:e),a)for(e=0;e<a.length;e++){var r=(t=a[e])._getVersion;r=r(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,r]:n.mutableSourceEagerHydrationData.push(t,r)}this._internalRoot=n}function Zl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ec(e,t,n,a,r){var o=n._reactRootContainer;if(o){var i=o._internalRoot;if("function"==typeof r){var s=r;r=function(){var e=Gl(i);s.call(e)}}$l(t,i,e,r)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Yl(e,0,t?{hydrate:!0}:void 0)}(n,a),i=o._internalRoot,"function"==typeof r){var l=r;r=function(){var e=Gl(i);l.call(e)}}hl((function(){$l(t,i,e,r)}))}return Gl(i)}function tc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zl(t))throw Error(i(200));return ql(e,t,null,n)}Ws=function(e,t,n){var a=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||ur.current)Di=!0;else{if(0==(n&a)){switch(Di=!1,t.tag){case 3:Bi(t),zo();break;case 5:Ao(t);break;case 1:pr(t.type)&&gr(t);break;case 4:To(t,t.stateNode.containerInfo);break;case 10:a=t.memoizedProps.value;var r=t.type._context;sr($r,r._currentValue),r._currentValue=a;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?$i(e,t,n):(sr(Lo,1&Lo.current),null!==(t=Zi(e,t,n))?t.sibling:null);sr(Lo,1&Lo.current);break;case 19:if(a=0!=(n&t.childLanes),0!=(64&e.flags)){if(a)return Yi(e,t,n);t.flags|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),sr(Lo,Lo.current),a)break;return null;case 23:case 24:return t.lanes=0,Ki(e,t,n)}return Zi(e,t,n)}Di=0!=(16384&e.flags)}else Di=!1;switch(t.lanes=0,t.tag){case 2:if(a=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=dr(t,cr.current),to(t,n),r=ai(null,t,a,e,r,n),t.flags|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,pr(a)){var o=!0;gr(t)}else o=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,ro(t);var s=a.getDerivedStateFromProps;"function"==typeof s&&po(t,a,s,e),r.updater=mo,t.stateNode=r,r._reactInternals=t,bo(t,a,e,n),t=Wi(null,t,a,!0,o,n)}else t.tag=0,Li(null,t,r,n),t=t.child;return t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"==typeof e)return Ul(e)?1:0;if(null!=e){if((e=e.$$typeof)===_)return 11;if(e===A)return 14}return 2}(r),e=qr(r,e),o){case 0:t=Hi(null,t,r,e,n);break e;case 1:t=Fi(null,t,r,e,n);break e;case 11:t=ji(null,t,r,e,n);break e;case 14:t=Mi(null,t,r,qr(r.type,e),a,n);break e}throw Error(i(306,r,""))}return t;case 0:return a=t.type,r=t.pendingProps,Hi(e,t,a,r=t.elementType===a?r:qr(a,r),n);case 1:return a=t.type,r=t.pendingProps,Fi(e,t,a,r=t.elementType===a?r:qr(a,r),n);case 3:if(Bi(t),a=t.updateQueue,null===e||null===a)throw Error(i(282));if(a=t.pendingProps,r=null!==(r=t.memoizedState)?r.element:null,oo(e,t),co(t,a,null,n),(a=t.memoizedState.element)===r)zo(),t=Zi(e,t,n);else{if((o=(r=t.stateNode).hydrate)&&(Io=za(t.stateNode.containerInfo.firstChild),Mo=t,o=Ko=!0),o){if(null!=(e=r.mutableSourceEagerHydrationData))for(r=0;r<e.length;r+=2)(o=e[r])._workInProgressVersionPrimary=e[r+1],Jo.push(o);for(n=Co(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Li(e,t,a,n),zo();t=t.child}return t;case 5:return Ao(t),null===e&&Fo(t),a=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,s=r.children,Ha(a,r)?s=null:null!==o&&Ha(a,o)&&(t.flags|=16),Ui(e,t),Li(e,t,s,n),t.child;case 6:return null===e&&Fo(t),null;case 13:return $i(e,t,n);case 4:return To(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=ko(t,null,a,n):Li(e,t,a,n),t.child;case 11:return a=t.type,r=t.pendingProps,ji(e,t,a,r=t.elementType===a?r:qr(a,r),n);case 7:return Li(e,t,t.pendingProps,n),t.child;case 8:case 12:return Li(e,t,t.pendingProps.children,n),t.child;case 10:e:{a=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value;var l=t.type._context;if(sr($r,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0==(o=ia(l,o)?0:0|("function"==typeof a._calculateChangedBits?a._calculateChangedBits(l,o):1073741823))){if(s.children===r.children&&!ur.current){t=Zi(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===a&&0!=(u.observedBits&o)){1===l.tag&&((u=io(-1,n&-n)).tag=2,so(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),eo(l.return,n),c.lanes|=n;break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Li(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,a=(o=t.pendingProps).children,to(t,n),a=a(r=no(r,o.unstable_observedBits)),t.flags|=1,Li(e,t,a,n),t.child;case 14:return o=qr(r=t.type,t.pendingProps),Mi(e,t,r,o=qr(r.type,o),a,n);case 15:return Ii(e,t,t.type,t.pendingProps,a,n);case 17:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:qr(a,r),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pr(a)?(e=!0,gr(t)):e=!1,to(t,n),yo(t,a,r),bo(t,a,r,n),Wi(null,t,a,!0,e,n);case 19:return Yi(e,t,n);case 23:case 24:return Ki(e,t,n)}throw Error(i(156,t.tag))},Yl.prototype.render=function(e){$l(e,this._internalRoot,null,null)},Yl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;$l(null,e,null,(function(){t[Qa]=null}))},et=function(e){13===e.tag&&(ll(e,4,il()),Xl(e,4))},tt=function(e){13===e.tag&&(ll(e,67108864,il()),Xl(e,67108864))},nt=function(e){if(13===e.tag){var t=il(),n=sl(e);ll(e,n,t),Xl(e,n)}},at=function(e,t){return t()},Ne=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=tr(a);if(!r)throw Error(i(90));X(a),ne(a,r)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ie(e,!!n.multiple,t,!1)}},Ae=ml,De=function(e,t,n,a,r){var o=Ns;Ns|=4;try{return Wr(98,e.bind(null,t,n,a,r))}finally{0===(Ns=o)&&(Fs(),zr())}},Le=function(){0==(49&Ns)&&(function(){if(null!==Ys){var e=Ys;Ys=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ul(e,Ur())}))}zr()}(),_l())},je=function(e,t){var n=Ns;Ns|=2;try{return e(t)}finally{0===(Ns=n)&&(Fs(),zr())}};var nc={Events:[Za,er,tr,Te,Re,_l,{current:!1}]},ac={findFiberByHostInstance:Ya,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},rc={bundleType:ac.bundleType,version:ac.version,rendererPackageName:ac.rendererPackageName,rendererConfig:ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:ac.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{vr=oc.inject(rc),wr=oc}catch(he){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nc,t.createPortal=tc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw Error(i(268,Object.keys(e)))}return null===(e=Ye(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ns;if(0!=(48&n))return e(t);Ns|=1;try{if(e)return Wr(99,e.bind(null,t))}finally{Ns=n,zr()}},t.hydrate=function(e,t,n){if(!Zl(t))throw Error(i(200));return ec(null,e,t,!0,n)},t.render=function(e,t,n){if(!Zl(t))throw Error(i(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zl(e))throw Error(i(40));return!!e._reactRootContainer&&(hl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[Qa]=null}))})),!0)},t.unstable_batchedUpdates=ml,t.unstable_createPortal=function(e,t){return tc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Zl(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return ec(e,t,n,!1,a)},t.version="17.0.2"},935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(448)},408:(e,t,n)=>{"use strict";var a=n(418),r=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var i=60109,s=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var f=Symbol.for;r=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),i=f("react.provider"),s=f("react.context"),l=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),u=f("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h={};function y(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||m}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var v=b.prototype=new g;v.constructor=b,a(v,y.prototype),v.isPureReactComponent=!0;var w={current:null},S=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var a,o={},i=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)S.call(t,a)&&!E.hasOwnProperty(a)&&(o[a]=t[a]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===o[a]&&(o[a]=l[a]);return{$$typeof:r,type:e,key:i,ref:s,props:o,_owner:w.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var P=/\/+/g;function N(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,n,a,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case o:l=!0}}if(l)return i=i(l=e),e=""===a?"."+N(l,0):a,Array.isArray(i)?(n="",null!=e&&(n=e.replace(P,"$&/")+"/"),x(i,t,n,"",(function(e){return e}))):null!=i&&(C(i)&&(i=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(P,"$&/")+"/")+e)),t.push(i)),1;if(l=0,a=""===a?".":a+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=a+N(s=e[c],c);l+=x(s,t,n,u,i)}else if("function"==typeof(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e)))for(e=u.call(e),c=0;!(s=e.next()).done;)l+=x(s=s.value,t,n,u=a+N(s,c++),i);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function O(e,t,n){if(null==e)return e;var a=[],r=0;return x(e,a,"","",(function(e){return t.call(n,e,r++)})),a}function _(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var T={current:null};function R(){var e=T.current;if(null===e)throw Error(p(321));return e}var A={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:a};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error(p(143));return e}},t.Component=y,t.PureComponent=b,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,n){if(null==e)throw Error(p(267,e));var o=a({},e.props),i=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=w.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)S.call(t,u)&&!E.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){c=Array(u);for(var f=0;f<u;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:r,type:e.type,key:i,ref:s,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:_}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},294:(e,t,n)=>{"use strict";e.exports=n(408)},53:(e,t)=>{"use strict";var n,a,r,o;if("object"==typeof performance&&"function"==typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,u=null,f=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(f,0),e}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},a=function(e,t){u=setTimeout(e,t)},r=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var h=!1,y=null,g=-1,b=5,v=0;t.unstable_shouldYield=function(){return t.unstable_now()>=v},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,S=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();v=e+b;try{y(!0,e)?S.postMessage(null):(h=!1,y=null)}catch(e){throw S.postMessage(null),e}}else h=!1},n=function(e){y=e,h||(h=!0,S.postMessage(null))},a=function(e,n){g=d((function(){e(t.unstable_now())}),n)},r=function(){p(g),g=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var a=n-1>>>1,r=e[a];if(!(void 0!==r&&0<P(r,t)))break e;e[a]=t,e[n]=r,n=a}}function k(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,r=e.length;a<r;){var o=2*(a+1)-1,i=e[o],s=o+1,l=e[s];if(void 0!==i&&0>P(i,n))void 0!==l&&0>P(l,i)?(e[a]=l,e[s]=n,a=s):(e[a]=i,e[o]=n,a=o);else{if(!(void 0!==l&&0>P(l,n)))break e;e[a]=l,e[s]=n,a=s}}}return t}return null}function P(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var N=[],x=[],O=1,_=null,T=3,R=!1,A=!1,D=!1;function L(e){for(var t=k(x);null!==t;){if(null===t.callback)C(x);else{if(!(t.startTime<=e))break;C(x),t.sortIndex=t.expirationTime,E(N,t)}t=k(x)}}function j(e){if(D=!1,L(e),!A)if(null!==k(N))A=!0,n(M);else{var t=k(x);null!==t&&a(j,t.startTime-e)}}function M(e,n){A=!1,D&&(D=!1,r()),R=!0;var o=T;try{for(L(n),_=k(N);null!==_&&(!(_.expirationTime>n)||e&&!t.unstable_shouldYield());){var i=_.callback;if("function"==typeof i){_.callback=null,T=_.priorityLevel;var s=i(_.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?_.callback=s:_===k(N)&&C(N),L(n)}else C(N);_=k(N)}if(null!==_)var l=!0;else{var c=k(x);null!==c&&a(j,c.startTime-n),l=!1}return l}finally{_=null,T=o,R=!1}}var I=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){A||R||(A=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return k(N)},t.unstable_next=function(e){switch(T){case 1:case 2:case 3:var t=3;break;default:t=T}var n=T;T=t;try{return e()}finally{T=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=I,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=T;T=e;try{return t()}finally{T=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?s+i:s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:O++,callback:o,priorityLevel:e,startTime:i,expirationTime:l=i+l,sortIndex:-1},i>s?(e.sortIndex=i,E(x,e),null===k(N)&&e===k(x)&&(D?r():D=!0,a(j,i-s))):(e.sortIndex=l,E(N,e),A||R||(A=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=T;return function(){var n=T;T=t;try{return e.apply(this,arguments)}finally{T=n}}}},840:(e,t,n)=>{"use strict";e.exports=n(53)}},o={};function i(e){var t=o[e];if(void 0!==t){if(void 0!==t.error)throw t.error;return t.exports}var n=o[e]={exports:{}};try{var a={id:e,module:n,factory:r[e],require:i};i.i.forEach((function(e){e(a)})),n=a.module,a.factory.call(n.exports,n,n.exports,a.require)}catch(e){throw n.error=e,e}return n.exports}i.m=r,i.c=o,i.i=[],t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"==typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"==typeof n.then)return n}var r=Object.create(null);i.r(r);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,i.d(r,o),r},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.hu=e=>e+"."+i.h()+".hot-update.js",i.hmrF=()=>"main."+i.h()+".hot-update.json",i.h=()=>"82283d7e0b656261f5e1",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},a="hutch:",i.l=(e,t,r,o)=>{if(n[e])n[e].push(t);else{var s,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var f=c[u];if(f.getAttribute("src")==e||f.getAttribute("data-webpack")==a+r){s=f;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",a+r),s.src=e),n[e]=[t];var d=(t,a)=>{s.onerror=s.onload=null,clearTimeout(p);var r=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((e=>e(a))),t)return t(a)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),l&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e,t,n,a,r={},o=i.c,s=[],l=[],c="idle";function u(e){c=e;for(var t=[],n=0;n<l.length;n++)t[n]=l[n].call(null,e);return Promise.all(t)}function f(e){if(0===t.length)return e();var n=t;return t=[],Promise.all(n).then((function(){return f(e)}))}function d(e){if("idle"!==c)throw new Error("check() is only allowed in idle status");return u("check").then(i.hmrM).then((function(a){return a?u("prepare").then((function(){var r=[];return t=[],n=[],Promise.all(Object.keys(i.hmrC).reduce((function(e,t){return i.hmrC[t](a.c,a.r,a.m,e,n,r),e}),[])).then((function(){return f((function(){return e?m(e):u("ready").then((function(){return r}))}))}))})):u(h()?"ready":"idle")}))}function p(e){return"ready"!==c?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status")})):m(e)}function m(e){e=e||{},h();var t=n.map((function(t){return t(e)}));n=void 0;var r=t.map((function(e){return e.error})).filter(Boolean);if(r.length>0)return u("abort").then((function(){throw r[0]}));var o=u("dispose");t.forEach((function(e){e.dispose&&e.dispose()}));var i,s=u("apply"),l=function(e){i||(i=e)},c=[];return t.forEach((function(e){if(e.apply){var t=e.apply(l);if(t)for(var n=0;n<t.length;n++)c.push(t[n])}})),Promise.all([o,s]).then((function(){return i?u("fail").then((function(){throw i})):a?m(e).then((function(e){return c.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e})):u("idle").then((function(){return c}))}))}function h(){if(a)return n||(n=[]),Object.keys(i.hmrI).forEach((function(e){a.forEach((function(t){i.hmrI[e](t,n)}))})),a=void 0,!0}i.hmrD=r,i.i.push((function(m){var h,y,g,b,v=m.module,w=function(n,a){var r=o[a];if(!r)return n;var i=function(t){if(r.hot.active){if(o[t]){var i=o[t].parents;-1===i.indexOf(a)&&i.push(a)}else s=[a],e=t;-1===r.children.indexOf(t)&&r.children.push(t)}else console.warn("[HMR] unexpected require("+t+") from disposed module "+a),s=[];return n(t)},l=function(e){return{configurable:!0,enumerable:!0,get:function(){return n[e]},set:function(t){n[e]=t}}};for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&"e"!==d&&Object.defineProperty(i,d,l(d));return i.e=function(e){return function(e){switch(c){case"ready":return u("prepare"),t.push(e),f((function(){return u("ready")})),e;case"prepare":return t.push(e),e;default:return e}}(n.e(e))},i}(m.require,m.id);v.hot=(h=m.id,y=v,b={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:g=e!==h,_requireSelf:function(){s=y.parents.slice(),e=g?void 0:h,i(h)},active:!0,accept:function(e,t,n){if(void 0===e)b._selfAccepted=!0;else if("function"==typeof e)b._selfAccepted=e;else if("object"==typeof e&&null!==e)for(var a=0;a<e.length;a++)b._acceptedDependencies[e[a]]=t||function(){},b._acceptedErrorHandlers[e[a]]=n;else b._acceptedDependencies[e]=t||function(){},b._acceptedErrorHandlers[e]=n},decline:function(e){if(void 0===e)b._selfDeclined=!0;else if("object"==typeof e&&null!==e)for(var t=0;t<e.length;t++)b._declinedDependencies[e[t]]=!0;else b._declinedDependencies[e]=!0},dispose:function(e){b._disposeHandlers.push(e)},addDisposeHandler:function(e){b._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=b._disposeHandlers.indexOf(e);t>=0&&b._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,c){case"idle":n=[],Object.keys(i.hmrI).forEach((function(e){i.hmrI[e](h,n)})),u("ready");break;case"ready":Object.keys(i.hmrI).forEach((function(e){i.hmrI[e](h,n)}));break;case"prepare":case"check":case"dispose":case"apply":(a=a||[]).push(h)}},check:d,apply:p,status:function(e){if(!e)return c;l.push(e)},addStatusHandler:function(e){l.push(e)},removeStatusHandler:function(e){var t=l.indexOf(e);t>=0&&l.splice(t,1)},data:r[h]},e=void 0,b),v.parents=s,v.children=[],s=[],m.require=w})),i.hmrC={},i.hmrI={}})(),(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e,t,n,a,r={179:0},o={};function s(e){return new Promise(((t,n)=>{o[e]=t;var a=i.p+i.hu(e),r=new Error;i.l(a,(t=>{if(o[e]){o[e]=void 0;var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;r.message="Loading hot update chunk "+e+" failed.\n("+a+": "+i+")",r.name="ChunkLoadError",r.type=a,r.request=i,n(r)}}))}))}function l(o){function s(e){for(var t=[e],n={},a=t.map((function(e){return{chain:[e],id:e}}));a.length>0;){var r=a.pop(),o=r.id,s=r.chain,c=i.c[o];if(c&&(!c.hot._selfAccepted||c.hot._selfInvalidated)){if(c.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:o};if(c.hot._main)return{type:"unaccepted",chain:s,moduleId:o};for(var u=0;u<c.parents.length;u++){var f=c.parents[u],d=i.c[f];if(d){if(d.hot._declinedDependencies[o])return{type:"declined",chain:s.concat([f]),moduleId:o,parentId:f};-1===t.indexOf(f)&&(d.hot._acceptedDependencies[o]?(n[f]||(n[f]=[]),l(n[f],[o])):(delete n[f],t.push(f),a.push({chain:s.concat([f]),id:f})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];-1===e.indexOf(a)&&e.push(a)}}i.f&&delete i.f.jsonpHmr,e=void 0;var c={},u=[],f={},d=function(e){console.warn("[HMR] unexpected require("+e.id+") to disposed module")};for(var p in t)if(i.o(t,p)){var m,h=t[p],y=!1,g=!1,b=!1,v="";switch((m=h?s(p):{type:"disposed",moduleId:p}).chain&&(v="\nUpdate propagation: "+m.chain.join(" -> ")),m.type){case"self-declined":o.onDeclined&&o.onDeclined(m),o.ignoreDeclined||(y=new Error("Aborted because of self decline: "+m.moduleId+v));break;case"declined":o.onDeclined&&o.onDeclined(m),o.ignoreDeclined||(y=new Error("Aborted because of declined dependency: "+m.moduleId+" in "+m.parentId+v));break;case"unaccepted":o.onUnaccepted&&o.onUnaccepted(m),o.ignoreUnaccepted||(y=new Error("Aborted because "+p+" is not accepted"+v));break;case"accepted":o.onAccepted&&o.onAccepted(m),g=!0;break;case"disposed":o.onDisposed&&o.onDisposed(m),b=!0;break;default:throw new Error("Unexception type "+m.type)}if(y)return{error:y};if(g)for(p in f[p]=h,l(u,m.outdatedModules),m.outdatedDependencies)i.o(m.outdatedDependencies,p)&&(c[p]||(c[p]=[]),l(c[p],m.outdatedDependencies[p]));b&&(l(u,[m.moduleId]),f[p]=d)}t=void 0;for(var w,S=[],E=0;E<u.length;E++){var k=u[E],C=i.c[k];C&&(C.hot._selfAccepted||C.hot._main)&&f[k]!==d&&!C.hot._selfInvalidated&&S.push({module:k,require:C.hot._requireSelf,errorHandler:C.hot._selfAccepted})}return{dispose:function(){var e;n.forEach((function(e){delete r[e]})),n=void 0;for(var t,a=u.slice();a.length>0;){var o=a.pop(),s=i.c[o];if(s){var l={},f=s.hot._disposeHandlers;for(E=0;E<f.length;E++)f[E].call(null,l);for(i.hmrD[o]=l,s.hot.active=!1,delete i.c[o],delete c[o],E=0;E<s.children.length;E++){var d=i.c[s.children[E]];d&&(e=d.parents.indexOf(o))>=0&&d.parents.splice(e,1)}}}for(var p in c)if(i.o(c,p)&&(s=i.c[p]))for(w=c[p],E=0;E<w.length;E++)t=w[E],(e=s.children.indexOf(t))>=0&&s.children.splice(e,1)},apply:function(e){for(var t in f)i.o(f,t)&&(i.m[t]=f[t]);for(var n=0;n<a.length;n++)a[n](i);for(var r in c)if(i.o(c,r)){var s=i.c[r];if(s){w=c[r];for(var l=[],d=[],p=[],m=0;m<w.length;m++){var h=w[m],y=s.hot._acceptedDependencies[h],g=s.hot._acceptedErrorHandlers[h];if(y){if(-1!==l.indexOf(y))continue;l.push(y),d.push(g),p.push(h)}}for(var b=0;b<l.length;b++)try{l[b].call(null,w)}catch(t){if("function"==typeof d[b])try{d[b](t,{moduleId:r,dependencyId:p[b]})}catch(n){o.onErrored&&o.onErrored({type:"accept-error-handler-errored",moduleId:r,dependencyId:p[b],error:n,originalError:t}),o.ignoreErrored||(e(n),e(t))}else o.onErrored&&o.onErrored({type:"accept-errored",moduleId:r,dependencyId:p[b],error:t}),o.ignoreErrored||e(t)}}}for(var v=0;v<S.length;v++){var E=S[v],k=E.module;try{E.require(k)}catch(t){if("function"==typeof E.errorHandler)try{E.errorHandler(t,{moduleId:k,module:i.c[k]})}catch(n){o.onErrored&&o.onErrored({type:"self-accept-error-handler-errored",moduleId:k,error:n,originalError:t}),o.ignoreErrored||(e(n),e(t))}else o.onErrored&&o.onErrored({type:"self-accept-errored",moduleId:k,error:t}),o.ignoreErrored||e(t)}}return u}}}self.webpackHotUpdatehutch=(e,n,r)=>{for(var s in n)i.o(n,s)&&(t[s]=n[s]);r&&a.push(r),o[e]&&(o[e](),o[e]=void 0)},i.hmrI.jsonp=function(e,r){t||(t={},a=[],n=[],r.push(l)),i.o(t,e)||(t[e]=i.m[e])},i.hmrC.jsonp=function(o,c,u,f,d,p){d.push(l),e={},n=c,t=u.reduce((function(e,t){return e[t]=!1,e}),{}),a=[],o.forEach((function(t){i.o(r,t)&&void 0!==r[t]&&(f.push(s(t)),e[t]=!0)})),i.f&&(i.f.jsonpHmr=function(t,n){e&&!i.o(e,t)&&i.o(r,t)&&void 0!==r[t]&&(n.push(s(t)),e[t]=!0)})},i.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(i.p+i.hmrF()).then((e=>{if(404!==e.status){if(!e.ok)throw new Error("Failed to fetch update manifest "+e.statusText);return e.json()}}))}})(),i(786)})();