/*! For license information please see hutch.js.LICENSE.txt */
(()=>{var e,t,n,r,a={902:(e,t,n)=>{"use strict";var r=n(294),a=n(935);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function d(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?l(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},v=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.init(t,n)}return c(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||b,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,g(g({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}}]),e}()),w=function(){function e(){i(this,e),this.observers={}}return c(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){var a=[].concat(this.observers[e]);a.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function E(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function S(e){return null==e?"":""+e}function k(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function C(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function a(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(a())return{};var i=r(o.shift());!e[i]&&n&&(e[i]=new n),e=Object.prototype.hasOwnProperty.call(e,i)?e[i]:{}}return a()?{}:{obj:e,k:r(o.shift())}}function P(e,t,n){var r=C(e,t,Object);r.obj[r.k]=n}function O(e,t){var n=C(e,t),r=n.obj,a=n.k;if(r)return r[a]}function N(e,t,n){var r=O(e,n);return void 0!==r?r:O(t,n)}function x(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):x(e[r],t[r],n):e[r]=t[r]);return e}function _(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var T={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function R(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return T[e]})):e}var j="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,D=[" ",",","?","!",";"];function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),a=e,o=0;o<r.length;++o){if(!a)return;if("string"==typeof a[r[o]]&&o+1<r.length)return;if(void 0===a[r[o]]){for(var i=2,s=r.slice(o,o+i).join(n),c=a[s];void 0===c&&r.length>o+i;)i++,c=a[s=r.slice(o,o+i).join(n)];if(void 0===c)return;if("string"==typeof c)return c;if(s&&"string"==typeof c[s])return c[s];var l=r.slice(o+i).join(n);return l?M(c,l,n):void 0}a=a[r[o]]}return a}}var I=function(e){f(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p(t);if(n){var a=p(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return d(this,e)});function a(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return i(this,a),t=r.call(this),j&&w.call(l(t)),t.data=e||{},t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),void 0===t.options.ignoreJSONStructure&&(t.options.ignoreJSONStructure=!0),t}return c(a,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,i=[e,t];n&&"string"!=typeof n&&(i=i.concat(n)),n&&"string"==typeof n&&(i=i.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(i=e.split("."));var s=O(this.data,i);return s||!o||"string"!=typeof n?s:M(this.data&&this.data[e]&&this.data[e][t],n,a)}},{key:"addResource",value:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var i=[e,t];n&&(i=i.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(r=t,t=(i=e.split("."))[1]),this.addNamespaces(t),P(this.data,i,r),a.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var a in n)"string"!=typeof n[a]&&"[object Array]"!==Object.prototype.toString.apply(n[a])||this.addResource(e,t,a,n[a],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},i=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(i=e.split("."))[1]),this.addNamespaces(t);var s=O(this.data,i)||{};r?x(s,n,a):s=L(L({},s),n),P(this.data,i,s),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?L(L({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),a}(w),K={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,a){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,r,a))})),t}};function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F={},W=function(e){f(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p(t);if(n){var a=p(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return d(this,e)});function a(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(this,a),t=r.call(this),j&&w.call(l(t)),k(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,l(t)),t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),t.logger=v.create("translator"),t}return c(a,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,a=t.ns||this.options.defaultNS||[],o=n&&e.indexOf(n)>-1,i=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var r=D.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var a=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),o=!a.test(e);if(!o){var i=e.indexOf(n);i>0&&!a.test(e.substring(0,i))&&(o=!0)}return o}(e,n,r));if(o&&!i){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:a};var c=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(c[0])>-1)&&(a=c.shift()),e=c.join(r)}return"string"==typeof a&&(a=[a]),{key:e,namespaces:a}}},{key:"translate",value:function(e,t,n){var r=this;if("object"!==o(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],t),c=s.key,l=s.namespaces,u=l[l.length-1],f=t.lng||this.language,d=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&&"cimode"===f.toLowerCase()){if(d){var p=t.nsSeparator||this.options.nsSeparator;return u+p+c}return c}var h=this.resolve(e,t),m=h&&h.res,y=h&&h.usedKey||c,g=h&&h.exactUsedKey||c,b=Object.prototype.toString.apply(m),v=["[object Number]","[object Function]","[object RegExp]"],w=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,E=!this.i18nFormat||this.i18nFormat.handleAsObject,S="string"!=typeof m&&"boolean"!=typeof m&&"number"!=typeof m;if(E&&m&&S&&v.indexOf(b)<0&&("string"!=typeof w||"[object Array]"!==b)){if(!t.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,m,H(H({},t),{},{ns:l})):"key '".concat(c," (").concat(this.language,")' returned an object instead of string.");if(i){var k="[object Array]"===b,C=k?[]:{},P=k?g:y;for(var O in m)if(Object.prototype.hasOwnProperty.call(m,O)){var N="".concat(P).concat(i).concat(O);C[O]=this.translate(N,H(H({},t),{joinArrays:!1,ns:l})),C[O]===N&&(C[O]=m[O])}m=C}}else if(E&&"string"==typeof w&&"[object Array]"===b)(m=m.join(w))&&(m=this.extendTranslation(m,e,t,n));else{var x=!1,_=!1,T=void 0!==t.count&&"string"!=typeof t.count,R=a.hasDefaultValue(t),j=T?this.pluralResolver.getSuffix(f,t.count,t):"",D=t["defaultValue".concat(j)]||t.defaultValue;!this.isValidLookup(m)&&R&&(x=!0,m=D),this.isValidLookup(m)||(_=!0,m=c);var A=t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,L=A&&_?void 0:m,M=R&&D!==m&&this.options.updateMissing;if(_||x||M){if(this.logger.log(M?"updateKey":"missingKey",f,u,c,M?D:m),i){var I=this.resolve(c,H(H({},t),{},{keySeparator:!1}));I&&I.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var K=[],U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&U&&U[0])for(var F=0;F<U.length;F++)K.push(U[F]);else"all"===this.options.saveMissingTo?K=this.languageUtils.toResolveHierarchy(t.lng||this.language):K.push(t.lng||this.language);var W=function(e,n,a){var o=R&&a!==m?a:L;r.options.missingKeyHandler?r.options.missingKeyHandler(e,u,n,o,M,t):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(e,u,n,o,M,t),r.emit("missingKey",e,u,n,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&T?K.forEach((function(e){r.pluralResolver.getSuffixes(e).forEach((function(n){W([e],c+n,t["defaultValue".concat(n)]||D)}))})):W(K,c,D))}m=this.extendTranslation(m,e,t,h,n),_&&m===c&&this.options.appendNamespaceToMissingKey&&(m="".concat(u,":").concat(c)),(_||x)&&this.options.parseMissingKeyHandler&&(m=this.options.parseMissingKeyHandler(m))}return m}},{key:"extendTranslation",value:function(e,t,n,r,a){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,n,r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(H(H({},n),{interpolation:H(H({},this.options.interpolation),n.interpolation)}));var i,s="string"==typeof e&&(n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables);if(s){var c=e.match(this.interpolator.nestingRegexp);i=c&&c.length}var l=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l=H(H({},this.options.interpolation.defaultVariables),l)),e=this.interpolator.interpolate(e,l,n.lng||this.language,n),s){var u=e.match(this.interpolator.nestingRegexp);i<(u&&u.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return a&&a[0]===r[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):o.translate.apply(o,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var f=n.postProcess||this.options.postProcess,d="string"==typeof f?[f]:f;return null!=e&&d&&d.length&&!1!==n.applyPostProcessor&&(e=K.handle(d,e,t,this.options&&this.options.postProcessPassResolved?H({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,a,o,i=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!i.isValidLookup(t)){var c=i.extractFromKey(e,s),l=c.key;n=l;var u=c.namespaces;i.options.fallbackNS&&(u=u.concat(i.options.fallbackNS));var f=void 0!==s.count&&"string"!=typeof s.count,d=f&&!s.ordinal&&0===s.count&&i.pluralResolver.shouldUseIntlApi(),p=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,h=s.lngs?s.lngs:i.languageUtils.toResolveHierarchy(s.lng||i.language,s.fallbackLng);u.forEach((function(e){i.isValidLookup(t)||(o=e,!F["".concat(h[0],"-").concat(e)]&&i.utils&&i.utils.hasLoadedNamespace&&!i.utils.hasLoadedNamespace(o)&&(F["".concat(h[0],"-").concat(e)]=!0,i.logger.warn('key "'.concat(n,'" for languages "').concat(h.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach((function(n){if(!i.isValidLookup(t)){a=n;var o,c=[l];if(i.i18nFormat&&i.i18nFormat.addLookupKeys)i.i18nFormat.addLookupKeys(c,l,n,e,s);else{var u;f&&(u=i.pluralResolver.getSuffix(n,s.count,s));var h="_zero";if(f&&(c.push(l+u),d&&c.push(l+h)),p){var m="".concat(l).concat(i.options.contextSeparator).concat(s.context);c.push(m),f&&(c.push(m+u),d&&c.push(m+h))}}for(;o=c.pop();)i.isValidLookup(t)||(r=o,t=i.getResource(n,e,o,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:a,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),a}(w);function B(e){return e.charAt(0).toUpperCase()+e.slice(1)}var z=function(){function e(t){i(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=v.create("languageUtils")}return c(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=B(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=B(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=B(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(r))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),a=[],o=function(e){e&&(n.isSupportedCode(e)?a.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),r.forEach((function(e){a.indexOf(e)<0&&o(n.formatLanguageCode(e))})),a}}]),e}(),J=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],V={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},q=["v1","v2","v3"],G={zero:0,one:1,two:2,few:3,many:4,other:5};function Q(){var e={};return J.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:V[t.fc]}}))})),e}var X=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.languageUtils=t,this.options=n,this.logger=v.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Q()}return c(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return G[e]-G[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),a=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===a?a="plural":1===a&&(a=""));var o=function(){return n.options.prepend&&a.toString()?n.options.prepend+a.toString():a.toString()};return"v1"===this.options.compatibilityJSON?1===a?"":"number"==typeof a?"_plural_".concat(a.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!q.includes(this.options.compatibilityJSON)}}]),e}();function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.logger=v.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return c(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:R,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?_(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?_(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?_(t.nestingPrefix):t.nestingPrefixEscaped||_("$t("),this.nestingSuffix=t.nestingSuffix?_(t.nestingSuffix):t.nestingSuffixEscaped||_(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var a,o,i,s=this,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(e){return e.replace(/\$/g,"$$$$")}var u=function(e){if(e.indexOf(s.formatSeparator)<0){var a=N(t,c,e);return s.alwaysFormat?s.format(a,void 0,n,Z(Z(Z({},r),t),{},{interpolationkey:e})):a}var o=e.split(s.formatSeparator),i=o.shift().trim(),l=o.join(s.formatSeparator).trim();return s.format(N(t,c,i),l,n,Z(Z(Z({},r),t),{},{interpolationkey:i}))};this.resetRegExp();var f=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,d=r&&r.interpolation&&r.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return l(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?l(s.escape(e)):l(e)}}].forEach((function(t){for(i=0;a=t.regex.exec(e);){if(void 0===(o=u(a[1].trim())))if("function"==typeof f){var n=f(e,a,r);o="string"==typeof n?n:""}else{if(d){o=a[0];continue}s.logger.warn("missed to pass in variable ".concat(a[1]," for interpolating ").concat(e)),o=""}else"string"==typeof o||s.useRawValueToEscape||(o=S(o));var c=t.safeValue(o);if(e=e.replace(a[0],c),d?(t.regex.lastIndex+=c.length,t.regex.lastIndex-=a[0].length):t.regex.lastIndex=0,++i>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Z({},o);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),a="{".concat(r[1]);e=r[0],a=(a=this.interpolate(a,i)).replace(/'/g,'"');try{i=JSON.parse(a),t&&(i=Z(Z({},t),i))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(a)}return delete i.defaultValue,e}for(i.applyPostProcessor=!1,delete i.defaultValue;n=this.nestingRegexp.exec(e);){var c=[],l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var u=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=u.shift(),c=u,l=!0}if((r=t(s.call(this,n[1].trim(),i),i))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=S(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),l&&(r=c.reduce((function(e,t){return a.format(e,t,o.lng,Z(Z({},o),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.logger=v.create("formatter"),this.options=t,this.formats={number:function(e,t,n){return new Intl.NumberFormat(t,n).format(e)},currency:function(e,t,n){return new Intl.NumberFormat(t,ne(ne({},n),{},{style:"currency"})).format(e)},datetime:function(e,t,n){return new Intl.DateTimeFormat(t,ne({},n)).format(e)},relativetime:function(e,t,n){return new Intl.RelativeTimeFormat(t,ne({},n)).format(e,n.range||"day")},list:function(e,t,n){return new Intl.ListFormat(t,ne({},n)).format(e)}},this.init(t)}return c(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=t.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e]=t}},{key:"format",value:function(e,t,n,r){var a=this;return t.split(this.formatSeparator).reduce((function(e,t){var o=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var a=r[1].substring(0,r[1].length-1);"currency"===t&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):"relativetime"===t&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach((function(e){if(e){var t=function(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split(":")),r=t[0],a=t.slice(1).join(":");"false"===a.trim()&&(n[r.trim()]=!1),"true"===a.trim()&&(n[r.trim()]=!0),isNaN(a.trim())||(n[r.trim()]=parseInt(a.trim(),10)),n[r.trim()]||(n[r.trim()]=a.trim())}}))}return{formatName:t,formatOptions:n}}(t),i=o.formatName,s=o.formatOptions;if(a.formats[i]){var c=e;try{var l=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},u=l.locale||l.lng||r.locale||r.lng||n;c=a.formats[i](e,u,ne(ne(ne({},s),r),l))}catch(e){a.logger.warn(e)}return c}return a.logger.warn("there was no format function for ".concat(i)),e}),e)}}]),e}();function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie=function(e){f(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p(t);if(n){var a=p(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return d(this,e)});function a(e,t,n){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i(this,a),o=r.call(this),j&&w.call(l(o)),o.backend=e,o.store=t,o.services=n,o.languageUtils=n.languageUtils,o.options=s,o.logger=v.create("backendConnector"),o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(n,s.backend,s),o}return c(a,[{key:"queueLoad",value:function(e,t,n,r){var a=this,o=[],i=[],s=[],c=[];return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&a.store.hasResourceBundle(e,t)?a.state[s]=2:a.state[s]<0||(1===a.state[s]?i.indexOf(s)<0&&i.push(s):(a.state[s]=1,r=!1,i.indexOf(s)<0&&i.push(s),o.indexOf(s)<0&&o.push(s),c.indexOf(t)<0&&c.push(t)))})),r||s.push(e)})),(o.length||i.length)&&this.queue.push({pending:i,loaded:{},errors:[],callback:r}),{toLoad:o,pending:i,toLoadLanguages:s,toLoadNamespaces:c}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),a=r[0],o=r[1];t&&this.emit("failedLoading",a,o,t),n&&this.store.addResourceBundle(a,o,n),this.state[e]=t?-1:2;var i={};this.queue.forEach((function(n){!function(e,t,n,r){var a=C(e,t,Object),o=a.obj,i=a.k;o[i]=o[i]||[],o[i].push(n)}(n.loaded,[a],o),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(e){i[e]||(i[e]=[]),n.loaded[e].length&&n.loaded[e].forEach((function(t){i[e].indexOf(t)<0&&i[e].push(t)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",i),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,i=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,(function(s,c){s&&c&&a<5?setTimeout((function(){r.read.call(r,e,t,n,a+1,2*o,i)}),o):i(s,c)})):i(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,r,a);if(!o.toLoad.length)return o.pending.length||a(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),a=r[0],o=r[1];this.read(a,o,"read",void 0,void 0,(function(r,i){r&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(a," failed"),r),!r&&i&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(a),i),t.loaded(e,r,i)}))}},{key:"saveMissing",value:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,oe(oe({},o),{},{isUpdate:a})),e&&e[0]&&this.store.addResource(e[0],t,n,r))}}]),a}(w);function se(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===o(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===o(e[2])||"object"===o(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function ce(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(){}function de(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){"function"==typeof e[t]&&(e[t]=e[t].bind(e))}))}var pe=function(e){f(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p(t);if(n){var a=p(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return d(this,e)});function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(i(this,a),e=r.call(this),j&&w.call(l(e)),e.options=ce(t),e.services={},e.logger=v,e.modules={external:[]},de(l(e)),n&&!e.isInitialized&&!t.isClone){if(!e.options.initImmediate)return e.init(t,n),d(e,l(e));setTimeout((function(){e.init(t,n)}),0)}return e}return c(a,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var r=se();function a(e){return e?"function"==typeof e?new e:e:null}if(this.options=ue(ue(ue({},r),this.options),ce(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=ue(ue({},r.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var o;this.modules.logger?v.init(a(this.modules.logger),this.options):v.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!=typeof Intl&&(o=re);var i=new z(this.options);this.store=new I(this.options.resources,this.options);var s=this.services;s.logger=v,s.resourceStore=this.store,s.languageUtils=i,s.pluralResolver=new X(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(s.formatter=a(o),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new ee(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new ie(a(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(s.languageDetector=a(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=a(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new W(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=fe),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&"dev"!==c[0]&&(this.options.lng=c[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var l=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];l.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var u=["addResource","addResources","addResourceBundle","removeResourceBundle"];u.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var f=E(),d=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),f.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),f}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fe,r=n,a="string"==typeof e?e:this.language;if("function"==typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(a&&"cimode"===a.toLowerCase())return r();var o=[],i=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};if(a)i(a);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(e){return i(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return i(e)})),this.services.backendConnector.load(o,this.options.ns,r)}else r(null)}},{key:"reloadResources",value:function(e,t,n){var r=E();return e||(e=this.languages),t||(t=this.options.ns),n||(n=fe),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&K.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=E();this.emit("languageChanging",e);var a=function(e){if(n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<n.languages.length;t++){var r=n.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&n.store.hasLanguageSomeTranslations(r)){n.resolvedLanguage=r;break}}},o=function(o){e||o||!n.services.languageDetector||(o=[]);var i="string"==typeof o?o:n.services.languageUtils.getBestMatchFromCodes(o);i&&(n.language||a(i),n.translator.language||n.translator.changeLanguage(i),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(i)),n.loadResources(i,(function(e){!function(e,o){o?(a(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit("languageChanged",o),n.logger.log("languageChanged",o)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,i)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,n){var r=this,a=function e(t,a){var i;if("object"!==o(a)){for(var s=arguments.length,c=new Array(s>2?s-2:0),l=2;l<s;l++)c[l-2]=arguments[l];i=r.options.overloadTranslationOptionHandler([t,a].concat(c))}else i=ue({},a);i.lng=i.lng||e.lng,i.lngs=i.lngs||e.lngs,i.ns=i.ns||e.ns;var u=r.options.keySeparator||".",f=n?"".concat(n).concat(u).concat(t):t;return r.t(f,i)};return"string"==typeof e?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=n,a}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],a=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var i=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,i);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||!(!i(r,e)||a&&!i(o,e))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=E();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=E();"string"==typeof e&&(e=[e]);var r=this.options.preload||[],a=e.filter((function(e){return r.indexOf(e)<0}));return a.length?(this.options.preload=r.concat(a),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){return e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fe,r=ue(ue(ue({},this.options),t),{isClone:!0}),o=new a(r),i=["store","services","language"];return i.forEach((function(t){o[t]=e[t]})),o.services=ue({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new W(o.services,o.options),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit.apply(o,[e].concat(n))})),o.init(r,n),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),a}(w);h(pe,"createInstance",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new pe(e,t)}));var he=pe.createInstance();he.createInstance=pe.createInstance,he.createInstance,he.init,he.loadResources,he.reloadResources,he.use,he.changeLanguage,he.getFixedT,he.t,he.exists,he.setDefaultNamespace,he.hasLoadedNamespace,he.loadNamespaces,he.loadLanguages;const me=he;function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ge=[],be=ge.forEach,ve=ge.slice;function we(e){return be.call(ve.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}function Ee(){return"function"==typeof XMLHttpRequest||"object"===("undefined"==typeof XMLHttpRequest?"undefined":ye(XMLHttpRequest))}var Se,ke,Ce,Pe=n(154),Oe=n.t(Pe,2);function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"function"==typeof fetch&&("undefined"!=typeof global&&global.fetch?Se=global.fetch:"undefined"!=typeof window&&window.fetch&&(Se=window.fetch)),Ee&&("undefined"!=typeof global&&global.XMLHttpRequest?ke=global.XMLHttpRequest:"undefined"!=typeof window&&window.XMLHttpRequest&&(ke=window.XMLHttpRequest)),"function"==typeof ActiveXObject&&("undefined"!=typeof global&&global.ActiveXObject?Ce=global.ActiveXObject:"undefined"!=typeof window&&window.ActiveXObject&&(Ce=window.ActiveXObject)),Se||!Oe||ke||Ce||(Se=Pe||Oe),"function"!=typeof Se&&(Se=void 0);var xe=function(e,t){if(t&&"object"===Ne(t)){var n="";for(var r in t)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t[r]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e};const _e=function(e,t,n,r){return"function"==typeof n&&(r=n,n=void 0),r=r||function(){},Se?function(e,t,n,r){e.queryStringParams&&(t=xe(t,e.queryStringParams));var a=we({},"function"==typeof e.customHeaders?e.customHeaders():e.customHeaders);n&&(a["Content-Type"]="application/json"),Se(t,we({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:a},"function"==typeof e.requestOptions?e.requestOptions(n):e.requestOptions)).then((function(e){if(!e.ok)return r(e.statusText||"Error",{status:e.status});e.text().then((function(t){r(null,{status:e.status,data:t})})).catch(r)})).catch(r)}(e,t,n,r):Ee||"function"==typeof ActiveXObject?function(e,t,n,r){n&&"object"===Ne(n)&&(n=xe("",n).slice(1)),e.queryStringParams&&(t=xe(t,e.queryStringParams));try{var a;(a=ke?new ke:new Ce("MSXML2.XMLHTTP.3.0")).open(n?"POST":"GET",t,1),e.crossDomain||a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.withCredentials=!!e.withCredentials,n&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.overrideMimeType&&a.overrideMimeType("application/json");var o=e.customHeaders;if(o="function"==typeof o?o():o)for(var i in o)a.setRequestHeader(i,o[i]);a.onreadystatechange=function(){a.readyState>3&&r(a.status>=400?a.statusText:null,{status:a.status,data:a.responseText})},a.send(n)}catch(e){console&&console.log(e)}}(e,t,n,r):void 0};function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var je=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(e){return JSON.parse(e)},stringify:JSON.stringify,parsePayload:function(e,t,n){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n||"")},request:_e,reloadInterval:"undefined"==typeof window&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},De=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Te(this,e),this.services=t,this.options=n,this.allOptions=r,this.type="backend",this.init(t,n,r)}var t,n;return t=e,(n=[{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=we(n,this.options||{},je()),this.allOptions=r,this.services&&this.options.reloadInterval&&setInterval((function(){return t.reload()}),this.options.reloadInterval)}},{key:"readMulti",value:function(e,t,n){this._readAny(e,e,t,t,n)}},{key:"read",value:function(e,t,n){this._readAny([e],e,[t],t,n)}},{key:"_readAny",value:function(e,t,n,r,a){var o,i=this,s=this.options.loadPath;"function"==typeof this.options.loadPath&&(s=this.options.loadPath(e,n)),(s=function(e){return!!e&&"function"==typeof e.then}(o=s)?o:Promise.resolve(o)).then((function(o){var s=i.services.interpolator.interpolate(o,{lng:e.join("+"),ns:n.join("+")});i.loadUrl(s,a,t,r)}))}},{key:"loadUrl",value:function(e,t,n,r){var a=this;this.options.request(this.options,e,void 0,(function(o,i){if(i&&(i.status>=500&&i.status<600||!i.status))return t("failed loading "+e+"; status code: "+i.status,!0);if(i&&i.status>=400&&i.status<500)return t("failed loading "+e+"; status code: "+i.status,!1);if(!i&&o&&o.message&&o.message.indexOf("Failed to fetch")>-1)return t("failed loading "+e+": "+o.message,!0);if(o)return t(o,!1);var s,c;try{s="string"==typeof i.data?a.options.parse(i.data,n,r):i.data}catch(t){c="failed parsing "+e+" to json"}if(c)return t(c,!1);t(null,s)}))}},{key:"create",value:function(e,t,n,r,a){var o=this;if(this.options.addPath){"string"==typeof e&&(e=[e]);var i=this.options.parsePayload(t,n,r),s=0,c=[],l=[];e.forEach((function(n){var r=o.options.addPath;"function"==typeof o.options.addPath&&(r=o.options.addPath(n,t));var u=o.services.interpolator.interpolate(r,{lng:n,ns:t});o.options.request(o.options,u,i,(function(t,n){s+=1,c.push(t),l.push(n),s===e.length&&a&&a(c,l)}))}))}}},{key:"reload",value:function(){var e=this,t=this.services,n=t.backendConnector,r=t.languageUtils,a=t.logger,o=n.language;if(!o||"cimode"!==o.toLowerCase()){var i=[],s=function(e){r.toResolveHierarchy(e).forEach((function(e){i.indexOf(e)<0&&i.push(e)}))};s(o),this.allOptions.preload&&this.allOptions.preload.forEach((function(e){return s(e)})),i.forEach((function(t){e.allOptions.ns.forEach((function(e){n.read(t,e,"read",null,null,(function(r,o){r&&a.warn("loading namespace ".concat(e," for language ").concat(t," failed"),r),!r&&o&&a.log("loaded namespace ".concat(e," for language ").concat(t),o),n.loaded("".concat(t,"|").concat(e),r,o)}))}))}))}}}])&&Re(t.prototype,n),e}();De.type="backend";const Ae=De;function Le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ie=[],Ke=Ie.forEach,Ue=Ie.slice;function He(e){return Ke.call(Ue.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}var Fe=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,We=function(e,t,n){var r=n||{};r.path=r.path||"/";var a=e+"="+encodeURIComponent(t);if(r.maxAge>0){var o=r.maxAge-0;if(isNaN(o))throw new Error("maxAge should be a Number");a+="; Max-Age="+Math.floor(o)}if(r.domain){if(!Fe.test(r.domain))throw new TypeError("option domain is invalid");a+="; Domain="+r.domain}if(r.path){if(!Fe.test(r.path))throw new TypeError("option path is invalid");a+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");a+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a},Be={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!=typeof document){var n=function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var a=n[r];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return null}(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+60*n*1e3)),r&&(a.domain=r),document.cookie=We(e,encodeURIComponent(t),a)}(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},ze={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window)for(var n=window.location.search.substring(1).split("&"),r=0;r<n.length;r++){var a=n[r].indexOf("=");a>0&&n[r].substring(0,a)===e.lookupQuerystring&&(t=n[r].substring(a+1))}return t}},Je=null,Ve=function(){if(null!==Je)return Je;try{Je="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){Je=!1}return Je},qe={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&Ve()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&Ve()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},$e=null,Ge=function(){if(null!==$e)return $e;try{$e="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){$e=!1}return $e},Qe={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&Ge()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&Ge()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},Xe={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},Ye={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},Ze={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},et={name:"subdomain",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);n instanceof Array&&(t="number"==typeof e.lookupFromSubdomainIndex?n[e.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):n[0].replace("http://","").replace("https://","").replace(".",""))}return t}},tt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Le(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}var t,n;return t=e,(n=[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=He(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(Be),this.addDetector(ze),this.addDetector(qe),this.addDetector(Qe),this.addDetector(Xe),this.addDetector(Ye),this.addDetector(Ze),this.addDetector(et)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];return e.forEach((function(e){if(t.detectors[e]){var r=t.detectors[e].lookup(t.options);r&&"string"==typeof r&&(r=[r]),r&&(n=n.concat(r))}})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)})))}}])&&Me(t.prototype,n),e}();tt.type="languageDetector";const nt=tt,rt=new TextEncoder,at=new TextDecoder,ot=2**32;function it(...e){const t=e.reduce(((e,{length:t})=>e+t),0),n=new Uint8Array(t);let r=0;return e.forEach((e=>{n.set(e,r),r+=e.length})),n}function st(e,t,n){if(t<0||t>=ot)throw new RangeError(`value must be >= 0 and <= 4294967295. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],n)}function ct(e){const t=Math.floor(e/ot),n=e%ot,r=new Uint8Array(8);return st(r,t,0),st(r,n,4),r}function lt(e){const t=new Uint8Array(4);return st(t,e),t}function ut(e){return it(lt(e.length),e)}const ft=e=>(e=>{let t=e;"string"==typeof t&&(t=rt.encode(t));const n=[];for(let e=0;e<t.length;e+=32768)n.push(String.fromCharCode.apply(null,t.subarray(e,e+32768)));return btoa(n.join(""))})(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),dt=e=>{let t=e;t instanceof Uint8Array&&(t=at.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return(e=>new Uint8Array(atob(e).split("").map((e=>e.charCodeAt(0)))))(t)}catch(e){throw new TypeError("The input to be decoded is not correctly encoded.")}};function pt(){return"function"==typeof WebSocketPair}function ht(){try{return void 0!==process.versions.node}catch(e){return!1}}const mt=crypto;function yt(e){try{return null!=e&&"boolean"==typeof e.extractable&&"string"==typeof e.algorithm.name&&"string"==typeof e.type}catch(e){return!1}}class gt extends Error{constructor(e){var t;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,null===(t=Error.captureStackTrace)||void 0===t||t.call(Error,this,this.constructor)}static get code(){return"ERR_JOSE_GENERIC"}}class bt extends gt{constructor(e,t="unspecified",n="unspecified"){super(e),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=t,this.reason=n}static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}}class vt extends gt{constructor(e,t="unspecified",n="unspecified"){super(e),this.code="ERR_JWT_EXPIRED",this.claim=t,this.reason=n}static get code(){return"ERR_JWT_EXPIRED"}}class wt extends gt{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}class Et extends gt{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class St extends gt{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}}class kt extends gt{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}}class Ct extends gt{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class Pt extends gt{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}class Ot extends gt{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}static get code(){return"ERR_JWK_INVALID"}}class Nt extends gt{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}}class xt extends gt{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}}class _t extends gt{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}class Tt extends gt{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}}class Rt extends gt{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}const jt=async e=>{var t,n;const{algorithm:r,keyUsages:a}=function(e){let t,n;switch(e.kty){case"oct":switch(e.alg){case"HS256":case"HS384":case"HS512":t={name:"HMAC",hash:`SHA-${e.alg.substr(-3)}`},n=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new Et(`${e.alg} keys cannot be imported as CryptoKey instances`);case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":t={name:"AES-GCM"},n=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":t={name:"AES-KW"},n=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":t={name:"PBKDF2"},n=["deriveBits"];break;default:throw new Et('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.substr(-3)}`},n=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.substr(-3)}`},n=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.substr(-3),10)||1}`},n=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new Et('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},n=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},n=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},n=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},n=e.d?["deriveBits"]:[];break;default:throw new Et('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case(pt()||ht())&&"OKP":if("EdDSA"!==e.alg)throw new Et('Invalid or unsupported JWK "alg" (Algorithm) Parameter value');switch(e.crv){case"Ed25519":t={name:"NODE-ED25519",namedCurve:"NODE-ED25519"},n=e.d?["sign"]:["verify"];break;case ht()&&"Ed448":t={name:"NODE-ED448",namedCurve:"NODE-ED448"},n=e.d?["sign"]:["verify"];break;default:throw new Et('Invalid or unsupported JWK "crv" (Subtype of Key Pair) Parameter value')}break;default:throw new Et('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:n}}(e),o=[r,null!==(t=e.ext)&&void 0!==t&&t,null!==(n=e.key_ops)&&void 0!==n?n:a];if("PBKDF2"===r.name)return mt.subtle.importKey("raw",dt(e.k),...o);const i={...e};return delete i.alg,mt.subtle.importKey("jwk",i,...o)};function Dt(e){if("object"!=typeof(t=e)||null===t||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}async function At(e,t,n){if(!Dt(e))throw new TypeError("JWK must be an object");if(t||(t=e.alg),"string"!=typeof t||!t)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');switch(e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return null!=n||(n=!0!==e.ext),n?jt({...e,alg:t,ext:!1}):dt(e.k);case"RSA":if(void 0!==e.oth)throw new Et('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return jt({...e,alg:t});default:throw new Et('Unsupported "kty" (Key Type) Parameter value')}}const Lt=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:n}=t.algorithm;if("number"!=typeof n||n<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};function Mt(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function It(e,t){return e.name===t}function Kt(e){return parseInt(e.name.substr(4),10)}function Ut(e,t){if(t.length&&!t.some((t=>e.usages.includes(t)))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const n=t.pop();e+=`one of ${t.join(", ")}, or ${n}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw new TypeError(e)}}function Ht(e,t,...n){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!It(e.algorithm,"AES-GCM"))throw Mt("AES-GCM");const n=parseInt(t.substr(1,3),10);if(e.algorithm.length!==n)throw Mt(n,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!It(e.algorithm,"AES-KW"))throw Mt("AES-KW");const n=parseInt(t.substr(1,3),10);if(e.algorithm.length!==n)throw Mt(n,"algorithm.length");break}case"ECDH-ES":if(!It(e.algorithm,"ECDH"))throw Mt("ECDH");break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!It(e.algorithm,"PBKDF2"))throw Mt("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!It(e.algorithm,"RSA-OAEP"))throw Mt("RSA-OAEP");const n=parseInt(t.substr(9),10)||1;if(Kt(e.algorithm.hash)!==n)throw Mt(`SHA-${n}`,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}Ut(e,n)}const Ft=(e,...t)=>{let n="Key must be ";if(t.length>2){const e=t.pop();n+=`one of type ${t.join(", ")}, or ${e}.`}else 2===t.length?n+=`one of type ${t[0]} or ${t[1]}.`:n+=`of type ${t[0]}.`;return null==e?n+=` Received ${e}`:"function"==typeof e&&e.name?n+=` Received function ${e.name}`:"object"==typeof e&&null!=e&&e.constructor&&e.constructor.name&&(n+=` Received an instance of ${e.constructor.name}`),n},Wt=e=>yt(e),Bt=["CryptoKey"],zt=async(e,t,n,r)=>{const a=await function(e,t,n){if(yt(t))return function(e,t,...n){switch(t){case"HS256":case"HS384":case"HS512":{if(!It(e.algorithm,"HMAC"))throw Mt("HMAC");const n=parseInt(t.substr(2),10);if(Kt(e.algorithm.hash)!==n)throw Mt(`SHA-${n}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!It(e.algorithm,"RSASSA-PKCS1-v1_5"))throw Mt("RSASSA-PKCS1-v1_5");const n=parseInt(t.substr(2),10);if(Kt(e.algorithm.hash)!==n)throw Mt(`SHA-${n}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!It(e.algorithm,"RSA-PSS"))throw Mt("RSA-PSS");const n=parseInt(t.substr(2),10);if(Kt(e.algorithm.hash)!==n)throw Mt(`SHA-${n}`,"algorithm.hash");break}case ht()&&"EdDSA":if("NODE-ED25519"!==e.algorithm.name&&"NODE-ED448"!==e.algorithm.name)throw Mt("NODE-ED25519 or NODE-ED448");break;case pt()&&"EdDSA":if(!It(e.algorithm,"NODE-ED25519"))throw Mt("NODE-ED25519");break;case"ES256":case"ES384":case"ES512":{if(!It(e.algorithm,"ECDSA"))throw Mt("ECDSA");const n=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}(t);if(e.algorithm.namedCurve!==n)throw Mt(n,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}Ut(e,n)}(t,e,n),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(Ft(t,...Bt));return mt.subtle.importKey("raw",t,{hash:`SHA-${e.substr(-3)}`,name:"HMAC"},!1,[n])}throw new TypeError(Ft(t,...Bt,"Uint8Array"))}(e,t,"verify");Lt(e,a);const o=function(e,t){const n=parseInt(e.substr(-3),10);switch(e){case"HS256":case"HS384":case"HS512":return{hash:`SHA-${n}`,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:`SHA-${n}`,name:"RSA-PSS",saltLength:n>>3};case"RS256":case"RS384":case"RS512":return{hash:`SHA-${n}`,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:`SHA-${n}`,name:"ECDSA",namedCurve:t};case(pt()||ht())&&"EdDSA":return{name:t,namedCurve:t};default:throw new Et(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}(e,a.algorithm.namedCurve);try{return await mt.subtle.verify(o,a,n,r)}catch(e){return!1}},Jt=(...e)=>{const t=e.filter(Boolean);if(0===t.length||1===t.length)return!0;let n;for(const e of t){const t=Object.keys(e);if(n&&0!==n.size)for(const e of t){if(n.has(e))return!1;n.add(e)}else n=new Set(t)}return!0},Vt=(e,t,n)=>{e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?(e=>{if(!(e instanceof Uint8Array)){if(!Wt(e))throw new TypeError(Ft(e,...Bt,"Uint8Array"));if("secret"!==e.type)throw new TypeError(`${Bt.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}})(t):((e,t)=>{if(!Wt(e))throw new TypeError(Ft(e,...Bt));if("secret"===e.type)throw new TypeError(`${Bt.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===t&&"public"===e.type)throw new TypeError(`${Bt.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===t&&"public"===e.type)throw new TypeError(`${Bt.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(e.algorithm&&"verify"===t&&"private"===e.type)throw new TypeError(`${Bt.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(e.algorithm&&"encrypt"===t&&"private"===e.type)throw new TypeError(`${Bt.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)})(t,n)},qt=function(e,t,n,r,a){if(void 0!==a.crit&&void 0===r.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||void 0===r.crit)return new Set;if(!Array.isArray(r.crit)||0===r.crit.length||r.crit.some((e=>"string"!=typeof e||0===e.length)))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let o;o=void 0!==n?new Map([...Object.entries(n),...t.entries()]):t;for(const t of r.crit){if(!o.has(t))throw new Et(`Extension Header Parameter "${t}" is not recognized`);if(void 0===a[t])throw new e(`Extension Header Parameter "${t}" is missing`);if(o.get(t)&&void 0===r[t])throw new e(`Extension Header Parameter "${t}" MUST be integrity protected`)}return new Set(r.crit)},$t=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some((e=>"string"!=typeof e))))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};const Gt=e=>Math.floor(e.getTime()/1e3),Qt=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,Xt=e=>{const t=Qt.exec(e);if(!t)throw new TypeError("Invalid time period format");const n=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(n);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(60*n);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(3600*n);case"day":case"days":case"d":return Math.round(86400*n);case"week":case"weeks":case"w":return Math.round(604800*n);default:return Math.round(31557600*n)}},Yt=e=>e.toLowerCase().replace(/^application\//,""),Zt=(e,t,n={})=>{const{typ:r}=n;if(r&&("string"!=typeof e.typ||Yt(e.typ)!==Yt(r)))throw new bt('unexpected "typ" JWT header value',"typ","check_failed");let a;try{a=JSON.parse(at.decode(t))}catch(e){}if(!Dt(a))throw new Pt("JWT Claims Set must be a top-level JSON object");const{issuer:o}=n;if(o&&!(Array.isArray(o)?o:[o]).includes(a.iss))throw new bt('unexpected "iss" claim value',"iss","check_failed");const{subject:i}=n;if(i&&a.sub!==i)throw new bt('unexpected "sub" claim value',"sub","check_failed");const{audience:s}=n;if(s&&(l="string"==typeof s?[s]:s,!("string"==typeof(c=a.aud)?l.includes(c):Array.isArray(c)&&l.some(Set.prototype.has.bind(new Set(c))))))throw new bt('unexpected "aud" claim value',"aud","check_failed");var c,l;let u;switch(typeof n.clockTolerance){case"string":u=Xt(n.clockTolerance);break;case"number":u=n.clockTolerance;break;case"undefined":u=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:f}=n,d=Gt(f||new Date);if(void 0!==a.iat||n.maxTokenAge){if("number"!=typeof a.iat)throw new bt('"iat" claim must be a number',"iat","invalid");if(void 0===a.exp&&a.iat>d+u)throw new bt('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}if(void 0!==a.nbf){if("number"!=typeof a.nbf)throw new bt('"nbf" claim must be a number',"nbf","invalid");if(a.nbf>d+u)throw new bt('"nbf" claim timestamp check failed',"nbf","check_failed")}if(void 0!==a.exp){if("number"!=typeof a.exp)throw new bt('"exp" claim must be a number',"exp","invalid");if(a.exp<=d-u)throw new vt('"exp" claim timestamp check failed',"exp","check_failed")}if(n.maxTokenAge){const e=d-a.iat;if(e-u>("number"==typeof n.maxTokenAge?n.maxTokenAge:Xt(n.maxTokenAge)))throw new vt('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(e<0-u)throw new bt('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return a};async function en(e,t,n){var r;const a=await async function(e,t,n){if(e instanceof Uint8Array&&(e=at.decode(e)),"string"!=typeof e)throw new Ct("Compact JWS must be a string or Uint8Array");const{0:r,1:a,2:o,length:i}=e.split(".");if(3!==i)throw new Ct("Invalid Compact JWS");const s=await async function(e,t,n){var r;if(!Dt(e))throw new Ct("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new Ct('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new Ct("JWS Protected Header incorrect type");if(void 0===e.payload)throw new Ct("JWS Payload missing");if("string"!=typeof e.signature)throw new Ct("JWS Signature missing or incorrect type");if(void 0!==e.header&&!Dt(e.header))throw new Ct("JWS Unprotected Header incorrect type");let a={};if(e.protected){const t=dt(e.protected);try{a=JSON.parse(at.decode(t))}catch(e){throw new Ct("JWS Protected Header is invalid")}}if(!Jt(a,e.header))throw new Ct("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const o={...a,...e.header};let i=!0;if(qt(Ct,new Map([["b64",!0]]),null==n?void 0:n.crit,a,o).has("b64")&&(i=a.b64,"boolean"!=typeof i))throw new Ct('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:s}=o;if("string"!=typeof s||!s)throw new Ct('JWS "alg" (Algorithm) Header Parameter missing or invalid');const c=n&&$t("algorithms",n.algorithms);if(c&&!c.has(s))throw new wt('"alg" (Algorithm) Header Parameter not allowed');if(i){if("string"!=typeof e.payload)throw new Ct("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new Ct("JWS Payload must be a string or an Uint8Array instance");let l=!1;"function"==typeof t&&(t=await t(a,e),l=!0),Vt(s,t,"verify");const u=it(rt.encode(null!==(r=e.protected)&&void 0!==r?r:""),rt.encode("."),"string"==typeof e.payload?rt.encode(e.payload):e.payload),f=dt(e.signature);if(!await zt(s,t,f,u))throw new Rt;let d;d=i?dt(e.payload):"string"==typeof e.payload?rt.encode(e.payload):e.payload;const p={payload:d};return void 0!==e.protected&&(p.protectedHeader=a),void 0!==e.header&&(p.unprotectedHeader=e.header),l?{...p,key:t}:p}({payload:a,protected:r,signature:o},t,n),c={payload:s.payload,protectedHeader:s.protectedHeader};return"function"==typeof t?{...c,key:s.key}:c}(e,t,n);if((null===(r=a.protectedHeader.crit)||void 0===r?void 0:r.includes("b64"))&&!1===a.protectedHeader.b64)throw new Pt("JWTs MUST NOT use unencoded payload");const o={payload:Zt(a.protectedHeader,a.payload,n),protectedHeader:a.protectedHeader};return"function"==typeof t?{...o,key:a.key}:o}const tn=mt.getRandomValues.bind(mt);async function nn(e,t){return async function(e,t){var n;let r,a,o;switch(e){case"HS256":case"HS384":case"HS512":r=parseInt(e.substr(-3),10),a={name:"HMAC",hash:`SHA-${r}`,length:r},o=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return r=parseInt(e.substr(-3),10),tn(new Uint8Array(r>>3));case"A128KW":case"A192KW":case"A256KW":r=parseInt(e.substring(1,4),10),a={name:"AES-KW",length:r},o=["wrapKey","unwrapKey"];break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.substring(1,4),10),a={name:"AES-GCM",length:r},o=["encrypt","decrypt"];break;default:throw new Et('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return mt.subtle.generateKey(a,null!==(n=null==t?void 0:t.extractable)&&void 0!==n&&n,o)}(e,t)}function rn(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new Et(`Unsupported JWE Algorithm: ${e}`)}}const an=e=>tn(new Uint8Array(rn(e)>>3)),on=(e,t)=>{if(t.length<<3!==rn(e))throw new kt("Invalid Initialization Vector length")},sn=(e,t)=>{if(e.length<<3!==t)throw new kt("Invalid Content Encryption Key length")},cn=async(e,t,n,r,a)=>{if(!(yt(n)||n instanceof Uint8Array))throw new TypeError(Ft(n,...Bt,"Uint8Array"));switch(on(e,r),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return n instanceof Uint8Array&&sn(n,parseInt(e.substr(-3),10)),async function(e,t,n,r,a){if(!(n instanceof Uint8Array))throw new TypeError(Ft(n,"Uint8Array"));const o=parseInt(e.substr(1,3),10),i=await mt.subtle.importKey("raw",n.subarray(o>>3),"AES-CBC",!1,["encrypt"]),s=await mt.subtle.importKey("raw",n.subarray(0,o>>3),{hash:"SHA-"+(o<<1),name:"HMAC"},!1,["sign"]),c=new Uint8Array(await mt.subtle.encrypt({iv:r,name:"AES-CBC"},i,t)),l=it(a,r,c,ct(a.length<<3));return{ciphertext:c,tag:new Uint8Array((await mt.subtle.sign("HMAC",s,l)).slice(0,o>>3))}}(e,t,n,r,a);case"A128GCM":case"A192GCM":case"A256GCM":return n instanceof Uint8Array&&sn(n,parseInt(e.substr(1,3),10)),async function(e,t,n,r,a){let o;n instanceof Uint8Array?o=await mt.subtle.importKey("raw",n,"AES-GCM",!1,["encrypt"]):(Ht(n,e,"encrypt"),o=n);const i=new Uint8Array(await mt.subtle.encrypt({additionalData:a,iv:r,name:"AES-GCM",tagLength:128},o,t)),s=i.slice(-16);return{ciphertext:i.slice(0,-16),tag:s}}(e,t,n,r,a);default:throw new Et("Unsupported JWE Content Encryption Algorithm")}},ln=async()=>{throw new Et('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `inflateRaw` decrypt option to provide Inflate Raw implementation.')},un=async()=>{throw new Et('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `deflateRaw` encrypt option to provide Deflate Raw implementation.')},fn=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]];function dn(e,t){if(e.algorithm.length!==parseInt(t.substr(1,3),10))throw new TypeError(`Invalid key size for alg: ${t}`)}function pn(e,t,n){if(yt(e))return Ht(e,t,n),e;if(e instanceof Uint8Array)return mt.subtle.importKey("raw",e,"AES-KW",!0,[n]);throw new TypeError(Ft(e,...Bt,"Uint8Array"))}const hn=async(e,t,n)=>{const r=await pn(t,e,"wrapKey");dn(r,e);const a=await mt.subtle.importKey("raw",n,...fn);return new Uint8Array(await mt.subtle.wrapKey("raw",a,r,"AES-KW"))},mn=async(e,t,n)=>{const r=await pn(t,e,"unwrapKey");dn(r,e);const a=await mt.subtle.unwrapKey("raw",n,r,"AES-KW",...fn);return new Uint8Array(await mt.subtle.exportKey("raw",a))},yn=async(e,t)=>{const n=`SHA-${e.substr(-3)}`;return new Uint8Array(await mt.subtle.digest(n,t))},gn=async(e,t,n,r,a=new Uint8Array(0),o=new Uint8Array(0))=>{if(!yt(e))throw new TypeError(Ft(e,...Bt));if(Ht(e,"ECDH-ES"),!yt(t))throw new TypeError(Ft(t,...Bt));Ht(t,"ECDH-ES","deriveBits","deriveKey");const i=it(ut(rt.encode(n)),ut(a),ut(o),lt(r));if(!t.usages.includes("deriveBits"))throw new TypeError('ECDH-ES private key "usages" must include "deriveBits"');const s=new Uint8Array(await mt.subtle.deriveBits({name:"ECDH",public:e},t,Math.ceil(parseInt(t.algorithm.namedCurve.substr(-3),10)/8)<<3));return async function(e,t,n,r){const a=Math.ceil((n>>3)/32);let o;for(let n=1;n<=a;n++){const a=new Uint8Array(4+t.length+r.length);a.set(lt(n)),a.set(t,4),a.set(r,4+t.length),o=o?it(o,await e("sha256",a)):await e("sha256",a)}return o=o.slice(0,n>>3),o}(yn,s,r,i)},bn=e=>{if(!yt(e))throw new TypeError(Ft(e,...Bt));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)};async function vn(e,t,n,r){!function(e){if(!(e instanceof Uint8Array)||e.length<8)throw new kt("PBES2 Salt Input must be 8 or more octets")}(e);const a=function(e,t){return it(rt.encode(e),new Uint8Array([0]),t)}(t,e),o=parseInt(t.substr(13,3),10),i={hash:`SHA-${t.substr(8,3)}`,iterations:n,name:"PBKDF2",salt:a},s={length:o,name:"AES-KW"},c=await function(e,t){if(e instanceof Uint8Array)return mt.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]);if(yt(e))return Ht(e,t,"deriveBits","deriveKey"),e;throw new TypeError(Ft(e,...Bt,"Uint8Array"))}(r,t);if(c.usages.includes("deriveBits"))return new Uint8Array(await mt.subtle.deriveBits(i,c,o));if(c.usages.includes("deriveKey"))return mt.subtle.deriveKey(i,c,s,!1,["wrapKey","unwrapKey"]);throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}function wn(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new Et(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}function En(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new Et(`Unsupported JWE Algorithm: ${e}`)}}const Sn=e=>tn(new Uint8Array(En(e)>>3));async function kn(e){return(async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:ft(e)};if(!yt(e))throw new TypeError(Ft(e,...Bt,"Uint8Array"));if(!e.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:t,key_ops:n,alg:r,use:a,...o}=await mt.subtle.exportKey("jwk",e);return o})(e)}const Cn=async(e,t,n,r,a,o)=>{if(!(yt(t)||t instanceof Uint8Array))throw new TypeError(Ft(t,...Bt,"Uint8Array"));switch(on(e,r),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&sn(t,parseInt(e.substr(-3),10)),async function(e,t,n,r,a,o){if(!(t instanceof Uint8Array))throw new TypeError(Ft(t,"Uint8Array"));const i=parseInt(e.substr(1,3),10),s=await mt.subtle.importKey("raw",t.subarray(i>>3),"AES-CBC",!1,["decrypt"]),c=await mt.subtle.importKey("raw",t.subarray(0,i>>3),{hash:"SHA-"+(i<<1),name:"HMAC"},!1,["sign"]),l=it(o,r,n,ct(o.length<<3)),u=new Uint8Array((await mt.subtle.sign("HMAC",c,l)).slice(0,i>>3));let f,d;try{f=((e,t)=>{if(!(e instanceof Uint8Array))throw new TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw new TypeError("Second argument must be a buffer");if(e.length!==t.length)throw new TypeError("Input buffers must have the same length");const n=e.length;let r=0,a=-1;for(;++a<n;)r|=e[a]^t[a];return 0===r})(a,u)}catch(e){}if(!f)throw new St;try{d=new Uint8Array(await mt.subtle.decrypt({iv:r,name:"AES-CBC"},s,n))}catch(e){}if(!d)throw new St;return d}(e,t,n,r,a,o);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&sn(t,parseInt(e.substr(1,3),10)),async function(e,t,n,r,a,o){let i;t instanceof Uint8Array?i=await mt.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):(Ht(t,e,"decrypt"),i=t);try{return new Uint8Array(await mt.subtle.decrypt({additionalData:o,iv:r,name:"AES-GCM",tagLength:128},i,it(n,a)))}catch(e){throw new St}}(e,t,n,r,a,o);default:throw new Et("Unsupported JWE Content Encryption Algorithm")}},Pn=Symbol();class On{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,t){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new kt("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!Jt(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new kt("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const n={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(qt(kt,new Map,null==t?void 0:t.crit,this._protectedHeader,n),void 0!==n.zip){if(!this._protectedHeader||!this._protectedHeader.zip)throw new kt('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==n.zip)throw new Et('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:r,enc:a}=n;if("string"!=typeof r||!r)throw new kt('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof a||!a)throw new kt('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let o,i,s,c,l,u,f;if("dir"===r){if(this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if("ECDH-ES"===r&&this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");{let n;({cek:i,encryptedKey:o,parameters:n}=await async function(e,t,n,r,a={}){let o,i,s;switch(Vt(e,n,"encrypt"),e){case"dir":s=n;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!bn(n))throw new Et("ECDH-ES with the provided key is not allowed or not supported by your javascript runtime");const{apu:c,apv:l}=a;let{epk:u}=a;u||(u=await(async e=>{if(!yt(e))throw new TypeError(Ft(e,...Bt));return(await mt.subtle.generateKey({name:"ECDH",namedCurve:e.algorithm.namedCurve},!0,["deriveBits"])).privateKey})(n));const{x:f,y:d,crv:p,kty:h}=await kn(u),m=await gn(n,u,"ECDH-ES"===e?t:e,"ECDH-ES"===e?En(t):parseInt(e.substr(-5,3),10),c,l);if(i={epk:{x:f,y:d,crv:p,kty:h}},c&&(i.apu=ft(c)),l&&(i.apv=ft(l)),"ECDH-ES"===e){s=m;break}s=r||Sn(t);const y=e.substr(-6);o=await hn(y,m,s);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s=r||Sn(t),o=await(async(e,t,n)=>{if(!yt(t))throw new TypeError(Ft(t,...Bt));if(Ht(t,e,"encrypt","wrapKey"),Lt(e,t),t.usages.includes("encrypt"))return new Uint8Array(await mt.subtle.encrypt(wn(e),t,n));if(t.usages.includes("wrapKey")){const r=await mt.subtle.importKey("raw",n,...fn);return new Uint8Array(await mt.subtle.wrapKey("raw",r,t,wn(e)))}throw new TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')})(e,n,s);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{s=r||Sn(t);const{p2c:c,p2s:l}=a;({encryptedKey:o,...i}=await(async(e,t,n,r=Math.floor(2049*Math.random())+2048,a=tn(new Uint8Array(16)))=>{const o=await vn(a,e,r,t);return{encryptedKey:await hn(e.substr(-6),o,n),p2c:r,p2s:ft(a)}})(e,n,s,c,l));break}case"A128KW":case"A192KW":case"A256KW":s=r||Sn(t),o=await hn(e,n,s);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{s=r||Sn(t);const{iv:c}=a;({encryptedKey:o,...i}=await async function(e,t,n,r){const a=e.substr(0,7);r||(r=an(a));const{ciphertext:o,tag:i}=await cn(a,n,t,r,new Uint8Array(0));return{encryptedKey:o,iv:ft(r),tag:ft(i)}}(e,n,s,c));break}default:throw new Et('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:s,encryptedKey:o,parameters:i}}(r,a,e,this._cek,this._keyManagementParameters)),n&&(t&&Pn in t?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...n}:this.setUnprotectedHeader(n):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...n}:this.setProtectedHeader(n))}if(this._iv||(this._iv=an(a)),c=this._protectedHeader?rt.encode(ft(JSON.stringify(this._protectedHeader))):rt.encode(""),this._aad?(l=ft(this._aad),s=it(c,rt.encode("."),rt.encode(l))):s=c,"DEF"===n.zip){const e=await((null==t?void 0:t.deflateRaw)||un)(this._plaintext);({ciphertext:u,tag:f}=await cn(a,e,i,this._iv,s))}else({ciphertext:u,tag:f}=await cn(a,this._plaintext,i,this._iv,s));const d={ciphertext:ft(u),iv:ft(this._iv),tag:ft(f)};return o&&(d.encrypted_key=ft(o)),l&&(d.aad=l),this._protectedHeader&&(d.protected=at.decode(c)),this._sharedUnprotectedHeader&&(d.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(d.header=this._unprotectedHeader),d}}class Nn{constructor(e){this._flattened=new On(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){const n=await this._flattened.encrypt(e,t);return[n.protected,n.encrypted_key,n.iv,n.ciphertext,n.tag].join(".")}}class xn extends class{constructor(e){if(!Dt(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return this._payload="number"==typeof e?{...this._payload,nbf:e}:{...this._payload,nbf:Gt(new Date)+Xt(e)},this}setExpirationTime(e){return this._payload="number"==typeof e?{...this._payload,exp:e}:{...this._payload,exp:Gt(new Date)+Xt(e)},this}setIssuedAt(e){return this._payload=void 0===e?{...this._payload,iat:Gt(new Date)}:{...this._payload,iat:e},this}}{setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){const n=new Nn(rt.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),n.setProtectedHeader(this._protectedHeader),this._iv&&n.setInitializationVector(this._iv),this._cek&&n.setContentEncryptionKey(this._cek),this._keyManagementParameters&&n.setKeyManagementParameters(this._keyManagementParameters),n.encrypt(e,t)}}const _n=(e,t)=>{if("string"!=typeof e||!e)throw new Ot(`${t} missing or invalid`)},Tn=dt;function Rn(e){let t;if("string"==typeof e){const n=e.split(".");3!==n.length&&5!==n.length||([t]=n)}else if("object"==typeof e&&e){if(!("protected"in e))throw new TypeError("Token does not contain a Protected Header");t=e.protected}try{if("string"!=typeof t||!t)throw new Error;const e=JSON.parse(at.decode(Tn(t)));if(!Dt(e))throw new Error;return e}catch(e){throw new TypeError("Invalid Token or Protected Header formatting")}}async function jn(e,t,n){var r;if(!Dt(e))throw new kt("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new kt("JOSE Header missing");if("string"!=typeof e.iv)throw new kt("JWE Initialization Vector missing or incorrect type");if("string"!=typeof e.ciphertext)throw new kt("JWE Ciphertext missing or incorrect type");if("string"!=typeof e.tag)throw new kt("JWE Authentication Tag missing or incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new kt("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new kt("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new kt("JWE AAD incorrect type");if(void 0!==e.header&&!Dt(e.header))throw new kt("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!Dt(e.unprotected))throw new kt("JWE Per-Recipient Unprotected Header incorrect type");let a;if(e.protected){const t=dt(e.protected);try{a=JSON.parse(at.decode(t))}catch(e){throw new kt("JWE Protected Header is invalid")}}if(!Jt(a,e.header,e.unprotected))throw new kt("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");const o={...a,...e.header,...e.unprotected};if(qt(kt,new Map,null==n?void 0:n.crit,a,o),void 0!==o.zip){if(!a||!a.zip)throw new kt('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==o.zip)throw new Et('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:i,enc:s}=o;if("string"!=typeof i||!i)throw new kt("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof s||!s)throw new kt("missing JWE Encryption Algorithm (enc) in JWE Header");const c=n&&$t("keyManagementAlgorithms",n.keyManagementAlgorithms),l=n&&$t("contentEncryptionAlgorithms",n.contentEncryptionAlgorithms);if(c&&!c.has(i))throw new wt('"alg" (Algorithm) Header Parameter not allowed');if(l&&!l.has(s))throw new wt('"enc" (Encryption Algorithm) Header Parameter not allowed');let u;void 0!==e.encrypted_key&&(u=dt(e.encrypted_key));let f,d=!1;"function"==typeof t&&(t=await t(a,e),d=!0);try{f=await async function(e,t,n,r){switch(Vt(e,t,"decrypt"),e){case"dir":if(void 0!==n)throw new kt("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==n)throw new kt("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!Dt(r.epk))throw new kt('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!bn(t))throw new Et("ECDH-ES with the provided key is not allowed or not supported by your javascript runtime");const a=await At(r.epk,e);let o,i;if(void 0!==r.apu){if("string"!=typeof r.apu)throw new kt('JOSE Header "apu" (Agreement PartyUInfo) invalid');o=dt(r.apu)}if(void 0!==r.apv){if("string"!=typeof r.apv)throw new kt('JOSE Header "apv" (Agreement PartyVInfo) invalid');i=dt(r.apv)}const s=await gn(a,t,"ECDH-ES"===e?r.enc:e,"ECDH-ES"===e?En(r.enc):parseInt(e.substr(-5,3),10),o,i);if("ECDH-ES"===e)return s;if(void 0===n)throw new kt("JWE Encrypted Key missing");return mn(e.substr(-6),s,n)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===n)throw new kt("JWE Encrypted Key missing");return(async(e,t,n)=>{if(!yt(t))throw new TypeError(Ft(t,...Bt));if(Ht(t,e,"decrypt","unwrapKey"),Lt(e,t),t.usages.includes("decrypt"))return new Uint8Array(await mt.subtle.decrypt(wn(e),t,n));if(t.usages.includes("unwrapKey")){const r=await mt.subtle.unwrapKey("raw",n,t,wn(e),...fn);return new Uint8Array(await mt.subtle.exportKey("raw",r))}throw new TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')})(e,t,n);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(void 0===n)throw new kt("JWE Encrypted Key missing");if("number"!=typeof r.p2c)throw new kt('JOSE Header "p2c" (PBES2 Count) missing or invalid');if("string"!=typeof r.p2s)throw new kt('JOSE Header "p2s" (PBES2 Salt) missing or invalid');return(async(e,t,n,r,a)=>{const o=await vn(a,e,r,t);return mn(e.substr(-6),o,n)})(e,t,n,r.p2c,dt(r.p2s));case"A128KW":case"A192KW":case"A256KW":if(void 0===n)throw new kt("JWE Encrypted Key missing");return mn(e,t,n);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":if(void 0===n)throw new kt("JWE Encrypted Key missing");if("string"!=typeof r.iv)throw new kt('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof r.tag)throw new kt('JOSE Header "tag" (Authentication Tag) missing or invalid');return async function(e,t,n,r,a){const o=e.substr(0,7);return Cn(o,t,n,r,a,new Uint8Array(0))}(e,t,n,dt(r.iv),dt(r.tag));default:throw new Et('Invalid or unsupported "alg" (JWE Algorithm) header value')}}(i,t,u,o)}catch(e){if(e instanceof TypeError)throw e;f=Sn(s)}const p=dt(e.iv),h=dt(e.tag),m=rt.encode(null!==(r=e.protected)&&void 0!==r?r:"");let y;y=void 0!==e.aad?it(m,rt.encode("."),rt.encode(e.aad)):m;let g=await Cn(s,f,dt(e.ciphertext),p,h,y);"DEF"===o.zip&&(g=await((null==n?void 0:n.inflateRaw)||ln)(g));const b={plaintext:g};return void 0!==e.protected&&(b.protectedHeader=a),void 0!==e.aad&&(b.additionalAuthenticatedData=dt(e.aad)),void 0!==e.unprotected&&(b.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(b.unprotectedHeader=e.header),d?{...b,key:t}:b}async function Dn(e,t,n){const r=await async function(e,t,n){if(e instanceof Uint8Array&&(e=at.decode(e)),"string"!=typeof e)throw new kt("Compact JWE must be a string or Uint8Array");const{0:r,1:a,2:o,3:i,4:s,length:c}=e.split(".");if(5!==c)throw new kt("Invalid Compact JWE");const l=await jn({ciphertext:i||void 0,iv:o||void 0,protected:r||void 0,tag:s||void 0,encrypted_key:a||void 0},t,n),u={plaintext:l.plaintext,protectedHeader:l.protectedHeader};return"function"==typeof t?{...u,key:l.key}:u}(e,t,n),a=Zt(r.protectedHeader,r.plaintext,n),{protectedHeader:o}=r;if(void 0!==o.iss&&o.iss!==a.iss)throw new bt('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(void 0!==o.sub&&o.sub!==a.sub)throw new bt('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(void 0!==o.aud&&JSON.stringify(o.aud)!==JSON.stringify(a.aud))throw new bt('replicated "aud" claim header parameter mismatch',"aud","mismatch");const i={payload:a,protectedHeader:o};return"function"==typeof t?{...i,key:r.key}:i}function An(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const Ln=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subscriberList={}}var t,n;return t=e,(n=[{key:"subscribe",value:function(e,t){this.subscriberList[e]=t}},{key:"sendMessage",value:function(e,t){if(Array.isArray(e)||(e=[e]),"broadcast"===e[0])this.subscriberList.forEach((function(e,n){e({type:"broadcast",message:t})}));else for(var n in this.subscriberList)e.indexOf(n)>=0&&this.subscriberList[n](t)}}])&&An(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());function Mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}const In=function e(t,n){function r(e,r,a){if("undefined"!=typeof document){"number"==typeof(a=Mn({},n,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var i in a)a[i]&&(o+="; "+i,!0!==a[i]&&(o+="="+a[i].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+o}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},a=0;a<n.length;a++){var o=n[a].split("="),i=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(r[s]=t.read(i,s),e===s)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",Mn({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,Mn({},this.attributes,t))},withConverter:function(t){return e(Mn({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});function Kn(e){return Dt(e)}class Un{constructor(e,t){if(this._cached=new WeakMap,!(e instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:null==t?void 0:t.agent},this._timeoutDuration="number"==typeof(null==t?void 0:t.timeoutDuration)?null==t?void 0:t.timeoutDuration:5e3,this._cooldownDuration="number"==typeof(null==t?void 0:t.cooldownDuration)?null==t?void 0:t.cooldownDuration:3e4}coolingDown(){return!!this._cooldownStarted&&Date.now()<this._cooldownStarted+this._cooldownDuration}async getKey(e,t){const n={...e,...t.header};this._jwks||await this.reload();const r=this._jwks.keys.filter((e=>{let t=e.kty===function(e){switch("string"==typeof e&&e.substr(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new Et('Unsupported "alg" value for a JSON Web Key Set')}}(n.alg);if(t&&"string"==typeof n.kid&&(t=n.kid===e.kid),t&&"string"==typeof e.alg&&(t=n.alg===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t&&"EdDSA"===n.alg&&(t="Ed25519"===e.crv||"Ed448"===e.crv),t)switch(n.alg){case"ES256":t="P-256"===e.crv;break;case"ES256K":t="secp256k1"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv}return t})),{0:a,length:o}=r;if(0===o){if(!1===this.coolingDown())return await this.reload(),this.getKey(e,t);throw new xt}if(1!==o)throw new _t;const i=this._cached.get(a)||this._cached.set(a,{}).get(a);if(void 0===i[n.alg]){const e=await At({...a,ext:!0},n.alg);if(e instanceof Uint8Array||"public"!==e.type)throw new Nt("JSON Web Key Set members must be public keys");i[n.alg]=e}return i[n.alg]}async reload(){this._pendingFetch||(this._pendingFetch=(async(e,t)=>{let n,r,a=!1;"function"==typeof AbortController&&(n=new AbortController,r=setTimeout((()=>{a=!0,n.abort()}),t));const o=await fetch(e.href,{signal:n?n.signal:void 0,redirect:"manual",method:"GET",...pt()?void 0:{referrerPolicy:"no-referrer",credentials:"omit",mode:"cors"}}).catch((e=>{if(a)throw new Tt;throw e}));if(void 0!==r&&clearTimeout(r),200!==o.status)throw new gt("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await o.json()}catch(e){throw new gt("Failed to parse the JSON Web Key Set HTTP response as JSON")}})(this._url,this._timeoutDuration,this._options).then((e=>{if("object"!=typeof e||!e||!Array.isArray(e.keys)||!e.keys.every(Kn))throw new Nt("JSON Web Key Set malformed");this._jwks={keys:e.keys},this._cooldownStarted=Date.now(),this._pendingFetch=void 0})).catch((e=>{throw this._pendingFetch=void 0,e}))),await this._pendingFetch}}function Hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const Fn=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"init",value:function(e){var t=this;this.refreshToken=!1,this.accessToken=!1,this.idToken=!1,this.changeStatusCb=[],this.connected=!1,this.parameters={},this.jwks=!1,this.pkce=!1,"/"!==window.location.pathname?this.localStorageKey=e.storagePrefix+"-"+window.btoa(unescape(encodeURIComponent(window.location.pathname))).replace(/\=+$/m,""):this.localStorageKey=e.storagePrefix,this.refreshTimeout=!1,e&&(this.parameters.storageType=e.storageType||"none",this.parameters.responseType=e.responseType||"code",this.parameters.scope=e.scope||"",this.parameters.openidConfigUrl=e.openidConfigUrl||"",this.parameters.authUrl=e.authUrl||"",this.parameters.tokenUrl=e.tokenUrl||"",this.parameters.clientId=e.clientId||"",this.parameters.clientPassword=e.clientPassword||"",this.parameters.redirectUri=e.redirectUri||"",this.parameters.userinfoUrl=e.userinfoUrl||"",this.parameters.usePkce=!!e.usePkce,this.parameters.refreshTokenLoop=!!e.refreshTokenLoop,e.changeStatusCb&&this.changeStatusCb.push(e.changeStatusCb)),this.parameters.openidConfigUrl?$.ajax({type:"GET",url:this.parameters.openidConfigUrl,success:function(e){var n;t.parameters.authUrl=e.authorization_endpoint,t.parameters.tokenUrl=e.token_endpoint,t.parameters.userinfoUrl=e.userinfo_endpoint,e.jwks_uri&&(t.jwks=(n=new URL(e.jwks_uri),Un.prototype.getKey.bind(new Un(n,undefined)))),t.parseInitialUrl()},error:function(e){t.broadcastMessage("error")}}):this.parseInitialUrl()}},{key:"setParameter",value:function(e,t){this.parameters[e]=t}},{key:"getParameter",value:function(e){return!!this.parameters[e]&&this.parameters[e]}},{key:"parseInitialUrl",value:function(){var e,t,n=this;if("code"===this.parameters.responseType){var r=this.getCodeFromQuery();if(r)this.getRefreshTokenFromCode(r,(function(e){e?(n.refreshToken=e.refresh_token,n.storeRefreshToken(n.refreshToken),e.access_token?(n.accessToken={access_token:e.access_token,iat:e.iat,expires_in:parseInt(e.expires_in)},n.storeAccessToken(n.accessToken),e.id_token&&(n.idToken=e.id_token,n.storeIDToken(n.idToken)),n.broadcastMessage("connected",n.accessToken.access_token,n.accessToken.expires_in),n.getConnectedProfile((function(e,t){e?n.broadcastMessage("profile",null,null,t):n.broadcastMessage("profile",null,null,!1)})),n.refreshTokenLoop(e.refresh_token,n.accessToken.expires_in)):n.broadcastMessage("disconnected")):n.broadcastMessage("disconnected")})),window.history.pushState(null,"",document.location.href.split("?")[0]);else if((e=this.getStoredData())&&e.accessToken&&this.isTokenValid(e.accessToken)){this.accessToken=e.accessToken;var a=new Date,o=Math.floor((1e3*(this.accessToken.iat+this.accessToken.expires_in)-a.getTime())/1e3);if(this.broadcastMessage("connected",this.accessToken.access_token,o),this.getConnectedProfile((function(e,t){e?n.broadcastMessage("profile",null,null,t):n.broadcastMessage("profile",null,null,!1)})),e.refreshToken){a=new Date;var i=Math.floor((1e3*(this.accessToken.iat+this.accessToken.expires_in)-a.getTime())/1e3);this.refreshTokenLoop(e.refreshToken,i)}}else e&&e.refreshToken?(this.accessToken=!1,this.refreshToken=e.refreshToken,this.storeAccessToken(!1),this.executeRefreshToken(e.refreshToken,(function(t,r){if(t){var a=new Date;n.accessToken=r,n.storeAccessToken(r);var o=Math.floor((1e3*(r.iat+r.expires_in)-a.getTime())/1e3);n.refreshTokenLoop(e.refreshToken,o),n.broadcastMessage("connected",r.access_token,o),n.getConnectedProfile((function(e,t){e?n.broadcastMessage("profile",null,null,t):n.broadcastMessage("profile",null,null,!1)}))}else n.broadcastMessage("disconnected"),n.storeIDToken(!1)}))):this.broadcastMessage("disconnected")}else{if(this.parameters.responseType.search("token")>-1)if(t=this.getAccessTokenFromFragment())this.accessToken=t,this.storeAccessToken(t),this.broadcastMessage("connected",this.accessToken.access_token,this.accessToken.expires_in);else if((e=this.getStoredData())&&e.accessToken&&this.isTokenValid(e.accessToken)){a=new Date,this.accessToken=e.accessToken;var s=Math.floor((1e3*(t.iat+t.expires_in)-a.getTime())/1e3);this.broadcastMessage("connected",this.accessToken.access_token,s)}else this.broadcastMessage("disconnected"),this.accessToken=!1,this.storeAccessToken(!1),this.storeIDToken(!1);this.parameters.responseType.search("id_token")>-1&&(this.getQueryParams(document.location.hash).id_token?(this.idToken=this.getQueryParams(document.location.hash).id_token,this.storeIDToken(this.idToken)):(e=this.getStoredData())&&e.IDToken?this.idToken=e.IDToken:this.idToken=!1),this.getConnectedProfile((function(e,t){e?n.broadcastMessage("profile",null,null,t):n.broadcastMessage("profile",null,null,!1)}))}}},{key:"getQueryParams",value:function(e){e=e.split("+").join(" ");var t,n={},r=/[#&]?([^=]+)=([^&]*)/g;for(t=r.exec(e);t;)n[decodeURIComponent(t[1])]=decodeURIComponent(t[2]),t=r.exec(e);return n}},{key:"getAccessTokenFromFragment",value:function(){var e=this.getQueryParams(document.location.hash),t=new Date;return!(!e.access_token||!e.expires_in)&&{access_token:e.access_token,expires_in:parseInt(e.expires_in),iat:Math.floor(t.getTime()/1e3)}}},{key:"getCodeFromQuery",value:function(){return this.getQueryParams(document.location.search.substring(1)).code||!1}},{key:"refresh",value:function(e){var t=this;"code"===this.parameters.responseType&&this.refreshToken?this.executeRefreshToken(this.refreshToken,(function(n,r){n&&(t.accessToken=r,t.storeAccessToken(r),t.refreshTokenLoop(t.refreshToken,t.accessToken.expires_in),t.broadcastMessage("refresh",r.access_token,r.expires_in),e(r.access_token))})):e(!1)}},{key:"getStatus",value:function(){return this.accessToken&&this.isTokenValid(this.accessToken)?"connected":(this.accessToken=!1,"disconnected")}},{key:"storeAccessToken",value:function(e){var t=this.getStoredData();return t||(t={}),t.accessToken=e,"local"===this.parameters.storageType?localStorage.setItem(this.localStorageKey,JSON.stringify(t)):"cookie"===this.parameters.storageType&&In.set(this.localStorageKey,JSON.stringify(t))}},{key:"storeIDToken",value:function(e){var t=this.getStoredData();return t||(t={}),t.IDToken=e,"local"===this.parameters.storageType?localStorage.setItem(this.localStorageKey,JSON.stringify(t)):"cookie"===this.parameters.storageType&&In.set(this.localStorageKey,JSON.stringify(t))}},{key:"storeRefreshToken",value:function(e){var t=this.getStoredData();return t||(t={}),t.refreshToken=e,"local"===this.parameters.storageType?localStorage.setItem(this.localStorageKey,JSON.stringify(t)):"cookie"===this.parameters.storageType&&In.set(this.localStorageKey,JSON.stringify(t))}},{key:"storeNonce",value:function(e){var t=this.getStoredData();return t||(t={}),t.nonce=e,"local"===this.parameters.storageType?localStorage.setItem(this.localStorageKey,JSON.stringify(t)):"cookie"===this.parameters.storageType&&In.set(this.localStorageKey,JSON.stringify(t))}},{key:"storePkce",value:function(e){var t=this.getStoredData();return t||(t={}),t.pkce=e,"local"===this.parameters.storageType?localStorage.setItem(this.localStorageKey,JSON.stringify(t)):"cookie"===this.parameters.storageType&&In.set(this.localStorageKey,JSON.stringify(t))}},{key:"makeRandomString",value:function(e){var t=new Uint8Array(e),n="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=r.length;window.crypto.getRandomValues(t);for(var o=0;o<e;o++){for(;t[o]>=a;){var i=new Uint8Array(1);window.crypto.getRandomValues(i),t[o]=i[0]}n+=r.charAt(t[o])}return n}},{key:"getStoredData",value:function(){if("local"===this.parameters.storageType)return JSON.parse(localStorage.getItem(this.localStorageKey))||{};if("cookie"!==this.parameters.storageType)return{};try{return JSON.parse(In.get(this.localStorageKey))||{}}catch(e){return{}}}},{key:"onChangeStatus",value:function(e){this.changeStatusCb.push(e)}},{key:"isTokenValid",value:function(e){if(e){var t=new Date;return 1e3*(e.iat+e.expires_in)>t.getTime()}return!1}},{key:"getRefreshTokenFromCode",value:function(e,t){var n=this,r={grant_type:"authorization_code",client_id:this.parameters.clientId,redirect_uri:this.parameters.redirectUri,code:e},a=this.getStoredData();this.parameters.usePkce&&a.pkce&&(r.code_verifier=a.pkce),$.ajax({type:"POST",url:this.parameters.tokenUrl,data:r,success:function(e,n,r){t(e)},error:function(e){403===e.status&&(n.refreshToken=!1),n.accessToken=!1,t(!1)}})}},{key:"refreshTokenLoop",value:function(e,t){var n=this;this.parameters.refreshTokenLoop&&(clearTimeout(this.refreshTimeout),this.refreshTimeout=setTimeout((function(){n.executeRefreshToken(e,(function(t,r){if(t){var a=new Date,o=Math.floor((1e3*(r.iat+r.expires_in)-a.getTime())/1e3);n.refreshTokenLoop(e,o)}}))}),1e3*(t-60)))}},{key:"runRefreshToken",value:function(e){return this.getStoredData().refreshToken?this.executeRefreshToken(this.getStoredData().refreshToken,e):$.Deferred().reject("disconnected")}},{key:"executeRefreshToken",value:function(e,t){var n=this;return $.ajax({type:"POST",url:this.parameters.tokenUrl,data:{grant_type:"refresh_token",refresh_token:e},success:function(e,r,a){n.accessToken=e.access_token,n.storeAccessToken(e),n.broadcastMessage("refresh",e.access_token,e.expires_in),t&&t(!0,e)},error:function(e){403!==e.status&&400!==e.status||(n.refreshToken=!1),n.accessToken=!1,n.storeAccessToken(!1),n.storeRefreshToken(!1),0===e.readyState?n.broadcastMessage("network error"):n.broadcastMessage("disconnected"),t&&t(!1)}}).then((function(e){return{token:e.access_token,expires_in:e.expires_in}}))}},{key:"broadcastMessage",value:function(e,t,n,r){for(var a in this.changeStatusCb)this.changeStatusCb[a](e,t,n,r)}},{key:"getConnectedProfile",value:function(e){var t=this;this.getStoredData().IDToken&&this.jwks?en(this.getStoredData().IDToken,this.jwks).then((function(t){e&&e(!0,t.payload)})).catch((function(n){t.storeIDToken(!1),"ERR_JWT_EXPIRED"===n.code?$.ajax({type:"GET",url:t.parameters.userinfoUrl,headers:{Authorization:"Bearer "+t.accessToken.access_token},success:function(t){e&&e(!0,t)},error:function(n){t.accessToken=!1,t.storeAccessToken(!1),t.storeRefreshToken(!1),e&&e(!0,"error")}}):(t.accessToken=!1,t.storeAccessToken(!1),t.storeRefreshToken(!1),e&&e(!0,"error"))})):this.parameters.userinfoUrl&&this.accessToken?$.ajax({type:"GET",url:this.parameters.userinfoUrl,headers:{Authorization:"Bearer "+this.accessToken.access_token},success:function(t){e&&e(!0,t)},error:function(n){t.accessToken=!1,t.storeAccessToken(!1),t.storeRefreshToken(!1),t.storeIDToken(!1),e&&e(!0,"error")}}):e&&e(!1)}},{key:"connect",value:function(){var e=this;this.storeAccessToken(!1),this.storeRefreshToken(!1),this.storeIDToken(!1);var t=this.getStoredData();if(t&&this.isTokenValid(t.accessToken)){var n=new Date,r=Math.floor((1e3*(t.iat+t.expires_in)-n.getTime())/1e3);this.broadcastMessage("connected",t.accessToken.access_token,r),this.getConnectedProfile((function(t,n){t?e.broadcastMessage("profile",null,null,n):e.broadcastMessage("profile",null,null,!1)}))}else{t.accessToken=!1;var a=this.makeRandomString(16);if(this.storeAccessToken(!1),this.storeNonce(a),this.parameters.usePkce&&"code"===this.parameters.responseType){var o=this.makeRandomString(64);this.storePkce(o);var i=new TextEncoder,s=this.parameters.scope;-1===s.search("openid")&&(s+=" openid"),crypto.subtle.digest("SHA-256",i.encode(o)).then((function(t){var n=e.base64UrlArrayBuffer(t);document.location=e.parameters.authUrl+"?response_type="+e.parameters.responseType+"&client_id="+e.parameters.clientId+"&redirect_uri="+e.parameters.redirectUri+"&scope="+s+"&nonce="+a+"&code_challenge_method=S256&code_challenge="+n}))}else{var c=this.parameters.scope;this.parameters.responseType.search("id_token")>-1&&-1===c.search("openid")&&(c+=" openid"),document.location=this.parameters.authUrl+"?response_type="+this.parameters.responseType+"&client_id="+this.parameters.clientId+"&redirect_uri="+this.parameters.redirectUri+"&scope="+c+"&nonce="+a}}}},{key:"disconnect",value:function(){clearTimeout(this.refreshTimeout),"local"===this.parameters.storageType?localStorage.removeItem(this.localStorageKey):"cookie"===this.parameters.storageType&&In.remove(this.localStorageKey),this.refreshToken=!1,this.accessToken=!1,this.storeAccessToken(!1),this.storeRefreshToken(!1),this.storeIDToken(!1),this.broadcastMessage("disconnected")}},{key:"base64UrlArrayBuffer",value:function(e){for(var t,n="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",a=new Uint8Array(e),o=a.byteLength,i=o%3,s=o-i,c=0;c<s;c+=3)n+=r[(16515072&(t=a[c]<<16|a[c+1]<<8|a[c+2]))>>18]+r[(258048&t)>>12]+r[(4032&t)>>6]+r[63&t];return 1==i?n+=r[(252&(t=a[s]))>>2]+r[(3&t)<<4]:2==i&&(n+=r[(64512&(t=a[s]<<8|a[s+1]))>>10]+r[(1008&t)>>4]+r[(15&t)<<2]),n}}])&&Hn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());function Wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const Bn=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.apiPrefix="",this.token="",this.token_expires_at=0,this.signJwk=!1,this.counter=0}var t,n;return t=e,(n=[{key:"setConfig",value:function(e){this.apiPrefix=e}},{key:"setToken",value:function(e,t){this.token=e,this.token_expires_at=t}},{key:"setSignJwk",value:function(e){this.signJwk=e}},{key:"getConfig",value:function(e){return this.apiPrefix}},{key:"request",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/json; charset=utf-8";if(this.counter<=100){this.counter++;var o=new Date;return!this.token||1e3*this.token_expires_at>o.getTime()?(this.counter--,this.APIRequestExecute(e,n,r,a)):(this.counter--,Fn.runRefreshToken().then((function(i){return t.token=i.token,t.token_expires_at=o.getTime()/1e3+i.expires_in,t.APIRequestExecute(e,n,r,a)})).fail((function(){Ln.sendMessage("App",{action:"sessionTimeout"})})))}return $.Deferred().reject("error too busy")}},{key:"APIRequestExecute",value:function(e,t,n,r){var a={Authorization:"Bearer "+this.token,accept:r},o=null,i=n?JSON.stringify(n):null;return n&&(o="application/json; charset=utf-8"),$.ajax({method:t,url:e,data:i,contentType:o,headers:a}).fail((function(e){401===e.status&&Ln.sendMessage("App",{action:"sessionTimeout"})}))}},{key:"requestSigned",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.request(e,n,r).then((function(e,n,r){return"application/jwt"===r.getResponseHeader("content-type")?t.signJwk?en(e,t.signJwk):$.Deferred().reject("No public key to verify signature"):$.Deferred().reject("invalid content-type")}))}}])&&Wn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());function zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const Jn=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state=0,this.changeCallback=[],window.onhashchange=function(){t.changeCallback.forEach((function(e){e(t.getCurrentRoute())}))}}var t,n;return t=e,(n=[{key:"addChangeRouteCallback",value:function(e){this.changeCallback.push(e)}},{key:"getCurrentRoute",value:function(){var e=window.location.hash;return!!e&&e.substring(1)}},{key:"addRoute",value:function(e){history.pushState({id:"state-"+this.state++},"","#"+e)}}])&&zn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const qn=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.storageType=!1}var t,n;return t=e,(n=[{key:"setStorageType",value:function(e){if("local"===e){var t="testLocalStorage";try{localStorage.setItem(t,t),localStorage.removeItem(t),this.storageType="local"}catch(e){this.storageType="cookie"}}else this.storageType=e}},{key:"setValue",value:function(e,t){return"local"===this.storageType?localStorage.setItem(e,JSON.stringify(t)):"cookie"===this.storageType&&In.set(e,JSON.stringify(t))}},{key:"removeValue",value:function(e){return"local"===this.storageType?localStorage.removeItem(e):"cookie"===this.storageType&&In.remove(e)}},{key:"getValue",value:function(e){if("local"===this.storageType)return JSON.parse(localStorage.getItem(e))||!1;if("cookie"!==this.storageType)return!1;try{return JSON.parse(In.get(e))||!1}catch(e){return!1}}}])&&Vn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());function $n(e){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qn(e,t){return(Qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xn(e,t){if(t&&("object"===$n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yn(e)}function Yn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zn(e){return(Zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const er=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qn(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Zn(o);if(i){var n=Zn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Xn(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={message:[],counter:0,loggedIn:e.loggedIn},Ln.subscribe("Notification",(function(e){if(e.type){var n=t.state.message;n.push({type:e.type,message:e.message,id:t.state.counter}),t.setState({message:n,counter:t.state.counter+1},(function(){var n=e.autohide;void 0===n&&(n=!0),$("#toast-"+(t.state.counter-1)).toast({animation:!0,autohide:n}).toast("show")}))}})),t.close=t.close.bind(Yn(t)),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"close",value:function(e){var t=this,n=this.state.message;n.forEach((function(r,a){r.id===e&&(n.splice(a,1),t.setState({message:n}))}))}},{key:"render",value:function(){var e=this,t=[],n=this.state.loggedIn;return this.state.message.forEach((function(e){"danger"!==e.type&&"warning"!==e.type||(n=!0)})),n&&this.state.message.forEach((function(n,a){var o;o="success"===n.type?r.createElement("i",{className:"fa fa-check-square-o btn-icon text-success"}):"danger"===n.type?r.createElement("i",{className:"fa fa-exclamation-circle text-danger btn-icon"}):"warning"===n.type?r.createElement("i",{className:"fa fa-exclamation-triangle text-warning btn-icon"}):r.createElement("i",{className:"fa fa-info-circle btn-icon text-info"}),t.push(r.createElement("div",{className:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true",key:a,id:"toast-"+n.id},r.createElement("div",{className:"toast-header"},o,r.createElement("strong",{className:"me-auto"},"Hutch"),r.createElement("button",{"aria-label":"Close",className:"btn-close","data-bs-dismiss":"toast",type:"button",onClick:function(t){return e.close(n.id)}})),r.createElement("div",{className:"toast-body"},n.message)))})),r.createElement("div",{className:"position-fixed",style:{top:45,right:20,zIndex:9999}},t)}}])&&Gn(t.prototype,n),a&&Gn(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function tr(e){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rr(e,t){return(rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ar(e,t){if(t&&("object"===tr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function or(e){return(or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const ir=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rr(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=or(o);if(i){var n=or(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ar(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={status:e.status},t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"logOut",value:function(){Fn.disconnect()}},{key:"logIn",value:function(){Fn.connect()}},{key:"render",value:function(){return"connecting"===this.state.status?r.createElement("a",{className:"nav-link",onClick:this.logIn,href:"#"},me.t("connecting")):"connected"===this.state.status?r.createElement("a",{className:"nav-link",onClick:this.logOut,href:"#"},me.t("log_out")):r.createElement("a",{className:"nav-link",onClick:this.logIn,href:"#"},me.t("log_in"))}}])&&nr(t.prototype,n),a&&nr(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function sr(e){return(sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lr(e,t){return(lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ur(e,t){if(t&&("object"===sr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fr(e)}function fr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dr(e){return(dr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const pr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lr(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=dr(o);if(i){var n=dr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ur(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={config:e.config,oidcStatus:e.oidcStatus,safeList:e.safeList,safeContent:e.safeContent,curSafe:e.curSafe,hasProfile:e.hasProfile},t.navigateTo=t.navigateTo.bind(fr(t)),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"navigateTo",value:function(e,t){e.preventDefault(),Jn.addRoute(t||""),Ln.sendMessage("App",{action:"nav",target:t})}},{key:"navigateoConfig",value:function(e){e.preventDefault(),Ln.sendMessage("App",{action:"config"})}},{key:"render",value:function(){var e,t,n=this,a=[];return this.state.safeList.forEach((function(e,t){var o;o=n.state.safeContent&&n.state.safeContent[e.name]&&n.state.safeContent[e.name].key?r.createElement("i",{className:"fa fa-unlock btn-icon-right","aria-hidden":"true"}):r.createElement("i",{className:"fa fa-lock btn-icon-right","aria-hidden":"true"});var i="nav-link";n.state.curSafe.name===e.name&&(i+=" active"),a.push(r.createElement("li",{className:"nav-item",key:t},r.createElement("a",{className:i,"data-bs-toggle":"collapse","data-bs-target":".navbar-collapse.show",href:"#","aria-current":"page",onClick:function(t){return n.navigateTo(t,e.name)}},e.display_name||e.name,o)))})),"connected"===this.state.oidcStatus&&this.state.hasProfile,r.createElement("nav",{className:"navbar navbar-expand-lg nav-pills navbar-light bg-light"},r.createElement("div",{className:"container-fluid"},r.createElement("a",{className:"navbar-brand",href:"#",onClick:function(e){return n.navigateTo(e,!1)}},"Hutch"),r.createElement("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.createElement("span",{className:"navbar-toggler-icon"})),r.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.createElement("ul",{className:"navbar-nav"},a),r.createElement("ul",{className:"navbar-nav ms-auto flex-nowrap text-right"},r.createElement("li",{className:"nav-item"},r.createElement("a",("#",(t="href")in(e={className:"nav-link","data-bs-toggle":"collapse","data-bs-target":".navbar-collapse.show",href:"#",onClick:function(e){return n.navigateoConfig(e)}})?Object.defineProperty(e,t,{value:"#",enumerable:!0,configurable:!0,writable:!0}):e.href="#",e),r.createElement("i",{className:"fa fa-cog btn-icon-right","aria-hidden":"true"}))),r.createElement("li",{className:"nav-item"},r.createElement(ir,{status:this.state.oidcStatus}))))))}}])&&cr(t.prototype,n),a&&cr(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function hr(e){return(hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yr(e,t){return(yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gr(e,t){if(t&&("object"===hr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return br(e)}function br(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vr(e){return(vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const wr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yr(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=vr(o);if(i){var n=vr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return gr(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={name:e.name,title:e.title,message:e.message,cb:e.cb},t.closeModal=t.closeModal.bind(br(t)),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"closeModal",value:function(e,t){this.state.cb&&this.state.cb(t)}},{key:"render",value:function(){var e=this;return r.createElement("div",{className:"modal",tabIndex:"-1",id:this.state.name},r.createElement("div",{className:"modal-dialog"},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("h5",{className:"modal-title"},this.state.title),r.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(t){return e.closeModal(t,!1)}})),r.createElement("div",{className:"modal-body"},r.createElement("p",null,this.state.message)),r.createElement("div",{className:"modal-footer"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.closeModal(t,!1)}},me.t("modalClose")),r.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(t){return e.closeModal(t,!0)}},me.t("modalOk"))))))}}])&&mr(t.prototype,n),a&&mr(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function Er(e){return(Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kr(e,t){return(kr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cr(e,t){if(t&&("object"===Er(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pr(e)}function Pr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Or(e){return(Or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Nr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kr(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Or(o);if(i){var n=Or(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Cr(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={config:e.config,hutchProfile:e.hutchProfile,imageError:!1,nameMandatory:!1,messageMandatory:!1,imageMandatory:!1,imageLoading:!1},t.editProfile=t.editProfile.bind(Pr(t)),t.cancelEditProfile=t.cancelEditProfile.bind(Pr(t)),t.editKey=t.editKey.bind(Pr(t)),t.editMessage=t.editMessage.bind(Pr(t)),t.getRandomWikimediaImage=t.getRandomWikimediaImage.bind(Pr(t)),t.uploadImage=t.uploadImage.bind(Pr(t)),t.onUploadImage=t.onUploadImage.bind(Pr(t)),t.saveProfile=t.saveProfile.bind(Pr(t)),t.removeProfile=t.removeProfile.bind(Pr(t)),t.removeProfileConfirm=t.removeProfileConfirm.bind(Pr(t)),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"editProfile",value:function(){var e=this.state.hutchProfile;e.name||(e.name=this.state.profile.name),e.sign_kid||(e.sign_kid=this.state.config.jwks.keys[0].kid),this.setState({editProfile:!0,hutchProfile:e})}},{key:"cancelEditProfile",value:function(){Ln.sendMessage("App",{action:"getProfile"})}},{key:"editKey",value:function(e){var t=this.state.hutchProfile;t.sign_kid=e.target.value,this.setState({hutchProfile:t})}},{key:"editMessage",value:function(e){var t=this.state.hutchProfile;t.message=e.target.value,this.setState({hutchProfile:t})}},{key:"editName",value:function(e){var t=this.state.hutchProfile;t.name=e.target.value,this.setState({hutchProfile:t})}},{key:"getRandomWikimediaImage",value:function(){var e=this;this.setState({imageLoading:!0},(function(){$.ajax({url:"https://commons.wikimedia.org/w/api.php?action=query&list=random&rnnamespace=6&rnlimit=1&prop=imageinfo&format=json&origin=*"}).then((function(t){$.ajax({url:"https://commons.wikimedia.org/w/api.php?action=query&prop=imageinfo&iiprop=url&iiurlwidth=200&format=json&origin=*&titles="+t.query.random[0].title}).then((function(n){var r=new XMLHttpRequest;r.open("GET",n.query.pages[t.query.random[0].id].imageinfo[0].responsiveUrls[1.5],!0),r.responseType="arraybuffer",r.onload=function(t){r.response;var n=e.state.hutchProfile;n.picture="data:"+r.getResponseHeader("content-type")+";base64,"+btoa(String.fromCharCode.apply(null,new Uint8Array(r.response))),e.setState({hutchProfile:n,imageError:!1,imageLoading:!1})},r.send(null)})).catch((function(){Ln.sendMessage("Notification",{type:"warning",message:me.t("messageErrorWikiImage")}),e.setState({imageError:!0,imageLoading:!1})}))})).catch((function(){Ln.sendMessage("Notification",{type:"warning",message:me.t("messageErrorWikiImage")}),e.setState({imageError:!0,imageLoading:!1})}))}))}},{key:"uploadImage",value:function(){$("#uploadImageInput").trigger("click")}},{key:"onUploadImage",value:function(e){var t=this,n=e.target.files;if(n.length>0){var r=n[0];if(r.size>409600)this.setState({imageError:!0});else{var a=new FileReader;a.onload=function(e){var n=t.state.hutchProfile;n.picture=e.target.result,t.setState({hutchProfile:n,imageError:!1})},a.readAsDataURL(r)}}}},{key:"saveProfile",value:function(e){e.preventDefault();var t=this.state.hutchProfile;t.message&&t.name&&t.picture?Bn.request(this.state.config.profile_endpoint,"PUT",t).then((function(){Ln.sendMessage("App",{action:"getProfile"}),Ln.sendMessage("Notification",{type:"info",message:me.t("messageProfileSaved")})})).catch((function(){Ln.sendMessage("Notification",{type:"warning",message:me.t("messageErrorSaveProfile")})})):this.setState({messageMandatory:!t.message,nameMandatory:!t.name,imageMandatory:!t.picture})}},{key:"removeProfile",value:function(){new bootstrap.Modal(document.getElementById("removeProfile"),{keyboard:!1}).show()}},{key:"removeProfileConfirm",value:function(e){e&&Bn.request(this.state.config.profile_endpoint,"DELETE").then((function(){Ln.sendMessage("App",{action:"resetProfile"}),Ln.sendMessage("Notification",{type:"info",message:me.t("messageRemoveProfile")})})).catch((function(){Ln.sendMessage("Notification",{type:"warning",message:me.t("messageErrorSaveProfile")})})),bootstrap.Modal.getOrCreateInstance(document.querySelector("#removeProfile")).hide()}},{key:"render",value:function(){var e,t,n,a,o=this,i=[];this.state.config.jwks.keys.forEach((function(e,t){i.push(r.createElement("option",{value:e.kid,key:t},e.alg))})),this.state.imageLoading?e=r.createElement("i",{className:"fa fa-spinner fa-spin fa-3x fa-fw"}):this.state.hutchProfile.picture&&(e=r.createElement("img",{src:this.state.hutchProfile.picture,alt:"profile image",className:"profile-image"}));var s="form-control";this.state.messageMandatory&&(s+=" is-invalid",n=r.createElement("div",{className:"invalid-feedback"},me.t("profileMessageMandatory")));var c="form-control";return this.state.nameMandatory&&(c+=" is-invalid",a=r.createElement("div",{className:"invalid-feedback"},me.t("profileNameMandatory"))),this.state.imageMandatory&&(t=r.createElement("div",{className:"alert alert-danger"},me.t("profileImageMandatory"))),r.createElement("div",null,r.createElement("form",{onSubmit:this.saveProfile},r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"keyList",className:"form-label"},me.t("profileServerKey")),r.createElement("select",{className:"form-select","aria-label":"public key",id:"keyList",onChange:function(e){return o.editKey(e)},value:this.state.hutchProfile.sign_kid},i)),r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"profileName",className:"form-label"},me.t("profileName")),r.createElement("input",{type:"text",className:c,id:"profileName",value:this.state.hutchProfile.name||"",onChange:function(e){return o.editName(e)}}),a),r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"profileMessage",className:"form-label"},me.t("profileMessage")),r.createElement("textarea",{className:s,id:"profileMessage",value:this.state.hutchProfile.message||"",onChange:function(e){return o.editMessage(e)},maxLength:"512"}),n),r.createElement("div",{className:"mb-3"},r.createElement("label",{className:"form-label"},me.t("profileImage")),r.createElement("div",null,e,t)),r.createElement("div",{className:"mb-3"},r.createElement("input",{type:"file",id:"uploadImageInput",onChange:this.onUploadImage,accept:".jpg,.jpg,.png,.gif,.bmp",className:"upload"}),r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.uploadImage},me.t("profileImageSelect")),r.createElement("span",{className:"badge bg-secondary btn-icon btn-icon-right"},me.t("or")),r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.getRandomWikimediaImage},me.t("profileImageRandom"))),r.createElement("hr",null),r.createElement("div",{className:"btn-toolbar justify-content-between",role:"toolbar"},r.createElement("div",{className:"btn-group",role:"group"},r.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.saveProfile},me.t("profileSubmit")),r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.cancelEditProfile},me.t("profileCancel"))),r.createElement("div",{className:"input-group"},r.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.removeProfile},r.createElement("i",{className:"fa fa-trash","aria-hidden":"true"}))))),r.createElement(wr,{name:"removeProfile",title:me.t("removeProfileTitle"),message:me.t("removeProfileMessage"),cb:this.removeProfileConfirm}))}}])&&Sr(t.prototype,n),a&&Sr(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function xr(e){return(xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tr(e,t){return(Tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rr(e,t){if(t&&("object"===xr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jr(e)}function jr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dr(e){return(Dr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Ar=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tr(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Dr(o);if(i){var n=Dr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Rr(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={config:e.config,profile:e.profile,hutchProfile:e.hutchProfile},t.addSafe=t.addSafe.bind(jr(t)),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"editProfile",value:function(){Ln.sendMessage("App",{action:"editProfile"})}},{key:"lockAllSafe",value:function(){Ln.sendMessage("App",{action:"lockAllSafe"}),Ln.sendMessage("Notification",{type:"info",message:me.t("lockedAllSafe")})}},{key:"addSafe",value:function(){Ln.sendMessage("App",{action:"addSafe"})}},{key:"render",value:function(){var e,t;return this.state.hutchProfile?(e=r.createElement("div",null,r.createElement("div",{className:"d-flex justify-content-center"},r.createElement("img",{src:this.state.hutchProfile.picture,className:"card-img-top profile-image"})),r.createElement("div",{className:"d-flex justify-content-center"},r.createElement("p",null,this.state.hutchProfile.message))),t=r.createElement("div",{className:"d-flex justify-content-center"},r.createElement("button",{type:"button",onClick:this.editProfile,className:"btn btn-secondary"},me.t("profileEdit")))):t=r.createElement("button",{type:"button",onClick:this.editProfile,className:"btn btn-secondary"},me.t("profileCreate")),r.createElement("div",null,r.createElement("div",{className:"alert alert-primary",role:"alert"},me.t("profileValue",{name:this.state.hutchProfile.name||this.state.profile.name||""}),r.createElement("div",{className:"btn-group float-end",role:"group"},r.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.lockAllSafe,title:me.t("lockAllSafe")},r.createElement("i",{className:"fa fa-lock","aria-hidden":"true"})),r.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.addSafe,title:me.t("addSafe")},r.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})))),e,t)}}])&&_r(t.prototype,n),a&&_r(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function Lr(e){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ir(e,t){return(Ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kr(e,t){if(t&&("object"===Lr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ur(e){return(Ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Hr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ir(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ur(o);if(i){var n=Ur(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Kr(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={config:e.config,profile:e.profile,hutchProfile:e.hutchProfile,hasProfile:e.hasProfile,editProfile:e.editProfile,oidcStatus:e.oidcStatus},t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"render",value:function(){return"connecting"===this.state.oidcStatus?r.createElement("div",{className:"alert alert-success",role:"alert"},me.t("connectingMessage")):"disconnected"===this.state.oidcStatus?r.createElement("div",{className:"alert alert-warning",role:"alert"},me.t("disconnectedMessage")):this.state.editProfile?r.createElement(Nr,{config:this.state.config,hutchProfile:this.state.hutchProfile}):r.createElement(Ar,{config:this.state.config,hutchProfile:this.state.hutchProfile,profile:this.state.profile})}}])&&Mr(t.prototype,n),a&&Mr(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function Fr(e){return(Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Br(e,t){return(Br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zr(e,t){if(t&&("object"===Fr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jr(e)}function Jr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vr(e){return(Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const qr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Br(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Vr(o);if(i){var n=Vr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return zr(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={isError:e.isError,ph:e.ph,cb:e.cb,value:"",filename:""},t.changeValue=t.changeValue.bind(Jr(t)),t.getFile=t.getFile.bind(Jr(t)),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changeValue",value:function(e){var t=this;this.setState({value:e.target.value,filename:""},(function(){t.state.cb(t.state.value)}))}},{key:"getFile",value:function(e){var t=this,n=e.target.files[0],r=new FileReader;r.onload=function(e){t.setState({value:e.target.result,filename:n.name},(function(){t.state.cb(t.state.value)}))},r.readAsText(n)}},{key:"render",value:function(){var e,t,n=this,a="form-control";return this.state.isError&&(a+=" is-invalid",e=r.createElement("div",{className:"invalid-feedback"},me.t("jwkError"))),this.state.filename&&(t=r.createElement("code",{className:"btn-icon-right"},this.state.filename)),r.createElement("div",null,r.createElement("div",{className:"input-group"},r.createElement("textarea",{className:a,autoComplete:"off",placeholder:this.state.ph,value:this.state.value,onChange:function(e){return n.changeValue(e)}}),r.createElement("input",{type:"file",className:"upload",id:"jwkFile",onChange:this.getFile}),r.createElement("label",{htmlFor:"jwkFile",className:"btn btn-outline-secondary btn-sm"},r.createElement("i",{className:"fa fa-cloud-upload","aria-hidden":"true"})),e),t)}}])&&Wr(t.prototype,n),a&&Wr(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function $r(e){return($r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qr(e,t){return(Qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xr(e,t){if(t&&("object"===$r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yr(e)}function Yr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zr(e){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const ea=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qr(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Zr(o);if(i){var n=Zr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Xr(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={safeKey:e.safeKey,cb:e.callback,newPassword:"",confirmNewPassword:"",prefixPassword:"",confirmPrefixPassword:"",safeKeyJwk:"",keyName:"",pwdScore:-1,isValid:!1},t.changeNewPassword=t.changeNewPassword.bind(Yr(t)),t.changeConfirmNewPassword=t.changeConfirmNewPassword.bind(Yr(t)),t.changePrefixPassword=t.changePrefixPassword.bind(Yr(t)),t.changeConfirmPrefixPassword=t.changeConfirmPrefixPassword.bind(Yr(t)),t.editSafeKeyJwk=t.editSafeKeyJwk.bind(Yr(t)),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changeDisplayName",value:function(e){var t=this,n=this.state.safeKey;n.display_name=e.target.value,this.setState({safeKey:n},(function(){t.isSafeKeyValid()}))}},{key:"changeNewPassword",value:function(e){var t=this,n=-1;e.target.value&&(n=zxcvbn(e.target.value).score),this.setState({newPassword:e.target.value,pwdScore:n},(function(){t.isSafeKeyValid()}))}},{key:"changeConfirmNewPassword",value:function(e){var t=this;this.setState({confirmNewPassword:e.target.value},(function(){t.isSafeKeyValid()}))}},{key:"changePrefixPassword",value:function(e){this.setState({prefixPassword:e.target.value})}},{key:"changeConfirmPrefixPassword",value:function(e){var t=this;this.setState({confirmPrefixPassword:e.target.value},(function(){t.isSafeKeyValid()}))}},{key:"editSafeKeyJwk",value:function(e){var t=this;this.setState({safeKeyJwk:e},(function(){t.isSafeKeyValid()}))}},{key:"isSafeKeyValid",value:function(){var e=!0;if(this.state.safeKey.display_name||(e=!1),"password"===this.state.safeKey.type)this.state.newPassword||(e=!1),this.state.newPassword!==this.state.confirmNewPassword&&(e=!1);else if("master-password"===this.state.safeKey.type)this.state.newPassword||(e=!1),this.state.prefixPassword&&this.state.prefixPassword!==this.state.confirmPrefixPassword&&(e=!1);else if("jwk"===this.state.safeKey.type)try{var t=JSON.parse(this.state.safeKeyJwk);t.keys&&(t=t.keys[0]),t&&t.alg||(e=!1)}catch(t){e=!1}this.setState({isValid:e})}},{key:"saveSafe",value:function(e){e.preventDefault(),this.state.isValid&&this.closeModal(e,!0)}},{key:"closeModal",value:function(e,t){var n;try{n=JSON.parse(this.state.safeKeyJwk)}catch(e){n=!1}this.state.cb&&(this.state.cb(t,{safeKey:this.state.safeKey,password:this.state.prefixPassword+this.state.newPassword,prefixPassword:!!this.state.prefixPassword,jwk:n}),this.setState({newPassword:"",confirmNewPassword:"",pwdScore:-1,isValid:!1}))}},{key:"render",value:function(){var e,t,n=this;if("password"===this.state.safeKey.type)0===this.state.pwdScore?e=r.createElement("span",{className:"badge bg-danger"},me.t("pwdScoreTooGuessable")):1===this.state.pwdScore?e=r.createElement("span",{className:"badge bg-warning"},me.t("pwdScoreVeryGuessable")):2===this.state.pwdScore?e=r.createElement("span",{className:"badge bg-secondary"},me.t("pwdScoreSomewhatGuessable")):3===this.state.pwdScore?e=r.createElement("span",{className:"badge bg-primary"},me.t("pwdScoreSafelyUnguessable")):4===this.state.pwdScore&&(e=r.createElement("span",{className:"badge bg-success"},me.t("pwdScoreVeryUnguessable"))),t=r.createElement("div",null,r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"newPassword",className:"form-label"},me.t("newPassword")),r.createElement("input",{type:"password",autoComplete:"off",className:"form-control",id:"newPassword",placeholder:me.t("newPasswordPh"),value:this.state.newPassword,onChange:function(e){return n.changeNewPassword(e)}}),e),r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"confirmNewPassword",className:"form-label"},me.t("confirmNewPassword")),r.createElement("input",{type:"password",autoComplete:"off",className:"form-control",id:"confirmNewPassword",placeholder:me.t("confirmNewPasswordPh"),value:this.state.confirmNewPassword,onChange:function(e){return n.changeConfirmNewPassword(e)}})));else if("master-password"===this.state.safeKey.type)t=r.createElement("div",null,r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"prefixPassword",className:"form-label"},me.t("prefixPassword")),r.createElement("input",{type:"password",autoComplete:"off",className:"form-control",id:"prefixPassword",placeholder:me.t("prefixPasswordPh"),value:this.state.prefixPassword,onChange:function(e){return n.changePrefixPassword(e)}}),e),r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"confirmPrefixPassword",className:"form-label"},me.t("confirmPrefixPassword")),r.createElement("input",{type:"password",autoComplete:"off",className:"form-control",id:"confirmPrefixPassword",placeholder:me.t("confirmPrefixPasswordPh"),value:this.state.confirmPrefixPassword,onChange:function(e){return n.changeConfirmPrefixPassword(e)}})),r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"newPassword",className:"form-label"},me.t("masterPassword")),r.createElement("input",{type:"password",autoComplete:"off",className:"form-control",id:"newPassword",placeholder:me.t("masterPasswordPh"),value:this.state.newPassword,onChange:function(e){return n.changeNewPassword(e)}})));else if("jwk"===this.state.safeKey.type){var a;this.state.isValid||(a=r.createElement("div",{className:"invalid-feedback"},me.t("jwkError"))),t=r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"safeKeyJwk",className:"form-label"},me.t("safeKeyJwk")),r.createElement(qr,{isError:!this.state.isValid,ph:me.t("safeKeyJwkPh"),cb:this.editSafeKeyJwk}),a)}return r.createElement("div",{className:"modal",tabIndex:"-1",id:"modalSafeKey"},r.createElement("div",{className:"modal-dialog"},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("h5",{className:"modal-title"},me.t("modalSafeKey-"+this.state.safeKey.type)),r.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(e){return n.closeModal(e,!1)}})),r.createElement("form",{onSubmit:this.saveSafe},r.createElement("div",{className:"modal-body"},r.createElement("input",{type:"hidden",maxLength:"128",id:"safeKeyName",value:this.state.safeKey.name}),r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"safeKeyDisplayName",className:"form-label"},me.t("safeKeyDisplayName")),r.createElement("input",{type:"text",maxLength:"512",className:"form-control",id:"safeKeyDisplayName",placeholder:me.t("safeKeyDisplayNamePh"),value:this.state.safeKey.display_name,onChange:function(e){return n.changeDisplayName(e)}})),t),r.createElement("div",{className:"modal-footer"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return n.closeModal(e,!1)}},me.t("modalClose")),r.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(e){return n.saveSafe(e)},disabled:!this.state.isValid},me.t("modalOk")))))))}}])&&Gr(t.prototype,n),a&&Gr(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function ta(e){return(ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function na(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ra(e,t){return(ra=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function aa(e,t){if(t&&("object"===ta(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return oa(e)}function oa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ia(e){return(ia=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sa(e,t){var n=!1,r="hutchsafekey-"+t.name;"/"!==window.location.pathname&&(r+="-"+window.btoa(unescape(encodeURIComponent(window.location.pathname))).replace(/\=+$/m,""));var a=qn.getValue(r);return a?e[t.name]&&e[t.name].keyList&&e[t.name].keyList.forEach((function(e){e.name===a&&(n=e)})):e&&t&&e[t.name]&&e[t.name].keyList&&e[t.name].keyList.forEach((function(e){n||"password"!==e.type&&"master-password"!==e.type&&"jwk"!==e.type||(n=e)})),n}const ca=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ra(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ia(o);if(i){var n=ia(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return aa(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={config:e.config,safe:e.safe,safeContent:e.safeContent,cb:e.cb,allowKeepUnlocked:e.allowKeepUnlocked,safeKey:sa(e.safeContent,e.safe),safePassword:"",safePrefixPassword:"",safeKeyJwk:"",safeSecretError:!1,keepUnlocked:!1,unlockKeyName:t.getBrowserInfo()},t.closeModal=t.closeModal.bind(oa(t)),t.setSafeKey=t.setSafeKey.bind(oa(t)),t.toggleKeepUnlocked=t.toggleKeepUnlocked.bind(oa(t)),t.changeUnlockKeyName=t.changeUnlockKeyName.bind(oa(t)),t.editSafeKeyJwk=t.editSafeKeyJwk.bind(oa(t)),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){var n=Object.assign({},e);return t.safe.name!==e.safe.name&&(n.safeKey=sa(e.safeContent,e.safe)),n}}],(n=[{key:"changePassword",value:function(e){this.setState({safePassword:e.target.value})}},{key:"changePrefixPassword",value:function(e){this.setState({safePrefixPassword:e.target.value})}},{key:"editSafeKeyJwk",value:function(e){this.setState({safeKeyJwk:e})}},{key:"toggleKeepUnlocked",value:function(e){var t=!this.state.keepUnlocked;this.setState({keepUnlocked:t})}},{key:"changeUnlockKeyName",value:function(e){this.setState({unlockKeyName:e.target.value})}},{key:"setSafeKey",value:function(e,t){var n=this;e.preventDefault(),this.setState({safeKey:t,safeSecretError:!1},(function(){var e="hutchsafekey-"+n.state.safe.name;"/"!==window.location.pathname&&(e+="-"+window.btoa(unescape(encodeURIComponent(window.location.pathname))).replace(/\=+$/m,"")),qn.setValue(e,t.name)}))}},{key:"getBrowserInfo",value:function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?"IE "+((e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""):"Chrome"===n[1]&&null!==(e=t.match(/\b(OPR|Edge)\/(\d+)/))?e.slice(1).join(" ").replace("OPR","Opera"):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),n.join(" "))}},{key:"verifyKey",value:function(e){var t=this;if(e.preventDefault(),this.state.safeKey){if("password"===this.state.safeKey.type||"master-password"===this.state.safeKey.type){var n=new TextEncoder;Dn(this.state.safeKey.data,n.encode(this.state.safePrefixPassword+this.state.safePassword)).then((function(e){t.setState({safeSecretError:!1},(function(){At(e.payload,t.state.safe.alg_type).then((function(n){t.setState({safePassword:"",safePrefixPassword:"",safeKeyJwk:"",safeSecretError:!1},(function(){t.state.cb(!0,n,t.state.keepUnlocked,t.state.unlockKeyName,e.payload)}))}))}))})).catch((function(){t.setState({safeSecretError:!0})}))}else if("jwk"===this.state.safeKey.type)try{var r,a=JSON.parse(this.state.safeKeyJwk);At(r=a.keys&&a.keys.length?a.keys[0]:a,r.alg).then((function(e){Dn(t.state.safeKey.data,e).then((function(e){t.setState({safeSecretError:!1},(function(){At(e.payload,t.state.safe.alg_type).then((function(n){t.setState({safePassword:"",safePrefixPassword:"",safeKeyJwk:"",safeSecretError:!1},(function(){t.state.cb(!0,n,t.state.keepUnlocked,t.state.unlockKeyName,e.payload)}))}))}))})).catch((function(){t.setState({safeSecretError:!0})}))})).catch((function(){t.setState({safeSecretError:!0})}))}catch(e){this.setState({safeSecretError:!0})}}else this.setState({safeSecretError:!0})}},{key:"closeModal",value:function(e,t){var n=this;this.setState({safePassword:"",safePrefixPassword:"",safeKeyJwk:"",safeSecretError:!1,keepUnlocked:!1},(function(){n.state.cb&&n.state.cb(t)}))}},{key:"render",value:function(){var e,t,n,a,o=this,i=[],s={prefixPassword:!1},c="form-control";return this.state.safe&&this.state.safeContent&&this.state.safeContent[this.state.safe.name]&&this.state.safeContent[this.state.safe.name].keyList&&("password"===this.state.safeKey.type?(this.state.safeSecretError&&(c+=" is-invalid",e=r.createElement("div",{className:"invalid-feedback"},me.t("safeKeyError"))),n=r.createElement("input",{type:"password",className:c,autoComplete:"new-password",placeholder:me.t("safePassword"),onChange:function(e){return o.changePassword(e)},autoFocus:!0,value:this.state.safePassword})):"master-password"===this.state.safeKey.type?(this.state.safeSecretError&&(c+=" is-invalid",e=r.createElement("div",{className:"invalid-feedback"},me.t("safeKeyError"))),this.state.safeKey&&this.state.safeKey.data&&(s=Rn(this.state.safeKey.data)),s.prefixPassword&&(a=r.createElement("input",{type:"password",className:c,autoComplete:"new-password",placeholder:me.t("safePrefixPassword"),onChange:function(e){return o.changePrefixPassword(e)},autoFocus:!0,value:this.state.safePrefixPassword})),n=r.createElement("div",null,a,r.createElement("input",{type:"password",className:c,autoComplete:"new-password",placeholder:me.t("safePassword"),onChange:function(e){return o.changePassword(e)},autoFocus:!0,value:this.state.safePassword}))):"jwk"===this.state.safeKey.type&&(n=r.createElement(qr,{isError:this.state.safeSecretError,errorMessage:me.t("safeKeyError"),ph:me.t("safeKeyJwkPh"),cb:this.editSafeKeyJwk})),this.state.safeContent[this.state.safe.name].keyList.forEach((function(e,t){("password"===e.type||"master-password"===e.type||"jwk"===e.type)&&i.push(r.createElement("li",{key:t},r.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return o.setSafeKey(t,e)}},e.display_name||e.name)))}))),this.state.allowKeepUnlocked&&(t=r.createElement("div",null,r.createElement("div",{className:"form-check"},r.createElement("input",{className:"form-check-input",type:"checkbox",checked:this.state.keepUnlocked,id:"keepUnlocked",onChange:function(e){return o.toggleKeepUnlocked(e)}}),r.createElement("label",{className:"form-check-label",htmlFor:"keepUnlocked"},me.t("keepUnlocked"))),r.createElement("div",{className:"mb-3"},r.createElement("input",{type:"text",className:"form-control",placeholder:this.getBrowserInfo(),onChange:function(e){return o.changeUnlockKeyName(e)},disabled:!this.state.keepUnlocked,id:"safeUnlockKeyName",value:this.state.unlockKeyName}),r.createElement("div",{className:"form-text",htmlFor:"safeUnlockKeyName"},me.t("safeUnlockKeyName"))))),r.createElement("div",{className:"modal",tabIndex:"-1",id:"modalUnlockSafe"},r.createElement("div",{className:"modal-dialog"},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("h5",{className:"modal-title"},me.t("safeUnlockTitle")),r.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(e){return o.closeModal(e,!1)}})),r.createElement("form",{onSubmit:this.verifyKey},r.createElement("div",{className:"modal-body"},r.createElement("div",{className:"input-group mb-3"},r.createElement("div",{className:"input-group-prepend"},r.createElement("label",{className:"input-group-text",htmlFor:"safeKeySelect"},me.t("safeKeySelect"))),r.createElement("button",{className:"btn btn-outline-secondary dropdown-toggle",type:"button",id:"safeKeySelect","data-bs-toggle":"dropdown","aria-expanded":"false"},this.state.safeKey.display_name||this.state.safeKey.name),r.createElement("ul",{className:"dropdown-menu"},i)),r.createElement("div",{className:"input-group mb-3"},n,e),t),r.createElement("div",{className:"modal-footer"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return o.closeModal(e,!1)}},me.t("modalClose")),r.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(e){return o.verifyKey(e)}},me.t("modalOk")))))))}}])&&na(t.prototype,n),a&&na(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function la(e){return(la="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ua(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fa(e,t){return(fa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function da(e,t){if(t&&("object"===la(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pa(e)}function pa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ha(e){return(ha=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const ma=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fa(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ha(o);if(i){var n=ha(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return da(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={config:e.config,safe:e.safe,safeContent:e.safeContent,editMode:e.editMode,nameMandatory:!1,namePresent:!1,safeKey:e.safeKey,addKey:!1,curSafeKeyContainer:!1,nextStep:!1,nextStepType:!1,removeSafeKeyMessage:!1},t.saveSafe=t.saveSafe.bind(pa(t)),t.cancelEditSafe=t.cancelEditSafe.bind(pa(t)),t.addSafeKey=t.addSafeKey.bind(pa(t)),t.saveSafeKey=t.saveSafeKey.bind(pa(t)),t.removeSafeKey=t.removeSafeKey.bind(pa(t)),t.removeSafeKeyConfirm=t.removeSafeKeyConfirm.bind(pa(t)),t.editSafeKey=t.editSafeKey.bind(pa(t)),t.completeAddSafeKey=t.completeAddSafeKey.bind(pa(t)),t.completeSetSafeKey=t.completeSetSafeKey.bind(pa(t)),t.unlockSafeCallback=t.unlockSafeCallback.bind(pa(t)),t.createKeyForSafe=t.createKeyForSafe.bind(pa(t)),t.removeSafe=t.removeSafe.bind(pa(t)),t.removeSafeConfirm=t.removeSafeConfirm.bind(pa(t)),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"editDisplayName",value:function(e){var t=this.state.safe;t.display_name=e.target.value,this.setState({safe:t})}},{key:"editEncType",value:function(e){var t=this.state.safe;t.enc_type=e.target.value,this.setState({safe:t})}},{key:"editAlgType",value:function(e){var t=this.state.safe;t.alg_type=e.target.value,this.setState({safe:t})}},{key:"saveSafe",value:function(e){e.preventDefault();var t=this.state.safe;1===this.state.editMode?(Bn.request(this.state.config.safe_endpoint,"POST",t).then((function(){Ln.sendMessage("App",{action:"saveSafe",safe:t}),Ln.sendMessage("Notification",{type:"info",message:me.t("messageSaveSafe")})})).catch((function(){Ln.sendMessage("Notification",{type:"warning",message:me.t("messageErrorSaveSafe")})})),this.setState({nameMandatory:!1,namePresent:!1})):Bn.request(this.state.config.safe_endpoint+"/"+t.name,"PUT",t).then((function(){Ln.sendMessage("App",{action:"saveSafe",safe:t}),Ln.sendMessage("Notification",{type:"info",message:me.t("messageSaveSafe")})})).catch((function(){Ln.sendMessage("Notification",{type:"warning",message:me.t("messageErrorSaveSafe")})}))}},{key:"cancelEditSafe",value:function(){Ln.sendMessage("App",{action:"nav",target:1!==this.state.editMode&&this.state.safe.name})}},{key:"createKeyForSafe",value:function(){var e=this;return nn(this.state.safe.alg_type,{extractable:!0}).then((function(t){return kn(t).then((function(t){return At(t,e.state.safe.alg_type).then((function(e){return{key:e,extractableKey:t}}))}))}))}},{key:"saveSafeKey",value:function(e,t){var n=this;if(bootstrap.Modal.getOrCreateInstance(document.querySelector("#modalSafeKey")).hide(),e)if("password"===t.safeKey.type||"master-password"===t.safeKey.type){var r="PBES2-HS256+A128KW";"A192KW"===this.state.safe.alg_type||"A192GCMKW"===this.state.safe.alg_type?r="PBES2-HS384+A192KW":"A256KW"!==this.state.safe.alg_type&&"A256GCMKW"!==this.state.safe.alg_type||(r="PBES2-HS512+A256KW");var a=(new TextEncoder).encode(t.password);this.state.addKey?this.state.safeContent[this.state.safe.name].key?this.completeAddSafeKey(a,t.safeKey,r,t.prefixPassword):this.createKeyForSafe().then((function(e){var o=n.state.safeContent;o[n.state.safe.name].extractableKey=e.extractableKey,o[n.state.safe.name].key=e.key,n.setState({safeContent:o},(function(){n.completeAddSafeKey(a,t.safeKey,r,t.prefixPassword)}))})):this.completeSetSafeKey(a,t.safeKey,r,t.prefixPassword)}else if("jwk"===t.safeKey.type){var o;o=t.jwk.keys&&t.jwk.keys.length?t.jwk.keys[0]:t.jwk,this.state.addKey?this.state.safeContent[this.state.safe.name].key?At(o,o.alg).then((function(e){n.completeAddSafeKey(e,t.safeKey,o.alg,t.prefixPassword)})):this.createKeyForSafe().then((function(e){var r=n.state.safeContent;r[n.state.safe.name].extractableKey=e.extractableKey,r[n.state.safe.name].key=e.key,n.setState({safeContent:r},(function(){At(o,o.alg).then((function(e){n.completeAddSafeKey(e,t.safeKey,o.alg,t.prefixPassword)}))}))})):At(o,o.alg).then((function(e){n.completeSetSafeKey(e,t.safeKey,o.alg,t.prefixPassword)}))}else"browser"===t.safeKey.type&&Bn.request(this.state.config.safe_endpoint+"/"+this.state.safe.name+"/key/"+t.safeKey.name,"PUT",t.safeKey).then((function(){Ln.sendMessage("App",{action:"setSafeKey",target:n.state.safe,newSafeKey:t.safeKey,removeStorage:!1}),n.setState({curSafeKeyContainer:!1}),Ln.sendMessage("Notification",{type:"info",message:me.t("safeLockUpdated")})}))}},{key:"addSafeKey",value:function(e,t){e&&e.preventDefault(),!this.state.safeContent[this.state.safe.name].extractableKey&&this.state.safeContent[this.state.safe.name].keyList.length?this.setState({nextStep:this.addSafeKey,nextStepType:t},(function(){new bootstrap.Modal(document.getElementById("modalUnlockSafe"),{keyboard:!1}).show()})):this.setState({addKey:!0,curSafeKeyContainer:{name:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),display_name:"",type:t,data:""}},(function(){new bootstrap.Modal(document.getElementById("modalSafeKey"),{keyboard:!1}).show()}))}},{key:"completeAddSafeKey",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.state.safeContent[this.state.safe.name].extractableKey?new xn(this.state.safeContent[this.state.safe.name].extractableKey).setProtectedHeader({alg:n,enc:this.state.safe.enc_type,sign_key:this.state.config.sign_thumb,prefixPassword:a}).encrypt(e).then((function(e){t.data=e,Bn.request(r.state.config.safe_endpoint+"/"+r.state.safe.name+"/key","POST",t).then((function(){Ln.sendMessage("App",{action:"updateSafeKey",safe:r.state.safe}),Ln.sendMessage("Notification",{type:"info",message:me.t("safeLockAdded")})}))})):Ln.sendMessage("Notification",{type:"warning",message:me.t("lockedSafe")})}},{key:"editSafeKey",value:function(e,t){var n=this,r={addKey:!1};t&&(r.curSafeKeyContainer=t),this.setState(r,(function(){n.state.safeContent[n.state.safe.name].extractableKey?new bootstrap.Modal(document.getElementById("modalSafeKey"),{keyboard:!1}).show():n.setState({nextStep:n.editSafeKey},(function(){new bootstrap.Modal(document.getElementById("modalUnlockSafe"),{keyboard:!1}).show()}))}))}},{key:"completeSetSafeKey",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.state.safeContent[this.state.safe.name].extractableKey?new xn(this.state.safeContent[this.state.safe.name].extractableKey).setProtectedHeader({alg:n,enc:this.state.safe.enc_type,sign_key:this.state.config.sign_thumb,prefixPassword:a}).encrypt(e).then((function(e){t.data=e,Bn.request(r.state.config.safe_endpoint+"/"+r.state.safe.name+"/key/"+t.name,"PUT",t).then((function(){Ln.sendMessage("App",{action:"setSafeKey",target:r.state.safe,newSafeKey:t,removeStorage:!1}),r.setState({curSafeKeyContainer:!1}),Ln.sendMessage("Notification",{type:"info",message:me.t("safeLockUpdated")})}))})):Ln.sendMessage("Notification",{type:"warning",message:me.t("lockedSafe")})}},{key:"removeSafeKey",value:function(e,t){var n=this;e&&e.preventDefault();var r={};t&&(r.curSafeKeyContainer=t,r.removeSafeKeyMessage=me.t("removeSafeKeyMessage",{name:t.display_name})),this.setState(r,(function(){n.state.safeContent[n.state.safe.name].extractableKey?new bootstrap.Modal(document.getElementById("removeSafeKey"),{keyboard:!1}).show():n.setState({nextStep:n.removeSafeKey},(function(){new bootstrap.Modal(document.getElementById("modalUnlockSafe"),{keyboard:!1}).show()}))}))}},{key:"removeSafeKeyConfirm",value:function(e){var t=this;e&&Bn.request(this.state.config.safe_endpoint+"/"+this.state.safe.name+"/key/"+this.state.curSafeKeyContainer.name,"DELETE").then((function(){t.setState({curSafeKeyContainer:!1},(function(){Ln.sendMessage("Notification",{type:"info",message:me.t("messageRemoveSafeKey")}),Ln.sendMessage("App",{action:"updateSafeKey",safe:t.state.safe})}))})).catch((function(){Ln.sendMessage("Notification",{type:"warning",message:me.t("messageErrorSaveSafeKey")})})),bootstrap.Modal.getOrCreateInstance(document.querySelector("#removeSafeKey")).hide()}},{key:"unlockSafeCallback",value:function(e,t,n,r,a){bootstrap.Modal.getOrCreateInstance(document.querySelector("#modalUnlockSafe")).hide(),e&&(Ln.sendMessage("App",{action:"unlockSafe",safe:this.state.safe,extractableKey:a}),this.state.nextStep&&this.state.nextStep(!1,this.state.nextStepType))}},{key:"removeSafe",value:function(){new bootstrap.Modal(document.getElementById("removeSafe"),{keyboard:!1}).show()}},{key:"removeSafeConfirm",value:function(e){var t=this;e&&Bn.request(this.state.config.safe_endpoint+"/"+this.state.safe.name,"DELETE").then((function(){Ln.sendMessage("App",{action:"removeSafe",safe:t.state.safe}),Ln.sendMessage("Notification",{type:"info",message:me.t("messageRemoveSafe")})})).catch((function(){Ln.sendMessage("Notification",{type:"warning",message:me.t("messageErrorSaveSafe")})})),bootstrap.Modal.getOrCreateInstance(document.querySelector("#removeSafe")).hide()}},{key:"render",value:function(){var e,t=this,n=[];if(this.state.safeContent&&this.state.safe&&this.state.safeContent[this.state.safe.name]){var a=0;this.state.safeContent[this.state.safe.name].keyList.forEach((function(e){-1!==["password","master-password"].indexOf(e.type)&&a++})),this.state.safeContent[this.state.safe.name].keyList.forEach((function(e,o){var i="fa btn-icon ";"password"===e.type?i+="fa-key":"master-password"===e.type?i+="fa-usb":"jwk"===e.type?i+="fa-file-code-o":"browser"===e.type&&(i+="fa-firefox"),n.push(r.createElement("div",{className:"input-group",key:o},r.createElement("div",{className:"input-group-text"},r.createElement("i",{className:i,"aria-hidden":"true"}),e.display_name||e.name),r.createElement("div",{className:"btn-group me-2",role:"group"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(n){return t.editSafeKey(n,e)}},r.createElement("i",{className:"fa fa-pencil","aria-hidden":"true"})),r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(n){return t.removeSafeKey(n,e)},disabled:a<=1&&-1!==["password","master-password"].indexOf(e.type)},r.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})))))}))}return this.state.curSafeKeyContainer&&(e=r.createElement(ea,{safeKey:this.state.curSafeKeyContainer,callback:this.saveSafeKey})),r.createElement("div",null,r.createElement("form",{onSubmit:this.saveSafe},r.createElement("input",{type:"hidden",id:"safeName",value:this.state.safe.name}),r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"safeDisplayName",className:"form-label"},me.t("safeDisplayName")),r.createElement("input",{type:"text",className:"form-control",id:"safeDisplayName",value:this.state.safe.display_name||"",onChange:function(e){return t.editDisplayName(e)}})),r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"encType",className:"form-label"},me.t("safeEncType")),r.createElement("select",{disabled:2===this.state.editMode,className:"form-select","aria-label":"enc type",id:"encType",onChange:function(e){return t.editEncType(e)},value:this.state.safe.enc_type},r.createElement("option",{value:"A128CBC-HS256"},"A128CBC-HS256"),r.createElement("option",{value:"A192CBC-HS384"},"A192CBC-HS384"),r.createElement("option",{value:"A256CBC-HS512"},"A256CBC-HS512"),r.createElement("option",{value:"A128GCM"},"A128GCM"),r.createElement("option",{value:"A192GCM"},"A192GCM"),r.createElement("option",{value:"A256GCM"},"A256GCM"))),r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"algType",className:"form-label"},me.t("safeAlgType")),r.createElement("select",{disabled:2===this.state.editMode,className:"form-select","aria-label":"enc type",id:"algType",onChange:function(e){return t.editAlgType(e)},value:this.state.safe.alg_type},r.createElement("option",{value:"A128KW"},"A128KW"),r.createElement("option",{value:"A192KW"},"A192KW"),r.createElement("option",{value:"A256KW"},"A256KW"),r.createElement("option",{value:"A128GCMKW"},"A128GCMKW"),r.createElement("option",{value:"A192GCMKW"},"A192GCMKW"),r.createElement("option",{value:"A256GCMKW"},"A256GCMKW"))),r.createElement("div",{className:"alert alert-primary",role:"alert"},r.createElement("div",{className:"btn-toolbar justify-content-between",role:"toolbar"},me.t("safeKeyList"),r.createElement("div",{className:"input-group"},r.createElement("div",{className:"input-group mb-3"},r.createElement("button",{className:"btn btn-outline-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",disabled:1===this.state.editMode},r.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})),r.createElement("ul",{className:"dropdown-menu"},r.createElement("a",{className:"dropdown-item",href:"#",onClick:function(e){return t.addSafeKey(e,"password")}},me.t("securityTypePassword")),r.createElement("a",{className:"dropdown-item",href:"#",onClick:function(e){return t.addSafeKey(e,"master-password")}},me.t("securityTypeMasterPassword")),r.createElement("a",{className:"dropdown-item",href:"#",onClick:function(e){return t.addSafeKey(e,"jwk")}},me.t("securityTypeJwk"))))))),r.createElement("div",{className:"btn-toolbar mb-3",role:"toolbar"},n),r.createElement("div",{className:"btn-toolbar justify-content-between",role:"toolbar"},r.createElement("div",{className:"btn-group",role:"group","aria-label":"First group"},r.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.saveSafe},me.t("profileSubmit")),r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.cancelEditSafe},me.t("profileCancel"))),r.createElement("div",{className:"btn-group",role:"group","aria-label":"First group"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.removeSafe},me.t("removeSafe"))))),r.createElement(wr,{name:"removeSafe",title:me.t("removeSafeTitle"),message:me.t("removeSafeMessage",{name:this.state.safe.display_name||this.state.safe.name}),cb:this.removeSafeConfirm}),r.createElement(wr,{name:"removeSafeKey",title:me.t("removeSafeKeyTitle"),message:this.state.removeSafeKeyMessage,cb:this.removeSafeKeyConfirm}),e,r.createElement(ca,{config:this.state.config,safe:this.state.safe,safeContent:this.state.safeContent,allowKeepUnlocked:!1,cb:this.unlockSafeCallback}))}}])&&ua(t.prototype,n),a&&ua(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function ya(e){return(ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ba(e,t){return(ba=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function va(e,t){if(t&&("object"===ya(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wa(e)}function wa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ea(e){return(Ea=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Sa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ba(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ea(o);if(i){var n=Ea(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return va(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={cb:e.cb,name:e.name,content:e.content,iconList:e.iconListOrig,iconListOrig:e.iconListOrig,iconFilter:"",displayNameError:!1},t.changeDisplayName=t.changeDisplayName.bind(wa(t)),t.useIcon=t.useIcon.bind(wa(t)),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changeDisplayName",value:function(e){var t=this.state.content;t.displayName=e.target.value,this.setState({content:t,displayNameError:!1})}},{key:"changeIconFilter",value:function(e){var t=this;this.setState({iconFilter:e.target.value},(function(){if(t.state.iconFilter){var e={};Object.keys(t.state.iconListOrig).forEach((function(n){e[n]=[],(t.state.iconListOrig[n]||[]).forEach((function(r){r.label.toUpperCase().search(t.state.iconFilter.toUpperCase())>-1&&e[n].push(r)})),e[n].length||delete e[n]})),t.setState({iconList:e},(function(){console.log(e,t.state.iconList)}))}else t.setState({iconList:t.state.iconListOrig})}))}},{key:"useIcon",value:function(e,t){e.preventDefault();var n=this.state.content;n.icon=t.icon,this.setState({content:n})}},{key:"verifyDisplayName",value:function(e){e.preventDefault(),this.state.content.displayName?this.closeModal(e,!0):this.setState({displayNameError:!0})}},{key:"closeModal",value:function(e,t){this.state.cb&&this.state.cb(t,this.state.name,this.state.content,!0)}},{key:"render",value:function(){var e,t,n=this,a=[],o="form-control";return Object.keys(this.state.iconList).forEach((function(e){var t=n.state.iconList[e]||[];a.push(r.createElement("li",{className:"list-group-item",key:e},r.createElement("span",{className:"badge bg-secondary"},e)));var o=[];t.forEach((function(t,a){o.push(r.createElement("a",{key:e+"-"+a,href:"",onClick:function(e){return n.useIcon(e,t)},className:"btn btn-primary btn-icon btn-icon-top"},r.createElement("span",{className:"btn-icon"},t.label),r.createElement("i",{className:"fa "+t.icon,"aria-hidden":"true"})))})),a.push(r.createElement("li",{className:"list-group-item",key:e+"-lst"},o))})),this.state.content.icon&&(e=r.createElement("i",{className:"btn-icon-right fa "+this.state.content.icon,"aria-hidden":"true"})),this.state.displayNameError&&(o+=" is-invalid",t=r.createElement("div",{className:"invalid-feedback"},me.t("displayNameError"))),r.createElement("div",{className:"modal",tabIndex:"-1",id:"modalCoinEdit"},r.createElement("div",{className:"modal-dialog"},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("h5",{className:"modal-title"},this.state.name?me.t("CoinEditTitle"):me.t("CoinAddTitle")),r.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(e){return n.closeModal(e,!1)}})),r.createElement("form",{onSubmit:function(e){return n.verifyDisplayName(e)}},r.createElement("div",{className:"modal-body"},r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"coinDisplayName",className:"form-label"},me.t("coinDisplayName")),r.createElement("input",{type:"text",maxLength:"128",className:o,id:"coinDisplayName",value:this.state.content.displayName||"",onChange:function(e){return n.changeDisplayName(e)}}),t),r.createElement("hr",null),r.createElement("div",{className:"mb-3"},r.createElement("label",{className:"form-label"},me.t("coinIconList"),e),r.createElement("input",{type:"text",maxLength:"128",className:"form-control",id:"coinIconFilter",placeholder:me.t("coinIconFilterPh"),value:this.state.iconFilter||"",onChange:function(e){return n.changeIconFilter(e)}}),r.createElement("ul",{className:"list-group icon-list"},a))),r.createElement("div",{className:"modal-footer"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return n.closeModal(e,!1)}},me.t("modalClose")),r.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(e){return n.verifyDisplayName(e)}},me.t("modalOk")))))))}}])&&ga(t.prototype,n),a&&ga(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function ka(e){return(ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ca(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pa(e,t){return(Pa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oa(e,t){if(t&&("object"===ka(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Na(e)}function Na(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xa(e){return(xa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const _a=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pa(e,t)}(s,e);var t,n,a,o,i=(a=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xa(a);if(o){var n=xa(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Oa(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={config:e.config,safe:e.safe,content:e.content,id:e.id,name:e.name,exportSafeWithSecurity:!1,exportSecurityType:"password",pwdScore:-1,password:"",confirmPassword:"",exportInvalid:!1,exportJwk:""},t.toggleExportSafeWithSecurity=t.toggleExportSafeWithSecurity.bind(Na(t)),t.changeExportSecurityType=t.changeExportSecurityType.bind(Na(t)),t.changePassword=t.changePassword.bind(Na(t)),t.changeConfirmPassword=t.changeConfirmPassword.bind(Na(t)),t.exportSafe=t.exportSafe.bind(Na(t)),t.editExportJwk=t.editExportJwk.bind(Na(t)),t}return t=s,(n=[{key:"toggleExportSafeWithSecurity",value:function(){var e=this;this.setState({exportSafeWithSecurity:!this.state.exportSafeWithSecurity,importData:!1,importDataResult:!1,importTotalCount:0,importTotalSuccess:0,importSecurityType:!1},(function(){e.setState({exportInvalid:e.isExportInvalid()})}))}},{key:"changeExportSecurityType",value:function(e){var t=this;this.setState({exportSecurityType:e.target.value},(function(){t.setState({exportInvalid:t.isExportInvalid()})}))}},{key:"changePassword",value:function(e){var t=this,n=-1;e.target.value&&(n=zxcvbn(e.target.value).score),this.setState({password:e.target.value,pwdScore:n},(function(){t.setState({exportInvalid:t.isExportInvalid()})}))}},{key:"changeConfirmPassword",value:function(e){var t=this;this.setState({confirmPassword:e.target.value},(function(){t.setState({exportInvalid:t.isExportInvalid()})}))}},{key:"editExportJwk",value:function(e){var t=this;this.setState({exportJwk:e},(function(){t.setState({exportInvalid:t.isExportInvalid()})}))}},{key:"isExportInvalid",value:function(){if(this.state.exportSafeWithSecurity)if("password"===this.state.exportSecurityType){if(!this.state.password||this.state.password!==this.state.confirmPassword)return!0}else if("master-password"===this.state.exportSecurityType){if(!this.state.password)return!0}else if("jwk"===this.state.exportSecurityType)try{if(!this.state.exportJwk||!JSON.parse(this.state.exportJwk).alg)return!0}catch(e){return!0}return!1}},{key:"exportSafe",value:function(){var e=this,t=[];if(this.state.content.forEach((function(e){t.push(e.data)})),this.state.exportSafeWithSecurity){if("password"===this.state.exportSecurityType||"master-password"===this.state.exportSecurityType){var n=(new TextEncoder).encode(this.state.password),r="PBES2-HS256+A128KW";"A192KW"===this.state.safe.alg_type||"A192GCMKW"===this.state.safe.alg_type||"PBES2-HS384+A192KW"===this.state.safe.alg_type?r="PBES2-HS384+A192KW":"A256KW"!==this.state.safe.alg_type&&"A256GCMKW"!==this.state.safe.alg_type&&"PBES2-HS512+A256KW"!==this.state.safe.alg_type||(r="PBES2-HS512+A256KW"),new xn({data:t}).setProtectedHeader({alg:r,enc:this.state.safe.enc_type,sign_key:this.state.config.sign_thumb}).encrypt(n).then((function(t){var n=$("#"+e.state.id+"-download");n.attr("href","data:application/octet-stream;base64,"+btoa(t)),n.attr("download",e.state.name+".jwt"),n[0].click()}))}else if("jwk"===this.state.exportSecurityType){var a=JSON.parse(this.state.exportJwk);a.use="enc",At(a,a.alg).then((function(n){"public"===n.type||"secret"===n.type?new xn({data:t}).setProtectedHeader({alg:a.alg,enc:e.state.safe.enc_type,sign_key:e.state.config.sign_thumb}).encrypt(n).then((function(t){var n=$("#"+e.state.id+"-download");n.attr("href","data:application/octet-stream;base64,"+btoa(t)),n.attr("download",e.state.name+".jwt"),n[0].click()})):e.setState({exportInvalid:1})}))}}else{var o=$("#"+this.state.id+"-download");o.attr("href","data:application/octet-stream;base64,"+btoa(JSON.stringify(t))),o.attr("download",this.state.name+".json"),o[0].click()}}},{key:"render",value:function(){var e,t,n;if(this.state.exportSafeWithSecurity)if(e=r.createElement("select",{className:"form-select",value:this.state.exportSecurityType,onChange:this.changeExportSecurityType},r.createElement("option",{value:"password"},me.t("securityTypePassword")),r.createElement("option",{value:"master-password"},me.t("securityTypeMasterPassword")),r.createElement("option",{value:"jwk"},me.t("securityTypeJwk"))),"password"===this.state.exportSecurityType)0===this.state.pwdScore?n=r.createElement("span",{className:"badge bg-danger"},me.t("pwdScoreTooGuessable")):1===this.state.pwdScore?n=r.createElement("span",{className:"badge bg-warning"},me.t("pwdScoreVeryGuessable")):2===this.state.pwdScore?n=r.createElement("span",{className:"badge bg-secondary"},me.t("pwdScoreSomewhatGuessable")):3===this.state.pwdScore?n=r.createElement("span",{className:"badge bg-primary"},me.t("pwdScoreSafelyUnguessable")):4===this.state.pwdScore&&(n=r.createElement("span",{className:"badge bg-success"},me.t("pwdScoreVeryUnguessable"))),t=r.createElement("div",null,r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"newPassword",className:"form-label"},me.t("newPassword")),r.createElement("input",{type:"password",autoComplete:"new-password",className:"form-control",id:"newPassword",value:this.state.password,onChange:this.changePassword}),n),r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"confirmNewPassword",className:"form-label"},me.t("confirmNewPassword")),r.createElement("input",{type:"password",autoComplete:"new-password",className:"form-control",id:"confirmNewPassword",value:this.state.confirmPassword,onChange:this.changeConfirmPassword})));else if("master-password"===this.state.exportSecurityType)t=r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"newPassword",className:"form-label"},me.t("newPassword")),r.createElement("input",{type:"password",autoComplete:"new-password",className:"form-control",id:"newPassword",value:this.state.password,onChange:this.changePassword}));else if("jwk"===this.state.exportSecurityType){var a;this.state.exportInvalid&&(a=r.createElement("div",{className:"invalid-feedback"},me.t("jwkError"))),t=r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"exportJwk",className:"form-label"},me.t("exportJwk")),r.createElement(qr,{isError:this.state.exportInvalid,errorMessage:me.t("safeSecretError"),ph:me.t("safeKeyJwkPh"),cb:this.editExportJwk}),a)}return r.createElement("div",null,r.createElement("div",{className:"mb-3"},r.createElement("div",{className:"form-check"},r.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:this.state.id+"-exportSafeWithSecurity",checked:this.state.exportSafeWithSecurity,onChange:this.toggleExportSafeWithSecurity}),r.createElement("label",{className:"form-check-label",htmlFor:this.state.id+"-exportSafeWithSecurity"},me.t("exportSafeWithSecurity")))),e,r.createElement("form",null,t),r.createElement("div",{className:"mb-3"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.exportSafe,title:me.t("downloadExport"),disabled:this.state.exportInvalid},r.createElement("i",{className:"fa fa-cloud-download","aria-hidden":"true"}))),r.createElement("a",{className:"upload",id:this.state.id+"-download"}))}}])&&Ca(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component);function Ta(e){return(Ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ra(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ja(e,t){return(ja=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Da(e,t){if(t&&("object"===Ta(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Aa(e)}function Aa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function La(e){return(La=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ma(e){return e.safeContent&&e.safe.name&&e.safeContent[e.safe.name]?e.safeContent[e.safe.name].unlockedCoinList:[]}const Ia=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ja(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=La(o);if(i){var n=La(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Da(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={config:e.config,oidcStatus:e.oidcStatus,safe:e.safe,safeContent:e.safeContent,cbSaveCoin:e.cbSaveCoin,cbClose:e.cbClose,unlockedCoinList:Ma(e),exportSafeWithSecurity:!1,exportSecurityType:"password",password:"",confirmPassword:"",pwdScore:-1,importJwk:"",errorExportJwk:!1,exportInvalid:!1,importData:!1,importDataResult:!1,importTotalCount:0,importTotalSuccess:0,importSecurityType:!1,importRunning:!1,showProgress:!1,coinMax:0,coinNow:0},t.changePassword=t.changePassword.bind(Aa(t)),t.getImportFile=t.getImportFile.bind(Aa(t)),t.parseContent=t.parseContent.bind(Aa(t)),t.importContent=t.importContent.bind(Aa(t)),t.completeImportContent=t.completeImportContent.bind(Aa(t)),t.editImportJwk=t.editImportJwk.bind(Aa(t)),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changePassword",value:function(e){var t=this,n=-1;e.target.value&&(n=zxcvbn(e.target.value).score),this.setState({password:e.target.value,pwdScore:n},(function(){t.setState({exportInvalid:t.isImportInvalid()})}))}},{key:"isImportInvalid",value:function(){if(this.state.exportSafeWithSecurity)if("password"===this.state.exportSecurityType){if(!this.state.password||this.state.password!==this.state.confirmPassword)return!0}else if("jwk"===this.state.exportSecurityType)try{if(!this.state.importJwk||!JSON.parse(this.state.importJwk).alg)return!0}catch(e){return!0}return!1}},{key:"editImportJwk",value:function(e){var t=this;this.setState({importJwk:e},(function(){t.setState({exportInvalid:t.isImportInvalid()})}))}},{key:"getImportFile",value:function(e){var t=this;this.setState({exportSafeWithSecurity:!1,importData:!1,importDataResult:!1,importTotalCount:0,importTotalSuccess:0,importSecurityType:!1},(function(){var n=e.target.files[0],r=new FileReader;r.onload=function(e){t.setState({importData:e.target.result},(function(){t.parseContent()}))},r.readAsText(n)}))}},{key:"parseContent",value:function(){if(this.state.importData){var e=!1;try{e=JSON.parse(this.state.importData)}catch(e){}if(e&&Array.isArray(e))this.importContent(e);else{var t=!1;try{t=Rn(this.state.importData)}catch(e){this.setState({importDataResult:"invalidData"})}t&&("PBES2-HS256+A128KW"===t.alg||"PBES2-HS384+A192KW"===t.alg||"PBES2-HS512+A256KW"===t.alg?this.setState({importSecurityType:"password"}):this.setState({importSecurityType:"jwk"}))}}else this.setState({importDataResult:"invalidData"})}},{key:"completeImportContent",value:function(){var e=this;if("password"===this.state.importSecurityType){var t=new TextEncoder;Dn(this.state.importData,t.encode(this.state.password)).then((function(t){e.importContent(t.payload.data)})).catch((function(){e.setState({importDataResult:"invalidPassword"})}))}else if("jwk"===this.state.importSecurityType)try{var n=JSON.parse(this.state.importJwk);n.use="enc",At(n,n.alg).then((function(t){Dn(e.state.importData,t).then((function(t){e.importContent(t.payload.data)})).catch((function(){e.setState({importDataResult:"invalidJwk"})}))}))}catch(e){this.setState({importDataResult:"invalidJwk"})}}},{key:"importContent",value:function(e){var t=this,n=0,r=0;this.setState({importRunning:!0,showProgress:!0,coinMax:e.length,coinNow:0},(function(){e.forEach((function(a){try{t.state.cbSaveCoin(!0,!1,a).then((function(){n++})).catch((function(){messageDispatcher.sendMessage("Notification",{type:"warning",message:me.t("messageErrorCoinSave")})})).finally((function(){r++,t.setState({coinNow:t.state.coinNow+1},(function(){r===e.length&&(r===n?t.setState({importDataResult:"importComplete",importTotalCount:n,importRunning:!1,showProgress:!1}):t.setState({importDataResult:"importIncomplete",importTotalCount:n,importTotalSuccess:r,importRunning:!1,showProgress:!1}))}))}))}catch(a){r++,t.setState({coinNow:t.state.coinNow+1},(function(){r===e.length&&(r===n?t.setState({importDataResult:"importComplete",importTotalCount:n,importRunning:!1,showProgress:!1}):t.setState({importDataResult:"importIncomplete",importTotalCount:n,importTotalSuccess:r,importRunning:!1,showProgress:!1}))}))}}))}))}},{key:"closeModal",value:function(e,t){this.state.cbClose&&this.state.cbClose()}},{key:"render",value:function(){var e,t,n,a,o=this;if("invalidData"===this.state.importDataResult?e=r.createElement("div",{className:"alert alert-danger",role:"alert"},me.t("importInvalidData")):"importComplete"===this.state.importDataResult?e=r.createElement("div",{className:"alert alert-success",role:"alert"},me.t("importComplete",{count:this.state.importTotalCount})):"importIncomplete"===this.state.importDataResult?e=r.createElement("div",{className:"alert alert-warning",role:"alert"},me.t("importIncomplete",{count:this.state.importTotalCount,total:this.state.importTotalSuccess})):"invalidPassword"===this.state.importDataResult?e=r.createElement("div",{className:"alert alert-danger",role:"alert"},me.t("importInvalidPassword")):"invalidJwk"===this.state.importDataResult&&(e=r.createElement("div",{className:"alert alert-danger",role:"alert"},me.t("importInvalidKey"))),this.state.importSecurityType){var i;this.state.importRunning&&(i=r.createElement("i",{className:"fa fa-spinner fa-spin fa-fw btn-icon-right"}));var s="password"===this.state.importSecurityType&&!this.state.password||"jwk"===this.state.importSecurityType&&!this.state.importJwk;n=r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.completeImportContent,title:me.t("modalOk"),disabled:s||this.state.importRunning},me.t("modalOk"),i)}return"password"===this.state.importSecurityType?t=r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"newPassword",className:"form-label"},me.t("importPassword")),r.createElement("input",{type:"password",className:"form-control",id:"password",autoComplete:"new-password",value:this.state.password,onChange:this.changePassword})):"jwk"===this.state.importSecurityType&&(t=r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"importJwk",className:"form-label"},me.t("importJwk")),r.createElement(qr,{isError:!1,ph:me.t("safeKeyJwkPh"),cb:this.editImportJwk}))),this.state.showProgress&&(a=r.createElement("code",{className:"btn-icon-right"},this.state.coinNow,"/",this.state.coinMax)),r.createElement("div",{className:"modal",tabIndex:"-1",id:"manageSafe"},r.createElement("div",{className:"modal-dialog"},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("h5",{className:"modal-title"},me.t("manageSafe")),r.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(e){return o.closeModal(e,!1)}})),r.createElement("div",{className:"modal-body"},r.createElement("div",{className:"mb-3"},r.createElement("div",{className:"alert alert-primary",role:"alert"},me.t("exportSafe"))),r.createElement(_a,{config:this.state.config,safe:this.state.safe,content:this.state.unlockedCoinList,id:this.state.safe.name,name:this.state.safe.display_name}),r.createElement("hr",null),r.createElement("div",{className:"mb-3"},r.createElement("div",{className:"alert alert-primary",role:"alert"},me.t("importSafe"))),r.createElement("div",{className:"mb-3"},r.createElement("input",{type:"file",className:"upload",id:"importSafeFileInput",disabled:"connected"!==this.state.oidcStatus,onChange:this.getImportFile}),r.createElement("label",{htmlFor:"importSafeFileInput",className:"btn btn-secondary",disabled:"connected"!==this.state.oidcStatus},r.createElement("i",{className:"fa fa-cloud-upload","aria-hidden":"true"})),t,n,a,e),r.createElement("div",{className:"modal-footer"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return o.closeModal(e,!1)},disabled:this.state.importRunning},me.t("modalClose")))))))}}])&&Ra(t.prototype,n),a&&Ra(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function Ka(e){return(Ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ua(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ha(e,t){return(Ha=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fa(e,t){if(t&&("object"===Ka(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wa(e)}function Wa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ba(e){return(Ba=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const za=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ha(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ba(o);if(i){var n=Ba(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Fa(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={coin:e.coin,element:e.element,index:e.index,cbSave:e.cbSave,cbCancel:e.cbCancel,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.changeValue=t.changeValue.bind(Wa(t)),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changeValue",value:function(e){var t=this.state.element;t.value=e.target.value,this.setState({element:t})}},{key:"render",value:function(){var e=this;return r.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},r.createElement("form",{onSubmit:function(t){return e.state.cbSave(t,e.state.element,e.state.index)}},r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:this.state.coin.name+"-"+this.state.index,className:"form-label"},me.t("coinElementUrl")),r.createElement("input",{type:"text",className:"form-control",id:this.state.coin.name+"-"+this.state.index,value:this.state.element.value,placeholder:me.t("coinElementUrlPh"),onChange:this.changeValue})),r.createElement("div",{className:"mb-3 btn-group"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.state.cbCancel(t,e.state.index)}},me.t("modalClose")),r.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(t){return e.state.cbSave(t,e.state.element,e.state.index)},disabled:!this.state.element.value},me.t("modalOk")))))}}])&&Ua(t.prototype,n),a&&Ua(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function Ja(e){return(Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Va(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qa(e,t){return(qa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $a(e,t){if(t&&("object"===Ja(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ga(e)}function Ga(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qa(e){return(Qa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Xa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qa(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Qa(o);if(i){var n=Qa(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return $a(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={coin:e.coin,element:e.element,index:e.index,cbSave:e.cbSave,cbCancel:e.cbCancel,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.changeValue=t.changeValue.bind(Ga(t)),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changeValue",value:function(e){var t=this.state.element;t.value=e.target.value,this.setState({element:t})}},{key:"render",value:function(){var e=this;return r.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},r.createElement("form",{onSubmit:function(t){return e.state.cbSave(t,e.state.element,e.state.index)}},r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:this.state.coin.name+"-"+this.state.index,className:"form-label"},me.t("coinElementLogin")),r.createElement("input",{type:"text",className:"form-control",id:this.state.coin.name+"-"+this.state.index,value:this.state.element.value,placeholder:me.t("coinElementLoginPh"),onChange:this.changeValue})),r.createElement("div",{className:"mb-3 btn-group"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.state.cbCancel(t,e.state.index)}},me.t("modalClose")),r.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(t){return e.state.cbSave(t,e.state.element,e.state.index)},disabled:!this.state.element.value},me.t("modalOk")))))}}])&&Va(t.prototype,n),a&&Va(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function Ya(e){return(Ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Za(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eo(e,t){return(eo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function to(e,t){if(t&&("object"===Ya(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return no(e)}function no(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ro(e){return(ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const ao=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eo(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ro(o);if(i){var n=ro(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return to(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={config:e.config,cb:e.callback,element:e.element,originalPassword:e.originalPassword,wordsLists:{},showPassword:!1,passwordGenerated:!1},t.toggleShowPassword=t.toggleShowPassword.bind(no(t)),t.toggleParam=t.toggleParam.bind(no(t)),t.changePasswordLength=t.changePasswordLength.bind(no(t)),t.generateRandomChars=t.generateRandomChars.bind(no(t)),t.changePasswordWordsNumber=t.changePasswordWordsNumber.bind(no(t)),t.changePasswordWordsSeparator=t.changePasswordWordsSeparator.bind(no(t)),t.generateRandomWords=t.generateRandomWords.bind(no(t)),t.copyOriginalPassword=t.copyOriginalPassword.bind(no(t)),t.copyNewPassword=t.copyNewPassword.bind(no(t)),t.state.config.frontend.lang.forEach((function(e){Bn.request("words-"+e+".json").then((function(n){var r=t.state.wordsLists;r[e]=n,t.setState({wordsLists:r})}))})),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"toggleShowPassword",value:function(){this.setState({showPassword:!this.state.showPassword})}},{key:"toggleParam",value:function(e,t){var n=this.state.element;n.params[t]=!n.params[t],this.setState({element:n})}},{key:"changePasswordLength",value:function(e){var t=this.state.element;e.target.value?t.params.passwordCharLength=parseInt(e.target.value):t.params.passwordCharLength=0,this.setState({element:t})}},{key:"closeModal",value:function(e,t){this.state.cb&&this.state.cb(t,this.state.element)}},{key:"randomCharsRangeList",value:function(e,t){var n=new Uint8Array(e);window.crypto.getRandomValues(n);for(var r=0;r<e;r++)for(;n[r]>=t;){var a=new Uint8Array(1);window.crypto.getRandomValues(a),n[r]=a[0]}return n}},{key:"randomWordsRangeList",value:function(e,t){var n=new Uint32Array(e);window.crypto.getRandomValues(n);for(var r=0;r<e;r++)for(;n[r]>=t;){var a=new Uint32Array(1);window.crypto.getRandomValues(a),n[r]=a[0]}return n}},{key:"generateRandomChars",value:function(){var e="";this.state.element.params.lowercase&&(e+="abcdefghijklmnopqrstuvwxyz"),this.state.element.params.upprcase&&(e+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"),this.state.element.params.numbers&&(e+="0123456789"),this.state.element.params.special&&(e+="!\"#$%&\\'()*+,-./:;<=>?@[]^_`{|}~"),this.state.element.params.spaces&&(e+=" ");var t=this.randomCharsRangeList(this.state.element.params.passwordCharLength,e.length);if(this.state.element.params.noSimilarFollowingChars)for(var n=1;n<this.state.element.params.passwordCharLength;n++)for(;t[n]===t[n-1];){var r=this.randomCharsRangeList(1,e.length);t[n]=r[0]}var a="";for(n=0;n<this.state.element.params.passwordCharLength;n++)a+=e[t[n]];var o=this.state.element;o.params.type="chars",o.value=a,this.setState({element:o,passwordGenerated:!0})}},{key:"changePasswordWordsNumber",value:function(e){var t=this.state.element;e.target.value?t.params.wordsNumber=parseInt(e.target.value):t.params.wordsNumber=0,this.setState({element:t})}},{key:"toggleWordsLang",value:function(e,t){var n=this.state.element;-1!==n.params.wordsLangsList.indexOf(t)?n.params.wordsLangsList.splice(n.params.wordsLangsList.indexOf(t),1):n.params.wordsLangsList.push(t),this.setState({element:n})}},{key:"changePasswordWordsSeparator",value:function(e){var t=this.state.element;t.params.wordSeparator=e.target.value,this.setState({element:t})}},{key:"generateRandomWords",value:function(){var e=this,t=[];this.state.element.params.wordsLangsList.forEach((function(n){t=t.concat(e.state.wordsLists[n])}));for(var n=this.randomWordsRangeList(this.state.element.params.wordsNumber,t.length),r=[],a=0;a<this.state.element.params.wordsNumber;a++)r.push(t[n[a]]);var o=this.state.element;o.params.type="words",o.value=r.join(this.state.element.params.wordSeparator),this.setState({element:o,passwordGenerated:!0})}},{key:"copyOriginalPassword",value:function(){navigator.clipboard.writeText(this.state.originalPassword).then((function(){messageDispatcher.sendMessage("Notification",{type:"info",message:me.t("messageCopyOriginalPasswordToClipboard")})}))}},{key:"copyNewPassword",value:function(){navigator.clipboard.writeText(this.state.element.value).then((function(){messageDispatcher.sendMessage("Notification",{type:"info",message:me.t("messageCopyNewPasswordToClipboard")})}))}},{key:"render",value:function(){var e=this,t="chars"===this.state.element.params.type,n="chars"!==this.state.element.params.type;"chars"===this.state.element.params.type?t=" show":n=" show";var a=r.createElement("div",{className:"alert alert-primary",role:"alert"},me.t("newPassword"));this.state.showPassword&&this.state.passwordGenerated?a=r.createElement("div",{className:"alert alert-secondary",role:"alert"},r.createElement("code",null,this.state.element.value)):this.state.passwordGenerated&&(a=r.createElement("div",{className:"alert alert-success",role:"alert"},me.t("messagePasswordGenerated")));var o=[];return this.state.config.frontend.lang.forEach((function(t){o.push(r.createElement("div",{className:"form-group form-check",key:t},r.createElement("input",{type:"checkbox",className:"form-check-input",id:"passwordWordsLangs-"+t,onChange:function(n){return e.toggleWordsLang(n,t)},checked:-1!==e.state.element.params.wordsLangsList.indexOf(t)}),r.createElement("label",{className:"form-check-label",htmlFor:"passwordWordsLangs-"+t},me.t("passwordWordsLangs-"+t))))})),r.createElement("div",{className:"modal",tabIndex:"-1",id:"modalGeneratePassword"},r.createElement("div",{className:"modal-dialog"},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("h5",{className:"modal-title"},me.t("modalGeneratePassword")),r.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(t){return e.closeModal(t,!1)}})),r.createElement("div",{className:"modal-body"},r.createElement("div",{className:"accordion",id:"passwordRandom"},r.createElement("div",{className:"accordion-item"},r.createElement("h2",{className:"accordion-header",id:"headingOne"},r.createElement("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#passwordRandomCharacters","aria-expanded":t?"true":"false","aria-controls":"passwordRandomCharacters"},me.t("passwordRandomCharacters"))),r.createElement("div",{id:"passwordRandomCharacters",className:"accordion-collapse collapse"+(t?" show":""),"aria-labelledby":"headingOne","data-bs-parent":"#passwordRandom"},r.createElement("div",{className:"accordion-body"},r.createElement("div",{className:"form-group form-check"},r.createElement("input",{type:"checkbox",className:"form-check-input",id:"lowercase",onChange:function(t){return e.toggleParam(t,"lowercase")},checked:this.state.element.params.lowercase}),r.createElement("label",{className:"form-check-label",htmlFor:"lowercase"},me.t("passwordRandomLowercase"))),r.createElement("div",{className:"form-group form-check"},r.createElement("input",{type:"checkbox",className:"form-check-input",id:"upprcase",onChange:function(t){return e.toggleParam(t,"upprcase")},checked:this.state.element.params.upprcase}),r.createElement("label",{className:"form-check-label",htmlFor:"upprcase"},me.t("passwordRandomUppercase"))),r.createElement("div",{className:"form-group form-check"},r.createElement("input",{type:"checkbox",className:"form-check-input",id:"numbers",onChange:function(t){return e.toggleParam(t,"numbers")},checked:this.state.element.params.numbers}),r.createElement("label",{className:"form-check-label",htmlFor:"numbers"},me.t("passwordRandomNumbers"))),r.createElement("div",{className:"form-group form-check"},r.createElement("input",{type:"checkbox",className:"form-check-input",id:"special",onChange:function(t){return e.toggleParam(t,"special")},checked:this.state.element.params.special}),r.createElement("label",{className:"form-check-label",htmlFor:"special"},me.t("passwordRandomSpecial"))),r.createElement("div",{className:"form-group form-check"},r.createElement("input",{type:"checkbox",className:"form-check-input",id:"spaces",onChange:function(t){return e.toggleParam(t,"spaces")},checked:this.state.element.params.spaces}),r.createElement("label",{className:"form-check-label",htmlFor:"spaces"},me.t("passwordRandomSpaces"))),r.createElement("div",{className:"form-group form-check"},r.createElement("input",{type:"checkbox",className:"form-check-input",id:"noSimilarFollowingChars",onChange:function(t){return e.toggleParam(t,"noSimilarFollowingChars")},checked:this.state.element.params.noSimilarFollowingChars}),r.createElement("label",{className:"form-check-label",htmlFor:"noSimilarFollowingChars"},me.t("passwordNoSimilarFollowingChars"))),r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"passwordCharLength",className:"form-label"},me.t("passwordCharLength")),r.createElement("input",{type:"number",step:"1",min:"0",className:"form-control",id:"passwordCharLength",value:this.state.element.params.passwordCharLength,onChange:this.changePasswordLength})),r.createElement("div",{className:"mb-3"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.generateRandomChars,disabled:!this.state.element.params.lowercase&&!this.state.element.params.upprcase&&!this.state.element.params.numbers&&!this.state.element.params.special||!this.state.element.params.passwordCharLength},me.t("passwordGenerate")))))),r.createElement("div",{className:"accordion-item"},r.createElement("h2",{className:"accordion-header",id:"headingTwo"},r.createElement("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#passwordRandomWords","aria-expanded":n?"true":"false","aria-controls":"passwordRandomWords"},me.t("passwordRandomWords"))),r.createElement("div",{id:"passwordRandomWords",className:"accordion-collapse collapse"+(n?" show":""),"aria-labelledby":"headingTwo","data-bs-parent":"#passwordRandom"},r.createElement("div",{className:"accordion-body"},r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"passwordWordsNumber",className:"form-label"},me.t("passwordWordsNumber")),r.createElement("input",{type:"number",step:"1",min:"0",className:"form-control",id:"passwordWordsNumber",value:this.state.element.params.wordsNumber,onChange:this.changePasswordWordsNumber})),r.createElement("div",{className:"input-group mb-3"},r.createElement("label",{className:"input-group-text",htmlFor:"passwordWordsSeparator"},me.t("passwordWordsSeparator")),r.createElement("select",{className:"form-select",id:"passwordWordsSeparator",value:this.state.element.params.wordSeparator,onChange:this.changePasswordWordsSeparator},r.createElement("option",{value:" "},me.t("passwordWordsSeparatorSpace")),r.createElement("option",{value:"."},me.t("passwordWordsSeparatorDot")),r.createElement("option",{value:"-"},me.t("passwordWordsSeparatorDash")),r.createElement("option",{value:"_"},me.t("passwordWordsSeparatorUnderscore")),r.createElement("option",{value:","},me.t("passwordWordsSeparatorComma")),r.createElement("option",{value:""},me.t("passwordWordsSeparatorNone")))),r.createElement("h5",null,me.t("passwordWordsLangs")),o,r.createElement("div",{className:"mb-3"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.generateRandomWords,disabled:!this.state.element.params.wordsNumber||!this.state.element.params.wordsLangsList.length},me.t("passwordGenerate"))))))),r.createElement("hr",null),r.createElement("div",{className:"mb-3"},a),r.createElement("div",{className:"mb-3"},r.createElement("div",{className:"btn-toolbar justify-content-between",role:"toolbar"},r.createElement("div",{className:"btn-group",role:"group"},r.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.toggleShowPassword,title:me.t("coinElementShowPassword"),disabled:!this.state.passwordGenerated},r.createElement("i",{className:"fa fa-eye","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.copyNewPassword,title:me.t("passwordCopyNewPassword"),disabled:!this.state.passwordGenerated},r.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"}))),r.createElement("div",{className:"btn-group",role:"group"},r.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.copyOriginalPassword,title:me.t("passwordCopyOriginalPassword"),disabled:!this.state.originalPassword},r.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"})))))),r.createElement("div",{className:"modal-footer"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.closeModal(t,!1)}},me.t("modalClose")),r.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(t){return e.closeModal(t,!0)},disabled:!this.state.passwordGenerated},me.t("modalCloseAndSave"))))))}}])&&Za(t.prototype,n),a&&Za(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function oo(e){return(oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function io(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function so(e,t){return(so=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function co(e,t){if(t&&("object"===oo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return lo(e)}function lo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uo(e){return(uo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const fo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&so(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=uo(o);if(i){var n=uo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return co(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={config:e.config,coin:e.coin,element:e.element,index:e.index,cbSave:e.cbSave,cbCancel:e.cbCancel,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver,password:"",passwordConfirm:"",showModalGeneratePassword:!1,modalElement:!1,originalPassword:!1,pwdScore:-1},t.changePassword=t.changePassword.bind(lo(t)),t.changePasswordConfirm=t.changePasswordConfirm.bind(lo(t)),t.closeAndSave=t.closeAndSave.bind(lo(t)),t.openGenerateModal=t.openGenerateModal.bind(lo(t)),t.getGeneratedPassword=t.getGeneratedPassword.bind(lo(t)),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changePassword",value:function(e){var t=-1;e.target.value&&(t=zxcvbn(e.target.value).score),this.setState({password:e.target.value,pwdScore:t})}},{key:"changePasswordConfirm",value:function(e){this.setState({passwordConfirm:e.target.value})}},{key:"closeAndSave",value:function(e){if(this.state.password&&this.state.password===this.state.passwordConfirm){var t=this.state.element;t.value=this.state.password,this.state.cbSave(e,t,this.state.index)}}},{key:"openGenerateModal",value:function(){var e=Object.assign({},this.state.element);e.params||(e.params={type:"chars",lowercase:!0,upprcase:!0,numbers:!0,special:!0,spaces:!0,noSimilarFollowingChars:!1,passwordCharLength:32,wordsNumber:4,wordsLangsList:[me.language],wordSeparator:" "}),this.setState({showModalGeneratePassword:!0,modalElement:e,originalPassword:this.state.element.value},(function(){new bootstrap.Modal(document.getElementById("modalGeneratePassword"),{keyboard:!1}).show()}))}},{key:"getGeneratedPassword",value:function(e,t){var n=this;if(e){var r=-1;r=zxcvbn(t.value).score,navigator.clipboard.writeText(t.value).then((function(){Ln.sendMessage("Notification",{type:"info",message:me.t("messageCopyToClipboard")}),n.state.cbSave(!1,t,n.state.index)}))}bootstrap.Modal.getOrCreateInstance(document.querySelector("#modalGeneratePassword")).hide(),this.setState({showModalGeneratePassword:!1,modalElement:!1,originalPassword:!1,pwdScore:r})}},{key:"render",value:function(){var e,t,n=this;return this.state.showModalGeneratePassword&&(e=r.createElement(ao,{config:this.state.config,element:this.state.modalElement,originalPassword:this.state.originalPassword,callback:this.getGeneratedPassword})),0===this.state.pwdScore?t=r.createElement("span",{className:"badge bg-danger"},me.t("pwdScoreTooGuessable")):1===this.state.pwdScore?t=r.createElement("span",{className:"badge bg-warning"},me.t("pwdScoreVeryGuessable")):2===this.state.pwdScore?t=r.createElement("span",{className:"badge bg-secondary"},me.t("pwdScoreSomewhatGuessable")):3===this.state.pwdScore?t=r.createElement("span",{className:"badge bg-primary"},me.t("pwdScoreSafelyUnguessable")):4===this.state.pwdScore&&(t=r.createElement("span",{className:"badge bg-success"},me.t("pwdScoreVeryUnguessable"))),r.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},r.createElement("form",{onSubmit:function(e){return n.state.cbSave(e,n.state.element,n.state.index)}},r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:this.state.coin.name+"-"+this.state.index,className:"form-label"},me.t("coinElementPassword")),r.createElement("input",{type:"password",className:"form-control",id:this.state.coin.name+"-"+this.state.index,value:this.state.password,onChange:this.changePassword}),t),r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:this.state.coin.name+"-"+this.state.index,className:"form-label"},me.t("coinElementPasswordConfirm")),r.createElement("input",{type:"password",className:"form-control",id:this.state.coin.name+"-"+this.state.index+"-confirm",value:this.state.passwordConfirm,onChange:this.changePasswordConfirm})),r.createElement("div",{className:"mb-3"},r.createElement("div",{className:"btn-group"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return n.state.cbCancel(e,n.state.index)}},me.t("modalClose")),r.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(e){return n.closeAndSave(e)},disabled:!this.state.password||this.state.password!==this.state.passwordConfirm},me.t("modalOk"))),r.createElement("div",{className:"btn-group float-end"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.openGenerateModal,title:me.t("coinPasswordGenerate")},r.createElement("i",{className:"fa fa-magic","aria-hidden":"true"})))),e))}}])&&io(t.prototype,n),a&&io(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function po(e){return(po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ho(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mo(e,t){return(mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yo(e,t){if(t&&("object"===po(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return go(e)}function go(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bo(e){return(bo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const vo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mo(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=bo(o);if(i){var n=bo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return yo(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={coin:e.coin,element:e.element,index:e.index,cbSave:e.cbSave,cbCancel:e.cbCancel,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.getFile=t.getFile.bind(go(t)),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"getFile",value:function(e){var t=this,n=this.state.element,r=e.target.files[0],a=new FileReader;a.onload=function(e){n.value={name:r.name,data:btoa(e.target.result)},t.setState({element:n})},a.readAsBinaryString(r)}},{key:"render",value:function(){var e,t=this;return this.state.element.value.name&&(e=r.createElement("code",{className:"btn-icon-right"},this.state.element.value.name)),r.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},r.createElement("div",{className:"mb-3"},r.createElement("input",{type:"file",className:"upload",id:this.state.coin.name+this.state.index,onChange:this.getFile}),r.createElement("label",{htmlFor:this.state.coin.name+this.state.index,className:"btn btn-outline-secondary btn-sm"},r.createElement("i",{className:"fa fa-cloud-upload","aria-hidden":"true"})),e),r.createElement("div",{className:"mb-3 btn-group"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return t.state.cbCancel(e,t.state.index)}},me.t("modalClose")),r.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(e){return t.state.cbSave(e,t.state.element,t.state.index)},disabled:!this.state.element.value},me.t("modalOk"))))}}])&&ho(t.prototype,n),a&&ho(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function wo(e){return(wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function So(e,t){return(So=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ko(e,t){if(t&&("object"===wo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Co(e)}function Co(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Po(e){return(Po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Oo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&So(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Po(o);if(i){var n=Po(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ko(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={coin:e.coin,element:e.element,index:e.index,cbSave:e.cbSave,cbCancel:e.cbCancel,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.changeValue=t.changeValue.bind(Co(t)),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changeValue",value:function(e){var t=this.state.element;t.value=e.target.value,this.setState({element:t})}},{key:"render",value:function(){var e=this;return r.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},r.createElement("form",{onSubmit:function(t){return e.state.cbSave(t,e.state.element,e.state.index)}},r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:this.state.coin.name+"-"+this.state.index,className:"form-label"},me.t("coinElementMisc")),r.createElement("input",{type:"text",className:"form-control",id:this.state.coin.name+"-"+this.state.index,value:this.state.element.value,placeholder:me.t("coinElementMiscPh"),onChange:this.changeValue})),r.createElement("div",{className:"mb-3 btn-group"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.state.cbCancel(t,e.state.index)}},me.t("modalClose")),r.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(t){return e.state.cbSave(t,e.state.element,e.state.index)},disabled:!this.state.element.value},me.t("modalOk")))))}}])&&Eo(t.prototype,n),a&&Eo(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function No(e){return(No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _o(e,t){return(_o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function To(e,t){if(t&&("object"===No(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ro(e)}function Ro(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jo(e){return(jo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Do=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_o(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=jo(o);if(i){var n=jo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return To(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={coin:e.coin,oidcStatus:e.oidcStatus,element:e.element,index:e.index,cbEdit:e.cbEdit,cbRemove:e.cbRemove,cbTags:e.cbTags,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.copyToClipboard=t.copyToClipboard.bind(Ro(t)),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"copyToClipboard",value:function(){navigator.clipboard.writeText(this.state.element.value).then((function(){Ln.sendMessage("Notification",{type:"info",message:me.t("messageCopyToClipboard")})}))}},{key:"render",value:function(){var e=this,t=[];return this.state.element.tags&&this.state.element.tags.forEach((function(e,n){t.push(r.createElement("span",{key:n,className:"badge rounded-pill bg-secondary btn-icon"},e))})),r.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},r.createElement("div",{className:"row btn-icon-bottom"},r.createElement("div",{className:"col"},r.createElement("span",{className:"btn-icon-right"},r.createElement("span",{className:"badge bg-primary"},me.t("coinElementUrl")))),r.createElement("div",{className:"col text-truncate"},r.createElement("span",{className:"btn-icon-right"},r.createElement("a",{href:this.state.element.value,target:"_blank",rel:"noreferrer noopener",title:this.state.element.value,className:"link-secondary"},this.state.element.value))),r.createElement("div",{className:"col"},r.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:me.t("coinElementCopy"),onClick:this.copyToClipboard},r.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:me.t("coinElementEdit"),onClick:function(t){return e.state.cbEdit(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},r.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:me.t("coinElementRemove"),onClick:function(t){return e.state.cbRemove(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},r.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:me.t("coinElementTags"),onClick:function(t){return e.state.cbTags(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},r.createElement("i",{className:"fa fa-tags","aria-hidden":"true"}))))),r.createElement("div",{className:"row coin-tag"},r.createElement("div",{className:"col"},t)))}}])&&xo(t.prototype,n),a&&xo(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function Ao(e){return(Ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mo(e,t){return(Mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Io(e,t){if(t&&("object"===Ao(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ko(e)}function Ko(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uo(e){return(Uo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Ho=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mo(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Uo(o);if(i){var n=Uo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Io(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={oidcStatus:e.oidcStatus,coin:e.coin,element:e.element,index:e.index,cbEdit:e.cbEdit,cbRemove:e.cbRemove,cbTags:e.cbTags,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.copyToClipboard=t.copyToClipboard.bind(Ko(t)),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"copyToClipboard",value:function(){navigator.clipboard.writeText(this.state.element.value).then((function(){Ln.sendMessage("Notification",{type:"info",message:me.t("messageCopyToClipboard")})}))}},{key:"render",value:function(){var e=this,t=[];return this.state.element.tags&&this.state.element.tags.forEach((function(e,n){t.push(r.createElement("span",{key:n,className:"badge rounded-pill bg-secondary btn-icon"},e))})),r.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},r.createElement("div",{className:"row btn-icon-bottom"},r.createElement("div",{className:"col"},r.createElement("span",{className:"btn-icon-right"},r.createElement("span",{className:"badge bg-primary"},me.t("coinElementLogin")))),r.createElement("div",{className:"col text-truncate"},r.createElement("span",{className:"btn-icon-right"},this.state.element.value)),r.createElement("div",{className:"col"},r.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:me.t("coinElementCopy"),onClick:this.copyToClipboard},r.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:me.t("coinElementEdit"),onClick:function(t){return e.state.cbEdit(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},r.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:me.t("coinElementRemove"),onClick:function(t){return e.state.cbRemove(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},r.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:me.t("coinElementTags"),onClick:function(t){return e.state.cbTags(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},r.createElement("i",{className:"fa fa-tags","aria-hidden":"true"}))))),r.createElement("div",{className:"row coin-tag"},r.createElement("div",{className:"col"},t)))}}])&&Lo(t.prototype,n),a&&Lo(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function Fo(e){return(Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bo(e,t){return(Bo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zo(e,t){if(t&&("object"===Fo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jo(e)}function Jo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vo(e){return(Vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const qo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bo(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Vo(o);if(i){var n=Vo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return zo(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={coin:e.coin,oidcStatus:e.oidcStatus,element:e.element,index:e.index,cbEdit:e.cbEdit,cbRemove:e.cbRemove,cbTags:e.cbTags,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver,showPassword:!1},t.copyToClipboard=t.copyToClipboard.bind(Jo(t)),t.toggleShowPassword=t.toggleShowPassword.bind(Jo(t)),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"copyToClipboard",value:function(){navigator.clipboard.writeText(this.state.element.value).then((function(){Ln.sendMessage("Notification",{type:"info",message:me.t("messageCopyToClipboard")})}))}},{key:"toggleShowPassword",value:function(e){e.preventDefault(),this.setState({showPassword:!this.state.showPassword})}},{key:"render",value:function(){var e,t=this,n=[];return this.state.element.tags&&this.state.element.tags.forEach((function(e,t){n.push(r.createElement("span",{key:t,className:"badge rounded-pill bg-secondary btn-icon"},e))})),e=this.state.showPassword?r.createElement("div",{className:"col"},r.createElement("code",null,this.state.element.value)):r.createElement("div",{className:"col text-truncate"},r.createElement("span",{className:"btn-icon-right"},"********")),r.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},r.createElement("div",{className:"row btn-icon-bottom"},r.createElement("div",{className:"col text-truncate"},r.createElement("span",{className:"btn-icon-right"},r.createElement("span",{className:"badge bg-primary"},me.t("coinElementPassword"))),r.createElement("a",{className:"link-secondary btn-icon-right",alt:me.t("coinElementShowPassword"),href:"#",onClick:this.toggleShowPassword},r.createElement("i",{className:"fa fa-eye","aria-hidden":"true"}))),e,r.createElement("div",{className:"col"},r.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:me.t("coinElementCopy"),onClick:this.copyToClipboard},r.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:me.t("coinElementEdit"),onClick:function(e){return t.state.cbEdit(e,t.state.index)},disabled:"connected"!==this.state.oidcStatus},r.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:me.t("coinElementRemove"),onClick:function(e){return t.state.cbRemove(e,t.state.index)},disabled:"connected"!==this.state.oidcStatus},r.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:me.t("coinElementTags"),onClick:function(e){return t.state.cbTags(e,t.state.index)},disabled:"connected"!==this.state.oidcStatus},r.createElement("i",{className:"fa fa-tags","aria-hidden":"true"}))))),r.createElement("div",{className:"row coin-tag"},r.createElement("div",{className:"col"},n)))}}])&&Wo(t.prototype,n),a&&Wo(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function $o(e){return($o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Go(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qo(e,t){return(Qo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xo(e,t){if(t&&("object"===$o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yo(e)}function Yo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zo(e){return(Zo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const ei=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qo(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Zo(o);if(i){var n=Zo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Xo(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={oidcStatus:e.oidcStatus,value:e.value,index:e.index,cbSave:e.cbSave,disableEdit:e.disableEdit,showAnswer:!1},t.copyToClipboard=t.copyToClipboard.bind(Yo(t)),t.toggleShowAnswer=t.toggleShowAnswer.bind(Yo(t)),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"copyToClipboard",value:function(){navigator.clipboard.writeText(this.state.value.answer).then((function(){Ln.sendMessage("Notification",{type:"info",message:me.t("messageCopyToClipboard")})}))}},{key:"toggleShowAnswer",value:function(e){e.preventDefault(),this.setState({showAnswer:!this.state.showAnswer})}},{key:"render",value:function(){var e,t,n,a,o=this;return e=this.state.value.answer.length>4&&!this.state.showAnswer?this.state.value.answer.substring(0,2)+"[...]"+this.state.value.answer.slice(-2):this.state.value.answer,r.createElement("div",{className:"row"},r.createElement("div",{className:"col"},r.createElement("code",{className:"btn-icon-right"},this.state.value.question),r.createElement("a",{className:"link-secondary btn-icon-right",href:"#",alt:me.t("coinElementShowAnswer"),onClick:this.toggleShowAnswer},r.createElement("i",{className:"fa fa-eye","aria-hidden":"true"}))),r.createElement("div",{className:"col"},r.createElement("code",{className:"btn-icon-right"},e)),r.createElement("div",{className:"col"},r.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:me.t("coinElementCopy"),onClick:this.copyToClipboard},r.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"})),r.createElement("button",(t={className:"btn btn-outline-secondary btn-sm",type:"button",title:me.t("coinElementEdit"),onClick:function(e){return o.state.cbEdit(e,o.state.index)},disabled:this.state.disableEdit},n="disabled",a="connected"!==this.state.oidcStatus,n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t),r.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:me.t("coinElementRemove"),onClick:function(e){return o.state.cbRemove(e,o.state.index)},disabled:"connected"!==this.state.oidcStatus},r.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})))))}}])&&Go(t.prototype,n),a&&Go(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function ti(e){return(ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ni(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ri(e,t){return(ri=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ai(e,t){if(t&&("object"===ti(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return oi(e)}function oi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ii(e){return(ii=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const si=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ri(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ii(o);if(i){var n=ii(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ai(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={value:e.value,index:e.index,wordsList:e.wordsList,cbSave:e.cbSave,cbCancel:e.cbCancel},t.changeQuestion=t.changeQuestion.bind(oi(t)),t.changeAnswer=t.changeAnswer.bind(oi(t)),t.generateAnswer=t.generateAnswer.bind(oi(t)),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changeQuestion",value:function(e){var t=this.state.value;t.question=e.target.value,this.setState({value:t})}},{key:"changeAnswer",value:function(e){var t=this.state.value;t.answer=e.target.value,this.setState({value:t})}},{key:"randomWordsRangeList",value:function(e,t){var n=new Uint32Array(e);window.crypto.getRandomValues(n);for(var r=0;r<e;r++)for(;n[r]>=t;){var a=new Uint32Array(1);window.crypto.getRandomValues(a),n[r]=a[0]}return n}},{key:"generateAnswer",value:function(){var e=this.randomWordsRangeList(2,this.state.wordsList.length),t=this.state.wordsList[e[0]]+" "+this.state.wordsList[e[1]],n=this.state.value;n.answer=t,this.setState({value:n})}},{key:"render",value:function(){var e=this;return r.createElement("div",null,r.createElement("div",{className:"row"},r.createElement("div",{className:"col"},r.createElement("div",{className:"input-group mb-3"},r.createElement("span",{className:"input-group-text",id:"basic-addon1"},me.t("coinElementQuestionQ")),r.createElement("input",{type:"text",className:"form-control",placeholder:me.t("coinElementQuestionQPH"),value:this.state.value.question,onChange:this.changeQuestion})))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col"},r.createElement("div",{className:"input-group mb-3"},r.createElement("span",{className:"input-group-text",id:"basic-addon1"},me.t("coinElementQuestionA")),r.createElement("input",{type:"text",className:"form-control",placeholder:me.t("coinElementQuestionAPH"),value:this.state.value.answer,onChange:this.changeAnswer}),r.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.generateAnswer},r.createElement("i",{className:"fa fa-magic","aria-hidden":"true"}))))),r.createElement("div",{className:"mb-3 btn-group"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.state.cbCancel(t,e.state.index)}},me.t("modalCancel")),r.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(t){return e.state.cbSave(t,e.state.value,e.state.index)},disabled:!this.state.value.answer},me.t("modalOk"))))}}])&&ni(t.prototype,n),a&&ni(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function ci(e){return(ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function li(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ui(e,t){return(ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fi(e,t){if(t&&("object"===ci(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return di(e)}function di(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pi(e){return(pi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const hi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ui(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=pi(o);if(i){var n=pi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return fi(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={coin:e.coin,oidcStatus:e.oidcStatus,element:e.element,index:e.index,closeButon:e.closeButon,cbRemove:e.cbRemove,cbSave:e.cbSave,cbTags:e.cbTags,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver,config:e.config,editList:[]},t.copyToClipboard=t.copyToClipboard.bind(di(t)),t.saveRow=t.saveRow.bind(di(t)),t.cancelRow=t.cancelRow.bind(di(t)),t.editRow=t.editRow.bind(di(t)),t.removeRow=t.removeRow.bind(di(t)),t.cbAddQuestion=t.cbAddQuestion.bind(di(t)),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"copyToClipboard",value:function(e){navigator.clipboard.writeText(this.state.element.value[e].answer).then((function(){Ln.sendMessage("Notification",{type:"info",message:me.t("messageCopyToClipboard")})}))}},{key:"saveRow",value:function(e,t,n){var r=this,a=this.state.element;a.value[n]?a.value[n]=t:a.value.push(t);var o=this.state.editList;-1!==o.indexOf(n)&&o.splice(o.indexOf(n),1),this.setState({element:a,editList:o},(function(){r.state.cbSave(e,r.state.element,r.state.index)}))}},{key:"cancelRow",value:function(e,t){var n=this.state.editList;-1!==n.indexOf(t)&&n.splice(n.indexOf(t),1),this.setState({editList:n})}},{key:"editRow",value:function(e,t){var n=this.state.editList;n.push(t),this.setState({editList:n})}},{key:"removeRow",value:function(e,t){var n=this,r=this.state.element;r.value.splice(t,1);var a=this.state.editList;-1!==a.indexOf(t)&&a.splice(a.indexOf(t),1),this.setState({editList:a,element:r},(function(){n.state.cbSave(e,n.state.element,n.state.index)}))}},{key:"cbAddQuestion",value:function(){var e=this.state.editList,t=this.state.element;e.push(t.value.length),t.value.push({question:"",answer:""}),this.setState({editList:e,element:t})}},{key:"render",value:function(){var e,t,n,a,o=this,i=[],s=[];return this.state.element.tags&&this.state.element.tags.forEach((function(e,t){i.push(r.createElement("span",{key:t,className:"badge rounded-pill bg-secondary btn-icon"},e))})),this.state.element.value.length?this.state.element.value.forEach((function(e,t){-1!==o.state.editList.indexOf(t)?s.push(r.createElement(si,{value:Object.assign({},e),index:t,wordsList:o.state.config.wordsList,cbSave:o.saveRow,cbCancel:o.cancelRow,key:t})):s.push(r.createElement(ei,{value:Object.assign({},e),index:t,cbEdit:function(e){return o.editRow(e,t)},cbRemove:function(e){return o.removeRow(e,t)},key:t,disableEdit:!!o.state.editList.length,oidcStatus:o.state.oidcStatus}))})):s.push(r.createElement(si,{value:{question:"",answer:""},index:0,wordsList:this.state.config.wordsList,cbSave:this.saveRow,cbCancel:this.cancelRow,key:-1})),this.state.closeButon&&(e=r.createElement("div",{className:"row"},r.createElement("div",{className:"col"},r.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:me.t("modalClose"),onClick:function(e){return o.state.cbSave(e,o.state.element,o.state.index)}},me.t("modalClose")))))),r.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},r.createElement("div",{className:"row btn-icon-bottom"},r.createElement("div",{className:"col"},r.createElement("span",{className:"btn-icon-right"},r.createElement("span",{className:"badge bg-primary"},me.t("coinElementSecretQuestions")))),r.createElement("div",{className:"col"},r.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},r.createElement("button",(t={className:"btn btn-outline-secondary btn-sm",type:"button",title:me.t("coinElementAddQuestion"),onClick:this.cbAddQuestion,disabled:this.state.editList.length},n="disabled",a="connected"!==this.state.oidcStatus,n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t),r.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:me.t("coinElementRemove"),onClick:function(e){return o.state.cbRemove(e,o.state.index)},disabled:"connected"!==this.state.oidcStatus},r.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:me.t("coinElementTags"),onClick:function(e){return o.state.cbTags(e,o.state.index)},disabled:"connected"!==this.state.oidcStatus},r.createElement("i",{className:"fa fa-tags","aria-hidden":"true"}))))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col"},r.createElement("span",{className:"badge bg-info text-dark"},me.t("coinElementQuestionQ"))),r.createElement("div",{className:"col"},r.createElement("span",{className:"badge bg-info text-dark"},me.t("coinElementQuestionA"))),r.createElement("div",{className:"col"})),s,r.createElement("div",{className:"row coin-tag"},r.createElement("div",{className:"col"},i)),e)}}])&&li(t.prototype,n),a&&li(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function mi(e){return(mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gi(e,t){return(gi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bi(e,t){if(t&&("object"===mi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vi(e)}function vi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wi(e){return(wi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Ei=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gi(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=wi(o);if(i){var n=wi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return bi(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={coin:e.coin,oidcStatus:e.oidcStatus,element:e.element,index:e.index,cbEdit:e.cbEdit,cbRemove:e.cbRemove,cbTags:e.cbTags,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.downloadFile=t.downloadFile.bind(vi(t)),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"downloadFile",value:function(){if(this.state.element.value.data){var e=$("#"+this.state.coin.name+"-"+this.state.index+"-download");e.attr("href","data:application/octet-stream;base64,"+this.state.element.value.data),e[0].click()}}},{key:"render",value:function(){var e=this,t=[];return this.state.element.tags&&this.state.element.tags.forEach((function(e,n){t.push(r.createElement("span",{key:n,className:"badge rounded-pill bg-secondary btn-icon"},e))})),r.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},r.createElement("div",{className:"row btn-icon-bottom"},r.createElement("div",{className:"col"},r.createElement("span",{className:"btn-icon-right"},r.createElement("span",{className:"badge bg-primary"},me.t("coinElementFile")))),r.createElement("div",{className:"col text-truncate"},r.createElement("span",{className:"btn-icon-right"},r.createElement("code",null,this.state.element.value.name))),r.createElement("div",{className:"col"},r.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:me.t("coinElementDownload"),onClick:this.downloadFile},r.createElement("i",{className:"fa fa-cloud-download","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:me.t("coinElementEdit"),onClick:function(t){return e.state.cbEdit(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},r.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:me.t("coinElementRemove"),onClick:function(t){return e.state.cbRemove(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},r.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:me.t("coinElementTags"),onClick:function(t){return e.state.cbTags(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},r.createElement("i",{className:"fa fa-tags","aria-hidden":"true"}))))),r.createElement("div",{className:"row coin-tag"},r.createElement("div",{className:"col"},t)),r.createElement("a",{className:"upload",id:this.state.coin.name+"-"+this.state.index+"-download",download:this.state.element.value.name}))}}])&&yi(t.prototype,n),a&&yi(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function Si(e){return(Si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ki(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ci(e,t){return(Ci=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pi(e,t){if(t&&("object"===Si(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Oi(e)}function Oi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ni(e){return(Ni=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const xi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ci(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ni(o);if(i){var n=Ni(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Pi(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={coin:e.coin,oidcStatus:e.oidcStatus,element:e.element,index:e.index,cbEdit:e.cbEdit,cbRemove:e.cbRemove,cbTags:e.cbTags,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.copyToClipboard=t.copyToClipboard.bind(Oi(t)),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"copyToClipboard",value:function(){navigator.clipboard.writeText(this.state.element.value).then((function(){Ln.sendMessage("Notification",{type:"info",message:me.t("messageCopyToClipboard")})}))}},{key:"render",value:function(){var e=this,t=[];return this.state.element.tags&&this.state.element.tags.forEach((function(e,n){t.push(r.createElement("span",{key:n,className:"badge rounded-pill bg-secondary btn-icon"},e))})),r.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},r.createElement("div",{className:"row btn-icon-bottom"},r.createElement("div",{className:"col"},r.createElement("span",{className:"btn-icon-right"},r.createElement("span",{className:"badge bg-primary"},me.t("coinElementMisc")))),r.createElement("div",{className:"col text-truncate"},r.createElement("span",{className:"btn-icon-right"},r.createElement("code",null,this.state.element.value))),r.createElement("div",{className:"col"},r.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:me.t("coinElementCopy"),onClick:this.copyToClipboard},r.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:me.t("coinElementEdit"),onClick:function(t){return e.state.cbEdit(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},r.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:me.t("coinElementRemove"),onClick:function(t){return e.state.cbRemove(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},r.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})),r.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:me.t("coinElementTags"),onClick:function(t){return e.state.cbTags(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},r.createElement("i",{className:"fa fa-tags","aria-hidden":"true"}))))),r.createElement("div",{className:"row coin-tag"},r.createElement("div",{className:"col"},t)))}}])&&ki(t.prototype,n),a&&ki(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function _i(e){return(_i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ri(e,t){return(Ri=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ji(e,t){if(t&&("object"===_i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Di(e)}function Di(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ai(e){return(Ai=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Li=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ri(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ai(o);if(i){var n=Ai(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ji(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={index:e.index,tags:e.tags,cb:e.cb,inputValue:""},t.addTag=t.addTag.bind(Di(t)),t.deleteTag=t.deleteTag.bind(Di(t)),t.submitForm=t.submitForm.bind(Di(t)),t.changeInputValue=t.changeInputValue.bind(Di(t)),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"closeModal",value:function(e,t){this.state.cb&&this.state.cb(t,this.state.tags)}},{key:"changeInputValue",value:function(e){/\s/.test(e.target.value)?this.addTag():this.setState({inputValue:e.target.value})}},{key:"addTag",value:function(){var e=this.state.tags;return this.state.inputValue&&e.push(this.state.inputValue),this.setState({tags:e,inputValue:""})}},{key:"deleteTag",value:function(e,t){e.preventDefault();var n=this.state.tags;n.splice(t,1),this.setState({tags:n})}},{key:"submitForm",value:function(e){var t=this;e.preventDefault();var n=this.state.tags;this.state.inputValue&&n.push(this.state.inputValue),this.setState({tags:n,inputValue:""},(function(){t.closeModal(e,!0)}))}},{key:"render",value:function(){var e=this,t=[];return this.state.tags.forEach((function(n,a){t.push(r.createElement("a",{href:"#",onClick:function(t){return e.deleteTag(t,a)},key:a},r.createElement("span",{className:"badge rounded-pill bg-secondary btn-icon"},n,r.createElement("span",{className:"badge badge-light btn-icon-right"},r.createElement("i",{className:"fas fa-times"})))))})),r.createElement("div",{className:"modal",tabIndex:"-1",id:"modalCoinElementTags"},r.createElement("div",{className:"modal-dialog"},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("h5",{className:"modal-title"},me.t("CoinElementTags")),r.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(t){return e.closeModal(t,!1)}})),r.createElement("form",{onSubmit:function(t){return e.submitForm(t)}},r.createElement("div",{className:"modal-body"},r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"coinDisplayName",className:"form-label"},me.t("coinDisplayName")),r.createElement("div",{className:"input-group mb-3"},r.createElement("input",{type:"text",maxLength:"128",className:"form-control",id:"coinDisplayName",value:this.state.inputValue,onChange:function(t){return e.changeInputValue(t)}}),r.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.addTag},r.createElement("i",{className:"fa fa-plus","aria-hidden":"true"}))),t)),r.createElement("div",{className:"modal-footer"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.closeModal(t,!1)}},me.t("modalClose")),r.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(t){return e.submitForm(t)}},me.t("modalOk")))))))}}])&&Ti(t.prototype,n),a&&Ti(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function Mi(e){return(Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ii(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ki(e,t){return(Ki=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ui(e,t){if(t&&("object"===Mi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Hi(e){return(Hi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Fi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ki(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Hi(o);if(i){var n=Hi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ui(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={config:e.config,cb:e.cb,safe:e.safe,coin:e.coin},t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"render",value:function(){var e=this;return r.createElement("div",{className:"modal",tabIndex:"-1",id:"exportCoinModal"},r.createElement("div",{className:"modal-dialog"},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("h5",{className:"modal-title"},me.t("exportCoin")),r.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(t){return e.state.cb(t)}})),r.createElement("div",{className:"modal-body"},r.createElement(_a,{config:this.state.config,safe:this.state.safe,content:[this.state.coin],id:this.state.coin.name,name:this.state.coin.data.displayName})),r.createElement("div",{className:"modal-footer"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.state.cb(t)}},me.t("modalClose"))))))}}])&&Ii(t.prototype,n),a&&Ii(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function Wi(e){return(Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zi(e,t){return(zi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ji(e,t){if(t&&("object"===Wi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vi(e)}function Vi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qi(e){return(qi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const $i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zi(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=qi(o);if(i){var n=qi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ji(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={config:e.config,oidcStatus:e.oidcStatus,safe:e.safe,coin:e.coin,cbEditHeader:e.cbEditHeader,cbRemoveCoin:e.cbRemoveCoin,cbSaveCoin:e.cbSaveCoin,showAddElement:!1,newElementType:!1,editElementList:[],curElementIndex:-1,showConfirm:!1,showEditTags:!1,showExportCoin:!1,sortRowsEnabled:!1,overId:!1},t.exportCoin=t.exportCoin.bind(Vi(t)),t.exportCoinClose=t.exportCoinClose.bind(Vi(t)),t.addSecretElement=t.addSecretElement.bind(Vi(t)),t.cancelEditElement=t.cancelEditElement.bind(Vi(t)),t.editElement=t.editElement.bind(Vi(t)),t.removeElement=t.removeElement.bind(Vi(t)),t.removeElementConfirm=t.removeElementConfirm.bind(Vi(t)),t.setElementTags=t.setElementTags.bind(Vi(t)),t.setElementTagsConfirm=t.setElementTagsConfirm.bind(Vi(t)),t.saveElement=t.saveElement.bind(Vi(t)),t.onDrop=t.onDrop.bind(Vi(t)),t.onDragOver=t.onDragOver.bind(Vi(t)),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"exportCoin",value:function(){this.setState({showExportCoin:!0},(function(){new bootstrap.Modal(document.getElementById("exportCoinModal"),{keyboard:!1}).show()}))}},{key:"exportCoinClose",value:function(){bootstrap.Modal.getOrCreateInstance(document.querySelector("#exportCoinModal")).hide(),this.setState({showExportCoin:!1})}},{key:"addSecretElement",value:function(){var e,t=!1,n=!1;this.state.coin.data.rows.forEach((function(e,r){"url"===e.type?t=!0:"login"===e.type&&(n=!0)})),e=t&&n?"password":t?"login":"url",this.setState({showAddElement:!0,newElementType:e})}},{key:"setNewElementType",value:function(e){this.setState({newElementType:e.target.value})}},{key:"editElement",value:function(e,t){e.preventDefault();var n=this.state.editElementList;n.push(t),this.setState({editElementList:n})}},{key:"removeElement",value:function(e,t){e.preventDefault(),this.setState({curElementIndex:t,showConfirm:!0},(function(){new bootstrap.Modal(document.getElementById("removeElement"),{keyboard:!1}).show()}))}},{key:"removeElementConfirm",value:function(e){if(e){var t=this.state.coin;t.data.rows.splice(this.state.curElementIndex,1),this.state.cbSaveCoin(!0,t.name,t.data,!0)}bootstrap.Modal.getOrCreateInstance(document.querySelector("#removeElement")).hide(),this.setState({showConfirm:!1})}},{key:"setElementTags",value:function(e,t){e.preventDefault(),this.setState({curElementIndex:t,curTags:this.state.coin.data.rows[t].tags||[],showEditTags:!0},(function(){new bootstrap.Modal(document.getElementById("modalCoinElementTags"),{keyboard:!1}).show()}))}},{key:"setElementTagsConfirm",value:function(e,t){if(e){var n=this.state.coin;t.length?n.data.rows[this.state.curElementIndex].tags=t:delete n.data.rows[this.state.curElementIndex].tags,this.state.cbSaveCoin(!0,n.name,n.data,!0)}bootstrap.Modal.getOrCreateInstance(document.querySelector("#modalCoinElementTags")).hide(),this.setState({showEditTags:!1})}},{key:"saveElement",value:function(e,t,n){var r=this,a=this.state.coin;-1===n?a.data.rows.push(t):(a.data.rows[n]=t,this.cancelEditElement(e,n)),this.setState({showAddElement:!1,newElementType:!1},(function(){r.state.cbSaveCoin(!0,a.name,a.data,!0)}))}},{key:"cancelEditElement",value:function(e,t){if(e&&e.preventDefault(),-1===t)this.setState({showAddElement:!1,newElementType:!1});else{var n=this.state.editElementList;n.indexOf(t)>-1&&n.splice(n.indexOf(t),1),this.setState({editElementList:n})}}},{key:"copyToClipboard",value:function(e){navigator.clipboard.writeText(e).then((function(){Ln.sendMessage("Notification",{type:"info",message:me.t("messageCopyToClipboard")})}))}},{key:"sortRows",value:function(){var e=this;this.setState({sortRowsEnabled:!this.state.sortRowsEnabled},(function(){e.state.sortRowsEnabled?Ln.sendMessage("Notification",{type:"info",message:me.t("messageSortEnabled")}):Ln.sendMessage("Notification",{type:"info",message:me.t("messageSortDisabled")})}))}},{key:"switchRows",value:function(e,t){var n=this.state.coin,r=n.data.rows[e];n.data.rows.splice(e,1),n.data.rows.splice(t,0,r),this.state.cbSaveCoin(!0,n.name,n.data,!0)}},{key:"onDragStart",value:function(e){e.dataTransfer.setData("text",e.target.id)}},{key:"onDrop",value:function(e){e.preventDefault();var t=e.dataTransfer.getData("text").split("-");t&&2===t.length&&t[0]===this.state.coin.name&&this.switchRows(parseInt(t[1]),parseInt(this.state.overId))}},{key:"onDragOver",value:function(e){for(var t=e.target;t;){if(t.draggable){var n=t.id.split("-");n&&2===n.length&&n[0]===this.state.coin.name&&this.setState({overId:n[1]});break}t=t.parentElement}e.preventDefault()}},{key:"toggleAccordion",value:function(e){e.preventDefault(),$("#collapse-"+this.state.coin.name).collapse("toggle")}},{key:"render",value:function(){var e,t,n,a,o,i,s,c,l=this,u=[],f=[],d=[];switch(this.state.coin.data.icon&&(e=r.createElement("i",{className:this.state.coin.data.icon+" fa btn-icon","aria-hidden":"true"})),this.state.showAddElement&&(t=r.createElement("div",{className:"input-group mb-3"},r.createElement("span",{className:"input-group-text",id:"basic-addon1"},me.t("coinElementType")),r.createElement("select",{className:"form-select",id:"addElement",onChange:function(e){return l.setNewElementType(e)},value:this.state.newElementType},r.createElement("option",{value:"url"},me.t("coinElementTypeUrl")),r.createElement("option",{value:"login"},me.t("coinElementTypeLogin")),r.createElement("option",{value:"password"},me.t("coinElementTypePassword")),r.createElement("option",{value:"secretQuestion"},me.t("coinElementTypeSecretQuestion")),r.createElement("option",{value:"file"},me.t("coinElementTypeFile")),r.createElement("option",{value:"misc"},me.t("coinElementTypeMisc"))))),this.state.newElementType){case"url":n=r.createElement(za,{coin:this.state.coin,element:{type:this.state.newElementType,value:""},index:-1,cbSave:this.saveElement,cbCancel:this.cancelEditElement}),a=r.createElement("hr",null);break;case"login":n=r.createElement(Xa,{coin:this.state.coin,element:{type:this.state.newElementType,value:""},index:-1,cbSave:this.saveElement,cbCancel:this.cancelEditElement}),a=r.createElement("hr",null);break;case"password":n=r.createElement(fo,{config:this.state.config,coin:this.state.coin,element:{type:this.state.newElementType,value:""},index:-1,cbSave:this.saveElement,cbCancel:this.cancelEditElement}),a=r.createElement("hr",null);break;case"secretQuestion":n=r.createElement(hi,{config:this.state.config,coin:this.state.coin,element:{type:this.state.newElementType,value:[]},index:-1,closeButon:!0,cbSave:this.saveElement,cbRemove:this.removeElement,cbCancel:this.cancelEditElement,cbTags:function(e){return l.setElementTags(e,index)}}),a=r.createElement("hr",null);break;case"file":n=r.createElement(vo,{coin:this.state.coin,element:{type:this.state.newElementType,value:{}},index:-1,cbSave:this.saveElement,cbCancel:this.cancelEditElement}),a=r.createElement("hr",null);break;case"misc":n=r.createElement(Oo,{coin:this.state.coin,element:{type:this.state.newElementType,value:""},index:-1,cbSave:this.saveElement,cbCancel:this.cancelEditElement}),a=r.createElement("hr",null)}this.state.showConfirm&&(o=r.createElement(wr,{name:"removeElement",title:me.t("removeElementTitle"),message:me.t("removeElementMessage"),cb:this.removeElementConfirm})),this.state.showEditTags&&(i=r.createElement(Li,{index:this.state.curElementIndex,tags:this.state.curTags,cb:this.setElementTagsConfirm})),this.state.showExportCoin&&(s=r.createElement(Fi,{config:this.state.config,cb:this.exportCoinClose,safe:this.state.safe,coin:this.state.coin})),this.state.coin.data.rows.forEach((function(e,t){switch(e.type){case"url":-1===l.state.editElementList.indexOf(t)?u.push(r.createElement(Do,{key:t,coin:l.state.coin,element:e,index:t,cbEdit:l.editElement,cbRemove:l.removeElement,cbTags:function(e){return l.setElementTags(e,t)},isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver,oidcStatus:l.state.oidcStatus})):u.push(r.createElement(za,{key:t,coin:l.state.coin,element:e,index:t,cbSave:l.saveElement,cbCancel:l.cancelEditElement,isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver}));break;case"login":f.push({type:"login",value:e.value,tags:(e.tags||[]).join(" ")}),-1===l.state.editElementList.indexOf(t)?u.push(r.createElement(Ho,{key:t,coin:l.state.coin,element:e,index:t,cbEdit:l.editElement,cbRemove:l.removeElement,cbTags:function(e){return l.setElementTags(e,t)},isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver,oidcStatus:l.state.oidcStatus})):u.push(r.createElement(Xa,{key:t,coin:l.state.coin,element:e,index:t,cbSave:l.saveElement,cbCancel:l.cancelEditElement,isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver}));break;case"password":f.push({type:"password",value:e.value,tags:(e.tags||[]).join(" ")}),-1===l.state.editElementList.indexOf(t)?u.push(r.createElement(qo,{key:t,coin:l.state.coin,element:e,index:t,cbEdit:l.editElement,cbRemove:l.removeElement,cbTags:function(e){return l.setElementTags(e,t)},isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver,oidcStatus:l.state.oidcStatus})):u.push(r.createElement(fo,{key:t,config:l.state.config,coin:l.state.coin,element:e,index:t,cbSave:l.saveElement,cbCancel:l.cancelEditElement,isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver}));break;case"secretQuestion":u.push(r.createElement(hi,{key:t,config:l.state.config,coin:l.state.coin,element:e,index:t,closeButon:!1,cbSave:l.saveElement,cbRemove:l.removeElement,cbCancel:l.cancelEditElement,cbTags:function(e){return l.setElementTags(e,t)},isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver,oidcStatus:l.state.oidcStatus}));break;case"file":-1===l.state.editElementList.indexOf(t)?u.push(r.createElement(Ei,{key:t,coin:l.state.coin,element:e,index:t,cbEdit:l.editElement,cbRemove:l.removeElement,cbTags:function(e){return l.setElementTags(e,t)},isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver,oidcStatus:l.state.oidcStatus})):u.push(r.createElement(vo,{key:t,coin:l.state.coin,element:e,index:t,cbSave:l.saveElement,cbCancel:l.cancelEditElement,isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver}));break;case"misc":-1===l.state.editElementList.indexOf(t)?u.push(r.createElement(xi,{key:t,coin:l.state.coin,element:e,index:t,cbEdit:l.editElement,cbRemove:l.removeElement,cbTags:function(e){return l.setElementTags(e,t)},isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver,oidcStatus:l.state.oidcStatus})):u.push(r.createElement(Oo,{key:t,coin:l.state.coin,element:e,index:t,cbSave:l.saveElement,cbCancel:l.cancelEditElement,isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver}))}})),f.length<=2?f.forEach((function(e,t){"login"===e.type?d.push(r.createElement("button",{key:t,type:"button",className:"btn btn-secondary",onClick:function(t){return l.copyToClipboard(e.value)},title:e.tags},r.createElement("i",{className:"fa fa-user","aria-hidden":"true"}))):d.push(r.createElement("button",{key:t,type:"button",className:"btn btn-secondary",onClick:function(t){return l.copyToClipboard(e.value)},title:e.tags},r.createElement("i",{className:"fa fa-key","aria-hidden":"true"})))})):d.push(r.createElement("button",{key:0,type:"button",className:"btn btn-secondary",onClick:function(e){return l.toggleAccordion(e)}},r.createElement("i",{className:"fa fa-user btn-icon","aria-hidden":"true"}),r.createElement("i",{className:"fa fa-key btn-icon","aria-hidden":"true"}),r.createElement("i",{className:"fa fa-chevron-down","aria-hidden":"true"}))),c=r.createElement("div",{className:"input-group"},d);var p="btn btn-sm";return this.state.sortRowsEnabled?p+=" btn-primary":p+=" btn-secondary",r.createElement("div",{className:"col"},r.createElement("div",{className:"accordion",id:"coin-"+this.state.coin.name},r.createElement("div",{className:"accordion-item"},r.createElement("h2",{className:"accordion-header",id:"heading-"+this.state.coin.name},r.createElement("div",{className:"btn-toolbar justify-content-between",role:"toolbar","aria-label":"Toolbar with button groups"},r.createElement("div",{className:"btn-group text-truncate",role:"group","aria-label":"First group"},r.createElement("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse-"+this.state.coin.name,"aria-expanded":"false","aria-controls":"collapse-"+this.state.coin.name},e,this.state.coin.data.displayName)),c)),r.createElement("div",{id:"collapse-"+this.state.coin.name,className:"accordion-collapse collapse","aria-labelledby":"heading-"+this.state.coin.name,"data-bs-parent":"#coin-"+this.state.coin.name},r.createElement("div",{className:"accordion-body"},r.createElement("div",{className:"mb-3",role:"group"},r.createElement("div",{className:"btn-group float-end",role:"group"},r.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:function(e){return l.state.cbEditHeader(l.state.coin.name,l.state.coin.data)},disabled:"connected"!==this.state.oidcStatus,title:me.t("editCoinHeader")},r.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),r.createElement("button",{type:"button",className:p,onClick:function(e){return l.sortRows()},disabled:"connected"!==this.state.oidcStatus,title:me.t("sortCoin")},r.createElement("i",{className:"fa fa-sort","aria-hidden":"true"})),r.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.exportCoin,title:me.t("exportCoin")},r.createElement("i",{className:"fa fa-cloud-download","aria-hidden":"true"})),r.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.addSecretElement,disabled:"connected"!==this.state.oidcStatus,title:me.t("addSecretElement")},r.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})),r.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:function(e){return l.state.cbRemoveCoin(l.state.coin.name,l.state.coin.data.displayName)},disabled:"connected"!==this.state.oidcStatus,title:me.t("removeCoin")},r.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"}))))," ",t,n,a,r.createElement("div",{onDrop:this.onDrop,onDragOver:this.onDragOver},u)))),o,i,s))}}])&&Bi(t.prototype,n),a&&Bi(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function Gi(e){return(Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xi(e,t){return(Xi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yi(e,t){if(t&&("object"===Gi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zi(e)}function Zi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function es(e){return(es=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ts(e){return e.safeContent&&e.safe.name&&e.safeContent[e.safe.name]?e.safeContent[e.safe.name].unlockedCoinList:[]}const ns=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xi(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=es(o);if(i){var n=es(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Yi(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={config:e.config,oidcStatus:e.oidcStatus,safe:e.safe,safeContent:e.safeContent,iconList:e.iconList,filteredCoinList:ts(e),filter:"",coinEditMode:0,coinEditName:!1,coinEditContent:!1,removeCoinMessage:!1,filterTimeout:!1,filtering:!1},t.reloadSafe=t.reloadSafe.bind(Zi(t)),t.editSafe=t.editSafe.bind(Zi(t)),t.unlockSafe=t.unlockSafe.bind(Zi(t)),t.unlockSafeCallback=t.unlockSafeCallback.bind(Zi(t)),t.removeSafe=t.removeSafe.bind(Zi(t)),t.removeSafeConfirm=t.removeSafeConfirm.bind(Zi(t)),t.lockSafe=t.lockSafe.bind(Zi(t)),t.changeFilter=t.changeFilter.bind(Zi(t)),t.addCoin=t.addCoin.bind(Zi(t)),t.editCoinHeader=t.editCoinHeader.bind(Zi(t)),t.manageSafe=t.manageSafe.bind(Zi(t)),t.removeCoin=t.removeCoin.bind(Zi(t)),t.removeCoinConfirm=t.removeCoinConfirm.bind(Zi(t)),t.coinSaveCallback=t.coinSaveCallback.bind(Zi(t)),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){var n,r,a,o=Object.assign({},e);return"connected"===e.oidcStatus&&(t.filter?o.filteredCoinList=(n=o.safeContent[o.safe.name].unlockedCoinList,r=t.filter,a=[],n.forEach((function(e){e.data.displayName.toUpperCase().search(r.toUpperCase())>-1&&a.push(e)})),console.log(a),a):o.filteredCoinList=o.safeContent[o.safe.name].unlockedCoinList),o}}],(n=[{key:"reloadSafe",value:function(){Ln.sendMessage("App",{action:"loadSafe",target:this.state.safe.name})}},{key:"editSafe",value:function(){Ln.sendMessage("App",{action:"editSafe",target:this.state.safe.name})}},{key:"unlockSafe",value:function(){new bootstrap.Modal(document.getElementById("modalUnlockSafe"),{keyboard:!1}).show()}},{key:"unlockSafeCallback",value:function(e,t,n,r,a){e&&(Ln.sendMessage("App",{action:"setSafeKey",target:this.state.safe,key:t,keepUnlocked:n,unlockKeyName:r,removeStorage:!1,masterkeyData:a}),Ln.sendMessage("Notification",{type:"info",message:me.t("unlockedSafe")})),bootstrap.Modal.getOrCreateInstance(document.querySelector("#modalUnlockSafe")).hide()}},{key:"lockSafe",value:function(){Ln.sendMessage("App",{action:"setSafeKey",target:this.state.safe,key:!1,removeStorage:!0}),Ln.sendMessage("Notification",{type:"info",message:me.t("lockedSafe")})}},{key:"removeSafe",value:function(){new bootstrap.Modal(document.getElementById("removeSafe"),{keyboard:!1}).show()}},{key:"removeSafeConfirm",value:function(e){var t=this;e&&Bn.request(this.state.config.safe_endpoint+"/"+this.state.safe.name,"DELETE").then((function(){Ln.sendMessage("App",{action:"removeSafe",safe:t.state.safe}),Ln.sendMessage("Notification",{type:"info",message:me.t("messageRemoveSafe")})})).catch((function(){Ln.sendMessage("Notification",{type:"warning",message:me.t("messageErrorSaveSafe")})})),bootstrap.Modal.getOrCreateInstance(document.querySelector("#removeSafe")).hide()}},{key:"changeFilter",value:function(e){this.setState({filter:e.target.value})}},{key:"addCoin",value:function(){this.setState({name:!1,coinEditContent:{displayName:"",rows:[]}},(function(){new bootstrap.Modal(document.getElementById("modalCoinEdit"),{keyboard:!1}).show()}))}},{key:"editCoinHeader",value:function(e,t){this.setState({coinEditName:e,coinEditContent:t},(function(){new bootstrap.Modal(document.getElementById("modalCoinEdit"),{keyboard:!1}).show()}))}},{key:"removeCoin",value:function(e,t){this.setState({coinEditName:e,removeCoinMessage:me.t("removeCoinMessage",{name:t||e})},(function(){new bootstrap.Modal(document.getElementById("removeCoin"),{keyboard:!1}).show()}))}},{key:"removeCoinConfirm",value:function(e){var t=this;e&&Bn.request(this.state.config.safe_endpoint+"/"+this.state.safe.name+"/coin/"+this.state.coinEditName,"DELETE").then((function(){Ln.sendMessage("Notification",{type:"info",message:me.t("messageSuccessCoinRemove")}),Ln.sendMessage("App",{action:"removeCoin",target:t.state.safe,coin:t.state.coinEditName})})).catch((function(){Ln.sendMessage("Notification",{type:"warning",message:me.t("messageErrorCoinRemove")})})),bootstrap.Modal.getOrCreateInstance(document.querySelector("#removeCoin")).hide()}},{key:"coinSaveCallback",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=bootstrap.Modal.getOrCreateInstance(document.querySelector("#modalCoinEdit"));return o&&o.hide(),e?t?new xn(n).setProtectedHeader({alg:this.state.safe.alg_type,enc:this.state.safe.enc_type,sign_thumb:this.state.config.sign_thumb}).encrypt(this.state.safeContent[this.state.safe.name].key).then((function(e){var o={name:t,data:e};return Bn.request(r.state.config.safe_endpoint+"/"+r.state.safe.name+"/coin/"+t,"PUT",o).then((function(){a&&Ln.sendMessage("Notification",{type:"info",message:me.t("messageSuccessCoinSave")}),Ln.sendMessage("App",{action:"updateCoin",target:r.state.safe,encCoin:o,unlockedCoin:{name:t,data:n}})})).catch((function(){a&&Ln.sendMessage("Notification",{type:"warning",message:me.t("messageErrorCoinSave")})}))})):new xn(n).setProtectedHeader({alg:this.state.safe.alg_type,enc:this.state.safe.enc_type,sign_thumb:this.state.config.sign_thumb}).encrypt(this.state.safeContent[this.state.safe.name].key).then((function(e){var t={name:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),data:e};return Bn.request(r.state.config.safe_endpoint+"/"+r.state.safe.name+"/coin","POST",t).then((function(){a&&Ln.sendMessage("Notification",{type:"info",message:me.t("messageSuccessCoinSave")}),Ln.sendMessage("App",{action:"updateCoin",target:r.state.safe,encCoin:t,unlockedCoin:{name:t.name,data:n},cb:r.scrollToCoin})})).catch((function(){Ln.sendMessage("Notification",{type:"warning",message:me.t("messageErrorCoinSave")})}))})):$.Deferred().reject("No can do")}},{key:"scrollToCoin",value:function(e){var t=document.getElementById("coin-"+e);t&&t.scrollIntoView()}},{key:"manageSafe",value:function(){new bootstrap.Modal(document.getElementById("manageSafe"),{keyboard:!1}).show()}},{key:"manageSafeClose",value:function(){bootstrap.Modal.getOrCreateInstance(document.querySelector("#manageSafe")).hide()}},{key:"render",value:function(){var e,t,n=this,a=[],o=this.state.safe&&this.state.safeContent&&this.state.safeContent[this.state.safe.name]&&this.state.safeContent[this.state.safe.name].key;return this.state.safe&&this.state.safeContent&&this.state.safeContent[this.state.safe.name]&&this.state.safeContent[this.state.safe.name].key?(e=r.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.lockSafe,title:me.t("safeLock")},r.createElement("i",{className:"fa fa-lock","aria-hidden":"true"})),t=r.createElement("div",{className:"mb-3"},r.createElement("form",{onSubmit:function(e){return e.preventDefault()}},r.createElement("div",{className:"input-group mb-3"},r.createElement("input",{type:"text",className:"form-control",autoComplete:"new-password",placeholder:me.t("secretFilter"),id:"coinFilter",name:"coinFilter",value:this.state.filter,onChange:this.changeFilter}))))):e=r.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.unlockSafe,title:me.t("safeUnlock")},r.createElement("i",{className:"fa fa-unlock","aria-hidden":"true"})),o&&this.state.filteredCoinList.forEach((function(e,t){a.push(r.createElement($i,{config:n.state.config,coin:e,safe:n.state.safe,cbEditHeader:n.editCoinHeader,cbRemoveCoin:n.removeCoin,cbSaveCoin:n.coinSaveCallback,oidcStatus:n.state.oidcStatus,key:t}))})),r.createElement("div",null,r.createElement("div",{className:"alert alert-primary text-center",role:"alert"},this.state.safe.display_name||this.state.safe.name,r.createElement("div",{className:"btn-group float-end",role:"group"},e,r.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.reloadSafe,disabled:!o||"connected"!==this.state.oidcStatus,title:me.t("reloadSafe")},r.createElement("i",{className:"fa fa-refresh","aria-hidden":"true"})),r.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.editSafe,disabled:!o||"connected"!==this.state.oidcStatus,title:me.t("editSafe")},r.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),r.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.manageSafe,disabled:!o,title:me.t("manageSafe")},r.createElement("i",{className:"fa fa-cogs","aria-hidden":"true"})),r.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.addCoin,disabled:!o||"connected"!==this.state.oidcStatus,title:me.t("addCoin")},r.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})),r.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:function(e){return n.removeSafe()},disabled:!o||"connected"!==this.state.oidcStatus,title:me.t("removeSafe")},r.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})))),t,r.createElement("div",{className:"row row-cols-1 row-cols-sm-1 row-cols-md-1 row-cols-lg-2"},a),r.createElement(ca,{config:this.state.config,safe:this.state.safe,safeContent:this.state.safeContent,allowKeepUnlocked:!0,cb:this.unlockSafeCallback}),r.createElement(Sa,{editMode:this.state.coinEditMode,name:this.state.coinEditName,content:this.state.coinEditContent,cb:this.coinSaveCallback,iconListOrig:this.state.iconList}),r.createElement(Ia,{config:this.state.config,safe:this.state.safe,safeContent:this.state.safeContent,cbSaveCoin:this.coinSaveCallback,oidcStatus:this.state.oidcStatus,cbClose:this.manageSafeClose}),r.createElement(wr,{name:"removeSafe",title:me.t("removeSafeTitle"),message:me.t("removeSafeMessage",{name:this.state.safe.display_name||this.state.safe.name}),cb:this.removeSafeConfirm}),r.createElement(wr,{name:"removeCoin",title:me.t("removeCoinTitle"),message:this.state.removeCoinMessage,cb:this.removeCoinConfirm}))}}])&&Qi(t.prototype,n),a&&Qi(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function rs(e){return(rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function as(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function os(e,t){return(os=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function is(e,t){if(t&&("object"===rs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ss(e){return(ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const cs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&os(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ss(o);if(i){var n=ss(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return is(this,e)});function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),t=s.call(this,e);var n=e.editMode;return!e.editMode&&e.safeContent&&e.safe&&e.safeContent[e.safe.name]&&!e.safeContent[e.safe.name].keyList.length&&(n=2),t.state={config:e.config,oidcStatus:e.oidcStatus,hutchProfile:e.hutchProfile,safe:e.safe,safeContent:e.safeContent,iconList:e.iconList,editMode:n},t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){var n=Object.assign({},e);return!e.editMode&&e.safeContent&&e.safe&&e.safeContent[e.safe.name]&&!e.safeContent[e.safe.name].keyList.length&&(n.editMode=2),n}}],(n=[{key:"render",value:function(){var e=this.state.safe&&this.state.safeContent&&this.state.safeContent[this.state.safe.name]&&this.state.safeContent[this.state.safe.name].keyList.length;return!this.state.editMode&&e||"connected"!==this.state.oidcStatus?r.createElement(ns,{config:this.state.config,safe:this.state.safe,safeContent:this.state.safeContent,oidcStatus:this.state.oidcStatus,iconList:this.state.iconList}):r.createElement(ma,{config:this.state.config,safe:this.state.safe,safeContent:this.state.safeContent,editMode:this.state.editMode})}}])&&as(t.prototype,n),a&&as(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function ls(e){return(ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function us(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fs(e,t){return(fs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ds(e,t){if(t&&("object"===ls(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ps(e)}function ps(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hs(e){return(hs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const ms=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fs(e,t)}(s,e);var t,n,a,o,i=(a=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=hs(a);if(o){var n=hs(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ds(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={config:e.config},t.changeLang=t.changeLang.bind(ps(t)),t}return t=s,(n=[{key:"changeLang",value:function(e,t){e.preventDefault(),Ln.sendMessage("App",{action:"lang",lang:t})}},{key:"render",value:function(){var e=this,t=[];return this.state.config.frontend.lang.forEach((function(n,a){var o="dropdown-item";me.language===n&&(o+=" active"),t.push(r.createElement("li",{key:a},r.createElement("a",{className:o,href:"#",onClick:function(t){return e.changeLang(t,n)}},me.t("lang-"+n))))})),r.createElement("div",{className:"dropdown"},r.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"langDropdown","data-bs-toggle":"dropdown","aria-expanded":"false"},me.t("lang-"+me.language)),r.createElement("ul",{className:"dropdown-menu","aria-labelledby":"langDropdown"},t))}}])&&us(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component);function ys(e){return(ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bs(e,t){return(bs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vs(e,t){if(t&&("object"===ys(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ws(e)}function ws(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Es(e){return(Es=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Ss=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bs(e,t)}(c,e);var t,n,a,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Es(o);if(i){var n=Es(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return vs(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={config:e.config,longSession:!!qn.getValue("longSession")},t.toggleLongSession=t.toggleLongSession.bind(ws(t)),t}return t=c,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"toggleLongSession",value:function(e){var t=this;this.setState({longSession:!this.state.longSession},(function(){qn.setValue("longSession",t.state.longSession),Fn.setParameter("responseType",t.state.longSession?"code":"token id_token")}))}},{key:"render",value:function(){var e=this;return r.createElement("div",null,r.createElement("hr",null),r.createElement("div",null,r.createElement("h3",null,me.t("selectLang")),r.createElement(ms,{config:this.state.config})),r.createElement("hr",null),r.createElement("div",null,r.createElement("h3",null,me.t("selectSession")),r.createElement("div",{className:"form-check"},r.createElement("input",{className:"form-check-input",type:"checkbox",checked:this.state.longSession,id:"longSession",onChange:function(t){return e.toggleLongSession(t)}}),r.createElement("label",{className:"form-check-label",htmlFor:"longSession"},me.t("longSession"))),r.createElement("p",{className:"fs-6 fst-italic"},me.t("selectSessionWarning"))))}}])&&gs(t.prototype,n),a&&gs(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function ks(e){return(ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ps(e,t){return(Ps=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Os(e,t){if(t&&("object"===ks(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ns(e)}function Ns(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xs(e){return(xs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const _s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ps(e,t)}(s,e);var t,n,a,o,i=(a=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xs(a);if(o){var n=xs(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Os(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={config:e.config,profile:!1,hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{},iconList:[],curSafe:!1,addSafe:!1,oidcStatus:"connecting",tokenTimeout:!1,nav:"profile",oldNav:!1,langChanged:!1,editProfile:!1,editSafeMode:0,trustworthy:!0,forceTrust:!1},Jn.addChangeRouteCallback((function(e){t.gotoRoute(e)})),Ln.subscribe("OIDC",(function(e){if("disconnected"===e.status)t.setState({oidcStatus:e.status,safeList:[],safeContent:{},curSafe:!1}),Ln.sendMessage("Notification",{type:"warning",message:me.t("messageDisconnected")});else if("connected"===e.status||"refresh"===e.status){var n=new Date;Bn.setToken(e.token,n.getTime()/1e3+e.expires_in),"connected"===e.status&&Ln.sendMessage("Notification",{type:"success",message:me.t("messageConnected")});var r=!1;-1===Fn.getParameter("responseType").search("code")&&(clearTimeout(t.state.tokenTimeout),r=setTimeout((function(){Ln.sendMessage("Notification",{type:"warning",message:me.t("messageSessionTimeout"),autohide:!1}),t.setState({oidcStatus:"timeout"})}),1e3*e.expires_in)),t.setState({oidcStatus:"connected",tokenTimeout:r})}else"profile"===e.status&&("error"==e.profile?(Ln.sendMessage("Notification",{type:"warning",message:me.t("messageProfileError")}),t.setState({oidcStatus:"disconnected",safeList:[],safeContent:{},curSafe:!1})):e.profile&&t.setState({profile:e.profile},(function(){t.getHutchProfile().then((function(){t.getSafeList().then((function(){t.gotoRoute(Jn.getCurrentRoute())}))})).catch((function(){}))})));t.setForceTrust=t.setForceTrust.bind(Ns(t))})),Ln.subscribe("App",(function(e){if("lang"===e.action)e.lang!==me.language&&me.changeLanguage(e.lang).then((function(){t.setState({langChanged:!0},(function(){Bn.request("words-"+me.language+".json").then((function(e){var n=t.state.config;n.wordsList=e,t.setState({config:n})}))}))}));else if("editProfile"===e.action){var n=t.state.hutchProfile||{name:t.state.profile.name,message:"",picture:"",sign_kid:t.state.config.jwks.keys[0].kid};t.setState({nav:"profile",editProfile:!0,hutchProfile:n})}else if("getProfile"===e.action)t.setState({nav:"profile",editProfile:!1},(function(){t.getHutchProfile()}));else if("resetProfile"===e.action)t.setState({nav:"profile",editProfile:!1,hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{},curSafe:!1});else if("nav"===e.action)e.target?t.state.safeList.forEach((function(n){n.name===e.target&&t.setState({nav:"safe",curSafe:n,editSafeMode:0})})):t.setState({nav:"profile",editProfile:!1,curSafe:!1});else if("config"===e.action)"config"===t.state.nav&&t.state.oldNav?t.setState({nav:t.state.oldNav,oldNav:!1}):t.setState({nav:"config",oldNav:t.state.nav});else if("addSafe"===e.action)t.setState({nav:"safe",curSafe:{name:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),display_name:"",enc_type:"A256GCM",alg_type:"A256GCMKW"},editSafeMode:1});else if("loadSafe"===e.action)t.getSafe(e.target);else if("editSafe"===e.action)t.state.safeList.forEach((function(n){n.name===e.target&&t.setState({nav:"safe",curSafe:n,editSafeMode:2})}));else if("saveSafe"===e.action){var r=t.state.safeList,a=t.state.safeContent,o=!1;r.forEach((function(t,n){t.name===e.safe.name&&(r[n]=e.safe,o=!0)})),o||(r.push(e.safe),a[e.safe.name]={keyList:[],coinList:[],unlockedCoinList:[],key:!1}),Jn.addRoute(e.safe.name),t.setState({safeList:r,safeContent:a,nav:"safe",curSafe:e.safe,editSafeMode:0})}else if("removeSafe"===e.action)r=t.state.safeList,a=t.state.safeContent,r.forEach((function(t,n){t.name===e.safe.name&&r.splice(n,1)})),Jn.addRoute(""),delete a[e.safe.name],t.setState({safeList:r,safeContent:a,nav:"profile",editProfile:!1});else if("updateSafeKey"===e.action)t.getSafeKeyList(e.safe.name).then((function(){t.setState({nav:"safe",curSafe:e.safe,editSafeMode:2})}));else if("setSafeKey"===e.action){if(!(a=t.state.safeContent)[e.target.name].key&&e.key&&(a[e.target.name].key=e.key),a[e.target.name].extractableKey=e.masterkeyData,a[e.target.name].lastUnlock=e.key?Date.now()/1e3:0,e.key){if(e.keepUnlocked){var i="A128KW";"A192KW"===e.target.alg_type||"A192GCMKW"===e.target.alg_type||"PBES2-HS384+A192KW"===e.target.alg_type?i="A192KW":"A256KW"!==e.target.alg_type&&"A256GCMKW"!==e.target.alg_type&&"PBES2-HS512+A256KW"!==e.target.alg_type||(i="A256KW"),nn(i,{extractable:!0}).then((function(n){var r=Math.random().toString(36).substring(7);new xn(e.masterkeyData).setProtectedHeader({alg:i,enc:e.target.enc_type,sign_key:t.state.config.sign_thumb,kid:r}).encrypt(n).then((function(a){var o={name:r,display_name:e.unlockKeyName,type:"browser",data:a},s=t.state.safeContent;s[e.target.name].keyList.push(o),t.setState({safeContent:s}),Bn.request(t.state.config.safe_endpoint+"/"+e.target.name+"/key","POST",o).then((function(){kn(n).then((function(t){t.kid=r,t.alg=i;var n="hutchsafe-"+e.target.name;"/"!==window.location.pathname&&(n+="-"+window.btoa(unescape(encodeURIComponent(window.location.pathname))).replace(/\=+$/m,"")),qn.setValue(n,t)}))}))}))}))}}else if(e.removeStorage){var s="hutchsafe-"+e.target.name;"/"!==window.location.pathname&&(s+="-"+window.btoa(unescape(encodeURIComponent(window.location.pathname))).replace(/\=+$/m,""));var c=qn.getValue(s);c&&Bn.request(t.state.config.safe_endpoint+"/"+e.target.name+"/key/"+c.kid,"DELETE").then((function(){var n=t.state.safeContent;n[e.target.name].keyList.forEach((function(t,r){t.name===c.kid&&n[e.target.name].keyList.splice(r,1)})),t.setState({safeContent:n})})).catch((function(e){Ln.sendMessage("Notification",{type:"danger",message:me.t("messageErrorSaveSafeKey")})})),qn.removeValue(s),a[e.target.name].key=!1,a[e.target.name].extractableKey=!1,a[e.target.name].lastUnlock=0}a[e.target.name].unlockedCoinList=[],t.setState({safeContent:a},(function(){t.unlockCoinList(e.target.name,t.state.safeContent[e.target.name].key),t.state.safeContent[e.target.name].extractableKey&&setTimeout((function(){var n=t.state.safeContent;delete n[e.target.name].extractableKey,t.setState({safeContent:n},(function(){}))}),6e5)}))}else if("unlockSafe"===e.action)(a=t.state.safeContent)[e.safe.name].extractableKey=e.extractableKey,t.setState({safeContent:a},(function(){setTimeout((function(){var n=t.state.safeContent;delete n[e.safe.name].extractableKey,t.setState({safeContent:n})}),6e5),a[e.safe.name].unlockedCoinList.length!==a[e.safe.name].coinList.length&&t.unlockCoinList(e.safe.name,t.state.safeContent[e.safe.name].key)}));else if("lockAllSafe"===e.action)t.state.safeList.forEach((function(e){Ln.sendMessage("App",{action:"setSafeKey",target:e,removeStorage:!0,key:!1})}));else if("updateCoin"===e.action){a=t.state.safeContent;var l=!1;a[e.target.name].coinList.forEach((function(t,n){t.name===e.encCoin.name&&(a[e.target.name].coinList[n]=e.encCoin,l=!0)})),l?a[e.target.name].unlockedCoinList.forEach((function(t,n){t.name===e.unlockedCoin.name&&(a[e.target.name].unlockedCoinList[n]=e.unlockedCoin)})):(a[e.target.name].coinList.push(e.encCoin),a[e.target.name].unlockedCoinList.push(e.unlockedCoin)),a[e.target.name].unlockedCoinList.sort(t.compareCoin),t.setState({safeContent:a},(function(){e.cb&&e.cb(e.encCoin.name)}))}else"removeCoin"===e.action?((a=t.state.safeContent)[e.target.name].coinList.forEach((function(t,n){t.name===e.coin&&delete a[e.target.name].coinList[n]})),a[e.target.name].unlockedCoinList.forEach((function(t,n){t.name===e.coin&&delete a[e.target.name].unlockedCoinList[n]})),t.setState({safeContent:a})):"sessionTimeout"===e.action&&(Ln.sendMessage("Notification",{type:"warning",message:me.t("messageSessionTimeout"),autohide:!1}),t.setState({oidcStatus:"timeout"}))})),Bn.request("words-"+me.language+".json").then((function(e){var n=t.state.config;n.wordsList=e,t.setState({config:n})})),Bn.request("fonts/forkawesome-ful-list.json").then((function(e){t.setState({iconList:e})})),t.getHutchProfile=t.getHutchProfile.bind(Ns(t)),t.getSafeList=t.getSafeList.bind(Ns(t)),t.getSafeKeyList=t.getSafeKeyList.bind(Ns(t)),t.unlockCoinList=t.unlockCoinList.bind(Ns(t)),t.gotoRoute=t.gotoRoute.bind(Ns(t)),t}return t=s,(n=[{key:"gotoRoute",value:function(e){var t=this;e?this.state.safeList.forEach((function(n){n.name===e&&t.setState({nav:"safe",curSafe:n,editSafeMode:0})})):this.setState({nav:"profile",editProfile:!1})}},{key:"getHutchProfile",value:function(){var e=this;return Bn.request(this.state.config.profile_endpoint).then((function(t){var n=JSON.parse(atob(t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"))),r=!1;if(e.state.config.jwks.keys.forEach((function(a){a.kid===n.sign_kid&&(r=!0,At(a,a.alg).then((function(n){(async function(e,t="sha256"){if(!Dt(e))throw new TypeError("JWK must be an object");let n;switch(e.kty){case"EC":_n(e.crv,'"crv" (Curve) Parameter'),_n(e.x,'"x" (X Coordinate) Parameter'),_n(e.y,'"y" (Y Coordinate) Parameter'),n={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":_n(e.crv,'"crv" (Subtype of Key Pair) Parameter'),_n(e.x,'"x" (Public Key) Parameter'),n={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":_n(e.e,'"e" (Exponent) Parameter'),_n(e.n,'"n" (Modulus) Parameter'),n={e:e.e,kty:e.kty,n:e.n};break;case"oct":_n(e.k,'"k" (Key Value) Parameter'),n={k:e.k,kty:e.kty};break;default:throw new Et('"kty" (Key Type) Parameter missing or unsupported')}const r=rt.encode(JSON.stringify(n));return ft(await yn(t,r))})(a).then((function(r){en(t,n).then((function(t){Bn.setSignJwk(n);var a=e.state.config;a.sign_thumb=r,e.setState({config:a,hutchProfile:t.payload,hasProfile:!0})}))}))})))})),!r)return $.Deferred().reject("invalid sign key")})).fail((function(t){var n={hutchProfile:!1,hasProfile:!1};404===t.status?Ln.sendMessage("Notification",{type:"info",message:me.t("messageNoProfile")}):401===t.status?(n.oidcStatus="disconnected",n.safeList=[],n.safeContent={},n.curSafe=!1,Ln.sendMessage("Notification",{type:"danger",message:me.t("messageAuthorizationInvalid")})):(n.oidcStatus="disconnected",n.safeList=[],n.safeContent={},n.curSafe=!1,Ln.sendMessage("Notification",{type:"warning",message:me.t("messageProfileError")})),e.setState(n)}))}},{key:"getSafeList",value:function(){var e=this;return Bn.requestSigned(this.state.config.safe_endpoint).then((function(t){return e.setState({safeList:t.payload.list,trustworthy:!0},(function(){e.state.safeList.forEach((function(t){return Bn.requestSigned(e.state.config.safe_endpoint+"/"+t.name+"/key").then((function(n){return Bn.requestSigned(e.state.config.safe_endpoint+"/"+t.name+"/coin").then((function(r){var a=!0;r.payload.list.forEach((function(t){Rn(t.data).sign_thumb!==e.state.config.sign_thumb&&(a=!1)}));var o=e.state.safeContent;o[t.name]={keyList:n.payload.list,coinList:r.payload.list,unlockedCoinList:[],key:!1,lastUnlock:0},e.setState({safeContent:o,trustworthy:e.state.trustworthy&&a},(function(){var r="hutchsafe-"+t.name;"/"!==window.location.pathname&&(r+="-"+window.btoa(unescape(encodeURIComponent(window.location.pathname))).replace(/\=+$/m,""));var a=qn.getValue(r);a&&n.payload.list.forEach((function(n){n.name===a.kid&&At(a,a.alg).then((function(r){Dn(n.data,r).then((function(n){At(n.payload,t.alg_type).then((function(n){var r=e.state.safeContent;r[t.name].key=n,e.setState({safeContent:r},(function(){e.unlockCoinList(t.name,r[t.name].key)}))}))}))}))}))}))})).fail((function(t){console.error("getSafeCoins",t),Ln.sendMessage("Notification",{type:"warning",message:me.t("messageErrorCoinList")}),e.setState({hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{}})}))})).fail((function(t){console.error("getSafeKeys",t),Ln.sendMessage("Notification",{type:"warning",message:me.t("messageErrorKeyList")}),e.setState({hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{}})}))}))}))})).fail((function(t){console.error("getSafeList",t),Ln.sendMessage("Notification",{type:"warning",message:me.t("messageErrorSafeList")}),e.setState({hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{}})}))}},{key:"getSafe",value:function(e){var t=this;return Bn.requestSigned(this.state.config.safe_endpoint+"/"+e).then((function(n){var r=t.state.safeList;return r.forEach((function(t,a){t.name===e&&(r[a]=n.payload)})),t.setState({safeList:r},(function(){return Bn.requestSigned(t.state.config.safe_endpoint+"/"+e+"/key").then((function(n){return Bn.requestSigned(t.state.config.safe_endpoint+"/"+e+"/coin").then((function(r){var a=!0;r.payload.list.forEach((function(e){Rn(e.data).sign_thumb!==t.state.config.sign_thumb&&(a=!1)}));var o=t.state.safeContent;o[e].keyList=n.payload.list,o[e].coinList=r.payload.list,o[e].unlockedCoinList=[],t.setState({safeContent:o,trustworthy:t.state.trustworthy&&a},(function(){t.unlockCoinList(e,o[e].key),Ln.sendMessage("Notification",{type:"info",message:me.t("messageSafeLoaded")})}))})).fail((function(e){console.error("getSafeCoins",e),Ln.sendMessage("Notification",{type:"warning",message:me.t("messageErrorCoinList")}),t.setState({hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{}})}))})).fail((function(e){console.error("getSafeKeys",e),Ln.sendMessage("Notification",{type:"warning",message:me.t("messageErrorKeyList")}),t.setState({hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{}})}))}))})).fail((function(e){console.error("getSafe",e),Ln.sendMessage("Notification",{type:"warning",message:me.t("messageErrorSafeList")}),t.setState({hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{}})}))}},{key:"compareCoin",value:function(e,t){return e.data.displayName.toUpperCase()<t.data.displayName.toUpperCase()?-1:e.data.displayName.toUpperCase()>t.data.displayName.toUpperCase()?1:0}},{key:"unlockCoinList",value:function(e,t){var n=this,r=this.state.safeContent;t&&(this.state.trustworthy||this.state.forceTrust)?r[e].coinList.forEach((function(a,o){Dn(a.data,t).then((function(t){r[e].unlockedCoinList.push({name:a.name,data:t.payload}),o===r[e].coinList.length-1&&(r[e].unlockedCoinList.sort(n.compareCoin),n.setState({safeContent:r}))}))})):(r[e].unlockedCoinList=[],this.setState({safeContent:r}))}},{key:"getSafeKeyList",value:function(e){var t=this;return Bn.requestSigned(this.state.config.safe_endpoint+"/"+e+"/key").then((function(n){var r=t.state.safeContent;r[e].keyList=n.payload.list,t.setState({safeContent:r})})).catch((function(e){Ln.sendMessage("Notification",{type:"warning",message:me.t("messageErrorKeyList")})}))}},{key:"setForceTrust",value:function(){var e=this;this.setState({forceTrust:!0},(function(){e.state.safeList.forEach((function(t){e.state.safeContent[t.name].key&&e.unlockCoinList(t.name,e.state.safeContent[t.name].key)}))}))}},{key:"render",value:function(){var e,t,n,a=[];return(this.state.trustworthy||!this.state.trustworthy&&this.state.forceTrust)&&(a=this.state.safeList,"profile"===this.state.nav?e=r.createElement(Hr,{config:this.state.config,profile:this.state.profile,hutchProfile:this.state.hutchProfile,hasProfile:this.state.hasProfile,editProfile:this.state.editProfile,oidcStatus:this.state.oidcStatus}):"safe"===this.state.nav?e=r.createElement(cs,{config:this.state.config,hutchProfile:this.state.hutchProfile,safe:this.state.curSafe,safeContent:this.state.safeContent,editMode:this.state.editSafeMode,oidcStatus:this.state.oidcStatus,iconList:this.state.iconList}):"config"===this.state.nav&&(e=r.createElement(Ss,{config:this.state.config}))),this.state.trustworthy||(this.state.forceTrust||(n=r.createElement("div",null,r.createElement("div",null,me.t("untrustworthyOpenMessage")),r.createElement("div",null,r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.setForceTrust},me.t("untrustworthyOpen"))))),t=r.createElement("div",{className:"alert alert-danger text-center",role:"alert"},me.t("untrustworthySafe"),n)),r.createElement("div",{className:"container-fluid"},r.createElement(pr,{config:this.state.config,oidcStatus:this.state.oidcStatus,safeList:a,safeContent:this.state.safeContent,curSafe:this.state.curSafe,hasProfile:this.state.hasProfile}),t,e,r.createElement(er,{loggedIn:this.state.oidcStatus}))}}])&&Cs(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component);function Ts(e){return(Ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function js(e,t){return(js=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ds(e,t){if(t&&("object"===Ts(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function As(e){return(As=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Ls=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&js(e,t)}(s,e);var t,n,a,o,i=(a=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=As(a);if(o){var n=As(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ds(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={message:e.message},t}return t=s,(n=[{key:"render",value:function(){return r.createElement("div",{className:"alert alert-danger perfect-centering",role:"alert"},r.createElement("h4",null,"Configuration error"),r.createElement("span",null,this.state.message))}}])&&Rs(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component);try{me.use(Ae).use(nt).init({fallbackLng:"en",ns:["translations"],defaultNS:"translations",backend:{loadPath:"locales/{{lng}}/{{ns}}.json"}}).then((function(){new URLSearchParams(window.location.search),Bn.request("config.json").then((function(e){var t,n;e.lang||(e.lang=["en","fr"]),qn.setStorageType(e.storageType),(t=e.hutchRootUrl,n={},Bn.request(t+"/.well-known/hutch-configuration","GET",!1,"application/jwt").then((function(e){return JSON.parse(atob(e.split(".")[0].replace(/-/g,"+").replace(/_/g,"/"))),n.config=JSON.parse(atob(e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"))),Bn.request(n.config.jwks_uri,"GET",!1,"application/jwt").then((function(t){return JSON.parse(atob(t.split(".")[0].replace(/-/g,"+").replace(/_/g,"/"))),n.jwks=JSON.parse(atob(t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"))),At(n.jwks.keys[0],n.jwks.keys[0].alg).then((function(r){return en(e,r).then((function(){return en(t,r).then((function(){return n}))}))}))}))}))).then((function(t){var n={oidc:{status:"connecting"},frontend:e,backend:t.config,jwks:t.jwks,profile_endpoint:e.profile_endpoint||t.config.profile_endpoint,safe_endpoint:e.safe_endpoint||t.config.safe_endpoint,oidc_server_remote_config:e.oidc.oidc_server_remote_config||t.config.oidc_server_remote_config,scope:e.oidc.scope||t.config.scope};Fn.init({storagePrefix:"hutchOidc",storageType:qn.storageType,responseType:qn.getValue("longSession")?"code":"token id_token",openidConfigUrl:n.oidc_server_remote_config,authUrl:e.oidc.authUrl,tokenUrl:e.oidc.tokenUrl,clientId:e.oidc.clientId,redirectUri:e.oidc.redirectUri,usePkce:e.oidc.usePkce,scope:n.scope,userinfoUrl:e.oidc.userinfoUrl,refreshTokenLoop:e.oidc.refreshTokenLoop,changeStatusCb:function(e,t,n,r){Ln.sendMessage("OIDC",{status:e,token:t,expires_in:n,profile:r})}}),Bn.setConfig(e.APIUrl),a.render(r.createElement(_s,{config:n}),document.getElementById("root"))})).fail((function(e){a.render(r.createElement(Ls,{message:"Error getting hutch backend config"}),document.getElementById("root"))}))})).fail((function(e){a.render(r.createElement(Ls,{message:"Error getting hutch frontend config"}),document.getElementById("root"))}))}))}catch(e){$("#root").html('<div class="alert alert-danger" role="alert"><i class="fas fa-exclamation-triangle"></i><span class="btn-icon-right">You must use a browser compatible with Hutch</span></div>')}},98:function(e,t){var n="undefined"!=typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,a="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,i="ArrayBuffer"in e;if(i)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function l(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:a&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i&&a&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e,t,n,r=p(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=h(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=l(e),t=u(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},d.prototype.delete=function(e){delete this.map[l(e)]},d.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},d.prototype.set=function(e,t){this.map[l(e)]=u(t)},d.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},r&&(d.prototype[Symbol.iterator]=d.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){var n,r,a=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,a||null==e._bodyInit||(a=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),b.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&a)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(a)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),a=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(a))}})),t}function E(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},g.call(v.prototype),g.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];E.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function k(e,n){return new Promise((function(r,o){var i=new v(e,n);if(i.signal&&i.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var a=n.join(":").trim();t.append(r,a)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var a="response"in s?s.response:s.responseText;r(new E(a,n))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},s.open(i.method,i.url,!0),"include"===i.credentials?s.withCredentials=!0:"omit"===i.credentials&&(s.withCredentials=!1),"responseType"in s&&a&&(s.responseType="blob"),i.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),i.signal&&(i.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&i.signal.removeEventListener("abort",c)}),s.send(void 0===i._bodyInit?null:i._bodyInit)}))}k.polyfill=!0,e.fetch||(e.fetch=k,e.Headers=d,e.Request=v,e.Response=E),t.Headers=d,t.Request=v,t.Response=E,t.fetch=k,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var a=r;(t=a.fetch).default=a.fetch,t.fetch=a.fetch,t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response,e.exports=t},418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var i,s,c=a(e),l=1;l<arguments.length;l++){for(var u in i=Object(arguments[l]))n.call(i,u)&&(c[u]=i[u]);if(t){s=t(i);for(var f=0;f<s.length;f++)r.call(i,s[f])&&(c[s[f]]=i[s[f]])}}return c}},448:(e,t,n)=>{"use strict";var r=n(294),a=n(418),o=n(840);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(i(227));var s=new Set,c={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(c[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,h={},m={};function y(e,t,n,r,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0===a.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!p.call(m,e)||!p.call(h,e)&&(d.test(e)?m[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,v);g[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,v);g[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,v);g[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,k=60106,C=60107,P=60108,O=60114,N=60109,x=60110,_=60112,T=60113,R=60120,j=60115,D=60116,A=60121,L=60128,M=60129,I=60130,K=60131;if("function"==typeof Symbol&&Symbol.for){var U=Symbol.for;S=U("react.element"),k=U("react.portal"),C=U("react.fragment"),P=U("react.strict_mode"),O=U("react.profiler"),N=U("react.provider"),x=U("react.context"),_=U("react.forward_ref"),T=U("react.suspense"),R=U("react.suspense_list"),j=U("react.memo"),D=U("react.lazy"),A=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),I=U("react.offscreen"),K=U("react.legacy_hidden")}var H,F="function"==typeof Symbol&&Symbol.iterator;function W(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=F&&e[F]||e["@@iterator"])?e:null}function B(e){if(void 0===H)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);H=t&&t[1]||""}return"\n"+H+e}var z=!1;function J(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var a=e.stack.split("\n"),o=r.stack.split("\n"),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(1!==i||1!==s)do{if(i--,0>--s||a[i]!==o[s])return"\n"+a[i].replace(" at new "," at ")}while(1<=i&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function V(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return J(e.type,!1);case 11:return J(e.type.render,!1);case 22:return J(e.type._render,!1);case 1:return J(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case C:return"Fragment";case k:return"Portal";case O:return"Profiler";case P:return"StrictMode";case T:return"Suspense";case R:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case j:return q(e.type);case A:return q(e._render);case D:t=e._payload,e=e._init;try{return q(e(t))}catch(e){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ae(e,t.type,n):t.hasOwnProperty("defaultValue")&&ae(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ae(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ie(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ce(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function le(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var he,me,ye=(me=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((he=he||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=he.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(be).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Se=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Pe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Oe=null,Ne=null,xe=null;function _e(e){if(e=Zr(e)){if("function"!=typeof Oe)throw Error(i(280));var t=e.stateNode;t&&(t=ta(t),Oe(e.stateNode,e.type,t))}}function Te(e){Ne?xe?xe.push(e):xe=[e]:Ne=e}function Re(){if(Ne){var e=Ne,t=xe;if(xe=Ne=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function je(e,t){return e(t)}function De(e,t,n,r,a){return e(t,n,r,a)}function Ae(){}var Le=je,Me=!1,Ie=!1;function Ke(){null===Ne&&null===xe||(Ae(),Re())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ta(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var He=!1;if(f)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){He=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(me){He=!1}function We(e,t,n,r,a,o,i,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var Be=!1,ze=null,Je=!1,Ve=null,qe={onError:function(e){Be=!0,ze=e}};function $e(e,t,n,r,a,o,i,s,c){Be=!1,ze=null,We.apply(qe,arguments)}function Ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Xe(e){if(Ge(e)!==e)throw Error(i(188))}function Ye(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ge(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return Xe(a),e;if(o===r)return Xe(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,c=a.child;c;){if(c===n){s=!0,n=a,r=o;break}if(c===r){s=!0,r=a,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,r=a;break}if(c===r){s=!0,r=o,n=a;break}c=c.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,at=!1,ot=[],it=null,st=null,ct=null,lt=new Map,ut=new Map,ft=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,a){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:a,targetContainers:[r]}}function ht(e,t){switch(e){case"focusin":case"focusout":it=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(t.pointerId)}}function mt(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,a,o),null!==t&&null!==(t=Zr(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function yt(e){var t=Yr(e.target);if(null!==t){var n=Ge(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Qe(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Zr(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){gt(e)&&n.delete(t)}function vt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=Zr(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==it&&gt(it)&&(it=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(bt),ut.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,vt)))}function Et(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==it&&wt(it,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ut.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)yt(n),null===n.blockedOn&&ft.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kt={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},Ct={},Pt={};function Ot(e){if(Ct[e])return Ct[e];if(!kt[e])return e;var t,n=kt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Pt)return Ct[e]=n[t];return e}f&&(Pt=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);var Nt=Ot("animationend"),xt=Ot("animationiteration"),_t=Ot("animationstart"),Tt=Ot("transitionend"),Rt=new Map,jt=new Map,Dt=["abort","abort",Nt,"animationEnd",xt,"animationIteration",_t,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Tt,"transitionEnd","waiting","waiting"];function At(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],a=e[n+1];a="on"+(a[0].toUpperCase()+a.slice(1)),jt.set(r,t),Rt.set(r,a),l(a,[r])}}(0,o.unstable_now)();var Lt=8;function Mt(e){if(0!=(1&e))return Lt=15,1;if(0!=(2&e))return Lt=14,2;if(0!=(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!=(32&e)?(Lt=11,32):0!=(t=192&e)?(Lt=10,t):0!=(256&e)?(Lt=9,256):0!=(t=3584&e)?(Lt=8,t):0!=(4096&e)?(Lt=7,4096):0!=(t=4186112&e)?(Lt=6,t):0!=(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!=(134217728&e)?(Lt=3,134217728):0!=(t=805306368&e)?(Lt=2,t):0!=(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function It(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,a=0,o=e.expiredLanes,i=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,a=Lt=15;else if(0!=(o=134217727&n)){var c=o&~i;0!==c?(r=Mt(c),a=Lt):0!=(s&=o)&&(r=Mt(s),a=Lt)}else 0!=(o=n&~i)?(r=Mt(o),a=Lt):0!==s&&(r=Mt(s),a=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Bt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&i)){if(Mt(t),a<=Lt)return t;Lt=a}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-Bt(t)),r|=e[n],t&=~a;return r}function Kt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ht(24&~t))?Ut(10,t):e;case 10:return 0===(e=Ht(192&~t))?Ut(8,t):e;case 8:return 0===(e=Ht(3584&~t))&&0===(e=Ht(4186112&~t))&&(e=512),e;case 2:return 0===(t=Ht(805306368&~t))&&(t=268435456),t}throw Error(i(358,e))}function Ht(e){return e&-e}function Ft(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Bt(t)]=n}var Bt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(zt(e)/Jt|0)|0},zt=Math.log,Jt=Math.LN2,Vt=o.unstable_UserBlockingPriority,qt=o.unstable_runWithPriority,$t=!0;function Gt(e,t,n,r){Me||Ae();var a=Xt,o=Me;Me=!0;try{De(a,e,t,n,r)}finally{(Me=o)||Ke()}}function Qt(e,t,n,r){qt(Vt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var a;if($t)if((a=0==(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var o=Yt(e,t,n,r);if(null===o)a&&ht(e,r);else{if(a){if(-1<dt.indexOf(e))return e=pt(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,a){switch(t){case"focusin":return it=mt(it,e,t,n,r,a),!0;case"dragenter":return st=mt(st,e,t,n,r,a),!0;case"mouseover":return ct=mt(ct,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return lt.set(o,mt(lt.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,ut.set(o,mt(ut.get(o)||null,e,t,n,r,a)),!0}return!1}(o,e,t,n,r))return;ht(e,r)}Rr(e,t,r,null,n)}}}function Yt(e,t,n,r){var a=Pe(r);if(null!==(a=Yr(a))){var o=Ge(a);if(null===o)a=null;else{var i=o.tag;if(13===i){if(null!==(a=Qe(o)))return a;a=null}else if(3===i){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Rr(e,t,r,a,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,a="value"in Zt?Zt.value:Zt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return tn=a.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function on(){return!1}function sn(e){function t(t,n,r,a,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?an:on,this.isPropagationStopped=on,this}return a(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var cn,ln,un,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(fn),pn=a({},fn,{view:0,detail:0}),hn=sn(pn),mn=a({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(cn=e.screenX-un.screenX,ln=e.screenY-un.screenY):ln=cn=0,un=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=sn(mn),gn=sn(a({},mn,{dataTransfer:0})),bn=sn(a({},pn,{relatedTarget:0})),vn=sn(a({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=sn(a({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),En=sn(a({},fn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function On(){return Pn}var Nn=sn(a({},pn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),xn=sn(a({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=sn(a({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),Tn=sn(a({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=sn(a({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),jn=[9,13,27,32],Dn=f&&"CompositionEvent"in window,An=null;f&&"documentMode"in document&&(An=document.documentMode);var Ln=f&&"TextEvent"in window&&!An,Mn=f&&(!Dn||An&&8<An&&11>=An),In=String.fromCharCode(32),Kn=!1;function Un(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Fn=!1,Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function zn(e,t,n,r){Te(r),0<(t=Dr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Jn=null,Vn=null;function qn(e){Pr(e,0)}function $n(e){if(X(ea(e)))return e}function Gn(e,t){if("change"===e)return t}var Qn=!1;if(f){var Xn;if(f){var Yn="oninput"in document;if(!Yn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Yn="function"==typeof Zn.oninput}Xn=Yn}else Xn=!1;Qn=Xn&&(!document.documentMode||9<document.documentMode)}function er(){Jn&&(Jn.detachEvent("onpropertychange",tr),Vn=Jn=null)}function tr(e){if("value"===e.propertyName&&$n(Vn)){var t=[];if(zn(t,Vn,e,Pe(e)),e=qn,Me)e(t);else{Me=!0;try{je(e,t)}finally{Me=!1,Ke()}}}}function nr(e,t,n){"focusin"===e?(er(),Vn=n,(Jn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Vn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ir="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},sr=Object.prototype.hasOwnProperty;function cr(e,t){if(ir(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!sr.call(t,n[r])||!ir(e[n[r]],t[n[r]]))return!1;return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var hr=f&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function vr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Y(r)||(r="selectionStart"in(r=mr)&&pr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&cr(gr,r)||(gr=r,0<(r=Dr(yr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}At("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),At("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),At(Dt,2);for(var wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<wr.length;Er++)jt.set(wr[Er],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,s,c,l){if($e.apply(this,arguments),Be){if(!Be)throw Error(i(198));var u=ze;Be=!1,ze=null,Je||(Je=!0,Ve=u)}}(r,t,void 0,e),e.currentTarget=null}function Pr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==o&&a.isPropagationStopped())break e;Cr(a,s,l),o=c}else for(i=0;i<r.length;i++){if(c=(s=r[i]).instance,l=s.currentTarget,s=s.listener,c!==o&&a.isPropagationStopped())break e;Cr(a,s,l),o=c}}}if(Je)throw e=Ve,Je=!1,Ve=null,e}function Or(e,t){var n=na(t),r=e+"__bubble";n.has(r)||(Tr(t,e,2,!1),n.add(r))}var Nr="_reactListening"+Math.random().toString(36).slice(2);function xr(e){e[Nr]||(e[Nr]=!0,s.forEach((function(t){kr.has(t)||_r(t,!1,e,null),_r(t,!0,e,null)})))}function _r(e,t,n,r){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&kr.has(e)){if("scroll"!==e)return;a|=2,o=r}var i=na(o),s=e+"__"+(t?"capture":"bubble");i.has(s)||(t&&(a|=4),Tr(o,e,a,t),i.add(s))}function Tr(e,t,n,r){var a=jt.get(t);switch(void 0===a?2:a){case 0:a=Gt;break;case 1:a=Qt;break;default:a=Xt}n=a.bind(null,t,n,e),a=void 0,!He||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Rr(e,t,n,r,a){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var c=i.tag;if((3===c||4===c)&&((c=i.stateNode.containerInfo)===a||8===c.nodeType&&c.parentNode===a))return;i=i.return}for(;null!==s;){if(null===(i=Yr(s)))return;if(5===(c=i.tag)||6===c){r=o=i;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Ie)return e();Ie=!0;try{Le(e,t,n)}finally{Ie=!1,Ke()}}((function(){var r=o,a=Pe(n),i=[];e:{var s=Rt.get(e);if(void 0!==s){var c=dn,l=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":c=Nn;break;case"focusin":l="focus",c=bn;break;case"focusout":l="blur",c=bn;break;case"beforeblur":case"afterblur":c=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=_n;break;case Nt:case xt:case _t:c=vn;break;case Tt:c=Tn;break;case"scroll":c=hn;break;case"wheel":c=Rn;break;case"copy":case"cut":case"paste":c=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=xn}var u=0!=(4&t),f=!u&&"scroll"===e,d=u?null!==s?s+"Capture":null:s;u=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==d&&null!=(m=Ue(h,d))&&u.push(jr(h,m,p))),f)break;h=h.return}0<u.length&&(s=new c(s,l,null,n,a),i.push({event:s,listeners:u}))}}if(0==(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(l=n.relatedTarget||n.fromElement)||!Yr(l)&&!l[Qr])&&(c||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?Yr(l):null)&&(l!==(f=Ge(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=yn,m="onMouseLeave",d="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=xn,m="onPointerLeave",d="onPointerEnter",h="pointer"),f=null==c?s:ea(c),p=null==l?s:ea(l),(s=new u(m,h+"leave",c,n,a)).target=f,s.relatedTarget=p,m=null,Yr(a)===r&&((u=new u(d,h+"enter",l,n,a)).target=p,u.relatedTarget=f,m=u),f=m,c&&l)e:{for(d=l,h=0,p=u=c;p;p=Ar(p))h++;for(p=0,m=d;m;m=Ar(m))p++;for(;0<h-p;)u=Ar(u),h--;for(;0<p-h;)d=Ar(d),p--;for(;h--;){if(u===d||null!==d&&u===d.alternate)break e;u=Ar(u),d=Ar(d)}u=null}else u=null;null!==c&&Lr(i,s,c,u,!1),null!==l&&null!==f&&Lr(i,f,l,u,!0)}if("select"===(c=(s=r?ea(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var y=Gn;else if(Bn(s))if(Qn)y=or;else{y=rr;var g=nr}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=ar);switch(y&&(y=y(e,r))?zn(i,y,n,a):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ae(s,"number",s.value)),g=r?ea(r):window,e){case"focusin":(Bn(g)||"true"===g.contentEditable)&&(mr=g,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,vr(i,n,a);break;case"selectionchange":if(hr)break;case"keydown":case"keyup":vr(i,n,a)}var b;if(Dn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Fn?Un(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Mn&&"ko"!==n.locale&&(Fn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Fn&&(b=nn()):(en="value"in(Zt=a)?Zt.value:Zt.textContent,Fn=!0)),0<(g=Dr(r,v)).length&&(v=new En(v,e,null,n,a),i.push({event:v,listeners:g}),(b||null!==(b=Hn(n)))&&(v.data=b))),(b=Ln?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Kn=!0,In);case"textInput":return(e=t.data)===In&&Kn?null:e;default:return null}}(e,n):function(e,t){if(Fn)return"compositionend"===e||!Dn&&Un(e,t)?(e=nn(),tn=en=Zt=null,Fn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&0<(r=Dr(r,"onBeforeInput")).length&&(a=new En("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=b)}Pr(i,t)}))}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Dr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Ue(e,n))&&r.unshift(jr(e,o,a)),null!=(o=Ue(e,t))&&r.push(jr(e,o,a))),e=e.return}return r}function Ar(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Lr(e,t,n,r,a){for(var o=t._reactName,i=[];null!==n&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==l&&(s=l,a?null!=(c=Ue(n,o))&&i.unshift(jr(n,c,s)):a||null!=(c=Ue(n,o))&&i.push(jr(n,c,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}function Mr(){}var Ir=null,Kr=null;function Ur(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Fr="function"==typeof setTimeout?setTimeout:void 0,Wr="function"==typeof clearTimeout?clearTimeout:void 0;function Br(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function zr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Jr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Vr=0,qr=Math.random().toString(36).slice(2),$r="__reactFiber$"+qr,Gr="__reactProps$"+qr,Qr="__reactContainer$"+qr,Xr="__reactEvents$"+qr;function Yr(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qr]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Jr(e);null!==e;){if(n=e[$r])return n;e=Jr(e)}return t}n=(e=n).parentNode}return null}function Zr(e){return!(e=e[$r]||e[Qr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ea(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function ta(e){return e[Gr]||null}function na(e){var t=e[Xr];return void 0===t&&(t=e[Xr]=new Set),t}var ra=[],aa=-1;function oa(e){return{current:e}}function ia(e){0>aa||(e.current=ra[aa],ra[aa]=null,aa--)}function sa(e,t){aa++,ra[aa]=e.current,e.current=t}var ca={},la=oa(ca),ua=oa(!1),fa=ca;function da(e,t){var n=e.type.contextTypes;if(!n)return ca;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function pa(e){return null!=e.childContextTypes}function ha(){ia(ua),ia(la)}function ma(e,t,n){if(la.current!==ca)throw Error(i(168));sa(la,t),sa(ua,n)}function ya(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(i(108,q(t)||"Unknown",o));return a({},n,r)}function ga(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ca,fa=la.current,sa(la,e),sa(ua,ua.current),!0}function ba(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=ya(e,t,fa),r.__reactInternalMemoizedMergedChildContext=e,ia(ua),ia(la),sa(la,e)):ia(ua),sa(ua,n)}var va=null,wa=null,Ea=o.unstable_runWithPriority,Sa=o.unstable_scheduleCallback,ka=o.unstable_cancelCallback,Ca=o.unstable_shouldYield,Pa=o.unstable_requestPaint,Oa=o.unstable_now,Na=o.unstable_getCurrentPriorityLevel,xa=o.unstable_ImmediatePriority,_a=o.unstable_UserBlockingPriority,Ta=o.unstable_NormalPriority,Ra=o.unstable_LowPriority,ja=o.unstable_IdlePriority,Da={},Aa=void 0!==Pa?Pa:function(){},La=null,Ma=null,Ia=!1,Ka=Oa(),Ua=1e4>Ka?Oa:function(){return Oa()-Ka};function Ha(){switch(Na()){case xa:return 99;case _a:return 98;case Ta:return 97;case Ra:return 96;case ja:return 95;default:throw Error(i(332))}}function Fa(e){switch(e){case 99:return xa;case 98:return _a;case 97:return Ta;case 96:return Ra;case 95:return ja;default:throw Error(i(332))}}function Wa(e,t){return e=Fa(e),Ea(e,t)}function Ba(e,t,n){return e=Fa(e),Sa(e,t,n)}function za(){if(null!==Ma){var e=Ma;Ma=null,ka(e)}Ja()}function Ja(){if(!Ia&&null!==La){Ia=!0;var e=0;try{var t=La;Wa(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),La=null}catch(t){throw null!==La&&(La=La.slice(e+1)),Sa(xa,za),t}finally{Ia=!1}}}var Va=E.ReactCurrentBatchConfig;function qa(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $a=oa(null),Ga=null,Qa=null,Xa=null;function Ya(){Xa=Qa=Ga=null}function Za(e){var t=$a.current;ia($a),e.type._context._currentValue=t}function eo(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function to(e,t){Ga=e,Xa=Qa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Di=!0),e.firstContext=null)}function no(e,t){if(Xa!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Xa=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Qa){if(null===Ga)throw Error(i(308));Qa=t,Ga.dependencies={lanes:0,firstContext:t,responders:null}}else Qa=Qa.next=t;return e._currentValue}var ro=!1;function ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function io(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function so(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function co(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function lo(e,t,n,r){var o=e.updateQueue;ro=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,c=o.shared.pending;if(null!==c){o.shared.pending=null;var l=c,u=l.next;l.next=null,null===s?i=u:s.next=u,s=l;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==s&&(null===d?f.firstBaseUpdate=u:d.next=u,f.lastBaseUpdate=l)}}if(null!==i){for(d=o.baseState,s=0,f=u=l=null;;){c=i.lane;var p=i.eventTime;if((r&c)===c){null!==f&&(f=f.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var h=e,m=i;switch(c=t,p=n,m.tag){case 1:if("function"==typeof(h=m.payload)){d=h.call(p,d,c);break e}d=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null==(c="function"==typeof(h=m.payload)?h.call(p,d,c):h))break e;d=a({},d,c);break e;case 2:ro=!0}}null!==i.callback&&(e.flags|=32,null===(c=o.effects)?o.effects=[i]:c.push(i))}else p={eventTime:p,lane:c,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===f?(u=f=p,l=d):f=f.next=p,s|=c;if(null===(i=i.next)){if(null===(c=o.shared.pending))break;i=c.next,c.next=null,o.lastBaseUpdate=c,o.shared.pending=null}}null===f&&(l=d),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=f,Ls|=s,e.lanes=s,e.memoizedState=d}}function uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!=typeof a)throw Error(i(191,a));a.call(r)}}}var fo=(new r.Component).refs;function po(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ho={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ic(),a=sc(e),o=io(r,a);o.payload=t,null!=n&&(o.callback=n),so(e,o),cc(e,a,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ic(),a=sc(e),o=io(r,a);o.tag=1,o.payload=t,null!=n&&(o.callback=n),so(e,o),cc(e,a,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ic(),r=sc(e),a=io(n,r);a.tag=2,null!=t&&(a.callback=t),so(e,a),cc(e,r,n)}};function mo(e,t,n,r,a,o,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!(t.prototype&&t.prototype.isPureReactComponent&&cr(n,r)&&cr(a,o))}function yo(e,t,n){var r=!1,a=ca,o=t.contextType;return"object"==typeof o&&null!==o?o=no(o):(a=pa(t)?fa:la.current,o=(r=null!=(r=t.contextTypes))?da(e,a):ca),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ho,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function go(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ho.enqueueReplaceState(t,t.state,null)}function bo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=fo,ao(e);var o=t.contextType;"object"==typeof o&&null!==o?a.context=no(o):(o=pa(t)?fa:la.current,a.context=da(e,o)),lo(e,n,a,r),a.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(po(e,t,o,n),a.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(t=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ho.enqueueReplaceState(a,a.state,null),lo(e,n,a,r),a.state=e.memoizedState),"function"==typeof a.componentDidMount&&(e.flags|=4)}var vo=Array.isArray;function wo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=r.refs;t===fo&&(t=r.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Eo(e,t){if("textarea"!==e.type)throw Error(i(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function So(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Hc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=zc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=wo(e,t,n),r.return=e,r):((r=Fc(n.type,n.key,n.props,null,e.mode,r)).ref=wo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Jc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Wc(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=zc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Fc(t.type,t.key,t.props,null,e.mode,n)).ref=wo(e,null,t),n.return=e,n;case k:return(t=Jc(t,e.mode,n)).return=e,t}if(vo(t)||W(t))return(t=Wc(t,e.mode,n,null)).return=e,t;Eo(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==a?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===a?n.type===C?f(e,t,n.props.children,r,a):l(e,t,n,r):null;case k:return n.key===a?u(e,t,n,r):null}if(vo(n)||W(n))return null!==a?null:f(e,t,n,r,null);Eo(e,n)}return null}function h(e,t,n,r,a){if("string"==typeof r||"number"==typeof r)return c(t,e=e.get(n)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case S:return e=e.get(null===r.key?n:r.key)||null,r.type===C?f(t,e,r.props.children,a,r.key):l(t,e,r,a);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(vo(r)||W(r))return f(t,e=e.get(n)||null,r,a,null);Eo(t,r)}return null}function m(a,i,s,c){for(var l=null,u=null,f=i,m=i=0,y=null;null!==f&&m<s.length;m++){f.index>m?(y=f,f=null):y=f.sibling;var g=p(a,f,s[m],c);if(null===g){null===f&&(f=y);break}e&&f&&null===g.alternate&&t(a,f),i=o(g,i,m),null===u?l=g:u.sibling=g,u=g,f=y}if(m===s.length)return n(a,f),l;if(null===f){for(;m<s.length;m++)null!==(f=d(a,s[m],c))&&(i=o(f,i,m),null===u?l=f:u.sibling=f,u=f);return l}for(f=r(a,f);m<s.length;m++)null!==(y=h(f,a,m,s[m],c))&&(e&&null!==y.alternate&&f.delete(null===y.key?m:y.key),i=o(y,i,m),null===u?l=y:u.sibling=y,u=y);return e&&f.forEach((function(e){return t(a,e)})),l}function y(a,s,c,l){var u=W(c);if("function"!=typeof u)throw Error(i(150));if(null==(c=u.call(c)))throw Error(i(151));for(var f=u=null,m=s,y=s=0,g=null,b=c.next();null!==m&&!b.done;y++,b=c.next()){m.index>y?(g=m,m=null):g=m.sibling;var v=p(a,m,b.value,l);if(null===v){null===m&&(m=g);break}e&&m&&null===v.alternate&&t(a,m),s=o(v,s,y),null===f?u=v:f.sibling=v,f=v,m=g}if(b.done)return n(a,m),u;if(null===m){for(;!b.done;y++,b=c.next())null!==(b=d(a,b.value,l))&&(s=o(b,s,y),null===f?u=b:f.sibling=b,f=b);return u}for(m=r(a,m);!b.done;y++,b=c.next())null!==(b=h(m,a,y,b.value,l))&&(e&&null!==b.alternate&&m.delete(null===b.key?y:b.key),s=o(b,s,y),null===f?u=b:f.sibling=b,f=b);return e&&m.forEach((function(e){return t(a,e)})),u}return function(e,r,o,c){var l="object"==typeof o&&null!==o&&o.type===C&&null===o.key;l&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case S:e:{for(u=o.key,l=r;null!==l;){if(l.key===u){switch(l.tag){case 7:if(o.type===C){n(e,l.sibling),(r=a(l,o.props.children)).return=e,e=r;break e}break;default:if(l.elementType===o.type){n(e,l.sibling),(r=a(l,o.props)).ref=wo(e,l,o),r.return=e,e=r;break e}}n(e,l);break}t(e,l),l=l.sibling}o.type===C?((r=Wc(o.props.children,e.mode,c,o.key)).return=e,e=r):((c=Fc(o.type,o.key,o.props,null,e.mode,c)).ref=wo(e,r,o),c.return=e,e=c)}return s(e);case k:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=a(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Jc(o,e.mode,c)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=a(r,o)).return=e,e=r):(n(e,r),(r=zc(o,e.mode,c)).return=e,e=r),s(e);if(vo(o))return m(e,r,o,c);if(W(o))return y(e,r,o,c);if(u&&Eo(e,o),void 0===o&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(i(152,q(e.type)||"Component"))}return n(e,r)}}var ko=So(!0),Co=So(!1),Po={},Oo=oa(Po),No=oa(Po),xo=oa(Po);function _o(e){if(e===Po)throw Error(i(174));return e}function To(e,t){switch(sa(xo,t),sa(No,e),sa(Oo,Po),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ia(Oo),sa(Oo,t)}function Ro(){ia(Oo),ia(No),ia(xo)}function jo(e){_o(xo.current);var t=_o(Oo.current),n=pe(t,e.type);t!==n&&(sa(No,e),sa(Oo,n))}function Do(e){No.current===e&&(ia(Oo),ia(No))}var Ao=oa(0);function Lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mo=null,Io=null,Ko=!1;function Uo(e,t){var n=Kc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ho(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Fo(e){if(Ko){var t=Io;if(t){var n=t;if(!Ho(e,t)){if(!(t=zr(n.nextSibling))||!Ho(e,t))return e.flags=-1025&e.flags|2,Ko=!1,void(Mo=e);Uo(Mo,n)}Mo=e,Io=zr(t.firstChild)}else e.flags=-1025&e.flags|2,Ko=!1,Mo=e}}function Wo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Mo=e}function Bo(e){if(e!==Mo)return!1;if(!Ko)return Wo(e),Ko=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Io;t;)Uo(e,t),t=zr(t.nextSibling);if(Wo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Io=zr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Io=null}}else Io=Mo?zr(e.stateNode.nextSibling):null;return!0}function zo(){Io=Mo=null,Ko=!1}var Jo=[];function Vo(){for(var e=0;e<Jo.length;e++)Jo[e]._workInProgressVersionPrimary=null;Jo.length=0}var qo=E.ReactCurrentDispatcher,$o=E.ReactCurrentBatchConfig,Go=0,Qo=null,Xo=null,Yo=null,Zo=!1,ei=!1;function ti(){throw Error(i(321))}function ni(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function ri(e,t,n,r,a,o){if(Go=o,Qo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qo.current=null===e||null===e.memoizedState?_i:Ti,e=n(r,a),ei){o=0;do{if(ei=!1,!(25>o))throw Error(i(301));o+=1,Yo=Xo=null,t.updateQueue=null,qo.current=Ri,e=n(r,a)}while(ei)}if(qo.current=xi,t=null!==Xo&&null!==Xo.next,Go=0,Yo=Xo=Qo=null,Zo=!1,t)throw Error(i(300));return e}function ai(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Yo?Qo.memoizedState=Yo=e:Yo=Yo.next=e,Yo}function oi(){if(null===Xo){var e=Qo.alternate;e=null!==e?e.memoizedState:null}else e=Xo.next;var t=null===Yo?Qo.memoizedState:Yo.next;if(null!==t)Yo=t,Xo=e;else{if(null===e)throw Error(i(310));e={memoizedState:(Xo=e).memoizedState,baseState:Xo.baseState,baseQueue:Xo.baseQueue,queue:Xo.queue,next:null},null===Yo?Qo.memoizedState=Yo=e:Yo=Yo.next=e}return Yo}function ii(e,t){return"function"==typeof t?t(e):t}function si(e){var t=oi(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=Xo,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,n.pending=null}if(null!==a){a=a.next,r=r.baseState;var c=s=o=null,l=a;do{var u=l.lane;if((Go&u)===u)null!==c&&(c=c.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var f={lane:u,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===c?(s=c=f,o=r):c=c.next=f,Qo.lanes|=u,Ls|=u}l=l.next}while(null!==l&&l!==a);null===c?o=r:c.next=s,ir(r,t.memoizedState)||(Di=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ci(e){var t=oi(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);ir(o,t.memoizedState)||(Di=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function li(e,t,n){var r=t._getVersion;r=r(t._source);var a=t._workInProgressVersionPrimary;if(null!==a?e=a===r:(e=e.mutableReadLanes,(e=(Go&e)===e)&&(t._workInProgressVersionPrimary=r,Jo.push(t))),e)return n(t._source);throw Jo.push(t),Error(i(350))}function ui(e,t,n,r){var a=Ns;if(null===a)throw Error(i(349));var o=t._getVersion,s=o(t._source),c=qo.current,l=c.useState((function(){return li(a,t,n)})),u=l[1],f=l[0];l=Yo;var d=e.memoizedState,p=d.refs,h=p.getSnapshot,m=d.source;d=d.subscribe;var y=Qo;return e.memoizedState={refs:p,source:t,subscribe:r},c.useEffect((function(){p.getSnapshot=n,p.setSnapshot=u;var e=o(t._source);if(!ir(s,e)){e=n(t._source),ir(f,e)||(u(e),e=sc(y),a.mutableReadLanes|=e&a.pendingLanes),e=a.mutableReadLanes,a.entangledLanes|=e;for(var r=a.entanglements,i=e;0<i;){var c=31-Bt(i),l=1<<c;r[c]|=e,i&=~l}}}),[n,t,r]),c.useEffect((function(){return r(t._source,(function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var r=sc(y);a.mutableReadLanes|=r&a.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),ir(h,n)&&ir(m,t)&&ir(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ii,lastRenderedState:f}).dispatch=u=Ni.bind(null,Qo,e),l.queue=e,l.baseQueue=null,f=li(a,t,n),l.memoizedState=l.baseState=f),f}function fi(e,t,n){return ui(oi(),e,t,n)}function di(e){var t=ai();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ii,lastRenderedState:e}).dispatch=Ni.bind(null,Qo,e),[t.memoizedState,e]}function pi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Qo.updateQueue)?(t={lastEffect:null},Qo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function hi(e){return e={current:e},ai().memoizedState=e}function mi(){return oi().memoizedState}function yi(e,t,n,r){var a=ai();Qo.flags|=e,a.memoizedState=pi(1|t,n,void 0,void 0===r?null:r)}function gi(e,t,n,r){var a=oi();r=void 0===r?null:r;var o=void 0;if(null!==Xo){var i=Xo.memoizedState;if(o=i.destroy,null!==r&&ni(r,i.deps))return void pi(t,n,o,r)}Qo.flags|=e,a.memoizedState=pi(1|t,n,o,r)}function bi(e,t){return yi(516,4,e,t)}function vi(e,t){return gi(516,4,e,t)}function wi(e,t){return gi(4,2,e,t)}function Ei(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Si(e,t,n){return n=null!=n?n.concat([e]):null,gi(4,2,Ei.bind(null,t,e),n)}function ki(){}function Ci(e,t){var n=oi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ni(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Pi(e,t){var n=oi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ni(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Oi(e,t){var n=Ha();Wa(98>n?98:n,(function(){e(!0)})),Wa(97<n?97:n,(function(){var n=$o.transition;$o.transition=1;try{e(!1),t()}finally{$o.transition=n}}))}function Ni(e,t,n){var r=ic(),a=sc(e),o={lane:a,action:n,eagerReducer:null,eagerState:null,next:null},i=t.pending;if(null===i?o.next=o:(o.next=i.next,i.next=o),t.pending=o,i=e.alternate,e===Qo||null!==i&&i===Qo)ei=Zo=!0;else{if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,c=i(s,n);if(o.eagerReducer=i,o.eagerState=c,ir(c,s))return}catch(e){}cc(e,a,r)}}var xi={readContext:no,useCallback:ti,useContext:ti,useEffect:ti,useImperativeHandle:ti,useLayoutEffect:ti,useMemo:ti,useReducer:ti,useRef:ti,useState:ti,useDebugValue:ti,useDeferredValue:ti,useTransition:ti,useMutableSource:ti,useOpaqueIdentifier:ti,unstable_isNewReconciler:!1},_i={readContext:no,useCallback:function(e,t){return ai().memoizedState=[e,void 0===t?null:t],e},useContext:no,useEffect:bi,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,yi(4,2,Ei.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yi(4,2,e,t)},useMemo:function(e,t){var n=ai();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ai();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ni.bind(null,Qo,e),[r.memoizedState,e]},useRef:hi,useState:di,useDebugValue:ki,useDeferredValue:function(e){var t=di(e),n=t[0],r=t[1];return bi((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=di(!1),t=e[0];return hi(e=Oi.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ai();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ui(r,e,t,n)},useOpaqueIdentifier:function(){if(Ko){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Vr++).toString(36))),Error(i(355))})),n=di(t)[1];return 0==(2&Qo.mode)&&(Qo.flags|=516,pi(5,(function(){n("r:"+(Vr++).toString(36))}),void 0,null)),t}return di(t="r:"+(Vr++).toString(36)),t},unstable_isNewReconciler:!1},Ti={readContext:no,useCallback:Ci,useContext:no,useEffect:vi,useImperativeHandle:Si,useLayoutEffect:wi,useMemo:Pi,useReducer:si,useRef:mi,useState:function(){return si(ii)},useDebugValue:ki,useDeferredValue:function(e){var t=si(ii),n=t[0],r=t[1];return vi((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=si(ii)[0];return[mi().current,e]},useMutableSource:fi,useOpaqueIdentifier:function(){return si(ii)[0]},unstable_isNewReconciler:!1},Ri={readContext:no,useCallback:Ci,useContext:no,useEffect:vi,useImperativeHandle:Si,useLayoutEffect:wi,useMemo:Pi,useReducer:ci,useRef:mi,useState:function(){return ci(ii)},useDebugValue:ki,useDeferredValue:function(e){var t=ci(ii),n=t[0],r=t[1];return vi((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=ci(ii)[0];return[mi().current,e]},useMutableSource:fi,useOpaqueIdentifier:function(){return ci(ii)[0]},unstable_isNewReconciler:!1},ji=E.ReactCurrentOwner,Di=!1;function Ai(e,t,n,r){t.child=null===e?Co(t,null,n,r):ko(t,e.child,n,r)}function Li(e,t,n,r,a){n=n.render;var o=t.ref;return to(t,a),r=ri(e,t,n,r,o,a),null===e||Di?(t.flags|=1,Ai(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,Zi(e,t,a))}function Mi(e,t,n,r,a,o){if(null===e){var i=n.type;return"function"!=typeof i||Uc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ii(e,t,i,r,a,o))}return i=e.child,0==(a&o)&&(a=i.memoizedProps,(n=null!==(n=n.compare)?n:cr)(a,r)&&e.ref===t.ref)?Zi(e,t,o):(t.flags|=1,(e=Hc(i,r)).ref=t.ref,e.return=t,t.child=e)}function Ii(e,t,n,r,a,o){if(null!==e&&cr(e.memoizedProps,r)&&e.ref===t.ref){if(Di=!1,0==(o&a))return t.lanes=e.lanes,Zi(e,t,o);0!=(16384&e.flags)&&(Di=!0)}return Hi(e,t,n,r,o)}function Ki(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},yc(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},yc(0,e),null;t.memoizedState={baseLanes:0},yc(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,yc(0,r);return Ai(e,t,a,n),t.child}function Ui(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Hi(e,t,n,r,a){var o=pa(n)?fa:la.current;return o=da(t,o),to(t,a),n=ri(e,t,n,r,o,a),null===e||Di?(t.flags|=1,Ai(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,Zi(e,t,a))}function Fi(e,t,n,r,a){if(pa(n)){var o=!0;ga(t)}else o=!1;if(to(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),yo(t,n,r),bo(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var c=i.context,l=n.contextType;l="object"==typeof l&&null!==l?no(l):da(t,l=pa(n)?fa:la.current);var u=n.getDerivedStateFromProps,f="function"==typeof u||"function"==typeof i.getSnapshotBeforeUpdate;f||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==r||c!==l)&&go(t,i,r,l),ro=!1;var d=t.memoizedState;i.state=d,lo(t,r,i,a),c=t.memoizedState,s!==r||d!==c||ua.current||ro?("function"==typeof u&&(po(t,n,u,r),c=t.memoizedState),(s=ro||mo(t,n,s,r,d,c,l))?(f||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4)):("function"==typeof i.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=l,r=s):("function"==typeof i.componentDidMount&&(t.flags|=4),r=!1)}else{i=t.stateNode,oo(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:qa(t.type,s),i.props=l,f=t.pendingProps,d=i.context,c="object"==typeof(c=n.contextType)&&null!==c?no(c):da(t,c=pa(n)?fa:la.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==f||d!==c)&&go(t,i,r,c),ro=!1,d=t.memoizedState,i.state=d,lo(t,r,i,a);var h=t.memoizedState;s!==f||d!==h||ua.current||ro?("function"==typeof p&&(po(t,n,p,r),h=t.memoizedState),(l=ro||mo(t,n,l,r,d,h,c))?(u||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,c),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,c)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=c,r=l):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Wi(e,t,n,r,o,a)}function Wi(e,t,n,r,a,o){Ui(e,t);var i=0!=(64&t.flags);if(!r&&!i)return a&&ba(t,n,!1),Zi(e,t,o);r=t.stateNode,ji.current=t;var s=i&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,s,o)):Ai(e,t,s,o),t.memoizedState=r.state,a&&ba(t,n,!0),t.child}function Bi(e){var t=e.stateNode;t.pendingContext?ma(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ma(0,t.context,!1),To(e,t.containerInfo)}var zi,Ji,Vi,qi={dehydrated:null,retryLane:0};function $i(e,t,n){var r,a=t.pendingProps,o=Ao.current,i=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(i=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),sa(Ao,1&o),null===e?(void 0!==a.fallback&&Fo(t),e=a.children,o=a.fallback,i?(e=Gi(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=qi,e):"number"==typeof a.unstable_expectedLoadTime?(e=Gi(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=qi,t.lanes=33554432,e):((n=Bc({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,i?(a=function(e,t,n,r,a){var o=t.mode,i=e.child;e=i.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==i?((n=t.child).childLanes=0,n.pendingProps=s,null!==(i=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=i,i.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hc(i,s),null!==e?r=Hc(e,r):(r=Wc(r,o,a,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,a.children,a.fallback,n),i=t.child,o=e.child.memoizedState,i.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},i.childLanes=e.childLanes&~n,t.memoizedState=qi,a):(n=function(e,t,n,r){var a=e.child;return e=a.sibling,n=Hc(a,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,a.children,n),t.memoizedState=null,n))}function Gi(e,t,n,r){var a=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&a)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Bc(t,a,0,null),n=Wc(n,a,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Qi(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),eo(e.return,t)}function Xi(e,t,n,r,a,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,lastEffect:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a,i.lastEffect=o)}function Yi(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(Ai(e,t,r.children,n),0!=(2&(r=Ao.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qi(e,n);else if(19===e.tag)Qi(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(sa(Ao,r),0==(2&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Lo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Xi(t,!1,a,n,o,t.lastEffect);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Lo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Xi(t,!0,n,null,o,t.lastEffect);break;case"together":Xi(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Zi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Hc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function es(e,t){if(!Ko)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ts(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return pa(t.type)&&ha(),null;case 3:return Ro(),ia(ua),ia(la),Vo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Bo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Do(t);var o=_o(xo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ji(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(i(166));return null}if(e=_o(Oo.current),Bo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[$r]=t,r[Gr]=s,n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Or(Sr[e],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":ee(r,s),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Or("invalid",r);break;case"textarea":ce(r,s),Or("invalid",r)}for(var l in ke(n,s),e=null,s)s.hasOwnProperty(l)&&(o=s[l],"children"===l?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):c.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&Or("scroll",r));switch(n){case"input":Q(r),re(r,s,!0);break;case"textarea":Q(r),ue(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Mr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[$r]=t,e[Gr]=r,zi(e,t),t.stateNode=e,l=Ce(n,r),n){case"dialog":Or("cancel",e),Or("close",e),o=r;break;case"iframe":case"object":case"embed":Or("load",e),o=r;break;case"video":case"audio":for(o=0;o<Sr.length;o++)Or(Sr[o],e);o=r;break;case"source":Or("error",e),o=r;break;case"img":case"image":case"link":Or("error",e),Or("load",e),o=r;break;case"details":Or("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Or("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=a({},r,{value:void 0}),Or("invalid",e);break;case"textarea":ce(e,r),o=se(e,r),Or("invalid",e);break;default:o=r}ke(n,o);var u=o;for(s in u)if(u.hasOwnProperty(s)){var f=u[s];"style"===s?Ee(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"==typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"==typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(c.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Or("scroll",e):null!=f&&w(e,s,f,l))}switch(n){case"input":Q(e),re(e,r,!1);break;case"textarea":Q(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ie(e,!!r.multiple,s,!1):null!=r.defaultValue&&ie(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Mr)}Ur(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Vi(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));n=_o(xo.current),_o(Oo.current),Bo(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return ia(Ao),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Bo(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ao.current)?0===js&&(js=3):(0!==js&&3!==js||(js=4),null===Ns||0==(134217727&Ls)&&0==(134217727&Ms)||dc(Ns,_s))),(r||n)&&(t.flags|=4),null);case 4:return Ro(),null===e&&xr(t.stateNode.containerInfo),null;case 10:return Za(t),null;case 17:return pa(t.type)&&ha(),null;case 19:if(ia(Ao),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(l=r.rendering))if(s)es(r,!1);else{if(0!==js||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Lo(e))){for(t.flags|=64,es(r,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return sa(Ao,1&Ao.current|2),t.child}e=e.sibling}null!==r.tail&&Ua()>Hs&&(t.flags|=64,s=!0,es(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Lo(l))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),es(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Ko)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ua()-r.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=64,s=!0,es(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ua(),n.sibling=null,t=Ao.current,sa(Ao,s?1&t|2:1&t),n):null;case 23:case 24:return gc(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(i(156,t.tag))}function ns(e){switch(e.tag){case 1:pa(e.type)&&ha();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ro(),ia(ua),ia(la),Vo(),0!=(64&(t=e.flags)))throw Error(i(285));return e.flags=-4097&t|64,e;case 5:return Do(e),null;case 13:return ia(Ao),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ia(Ao),null;case 4:return Ro(),null;case 10:return Za(e),null;case 23:case 24:return gc(),null;default:return null}}function rs(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var a=n}catch(e){a="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:a}}function as(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}zi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ji=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,_o(Oo.current);var i,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=a({},o,{value:void 0}),r=a({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Mr)}for(f in ke(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var l=o[f];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(c.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var u=r[f];if(l=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&u!==l&&(null!=u||null!=l))if("style"===f)if(l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(s||(s=[]),s.push(f,n)),n=u;else"dangerouslySetInnerHTML"===f?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(f,u)):"children"===f?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(f,""+u):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(c.hasOwnProperty(f)?(null!=u&&"onScroll"===f&&Or("scroll",e),s||l===u||(s=[])):"object"==typeof u&&null!==u&&u.$$typeof===L?u.toString():(s=s||[]).push(f,u))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Vi=function(e,t,n,r){n!==r&&(t.flags|=4)};var os="function"==typeof WeakMap?WeakMap:Map;function is(e,t,n){(n=io(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zs||(zs=!0,Js=r),as(0,t)},n}function ss(e,t,n){(n=io(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var a=t.value;n.payload=function(){return as(0,t),r(a)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Vs?Vs=new Set([this]):Vs.add(this),as(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var cs="function"==typeof WeakSet?WeakSet:Set;function ls(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ac(e,t)}else t.current=null}function us(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:qa(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Br(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(i(163))}function fs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var a=e;r=a.next,0!=(4&(a=a.tag))&&0!=(1&a)&&(Rc(n,e),Tc(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:qa(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&uo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}uo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Ur(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(i(163))}function ds(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var a=n.memoizedProps.style;a=null!=a&&a.hasOwnProperty("display")?a.display:null,r.style.display=we("display",a)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ps(e,t){if(wa&&"function"==typeof wa.onCommitFiberUnmount)try{wa.onCommitFiberUnmount(va,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,a=r.destroy;if(r=r.tag,void 0!==a)if(0!=(4&r))Rc(t,n);else{r=t;try{a()}catch(e){Ac(r,e)}}n=n.next}while(n!==e)}break;case 1:if(ls(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Ac(t,e)}break;case 5:ls(t);break;case 4:vs(e,t)}}function hs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ms(e){return 5===e.tag||3===e.tag||4===e.tag}function ys(e){e:{for(var t=e.return;null!==t;){if(ms(t))break e;t=t.return}throw Error(i(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(i(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ms(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?gs(e,n,t):bs(e,n,t)}function gs(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Mr));else if(4!==r&&null!==(e=e.child))for(gs(e,t,n),e=e.sibling;null!==e;)gs(e,t,n),e=e.sibling}function bs(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(bs(e,t,n),e=e.sibling;null!==e;)bs(e,t,n),e=e.sibling}function vs(e,t){for(var n,r,a=t,o=!1;;){if(!o){o=a.return;e:for(;;){if(null===o)throw Error(i(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===a.tag||6===a.tag){e:for(var s=e,c=a,l=c;;)if(ps(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===c)break e;for(;null===l.sibling;){if(null===l.return||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(s=n,c=a.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):n.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){n=a.stateNode.containerInfo,r=!0,a.child.return=a,a=a.child;continue}}else if(ps(e,a),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function ws(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var a=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Gr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ce(e,a),t=Ce(e,r),a=0;a<o.length;a+=2){var s=o[a],c=o[a+1];"style"===s?Ee(n,c):"dangerouslySetInnerHTML"===s?ye(n,c):"children"===s?ge(n,c):w(n,s,c,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ie(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ie(n,!!r.multiple,r.defaultValue,!0):ie(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(i(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Us=Ua(),ds(t.child,!0)),void Es(t);case 19:return void Es(t);case 17:return;case 23:case 24:return void ds(t,null!==t.memoizedState)}throw Error(i(163))}function Es(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new cs),t.forEach((function(t){var r=Mc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ss(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var ks=Math.ceil,Cs=E.ReactCurrentDispatcher,Ps=E.ReactCurrentOwner,Os=0,Ns=null,xs=null,_s=0,Ts=0,Rs=oa(0),js=0,Ds=null,As=0,Ls=0,Ms=0,Is=0,Ks=null,Us=0,Hs=1/0;function Fs(){Hs=Ua()+500}var Ws,Bs=null,zs=!1,Js=null,Vs=null,qs=!1,$s=null,Gs=90,Qs=[],Xs=[],Ys=null,Zs=0,ec=null,tc=-1,nc=0,rc=0,ac=null,oc=!1;function ic(){return 0!=(48&Os)?Ua():-1!==tc?tc:tc=Ua()}function sc(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Ha()?1:2;if(0===nc&&(nc=As),0!==Va.transition){0!==rc&&(rc=null!==Ks?Ks.pendingLanes:0),e=nc;var t=4186112&~rc;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=Ha(),e=Ut(0!=(4&Os)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),nc)}function cc(e,t,n){if(50<Zs)throw Zs=0,ec=null,Error(i(185));if(null===(e=lc(e,t)))return null;Wt(e,t,n),e===Ns&&(Ms|=t,4===js&&dc(e,_s));var r=Ha();1===t?0!=(8&Os)&&0==(48&Os)?pc(e):(uc(e,n),0===Os&&(Fs(),za())):(0==(4&Os)||98!==r&&99!==r||(null===Ys?Ys=new Set([e]):Ys.add(e)),uc(e,n)),Ks=e}function lc(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function uc(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var c=31-Bt(s),l=1<<c,u=o[c];if(-1===u){if(0==(l&r)||0!=(l&a)){u=t,Mt(l);var f=Lt;o[c]=10<=f?u+250:6<=f?u+5e3:-1}}else u<=t&&(e.expiredLanes|=l);s&=~l}if(r=It(e,e===Ns?_s:0),t=Lt,0===r)null!==n&&(n!==Da&&ka(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Da&&ka(n)}15===t?(n=pc.bind(null,e),null===La?(La=[n],Ma=Sa(xa,Ja)):La.push(n),n=Da):n=14===t?Ba(99,pc.bind(null,e)):Ba(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(i(358,e))}}(t),fc.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function fc(e){if(tc=-1,rc=nc=0,0!=(48&Os))throw Error(i(327));var t=e.callbackNode;if(_c()&&e.callbackNode!==t)return null;var n=It(e,e===Ns?_s:0);if(0===n)return null;var r=n,a=Os;Os|=16;var o=wc();for(Ns===e&&_s===r||(Fs(),bc(e,r));;)try{kc();break}catch(t){vc(e,t)}if(Ya(),Cs.current=o,Os=a,null!==xs?r=0:(Ns=null,_s=0,r=js),0!=(As&Ms))bc(e,0);else if(0!==r){if(2===r&&(Os|=64,e.hydrate&&(e.hydrate=!1,Br(e.containerInfo)),0!==(n=Kt(e))&&(r=Ec(e,n))),1===r)throw t=Ds,bc(e,0),dc(e,n),uc(e,Ua()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(i(345));case 2:Oc(e);break;case 3:if(dc(e,n),(62914560&n)===n&&10<(r=Us+500-Ua())){if(0!==It(e,0))break;if(((a=e.suspendedLanes)&n)!==n){ic(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Fr(Oc.bind(null,e),r);break}Oc(e);break;case 4:if(dc(e,n),(4186112&n)===n)break;for(r=e.eventTimes,a=-1;0<n;){var s=31-Bt(n);o=1<<s,(s=r[s])>a&&(a=s),n&=~o}if(n=a,10<(n=(120>(n=Ua()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ks(n/1960))-n)){e.timeoutHandle=Fr(Oc.bind(null,e),n);break}Oc(e);break;case 5:Oc(e);break;default:throw Error(i(329))}}return uc(e,Ua()),e.callbackNode===t?fc.bind(null,e):null}function dc(e,t){for(t&=~Is,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bt(t),r=1<<n;e[n]=-1,t&=~r}}function pc(e){if(0!=(48&Os))throw Error(i(327));if(_c(),e===Ns&&0!=(e.expiredLanes&_s)){var t=_s,n=Ec(e,t);0!=(As&Ms)&&(n=Ec(e,t=It(e,t)))}else n=Ec(e,t=It(e,0));if(0!==e.tag&&2===n&&(Os|=64,e.hydrate&&(e.hydrate=!1,Br(e.containerInfo)),0!==(t=Kt(e))&&(n=Ec(e,t))),1===n)throw n=Ds,bc(e,0),dc(e,t),uc(e,Ua()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Oc(e),uc(e,Ua()),null}function hc(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(Fs(),za())}}function mc(e,t){var n=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=n)&&(Fs(),za())}}function yc(e,t){sa(Rs,Ts),Ts|=t,As|=t}function gc(){Ts=Rs.current,ia(Rs)}function bc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==xs)for(n=xs.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&ha();break;case 3:Ro(),ia(ua),ia(la),Vo();break;case 5:Do(r);break;case 4:Ro();break;case 13:case 19:ia(Ao);break;case 10:Za(r);break;case 23:case 24:gc()}n=n.return}Ns=e,xs=Hc(e.current,null),_s=Ts=As=t,js=0,Ds=null,Is=Ms=Ls=0}function vc(e,t){for(;;){var n=xs;try{if(Ya(),qo.current=xi,Zo){for(var r=Qo.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}Zo=!1}if(Go=0,Yo=Xo=Qo=null,ei=!1,Ps.current=null,null===n||null===n.return){js=1,Ds=t,xs=null;break}e:{var o=e,i=n.return,s=n,c=t;if(t=_s,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==c&&"object"==typeof c&&"function"==typeof c.then){var l=c;if(0==(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!=(1&Ao.current),d=i;do{var p;if(p=13===d.tag){var h=d.memoizedState;if(null!==h)p=null!==h.dehydrated;else{var m=d.memoizedProps;p=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!f)}}if(p){var y=d.updateQueue;if(null===y){var g=new Set;g.add(l),d.updateQueue=g}else y.add(l);if(0==(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var b=io(-1,1);b.tag=2,so(s,b)}s.lanes|=1;break e}c=void 0,s=t;var v=o.pingCache;if(null===v?(v=o.pingCache=new os,c=new Set,v.set(l,c)):void 0===(c=v.get(l))&&(c=new Set,v.set(l,c)),!c.has(s)){c.add(s);var w=Lc.bind(null,o,l,s);l.then(w,w)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);c=Error((q(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==js&&(js=2),c=rs(c,s),d=i;do{switch(d.tag){case 3:o=c,d.flags|=4096,t&=-t,d.lanes|=t,co(d,is(0,o,t));break e;case 1:o=c;var E=d.type,S=d.stateNode;if(0==(64&d.flags)&&("function"==typeof E.getDerivedStateFromError||null!==S&&"function"==typeof S.componentDidCatch&&(null===Vs||!Vs.has(S)))){d.flags|=4096,t&=-t,d.lanes|=t,co(d,ss(d,o,t));break e}}d=d.return}while(null!==d)}Pc(n)}catch(e){t=e,xs===n&&null!==n&&(xs=n=n.return);continue}break}}function wc(){var e=Cs.current;return Cs.current=xi,null===e?xi:e}function Ec(e,t){var n=Os;Os|=16;var r=wc();for(Ns===e&&_s===t||bc(e,t);;)try{Sc();break}catch(t){vc(e,t)}if(Ya(),Os=n,Cs.current=r,null!==xs)throw Error(i(261));return Ns=null,_s=0,js}function Sc(){for(;null!==xs;)Cc(xs)}function kc(){for(;null!==xs&&!Ca();)Cc(xs)}function Cc(e){var t=Ws(e.alternate,e,Ts);e.memoizedProps=e.pendingProps,null===t?Pc(e):xs=t,Ps.current=null}function Pc(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ts(n,t,Ts)))return void(xs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Ts)||0==(4&n.mode)){for(var r=0,a=n.child;null!==a;)r|=a.lanes|a.childLanes,a=a.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ns(t)))return n.flags&=2047,void(xs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(xs=t);xs=t=e}while(null!==t);0===js&&(js=5)}function Oc(e){var t=Ha();return Wa(99,Nc.bind(null,e,t)),null}function Nc(e,t){do{_c()}while(null!==$s);if(0!=(48&Os))throw Error(i(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null;var r=n.lanes|n.childLanes,a=r,o=e.pendingLanes&~a;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=a,e.mutableReadLanes&=a,e.entangledLanes&=a,a=e.entanglements;for(var s=e.eventTimes,c=e.expirationTimes;0<o;){var l=31-Bt(o),u=1<<l;a[l]=0,s[l]=-1,c[l]=-1,o&=~u}if(null!==Ys&&0==(24&r)&&Ys.has(e)&&Ys.delete(e),e===Ns&&(xs=Ns=null,_s=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(a=Os,Os|=32,Ps.current=null,Ir=$t,pr(s=dr())){if("selectionStart"in s)c={start:s.selectionStart,end:s.selectionEnd};else e:if(c=(c=s.ownerDocument)&&c.defaultView||window,(u=c.getSelection&&c.getSelection())&&0!==u.rangeCount){c=u.anchorNode,o=u.anchorOffset,l=u.focusNode,u=u.focusOffset;try{c.nodeType,l.nodeType}catch(e){c=null;break e}var f=0,d=-1,p=-1,h=0,m=0,y=s,g=null;t:for(;;){for(var b;y!==c||0!==o&&3!==y.nodeType||(d=f+o),y!==l||0!==u&&3!==y.nodeType||(p=f+u),3===y.nodeType&&(f+=y.nodeValue.length),null!==(b=y.firstChild);)g=y,y=b;for(;;){if(y===s)break t;if(g===c&&++h===o&&(d=f),g===l&&++m===u&&(p=f),null!==(b=y.nextSibling))break;g=(y=g).parentNode}y=b}c=-1===d||-1===p?null:{start:d,end:p}}else c=null;c=c||{start:0,end:0}}else c=null;Kr={focusedElem:s,selectionRange:c},$t=!1,ac=null,oc=!1,Bs=r;do{try{xc()}catch(e){if(null===Bs)throw Error(i(330));Ac(Bs,e),Bs=Bs.nextEffect}}while(null!==Bs);ac=null,Bs=r;do{try{for(s=e;null!==Bs;){var v=Bs.flags;if(16&v&&ge(Bs.stateNode,""),128&v){var w=Bs.alternate;if(null!==w){var E=w.ref;null!==E&&("function"==typeof E?E(null):E.current=null)}}switch(1038&v){case 2:ys(Bs),Bs.flags&=-3;break;case 6:ys(Bs),Bs.flags&=-3,ws(Bs.alternate,Bs);break;case 1024:Bs.flags&=-1025;break;case 1028:Bs.flags&=-1025,ws(Bs.alternate,Bs);break;case 4:ws(Bs.alternate,Bs);break;case 8:vs(s,c=Bs);var S=c.alternate;hs(c),null!==S&&hs(S)}Bs=Bs.nextEffect}}catch(e){if(null===Bs)throw Error(i(330));Ac(Bs,e),Bs=Bs.nextEffect}}while(null!==Bs);if(E=Kr,w=dr(),v=E.focusedElem,s=E.selectionRange,w!==v&&v&&v.ownerDocument&&fr(v.ownerDocument.documentElement,v)){null!==s&&pr(v)&&(w=s.start,void 0===(E=s.end)&&(E=w),"selectionStart"in v?(v.selectionStart=w,v.selectionEnd=Math.min(E,v.value.length)):(E=(w=v.ownerDocument||document)&&w.defaultView||window).getSelection&&(E=E.getSelection(),c=v.textContent.length,S=Math.min(s.start,c),s=void 0===s.end?S:Math.min(s.end,c),!E.extend&&S>s&&(c=s,s=S,S=c),c=ur(v,S),o=ur(v,s),c&&o&&(1!==E.rangeCount||E.anchorNode!==c.node||E.anchorOffset!==c.offset||E.focusNode!==o.node||E.focusOffset!==o.offset)&&((w=w.createRange()).setStart(c.node,c.offset),E.removeAllRanges(),S>s?(E.addRange(w),E.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),E.addRange(w))))),w=[];for(E=v;E=E.parentNode;)1===E.nodeType&&w.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"==typeof v.focus&&v.focus(),v=0;v<w.length;v++)(E=w[v]).element.scrollLeft=E.left,E.element.scrollTop=E.top}$t=!!Ir,Kr=Ir=null,e.current=n,Bs=r;do{try{for(v=e;null!==Bs;){var k=Bs.flags;if(36&k&&fs(v,Bs.alternate,Bs),128&k){w=void 0;var C=Bs.ref;if(null!==C){var P=Bs.stateNode;switch(Bs.tag){case 5:w=P;break;default:w=P}"function"==typeof C?C(w):C.current=w}}Bs=Bs.nextEffect}}catch(e){if(null===Bs)throw Error(i(330));Ac(Bs,e),Bs=Bs.nextEffect}}while(null!==Bs);Bs=null,Aa(),Os=a}else e.current=n;if(qs)qs=!1,$s=e,Gs=t;else for(Bs=r;null!==Bs;)t=Bs.nextEffect,Bs.nextEffect=null,8&Bs.flags&&((k=Bs).sibling=null,k.stateNode=null),Bs=t;if(0===(r=e.pendingLanes)&&(Vs=null),1===r?e===ec?Zs++:(Zs=0,ec=e):Zs=0,n=n.stateNode,wa&&"function"==typeof wa.onCommitFiberRoot)try{wa.onCommitFiberRoot(va,n,void 0,64==(64&n.current.flags))}catch(e){}if(uc(e,Ua()),zs)throw zs=!1,e=Js,Js=null,e;return 0!=(8&Os)||za(),null}function xc(){for(;null!==Bs;){var e=Bs.alternate;oc||null===ac||(0!=(8&Bs.flags)?Ze(Bs,ac)&&(oc=!0):13===Bs.tag&&Ss(e,Bs)&&Ze(Bs,ac)&&(oc=!0));var t=Bs.flags;0!=(256&t)&&us(e,Bs),0==(512&t)||qs||(qs=!0,Ba(97,(function(){return _c(),null}))),Bs=Bs.nextEffect}}function _c(){if(90!==Gs){var e=97<Gs?97:Gs;return Gs=90,Wa(e,jc)}return!1}function Tc(e,t){Qs.push(t,e),qs||(qs=!0,Ba(97,(function(){return _c(),null})))}function Rc(e,t){Xs.push(t,e),qs||(qs=!0,Ba(97,(function(){return _c(),null})))}function jc(){if(null===$s)return!1;var e=$s;if($s=null,0!=(48&Os))throw Error(i(331));var t=Os;Os|=32;var n=Xs;Xs=[];for(var r=0;r<n.length;r+=2){var a=n[r],o=n[r+1],s=a.destroy;if(a.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(i(330));Ac(o,e)}}for(n=Qs,Qs=[],r=0;r<n.length;r+=2){a=n[r],o=n[r+1];try{var c=a.create;a.destroy=c()}catch(e){if(null===o)throw Error(i(330));Ac(o,e)}}for(c=e.current.firstEffect;null!==c;)e=c.nextEffect,c.nextEffect=null,8&c.flags&&(c.sibling=null,c.stateNode=null),c=e;return Os=t,za(),!0}function Dc(e,t,n){so(e,t=is(0,t=rs(n,t),1)),t=ic(),null!==(e=lc(e,1))&&(Wt(e,1,t),uc(e,t))}function Ac(e,t){if(3===e.tag)Dc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Dc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Vs||!Vs.has(r))){var a=ss(n,e=rs(t,e),1);if(so(n,a),a=ic(),null!==(n=lc(n,1)))Wt(n,1,a),uc(n,a);else if("function"==typeof r.componentDidCatch&&(null===Vs||!Vs.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Lc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ic(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(_s&n)===n&&(4===js||3===js&&(62914560&_s)===_s&&500>Ua()-Us?bc(e,0):Is|=n),uc(e,t)}function Mc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Ha()?1:2:(0===nc&&(nc=As),0===(t=Ht(62914560&~nc))&&(t=4194304))),n=ic(),null!==(e=lc(e,t))&&(Wt(e,t,n),uc(e,n))}function Ic(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Kc(e,t,n,r){return new Ic(e,t,n,r)}function Uc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hc(e,t){var n=e.alternate;return null===n?((n=Kc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fc(e,t,n,r,a,o){var s=2;if(r=e,"function"==typeof e)Uc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case C:return Wc(n.children,a,o,t);case M:s=8,a|=16;break;case P:s=8,a|=1;break;case O:return(e=Kc(12,n,t,8|a)).elementType=O,e.type=O,e.lanes=o,e;case T:return(e=Kc(13,n,t,a)).type=T,e.elementType=T,e.lanes=o,e;case R:return(e=Kc(19,n,t,a)).elementType=R,e.lanes=o,e;case I:return Bc(n,a,o,t);case K:return(e=Kc(24,n,t,a)).elementType=K,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case N:s=10;break e;case x:s=9;break e;case _:s=11;break e;case j:s=14;break e;case D:s=16,r=null;break e;case A:s=22;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Kc(s,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Wc(e,t,n,r){return(e=Kc(7,e,r,t)).lanes=n,e}function Bc(e,t,n,r){return(e=Kc(23,e,r,t)).elementType=I,e.lanes=n,e}function zc(e,t,n){return(e=Kc(6,e,null,t)).lanes=n,e}function Jc(e,t,n){return(t=Kc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ft(0),this.expirationTimes=Ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ft(0),this.mutableSourceEagerHydrationData=null}function qc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function $c(e,t,n,r){var a=t.current,o=ic(),s=sc(a);e:if(n){t:{if(Ge(n=n._reactInternals)!==n||1!==n.tag)throw Error(i(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(pa(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(i(171))}if(1===n.tag){var l=n.type;if(pa(l)){n=ya(n,l,c);break e}}n=c}else n=ca;return null===t.context?t.context=n:t.pendingContext=n,(t=io(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),so(a,t),cc(a,s,o),s}function Gc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xc(e,t){Qc(e,t),(e=e.alternate)&&Qc(e,t)}function Yc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Vc(e,t,null!=n&&!0===n.hydrate),t=Kc(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ao(t),e[Qr]=n.current,xr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var a=(t=r[e])._getVersion;a=a(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,a]:n.mutableSourceEagerHydrationData.push(t,a)}this._internalRoot=n}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function el(e,t,n,r,a){var o=n._reactRootContainer;if(o){var i=o._internalRoot;if("function"==typeof a){var s=a;a=function(){var e=Gc(i);s.call(e)}}$c(t,i,e,a)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Yc(e,0,t?{hydrate:!0}:void 0)}(n,r),i=o._internalRoot,"function"==typeof a){var c=a;a=function(){var e=Gc(i);c.call(e)}}mc((function(){$c(t,i,e,a)}))}return Gc(i)}function tl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(i(200));return qc(e,t,null,n)}Ws=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||ua.current)Di=!0;else{if(0==(n&r)){switch(Di=!1,t.tag){case 3:Bi(t),zo();break;case 5:jo(t);break;case 1:pa(t.type)&&ga(t);break;case 4:To(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var a=t.type._context;sa($a,a._currentValue),a._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?$i(e,t,n):(sa(Ao,1&Ao.current),null!==(t=Zi(e,t,n))?t.sibling:null);sa(Ao,1&Ao.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return Yi(e,t,n);t.flags|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),sa(Ao,Ao.current),r)break;return null;case 23:case 24:return t.lanes=0,Ki(e,t,n)}return Zi(e,t,n)}Di=0!=(16384&e.flags)}else Di=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=da(t,la.current),to(t,n),a=ri(null,t,r,e,a,n),t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,pa(r)){var o=!0;ga(t)}else o=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,ao(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&po(t,r,s,e),a.updater=ho,t.stateNode=a,a._reactInternals=t,bo(t,r,e,n),t=Wi(null,t,r,!0,o,n)}else t.tag=0,Ai(null,t,a,n),t=t.child;return t;case 16:a=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=(o=a._init)(a._payload),t.type=a,o=t.tag=function(e){if("function"==typeof e)return Uc(e)?1:0;if(null!=e){if((e=e.$$typeof)===_)return 11;if(e===j)return 14}return 2}(a),e=qa(a,e),o){case 0:t=Hi(null,t,a,e,n);break e;case 1:t=Fi(null,t,a,e,n);break e;case 11:t=Li(null,t,a,e,n);break e;case 14:t=Mi(null,t,a,qa(a.type,e),r,n);break e}throw Error(i(306,a,""))}return t;case 0:return r=t.type,a=t.pendingProps,Hi(e,t,r,a=t.elementType===r?a:qa(r,a),n);case 1:return r=t.type,a=t.pendingProps,Fi(e,t,r,a=t.elementType===r?a:qa(r,a),n);case 3:if(Bi(t),r=t.updateQueue,null===e||null===r)throw Error(i(282));if(r=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,oo(e,t),lo(t,r,null,n),(r=t.memoizedState.element)===a)zo(),t=Zi(e,t,n);else{if((o=(a=t.stateNode).hydrate)&&(Io=zr(t.stateNode.containerInfo.firstChild),Mo=t,o=Ko=!0),o){if(null!=(e=a.mutableSourceEagerHydrationData))for(a=0;a<e.length;a+=2)(o=e[a])._workInProgressVersionPrimary=e[a+1],Jo.push(o);for(n=Co(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ai(e,t,r,n),zo();t=t.child}return t;case 5:return jo(t),null===e&&Fo(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,Hr(r,a)?s=null:null!==o&&Hr(r,o)&&(t.flags|=16),Ui(e,t),Ai(e,t,s,n),t.child;case 6:return null===e&&Fo(t),null;case 13:return $i(e,t,n);case 4:return To(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ko(t,null,r,n):Ai(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Li(e,t,r,a=t.elementType===r?a:qa(r,a),n);case 7:return Ai(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ai(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value;var c=t.type._context;if(sa($a,c._currentValue),c._currentValue=o,null!==s)if(c=s.value,0==(o=ir(c,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(c,o):1073741823))){if(s.children===a.children&&!ua.current){t=Zi(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var l=c.dependencies;if(null!==l){s=c.child;for(var u=l.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&o)){1===c.tag&&((u=io(-1,n&-n)).tag=2,so(c,u)),c.lanes|=n,null!==(u=c.alternate)&&(u.lanes|=n),eo(c.return,n),l.lanes|=n;break}u=u.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}Ai(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=(o=t.pendingProps).children,to(t,n),r=r(a=no(a,o.unstable_observedBits)),t.flags|=1,Ai(e,t,r,n),t.child;case 14:return o=qa(a=t.type,t.pendingProps),Mi(e,t,a,o=qa(a.type,o),r,n);case 15:return Ii(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:qa(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pa(r)?(e=!0,ga(t)):e=!1,to(t,n),yo(t,r,a),bo(t,r,a,n),Wi(null,t,r,!0,e,n);case 19:return Yi(e,t,n);case 23:case 24:return Ki(e,t,n)}throw Error(i(156,t.tag))},Yc.prototype.render=function(e){$c(e,this._internalRoot,null,null)},Yc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;$c(null,e,null,(function(){t[Qr]=null}))},et=function(e){13===e.tag&&(cc(e,4,ic()),Xc(e,4))},tt=function(e){13===e.tag&&(cc(e,67108864,ic()),Xc(e,67108864))},nt=function(e){if(13===e.tag){var t=ic(),n=sc(e);cc(e,n,t),Xc(e,n)}},rt=function(e,t){return t()},Oe=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ta(r);if(!a)throw Error(i(90));X(r),ne(r,a)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&ie(e,!!n.multiple,t,!1)}},je=hc,De=function(e,t,n,r,a){var o=Os;Os|=4;try{return Wa(98,e.bind(null,t,n,r,a))}finally{0===(Os=o)&&(Fs(),za())}},Ae=function(){0==(49&Os)&&(function(){if(null!==Ys){var e=Ys;Ys=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,uc(e,Ua())}))}za()}(),_c())},Le=function(e,t){var n=Os;Os|=2;try{return e(t)}finally{0===(Os=n)&&(Fs(),za())}};var nl={Events:[Zr,ea,ta,Te,Re,_c,{current:!1}]},rl={findFiberByHostInstance:Yr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},al={bundleType:rl.bundleType,version:rl.version,rendererPackageName:rl.rendererPackageName,rendererConfig:rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:rl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ol.isDisabled&&ol.supportsFiber)try{va=ol.inject(al),wa=ol}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nl,t.createPortal=tl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw Error(i(268,Object.keys(e)))}return null===(e=Ye(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Os;if(0!=(48&n))return e(t);Os|=1;try{if(e)return Wa(99,e.bind(null,t))}finally{Os=n,za()}},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(i(200));return el(null,e,t,!0,n)},t.render=function(e,t,n){if(!Zc(t))throw Error(i(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(i(40));return!!e._reactRootContainer&&(mc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[Qr]=null}))})),!0)},t.unstable_batchedUpdates=hc,t.unstable_createPortal=function(e,t){return tl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return el(e,t,n,!1,r)},t.version="17.0.2"},935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(448)},408:(e,t,n)=>{"use strict";var r=n(418),a=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var i=60109,s=60110,c=60112;t.Suspense=60113;var l=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var f=Symbol.for;a=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),i=f("react.provider"),s=f("react.context"),c=f("react.forward_ref"),t.Suspense=f("react.suspense"),l=f("react.memo"),u=f("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var v=b.prototype=new g;v.constructor=b,r(v,y.prototype),v.isPureReactComponent=!0;var w={current:null},E=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,o={},i=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)E.call(t,r)&&!S.hasOwnProperty(r)&&(o[r]=t[r]);var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===o[r]&&(o[r]=c[r]);return{$$typeof:a,type:e,key:i,ref:s,props:o,_owner:w.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var P=/\/+/g;function O(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case a:case o:c=!0}}if(c)return i=i(c=e),e=""===r?"."+O(c,0):r,Array.isArray(i)?(n="",null!=e&&(n=e.replace(P,"$&/")+"/"),N(i,t,n,"",(function(e){return e}))):null!=i&&(C(i)&&(i=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(P,"$&/")+"/")+e)),t.push(i)),1;if(c=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var u=r+O(s=e[l],l);c+=N(s,t,n,u,i)}else if("function"==typeof(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e)))for(e=u.call(e),l=0;!(s=e.next()).done;)c+=N(s=s.value,t,n,u=r+O(s,l++),i);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return c}function x(e,t,n){if(null==e)return e;var r=[],a=0;return N(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function _(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var T={current:null};function R(){var e=T.current;if(null===e)throw Error(p(321));return e}var j={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:x,forEach:function(e,t,n){x(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return x(e,(function(){t++})),t},toArray:function(e){return x(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error(p(143));return e}},t.Component=y,t.PureComponent=b,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.cloneElement=function(e,t,n){if(null==e)throw Error(p(267,e));var o=r({},e.props),i=e.key,s=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,c=w.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)E.call(t,u)&&!S.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){l=Array(u);for(var f=0;f<u;f++)l[f]=arguments[f+2];o.children=l}return{$$typeof:a,type:e.type,key:i,ref:s,props:o,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:_}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},294:(e,t,n)=>{"use strict";e.exports=n(408)},53:(e,t)=>{"use strict";var n,r,a,o;if("object"==typeof performance&&"function"==typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,f=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(f,0),e}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(f,0))},r=function(e,t){u=setTimeout(e,t)},a=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var h=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,y=null,g=-1,b=5,v=0;t.unstable_shouldYield=function(){return t.unstable_now()>=v},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,E=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();v=e+b;try{y(!0,e)?E.postMessage(null):(m=!1,y=null)}catch(e){throw E.postMessage(null),e}}else m=!1},n=function(e){y=e,m||(m=!0,E.postMessage(null))},r=function(e,n){g=d((function(){e(t.unstable_now())}),n)},a=function(){p(g),g=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,a=e[r];if(!(void 0!==a&&0<P(a,t)))break e;e[r]=t,e[n]=a,n=r}}function k(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length;r<a;){var o=2*(r+1)-1,i=e[o],s=o+1,c=e[s];if(void 0!==i&&0>P(i,n))void 0!==c&&0>P(c,i)?(e[r]=c,e[s]=n,r=s):(e[r]=i,e[o]=n,r=o);else{if(!(void 0!==c&&0>P(c,n)))break e;e[r]=c,e[s]=n,r=s}}}return t}return null}function P(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var O=[],N=[],x=1,_=null,T=3,R=!1,j=!1,D=!1;function A(e){for(var t=k(N);null!==t;){if(null===t.callback)C(N);else{if(!(t.startTime<=e))break;C(N),t.sortIndex=t.expirationTime,S(O,t)}t=k(N)}}function L(e){if(D=!1,A(e),!j)if(null!==k(O))j=!0,n(M);else{var t=k(N);null!==t&&r(L,t.startTime-e)}}function M(e,n){j=!1,D&&(D=!1,a()),R=!0;var o=T;try{for(A(n),_=k(O);null!==_&&(!(_.expirationTime>n)||e&&!t.unstable_shouldYield());){var i=_.callback;if("function"==typeof i){_.callback=null,T=_.priorityLevel;var s=i(_.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?_.callback=s:_===k(O)&&C(O),A(n)}else C(O);_=k(O)}if(null!==_)var c=!0;else{var l=k(N);null!==l&&r(L,l.startTime-n),c=!1}return c}finally{_=null,T=o,R=!1}}var I=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){j||R||(j=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return k(O)},t.unstable_next=function(e){switch(T){case 1:case 2:case 3:var t=3;break;default:t=T}var n=T;T=t;try{return e()}finally{T=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=I,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=T;T=e;try{return t()}finally{T=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?s+i:s,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:x++,callback:o,priorityLevel:e,startTime:i,expirationTime:c=i+c,sortIndex:-1},i>s?(e.sortIndex=i,S(N,e),null===k(O)&&e===k(N)&&(D?a():D=!0,r(L,i-s))):(e.sortIndex=c,S(O,e),j||R||(j=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=T;return function(){var n=T;T=t;try{return e.apply(this,arguments)}finally{T=n}}}},840:(e,t,n)=>{"use strict";e.exports=n(53)},154:(e,t,n)=>{var r;if("function"==typeof fetch&&(void 0!==n.g&&n.g.fetch?r=n.g.fetch:"undefined"!=typeof window&&window.fetch&&(r=window.fetch)),"undefined"==typeof window||void 0===window.document){var a=r||n(98);a.default&&(a=a.default),t.default=a,e.exports=t.default}}},o={};function i(e){var t=o[e];if(void 0!==t){if(void 0!==t.error)throw t.error;return t.exports}var n=o[e]={exports:{}};try{var r={id:e,module:n,factory:a[e],require:i};i.i.forEach((function(e){e(r)})),n=r.module,r.factory.call(n.exports,n,n.exports,r.require)}catch(e){throw n.error=e,e}return n.exports}i.m=a,i.c=o,i.i=[],t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var a=Object.create(null);i.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,i.d(a,o),a},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.hu=e=>e+"."+i.h()+".hot-update.js",i.hmrF=()=>"main."+i.h()+".hot-update.json",i.h=()=>"aceee4bfddbbada5b873",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},r="hutch:",i.l=(e,t,a,o)=>{if(n[e])n[e].push(t);else{var s,c;if(void 0!==a)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var f=l[u];if(f.getAttribute("src")==e||f.getAttribute("data-webpack")==r+a){s=f;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",r+a),s.src=e),n[e]=[t];var d=(t,r)=>{s.onerror=s.onload=null,clearTimeout(p);var a=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((e=>e(r))),t)return t(r)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),c&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e,t,n,r,a={},o=i.c,s=[],c=[],l="idle";function u(e){l=e;for(var t=[],n=0;n<c.length;n++)t[n]=c[n].call(null,e);return Promise.all(t)}function f(e){if(0===t.length)return e();var n=t;return t=[],Promise.all(n).then((function(){return f(e)}))}function d(e){if("idle"!==l)throw new Error("check() is only allowed in idle status");return u("check").then(i.hmrM).then((function(r){return r?u("prepare").then((function(){var a=[];return t=[],n=[],Promise.all(Object.keys(i.hmrC).reduce((function(e,t){return i.hmrC[t](r.c,r.r,r.m,e,n,a),e}),[])).then((function(){return f((function(){return e?h(e):u("ready").then((function(){return a}))}))}))})):u(m()?"ready":"idle").then((function(){return null}))}))}function p(e){return"ready"!==l?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status")})):h(e)}function h(e){e=e||{},m();var t=n.map((function(t){return t(e)}));n=void 0;var a=t.map((function(e){return e.error})).filter(Boolean);if(a.length>0)return u("abort").then((function(){throw a[0]}));var o=u("dispose");t.forEach((function(e){e.dispose&&e.dispose()}));var i,s=u("apply"),c=function(e){i||(i=e)},l=[];return t.forEach((function(e){if(e.apply){var t=e.apply(c);if(t)for(var n=0;n<t.length;n++)l.push(t[n])}})),Promise.all([o,s]).then((function(){return i?u("fail").then((function(){throw i})):r?h(e).then((function(e){return l.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e})):u("idle").then((function(){return l}))}))}function m(){if(r)return n||(n=[]),Object.keys(i.hmrI).forEach((function(e){r.forEach((function(t){i.hmrI[e](t,n)}))})),r=void 0,!0}i.hmrD=a,i.i.push((function(h){var m,y,g,b,v=h.module,w=function(n,r){var a=o[r];if(!a)return n;var i=function(t){if(a.hot.active){if(o[t]){var i=o[t].parents;-1===i.indexOf(r)&&i.push(r)}else s=[r],e=t;-1===a.children.indexOf(t)&&a.children.push(t)}else console.warn("[HMR] unexpected require("+t+") from disposed module "+r),s=[];return n(t)},c=function(e){return{configurable:!0,enumerable:!0,get:function(){return n[e]},set:function(t){n[e]=t}}};for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&"e"!==d&&Object.defineProperty(i,d,c(d));return i.e=function(e){return function(e){switch(l){case"ready":return u("prepare"),t.push(e),f((function(){return u("ready")})),e;case"prepare":return t.push(e),e;default:return e}}(n.e(e))},i}(h.require,h.id);v.hot=(m=h.id,y=v,b={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:g=e!==m,_requireSelf:function(){s=y.parents.slice(),e=g?void 0:m,i(m)},active:!0,accept:function(e,t,n){if(void 0===e)b._selfAccepted=!0;else if("function"==typeof e)b._selfAccepted=e;else if("object"==typeof e&&null!==e)for(var r=0;r<e.length;r++)b._acceptedDependencies[e[r]]=t||function(){},b._acceptedErrorHandlers[e[r]]=n;else b._acceptedDependencies[e]=t||function(){},b._acceptedErrorHandlers[e]=n},decline:function(e){if(void 0===e)b._selfDeclined=!0;else if("object"==typeof e&&null!==e)for(var t=0;t<e.length;t++)b._declinedDependencies[e[t]]=!0;else b._declinedDependencies[e]=!0},dispose:function(e){b._disposeHandlers.push(e)},addDisposeHandler:function(e){b._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=b._disposeHandlers.indexOf(e);t>=0&&b._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,l){case"idle":n=[],Object.keys(i.hmrI).forEach((function(e){i.hmrI[e](m,n)})),u("ready");break;case"ready":Object.keys(i.hmrI).forEach((function(e){i.hmrI[e](m,n)}));break;case"prepare":case"check":case"dispose":case"apply":(r=r||[]).push(m)}},check:d,apply:p,status:function(e){if(!e)return l;c.push(e)},addStatusHandler:function(e){c.push(e)},removeStatusHandler:function(e){var t=c.indexOf(e);t>=0&&c.splice(t,1)},data:a[m]},e=void 0,b),v.parents=s,v.children=[],s=[],h.require=w})),i.hmrC={},i.hmrI={}})(),(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e,t,n,r,a=i.hmrS_jsonp=i.hmrS_jsonp||{179:0},o={};function s(e){return new Promise(((t,n)=>{o[e]=t;var r=i.p+i.hu(e),a=new Error;i.l(r,(t=>{if(o[e]){o[e]=void 0;var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;a.message="Loading hot update chunk "+e+" failed.\n("+r+": "+i+")",a.name="ChunkLoadError",a.type=r,a.request=i,n(a)}}))}))}function c(o){function s(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var a=r.pop(),o=a.id,s=a.chain,l=i.c[o];if(l&&(!l.hot._selfAccepted||l.hot._selfInvalidated)){if(l.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:o};if(l.hot._main)return{type:"unaccepted",chain:s,moduleId:o};for(var u=0;u<l.parents.length;u++){var f=l.parents[u],d=i.c[f];if(d){if(d.hot._declinedDependencies[o])return{type:"declined",chain:s.concat([f]),moduleId:o,parentId:f};-1===t.indexOf(f)&&(d.hot._acceptedDependencies[o]?(n[f]||(n[f]=[]),c(n[f],[o])):(delete n[f],t.push(f),r.push({chain:s.concat([f]),id:f})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}i.f&&delete i.f.jsonpHmr,e=void 0;var l={},u=[],f={},d=function(e){console.warn("[HMR] unexpected require("+e.id+") to disposed module")};for(var p in t)if(i.o(t,p)){var h,m=t[p],y=!1,g=!1,b=!1,v="";switch((h=m?s(p):{type:"disposed",moduleId:p}).chain&&(v="\nUpdate propagation: "+h.chain.join(" -> ")),h.type){case"self-declined":o.onDeclined&&o.onDeclined(h),o.ignoreDeclined||(y=new Error("Aborted because of self decline: "+h.moduleId+v));break;case"declined":o.onDeclined&&o.onDeclined(h),o.ignoreDeclined||(y=new Error("Aborted because of declined dependency: "+h.moduleId+" in "+h.parentId+v));break;case"unaccepted":o.onUnaccepted&&o.onUnaccepted(h),o.ignoreUnaccepted||(y=new Error("Aborted because "+p+" is not accepted"+v));break;case"accepted":o.onAccepted&&o.onAccepted(h),g=!0;break;case"disposed":o.onDisposed&&o.onDisposed(h),b=!0;break;default:throw new Error("Unexception type "+h.type)}if(y)return{error:y};if(g)for(p in f[p]=m,c(u,h.outdatedModules),h.outdatedDependencies)i.o(h.outdatedDependencies,p)&&(l[p]||(l[p]=[]),c(l[p],h.outdatedDependencies[p]));b&&(c(u,[h.moduleId]),f[p]=d)}t=void 0;for(var w,E=[],S=0;S<u.length;S++){var k=u[S],C=i.c[k];C&&(C.hot._selfAccepted||C.hot._main)&&f[k]!==d&&!C.hot._selfInvalidated&&E.push({module:k,require:C.hot._requireSelf,errorHandler:C.hot._selfAccepted})}return{dispose:function(){var e;n.forEach((function(e){delete a[e]})),n=void 0;for(var t,r=u.slice();r.length>0;){var o=r.pop(),s=i.c[o];if(s){var c={},f=s.hot._disposeHandlers;for(S=0;S<f.length;S++)f[S].call(null,c);for(i.hmrD[o]=c,s.hot.active=!1,delete i.c[o],delete l[o],S=0;S<s.children.length;S++){var d=i.c[s.children[S]];d&&(e=d.parents.indexOf(o))>=0&&d.parents.splice(e,1)}}}for(var p in l)if(i.o(l,p)&&(s=i.c[p]))for(w=l[p],S=0;S<w.length;S++)t=w[S],(e=s.children.indexOf(t))>=0&&s.children.splice(e,1)},apply:function(e){for(var t in f)i.o(f,t)&&(i.m[t]=f[t]);for(var n=0;n<r.length;n++)r[n](i);for(var a in l)if(i.o(l,a)){var s=i.c[a];if(s){w=l[a];for(var c=[],d=[],p=[],h=0;h<w.length;h++){var m=w[h],y=s.hot._acceptedDependencies[m],g=s.hot._acceptedErrorHandlers[m];if(y){if(-1!==c.indexOf(y))continue;c.push(y),d.push(g),p.push(m)}}for(var b=0;b<c.length;b++)try{c[b].call(null,w)}catch(t){if("function"==typeof d[b])try{d[b](t,{moduleId:a,dependencyId:p[b]})}catch(n){o.onErrored&&o.onErrored({type:"accept-error-handler-errored",moduleId:a,dependencyId:p[b],error:n,originalError:t}),o.ignoreErrored||(e(n),e(t))}else o.onErrored&&o.onErrored({type:"accept-errored",moduleId:a,dependencyId:p[b],error:t}),o.ignoreErrored||e(t)}}}for(var v=0;v<E.length;v++){var S=E[v],k=S.module;try{S.require(k)}catch(t){if("function"==typeof S.errorHandler)try{S.errorHandler(t,{moduleId:k,module:i.c[k]})}catch(n){o.onErrored&&o.onErrored({type:"self-accept-error-handler-errored",moduleId:k,error:n,originalError:t}),o.ignoreErrored||(e(n),e(t))}else o.onErrored&&o.onErrored({type:"self-accept-errored",moduleId:k,error:t}),o.ignoreErrored||e(t)}}return u}}}self.webpackHotUpdatehutch=(e,n,a)=>{for(var s in n)i.o(n,s)&&(t[s]=n[s]);a&&r.push(a),o[e]&&(o[e](),o[e]=void 0)},i.hmrI.jsonp=function(e,a){t||(t={},r=[],n=[],a.push(c)),i.o(t,e)||(t[e]=i.m[e])},i.hmrC.jsonp=function(o,l,u,f,d,p){d.push(c),e={},n=l,t=u.reduce((function(e,t){return e[t]=!1,e}),{}),r=[],o.forEach((function(t){i.o(a,t)&&void 0!==a[t]&&(f.push(s(t)),e[t]=!0)})),i.f&&(i.f.jsonpHmr=function(t,n){e&&!i.o(e,t)&&i.o(a,t)&&void 0!==a[t]&&(n.push(s(t)),e[t]=!0)})},i.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(i.p+i.hmrF()).then((e=>{if(404!==e.status){if(!e.ok)throw new Error("Failed to fetch update manifest "+e.statusText);return e.json()}}))}})(),i(902)})();