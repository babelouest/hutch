/*! For license information please see hutch.js.LICENSE.txt */
(()=>{var e,t,n,a,r={720:(e,t,n)=>{"use strict";var a=n(294),r=n(935);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function d(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},v=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.init(t,n)}return c(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||b,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,a){return a&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,g(g({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}}]),e}()),w=function(){function e(){i(this,e),this.observers={}}return c(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(this.observers[e]){var r=[].concat(this.observers[e]);r.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function S(){var e,t,n=new Promise((function(n,a){e=n,t=a}));return n.resolve=e,n.reject=t,n}function E(e){return null==e?"":""+e}function k(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function C(e,t,n){function a(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function r(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(r())return{};var i=a(o.shift());!e[i]&&n&&(e[i]=new n),e=Object.prototype.hasOwnProperty.call(e,i)?e[i]:{}}return r()?{}:{obj:e,k:a(o.shift())}}function P(e,t,n){var a=C(e,t,Object);a.obj[a.k]=n}function O(e,t){var n=C(e,t),a=n.obj,r=n.k;if(a)return a[r]}function N(e,t,n){var a=O(e,n);return void 0!==a?a:O(t,n)}function x(e,t,n){for(var a in t)"__proto__"!==a&&"constructor"!==a&&(a in e?"string"==typeof e[a]||e[a]instanceof String||"string"==typeof t[a]||t[a]instanceof String?n&&(e[a]=t[a]):x(e[a],t[a],n):e[a]=t[a]);return e}function _(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var T={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function R(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return T[e]})):e}var j="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,A=[" ",",","?","!",";"];function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var a=t.split(n),r=e,o=0;o<a.length;++o){if(!r)return;if("string"==typeof r[a[o]]&&o+1<a.length)return;if(void 0===r[a[o]]){for(var i=2,s=a.slice(o,o+i).join(n),c=r[s];void 0===c&&a.length>o+i;)i++,c=r[s=a.slice(o,o+i).join(n)];if(void 0===c)return;if(null===c)return null;if(t.endsWith(s)){if("string"==typeof c)return c;if(s&&"string"==typeof c[s])return c[s]}var l=a.slice(o+i).join(n);return l?L(c,l,n):void 0}r=r[a[o]]}return r}}var I=function(e){f(r,e);var t,n,a=(t=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=p(t);if(n){var r=p(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return d(this,e)});function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return i(this,r),t=a.call(this),j&&w.call(l(t)),t.data=e||{},t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),void 0===t.options.ignoreJSONStructure&&(t.options.ignoreJSONStructure=!0),t}return c(r,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0!==a.keySeparator?a.keySeparator:this.options.keySeparator,o=void 0!==a.ignoreJSONStructure?a.ignoreJSONStructure:this.options.ignoreJSONStructure,i=[e,t];n&&"string"!=typeof n&&(i=i.concat(n)),n&&"string"==typeof n&&(i=i.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(i=e.split("."));var s=O(this.data,i);return s||!o||"string"!=typeof n?s:L(this.data&&this.data[e]&&this.data[e][t],n,r)}},{key:"addResource",value:function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var i=[e,t];n&&(i=i.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=t,t=(i=e.split("."))[1]),this.addNamespaces(t),P(this.data,i,a),r.silent||this.emit("added",e,t,n,a)}},{key:"addResources",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in n)"string"!=typeof n[r]&&"[object Array]"!==Object.prototype.toString.apply(n[r])||this.addResource(e,t,r,n[r],{silent:!0});a.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,a,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},i=[e,t];e.indexOf(".")>-1&&(a=n,n=t,t=(i=e.split("."))[1]),this.addNamespaces(t);var s=O(this.data,i)||{};a?x(s,n,r):s=M(M({},s),n),P(this.data,i,s),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?M(M({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),r}(w),K={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,a,r){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,a,r))})),t}};function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H={},W=function(e){f(r,e);var t,n,a=(t=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=p(t);if(n){var r=p(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return d(this,e)});function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(this,r),t=a.call(this),j&&w.call(l(t)),k(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,l(t)),t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),t.logger=v.create("translator"),t}return c(r,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,r=t.ns||this.options.defaultNS||[],o=n&&e.indexOf(n)>-1,i=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var a=A.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===a.length)return!0;var r=new RegExp("(".concat(a.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),o=!r.test(e);if(!o){var i=e.indexOf(n);i>0&&!r.test(e.substring(0,i))&&(o=!0)}return o}(e,n,a));if(o&&!i){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:r};var c=e.split(n);(n!==a||n===a&&this.options.ns.indexOf(c[0])>-1)&&(r=c.shift()),e=c.join(a)}return"string"==typeof r&&(r=[r]),{key:e,namespaces:r}}},{key:"translate",value:function(e,t,n){var a=this;if("object"!==o(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var i=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,s=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,c=this.extractFromKey(e[e.length-1],t),l=c.key,u=c.namespaces,f=u[u.length-1],d=t.lng||this.language,p=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&"cimode"===d.toLowerCase()){if(p){var m=t.nsSeparator||this.options.nsSeparator;return i?(h.res="".concat(f).concat(m).concat(l),h):"".concat(f).concat(m).concat(l)}return i?(h.res=l,h):l}var h=this.resolve(e,t),y=h&&h.res,g=h&&h.usedKey||l,b=h&&h.exactUsedKey||l,v=Object.prototype.toString.apply(y),w=["[object Number]","[object Function]","[object RegExp]"],S=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,E=!this.i18nFormat||this.i18nFormat.handleAsObject,k="string"!=typeof y&&"boolean"!=typeof y&&"number"!=typeof y;if(E&&y&&k&&w.indexOf(v)<0&&("string"!=typeof S||"[object Array]"!==v)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,y,F(F({},t),{},{ns:u})):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");return i?(h.res=C,h):C}if(s){var P="[object Array]"===v,O=P?[]:{},N=P?b:g;for(var x in y)if(Object.prototype.hasOwnProperty.call(y,x)){var _="".concat(N).concat(s).concat(x);O[x]=this.translate(_,F(F({},t),{joinArrays:!1,ns:u})),O[x]===_&&(O[x]=y[x])}y=O}}else if(E&&"string"==typeof S&&"[object Array]"===v)(y=y.join(S))&&(y=this.extendTranslation(y,e,t,n));else{var T=!1,R=!1,j=void 0!==t.count&&"string"!=typeof t.count,A=r.hasDefaultValue(t),D=j?this.pluralResolver.getSuffix(d,t.count,t):"",M=t["defaultValue".concat(D)]||t.defaultValue;!this.isValidLookup(y)&&A&&(T=!0,y=M),this.isValidLookup(y)||(R=!0,y=l);var L=t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,I=L&&R?void 0:y,K=A&&M!==y&&this.options.updateMissing;if(R||T||K){if(this.logger.log(K?"updateKey":"missingKey",d,f,l,K?M:y),s){var U=this.resolve(l,F(F({},t),{},{keySeparator:!1}));U&&U.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var H=[],W=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&W&&W[0])for(var B=0;B<W.length;B++)H.push(W[B]);else"all"===this.options.saveMissingTo?H=this.languageUtils.toResolveHierarchy(t.lng||this.language):H.push(t.lng||this.language);var J=function(e,n,r){var o=A&&r!==y?r:I;a.options.missingKeyHandler?a.options.missingKeyHandler(e,f,n,o,K,t):a.backendConnector&&a.backendConnector.saveMissing&&a.backendConnector.saveMissing(e,f,n,o,K,t),a.emit("missingKey",e,f,n,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&j?H.forEach((function(e){a.pluralResolver.getSuffixes(e,t).forEach((function(n){J([e],l+n,t["defaultValue".concat(n)]||M)}))})):J(H,l,M))}y=this.extendTranslation(y,e,t,h,n),R&&y===l&&this.options.appendNamespaceToMissingKey&&(y="".concat(f,":").concat(l)),(R||T)&&this.options.parseMissingKeyHandler&&(y="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(f,":").concat(l):l,T?y:void 0):this.options.parseMissingKeyHandler(y))}return i?(h.res=y,h):y}},{key:"extendTranslation",value:function(e,t,n,a,r){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,F(F({},this.options.interpolation.defaultVariables),n),a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(F(F({},n),{interpolation:F(F({},this.options.interpolation),n.interpolation)}));var i,s="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var c=e.match(this.interpolator.nestingRegexp);i=c&&c.length}var l=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l=F(F({},this.options.interpolation.defaultVariables),l)),e=this.interpolator.interpolate(e,l,n.lng||this.language,n),s){var u=e.match(this.interpolator.nestingRegexp);i<(u&&u.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return r&&r[0]===a[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(a[0]," in key: ").concat(t[0])),null):o.translate.apply(o,a.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var f=n.postProcess||this.options.postProcess,d="string"==typeof f?[f]:f;return null!=e&&d&&d.length&&!1!==n.applyPostProcessor&&(e=K.handle(d,e,t,this.options&&this.options.postProcessPassResolved?F({i18nResolved:a},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,a,r,o,i=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!i.isValidLookup(t)){var c=i.extractFromKey(e,s),l=c.key;n=l;var u=c.namespaces;i.options.fallbackNS&&(u=u.concat(i.options.fallbackNS));var f=void 0!==s.count&&"string"!=typeof s.count,d=f&&!s.ordinal&&0===s.count&&i.pluralResolver.shouldUseIntlApi(),p=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,m=s.lngs?s.lngs:i.languageUtils.toResolveHierarchy(s.lng||i.language,s.fallbackLng);u.forEach((function(e){i.isValidLookup(t)||(o=e,!H["".concat(m[0],"-").concat(e)]&&i.utils&&i.utils.hasLoadedNamespace&&!i.utils.hasLoadedNamespace(o)&&(H["".concat(m[0],"-").concat(e)]=!0,i.logger.warn('key "'.concat(n,'" for languages "').concat(m.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach((function(n){if(!i.isValidLookup(t)){r=n;var o,c=[l];if(i.i18nFormat&&i.i18nFormat.addLookupKeys)i.i18nFormat.addLookupKeys(c,l,n,e,s);else{var u;f&&(u=i.pluralResolver.getSuffix(n,s.count,s));var m="".concat(i.options.pluralSeparator,"zero");if(f&&(c.push(l+u),d&&c.push(l+m)),p){var h="".concat(l).concat(i.options.contextSeparator).concat(s.context);c.push(h),f&&(c.push(h+u),d&&c.push(h+m))}}for(;o=c.pop();)i.isValidLookup(t)||(a=o,t=i.getResource(n,e,o,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:a,usedLng:r,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,a):this.resourceStore.getResource(e,t,n,a)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),r}(w);function B(e){return e.charAt(0).toUpperCase()+e.slice(1)}var J=function(){function e(t){i(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=v.create("languageUtils")}return c(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=B(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=B(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=B(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var a=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(a)||(t=a)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var a=n.getLanguagePartFromCode(e);if(n.isSupportedCode(a))return t=a;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(a))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,a=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],o=function(e){e&&(n.isSupportedCode(e)?r.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),a.forEach((function(e){r.indexOf(e)<0&&o(n.formatLanguageCode(e))})),r}}]),e}(),z=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],V={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},q=["v1","v2","v3"],G={zero:0,one:1,two:2,few:3,many:4,other:5};function Q(){var e={};return z.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:V[t.fc]}}))})),e}var X=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.languageUtils=t,this.options=n,this.logger=v.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Q()}return c(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this.getRule(e,n);return a?this.shouldUseIntlApi()?a.resolvedOptions().pluralCategories.sort((function(e,t){return G[e]-G[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):a.numbers.map((function(a){return t.getSuffix(e,a,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=this.getRule(e,n);return a?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(a.select(t)):this.getSuffixRetroCompatible(a,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,a=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),r=e.numbers[a];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===r?r="plural":1===r&&(r=""));var o=function(){return n.options.prepend&&r.toString()?n.options.prepend+r.toString():r.toString()};return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?"_plural_".concat(r.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}},{key:"shouldUseIntlApi",value:function(){return!q.includes(this.options.compatibilityJSON)}}]),e}();function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.logger=v.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return c(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:R,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?_(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?_(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?_(t.nestingPrefix):t.nestingPrefixEscaped||_("$t("),this.nestingSuffix=t.nestingSuffix?_(t.nestingSuffix):t.nestingSuffixEscaped||_(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,a){var r,o,i,s=this,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(e){return e.replace(/\$/g,"$$$$")}var u=function(e){if(e.indexOf(s.formatSeparator)<0){var r=N(t,c,e);return s.alwaysFormat?s.format(r,void 0,n,Z(Z(Z({},a),t),{},{interpolationkey:e})):r}var o=e.split(s.formatSeparator),i=o.shift().trim(),l=o.join(s.formatSeparator).trim();return s.format(N(t,c,i),l,n,Z(Z(Z({},a),t),{},{interpolationkey:i}))};this.resetRegExp();var f=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,d=a&&a.interpolation&&void 0!==a.interpolation.skipOnVariables?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return l(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?l(s.escape(e)):l(e)}}].forEach((function(t){for(i=0;r=t.regex.exec(e);){var n=r[1].trim();if(void 0===(o=u(n)))if("function"==typeof f){var c=f(e,r,a);o="string"==typeof c?c:""}else if(a&&a.hasOwnProperty(n))o="";else{if(d){o=r[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),o=""}else"string"==typeof o||s.useRawValueToEscape||(o=E(o));var l=t.safeValue(o);if(e=e.replace(r[0],l),d?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=r[0].length):t.regex.lastIndex=0,++i>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,a,r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Z({},o);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var a=e.split(new RegExp("".concat(n,"[ ]*{"))),r="{".concat(a[1]);e=a[0];var o=(r=this.interpolate(r,i)).match(/'/g),s=r.match(/"/g);(o&&o.length%2==0&&!s||s.length%2!=0)&&(r=r.replace(/'/g,'"'));try{i=JSON.parse(r),t&&(i=Z(Z({},t),i))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(r)}return delete i.defaultValue,e}for(i.applyPostProcessor=!1,delete i.defaultValue;n=this.nestingRegexp.exec(e);){var c=[],l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var u=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=u.shift(),c=u,l=!0}if((a=t(s.call(this,n[1].trim(),i),i))&&n[0]===e&&"string"!=typeof a)return a;"string"!=typeof a&&(a=E(a)),a||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),a=""),l&&(a=c.reduce((function(e,t){return r.format(e,t,o.lng,Z(Z({},o),{},{interpolationkey:n[1].trim()}))}),a.trim())),e=e.replace(n[0],a),this.regexp.lastIndex=0}return e}}]),e}();function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.logger=v.create("formatter"),this.options=t,this.formats={number:function(e,t,n){return new Intl.NumberFormat(t,n).format(e)},currency:function(e,t,n){return new Intl.NumberFormat(t,ne(ne({},n),{},{style:"currency"})).format(e)},datetime:function(e,t,n){return new Intl.DateTimeFormat(t,ne({},n)).format(e)},relativetime:function(e,t,n){return new Intl.RelativeTimeFormat(t,ne({},n)).format(e,n.range||"day")},list:function(e,t,n){return new Intl.ListFormat(t,ne({},n)).format(e)}},this.init(t)}return c(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=t.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"format",value:function(e,t,n,a){var r=this;return t.split(this.formatSeparator).reduce((function(e,t){var o=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var a=e.split("(");t=a[0].toLowerCase().trim();var r=a[1].substring(0,a[1].length-1);"currency"===t&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):"relativetime"===t&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach((function(e){if(e){var t=function(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split(":")),a=t[0],r=t.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[a.trim()]||(n[a.trim()]=r),"false"===r&&(n[a.trim()]=!1),"true"===r&&(n[a.trim()]=!0),isNaN(r)||(n[a.trim()]=parseInt(r,10))}}))}return{formatName:t,formatOptions:n}}(t),i=o.formatName,s=o.formatOptions;if(r.formats[i]){var c=e;try{var l=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},u=l.locale||l.lng||a.locale||a.lng||n;c=r.formats[i](e,u,ne(ne(ne({},s),a),l))}catch(e){r.logger.warn(e)}return c}return r.logger.warn("there was no format function for ".concat(i)),e}),e)}}]),e}();function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie=function(e){f(r,e);var t,n,a=(t=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=p(t);if(n){var r=p(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return d(this,e)});function r(e,t,n){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i(this,r),o=a.call(this),j&&w.call(l(o)),o.backend=e,o.store=t,o.services=n,o.languageUtils=n.languageUtils,o.options=s,o.logger=v.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=s.maxParallelReads||10,o.readingCalls=0,o.maxRetries=s.maxRetries>=0?s.maxRetries:5,o.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(n,s.backend,s),o}return c(r,[{key:"queueLoad",value:function(e,t,n,a){var r=this,o={},i={},s={},c={};return e.forEach((function(e){var a=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&r.store.hasResourceBundle(e,t)?r.state[s]=2:r.state[s]<0||(1===r.state[s]?void 0===i[s]&&(i[s]=!0):(r.state[s]=1,a=!1,void 0===i[s]&&(i[s]=!0),void 0===o[s]&&(o[s]=!0),void 0===c[t]&&(c[t]=!0)))})),a||(s[e]=!0)})),(Object.keys(o).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(o),pending:Object.keys(i),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(c)}}},{key:"loaded",value:function(e,t,n){var a=e.split("|"),r=a[0],o=a[1];t&&this.emit("failedLoading",r,o,t),n&&this.store.addResourceBundle(r,o,n),this.state[e]=t?-1:2;var i={};this.queue.forEach((function(n){!function(e,t,n,a){var r=C(e,t,Object),o=r.obj,i=r.k;o[i]=o[i]||[],o[i].push(n)}(n.loaded,[r],o),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){i[e]||(i[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===i[e][t]&&(i[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",i),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var a=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;return e.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:o,callback:i}):(this.readingCalls++,this.backend[n](e,t,(function(s,c){if(a.readingCalls--,a.waitingReads.length>0){var l=a.waitingReads.shift();a.read(l.lng,l.ns,l.fcName,l.tried,l.wait,l.callback)}s&&c&&r<a.maxRetries?setTimeout((function(){a.read.call(a,e,t,n,r+1,2*o,i)}),o):i(s,c)}))):i(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,a,r);if(!o.toLoad.length)return o.pending.length||r(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=e.split("|"),r=a[0],o=a[1];this.read(r,o,"read",void 0,void 0,(function(a,i){a&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(r," failed"),a),!a&&i&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(r),i),t.loaded(e,a,i)}))}},{key:"saveMissing",value:function(e,t,n,a,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,a,null,oe(oe({},o),{},{isUpdate:r})),e&&e[0]&&this.store.addResource(e[0],t,n,a))}}]),r}(w);function se(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===o(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===o(e[2])||"object"===o(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,a){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function ce(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(){}function de(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){"function"==typeof e[t]&&(e[t]=e[t].bind(e))}))}var pe=function(e){f(r,e);var t,n,a=(t=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=p(t);if(n){var r=p(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return d(this,e)});function r(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(i(this,r),e=a.call(this),j&&w.call(l(e)),e.options=ce(t),e.services={},e.logger=v,e.modules={external:[]},de(l(e)),n&&!e.isInitialized&&!t.isClone){if(!e.options.initImmediate)return e.init(t,n),d(e,l(e));setTimeout((function(){e.init(t,n)}),0)}return e}return c(r,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var a=se();function r(e){return e?"function"==typeof e?new e:e:null}if(this.options=ue(ue(ue({},a),this.options),ce(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=ue(ue({},a.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var o;this.modules.logger?v.init(r(this.modules.logger),this.options):v.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!=typeof Intl&&(o=ae);var i=new J(this.options);this.store=new I(this.options.resources,this.options);var s=this.services;s.logger=v,s.resourceStore=this.store,s.languageUtils=i,s.pluralResolver=new X(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==a.interpolation.format||(s.formatter=r(o),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new ee(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new ie(r(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];e.emit.apply(e,[t].concat(a))})),this.modules.languageDetector&&(s.languageDetector=r(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=r(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new W(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];e.emit.apply(e,[t].concat(a))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=fe),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&"dev"!==c[0]&&(this.options.lng=c[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var l=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];l.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var u=["addResource","addResources","addResourceBundle","removeResourceBundle"];u.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var f=S(),d=function(){var t=function(t,a){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),f.resolve(a),n(t,a)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),f}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fe,a=n,r="string"==typeof e?e:this.language;if("function"==typeof e&&(a=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return a();var o=[],i=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};if(r)i(r);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(e){return i(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return i(e)})),this.services.backendConnector.load(o,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),a(e)}))}else a(null)}},{key:"reloadResources",value:function(e,t,n){var a=S();return e||(e=this.languages),t||(t=this.options.ns),n||(n=fe),this.services.backendConnector.reload(e,t,(function(e){a.resolve(),n(e)})),a}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&K.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var a=S();this.emit("languageChanging",e);var r=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},o=function(o){e||o||!n.services.languageDetector||(o=[]);var i="string"==typeof o?o:n.services.languageUtils.getBestMatchFromCodes(o);i&&(n.language||r(i),n.translator.language||n.translator.changeLanguage(i),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(i)),n.loadResources(i,(function(e){!function(e,o){o?(r(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit("languageChanged",o),n.logger.log("languageChanged",o)):n.isLanguageChangingTo=void 0,a.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,i)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),a}},{key:"getFixedT",value:function(e,t,n){var a=this,r=function e(t,r){var i;if("object"!==o(r)){for(var s=arguments.length,c=new Array(s>2?s-2:0),l=2;l<s;l++)c[l-2]=arguments[l];i=a.options.overloadTranslationOptionHandler([t,r].concat(c))}else i=ue({},r);i.lng=i.lng||e.lng,i.lngs=i.lngs||e.lngs,i.ns=i.ns||e.ns,i.keyPrefix=i.keyPrefix||n||e.keyPrefix;var u=a.options.keySeparator||".",f=i.keyPrefix?"".concat(i.keyPrefix).concat(u).concat(t):t;return a.t(f,i)};return"string"==typeof e?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=n,r}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var a=this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===a.toLowerCase())return!0;var i=function(e,n){var a=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===a||2===a};if(n.precheck){var s=n.precheck(this,i);if(void 0!==s)return s}return!(!this.hasResourceBundle(a,e)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!i(a,e)||r&&!i(o,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,a=S();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){a.resolve(),t&&t(e)})),a):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=S();"string"==typeof e&&(e=[e]);var a=this.options.preload||[],r=e.filter((function(e){return a.indexOf(e)<0}));return r.length?(this.options.preload=a.concat(r),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){return e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fe,a=ue(ue(ue({},this.options),t),{isClone:!0}),o=new r(a);void 0===t.debug&&void 0===t.prefix||(o.logger=o.logger.clone(t));var i=["store","services","language"];return i.forEach((function(t){o[t]=e[t]})),o.services=ue({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new W(o.services,o.options),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];o.emit.apply(o,[e].concat(n))})),o.init(a,n),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(w);m(pe,"createInstance",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new pe(e,t)}));var me=pe.createInstance();me.createInstance=pe.createInstance,me.createInstance,me.init,me.loadResources,me.reloadResources,me.use,me.changeLanguage,me.getFixedT,me.t,me.exists,me.setDefaultNamespace,me.hasLoadedNamespace,me.loadNamespaces,me.loadLanguages;const he=me;function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}var ge=[],be=ge.forEach,ve=ge.slice;function we(e){return be.call(ve.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}function Se(){return"function"==typeof XMLHttpRequest||"object"===("undefined"==typeof XMLHttpRequest?"undefined":ye(XMLHttpRequest))}var Ee,ke,Ce,Pe=n(154),Oe=n.t(Pe,2);function Ne(e){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}"function"==typeof fetch&&("undefined"!=typeof global&&global.fetch?Ee=global.fetch:"undefined"!=typeof window&&window.fetch&&(Ee=window.fetch)),Se()&&("undefined"!=typeof global&&global.XMLHttpRequest?ke=global.XMLHttpRequest:"undefined"!=typeof window&&window.XMLHttpRequest&&(ke=window.XMLHttpRequest)),"function"==typeof ActiveXObject&&("undefined"!=typeof global&&global.ActiveXObject?Ce=global.ActiveXObject:"undefined"!=typeof window&&window.ActiveXObject&&(Ce=window.ActiveXObject)),Ee||!Oe||ke||Ce||(Ee=Pe||Oe),"function"!=typeof Ee&&(Ee=void 0);var xe=function(e,t){if(t&&"object"===Ne(t)){var n="";for(var a in t)n+="&"+encodeURIComponent(a)+"="+encodeURIComponent(t[a]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e};const _e=function(e,t,n,a){return"function"==typeof n&&(a=n,n=void 0),a=a||function(){},Ee?function(e,t,n,a){e.queryStringParams&&(t=xe(t,e.queryStringParams));var r=we({},"function"==typeof e.customHeaders?e.customHeaders():e.customHeaders);n&&(r["Content-Type"]="application/json"),Ee(t,we({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:r},"function"==typeof e.requestOptions?e.requestOptions(n):e.requestOptions)).then((function(e){if(!e.ok)return a(e.statusText||"Error",{status:e.status});e.text().then((function(t){a(null,{status:e.status,data:t})})).catch(a)})).catch(a)}(e,t,n,a):Se()||"function"==typeof ActiveXObject?function(e,t,n,a){n&&"object"===Ne(n)&&(n=xe("",n).slice(1)),e.queryStringParams&&(t=xe(t,e.queryStringParams));try{var r;(r=ke?new ke:new Ce("MSXML2.XMLHTTP.3.0")).open(n?"POST":"GET",t,1),e.crossDomain||r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.withCredentials=!!e.withCredentials,n&&r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.overrideMimeType&&r.overrideMimeType("application/json");var o=e.customHeaders;if(o="function"==typeof o?o():o)for(var i in o)r.setRequestHeader(i,o[i]);r.onreadystatechange=function(){r.readyState>3&&a(r.status>=400?r.statusText:null,{status:r.status,data:r.responseText})},r.send(n)}catch(e){console&&console.log(e)}}(e,t,n,a):void a(new Error("No fetch and no xhr implementation found!"))};function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var je=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(e){return JSON.parse(e)},stringify:JSON.stringify,parsePayload:function(e,t,n){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n||"")},request:_e,reloadInterval:"undefined"==typeof window&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},Ae=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Te(this,e),this.services=t,this.options=n,this.allOptions=a,this.type="backend",this.init(t,n,a)}var t,n;return t=e,n=[{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=we(n,this.options||{},je()),this.allOptions=a,this.services&&this.options.reloadInterval&&setInterval((function(){return t.reload()}),this.options.reloadInterval)}},{key:"readMulti",value:function(e,t,n){this._readAny(e,e,t,t,n)}},{key:"read",value:function(e,t,n){this._readAny([e],e,[t],t,n)}},{key:"_readAny",value:function(e,t,n,a,r){var o,i=this,s=this.options.loadPath;"function"==typeof this.options.loadPath&&(s=this.options.loadPath(e,n)),(s=function(e){return!!e&&"function"==typeof e.then}(o=s)?o:Promise.resolve(o)).then((function(o){if(!o)return r(null,{});var s=i.services.interpolator.interpolate(o,{lng:e.join("+"),ns:n.join("+")});i.loadUrl(s,r,t,a)}))}},{key:"loadUrl",value:function(e,t,n,a){var r=this;this.options.request(this.options,e,void 0,(function(o,i){if(i&&(i.status>=500&&i.status<600||!i.status))return t("failed loading "+e+"; status code: "+i.status,!0);if(i&&i.status>=400&&i.status<500)return t("failed loading "+e+"; status code: "+i.status,!1);if(!i&&o&&o.message&&o.message.indexOf("Failed to fetch")>-1)return t("failed loading "+e+": "+o.message,!0);if(o)return t(o,!1);var s,c;try{s="string"==typeof i.data?r.options.parse(i.data,n,a):i.data}catch(t){c="failed parsing "+e+" to json"}if(c)return t(c,!1);t(null,s)}))}},{key:"create",value:function(e,t,n,a,r){var o=this;if(this.options.addPath){"string"==typeof e&&(e=[e]);var i=this.options.parsePayload(t,n,a),s=0,c=[],l=[];e.forEach((function(n){var a=o.options.addPath;"function"==typeof o.options.addPath&&(a=o.options.addPath(n,t));var u=o.services.interpolator.interpolate(a,{lng:n,ns:t});o.options.request(o.options,u,i,(function(t,n){s+=1,c.push(t),l.push(n),s===e.length&&r&&r(c,l)}))}))}}},{key:"reload",value:function(){var e=this,t=this.services,n=t.backendConnector,a=t.languageUtils,r=t.logger,o=n.language;if(!o||"cimode"!==o.toLowerCase()){var i=[],s=function(e){a.toResolveHierarchy(e).forEach((function(e){i.indexOf(e)<0&&i.push(e)}))};s(o),this.allOptions.preload&&this.allOptions.preload.forEach((function(e){return s(e)})),i.forEach((function(t){e.allOptions.ns.forEach((function(e){n.read(t,e,"read",null,null,(function(a,o){a&&r.warn("loading namespace ".concat(e," for language ").concat(t," failed"),a),!a&&o&&r.log("loaded namespace ".concat(e," for language ").concat(t),o),n.loaded("".concat(t,"|").concat(e),a,o)}))}))}))}}}],n&&Re(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Ae.type="backend";const De=Ae;var Me=[],Le=Me.forEach,Ie=Me.slice;function Ke(e){return Le.call(Ie.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}var Ue=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Fe=function(e,t,n){var a=n||{};a.path=a.path||"/";var r=encodeURIComponent(t),o="".concat(e,"=").concat(r);if(a.maxAge>0){var i=a.maxAge-0;if(Number.isNaN(i))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(i))}if(a.domain){if(!Ue.test(a.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(a.domain)}if(a.path){if(!Ue.test(a.path))throw new TypeError("option path is invalid");o+="; Path=".concat(a.path)}if(a.expires){if("function"!=typeof a.expires.toUTCString)throw new TypeError("option expires is invalid");o+="; Expires=".concat(a.expires.toUTCString())}if(a.httpOnly&&(o+="; HttpOnly"),a.secure&&(o+="; Secure"),a.sameSite)switch("string"==typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o},He={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!=typeof document){var n=function(e){for(var t="".concat(e,"="),n=document.cookie.split(";"),a=0;a<n.length;a++){for(var r=n[a];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null}(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+60*n*1e3)),a&&(r.domain=a),document.cookie=Fe(e,encodeURIComponent(t),r)}(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},We={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var a=n.substring(1).split("&"),r=0;r<a.length;r++){var o=a[r].indexOf("=");o>0&&a[r].substring(0,o)===e.lookupQuerystring&&(t=a[r].substring(o+1))}}return t}},Be=null,Je=function(){if(null!==Be)return Be;try{Be="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){Be=!1}return Be},ze={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&Je()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&Je()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},Ve=null,qe=function(){if(null!==Ve)return Ve;try{Ve="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){Ve=!1}return Ve},$e={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&qe()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&qe()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},Ge={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},Qe={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},Xe={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},Ye={name:"subdomain",lookup:function(e){var t="number"==typeof e.lookupFromSubdomainIndex?e.lookupFromSubdomainIndex+1:1,n="undefined"!=typeof window&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[t]}},Ze=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return c(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=Ke(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(He),this.addDetector(We),this.addDetector(ze),this.addDetector($e),this.addDetector(Ge),this.addDetector(Qe),this.addDetector(Xe),this.addDetector(Ye)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];return e.forEach((function(e){if(t.detectors[e]){var a=t.detectors[e].lookup(t.options);a&&"string"==typeof a&&(a=[a]),a&&(n=n.concat(a))}})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)})))}}]),e}();Ze.type="languageDetector";const et=crypto,tt=e=>e instanceof CryptoKey,nt=async(e,t)=>{const n=`SHA-${e.slice(-3)}`;return new Uint8Array(await et.subtle.digest(n,t))},at=new TextEncoder,rt=new TextDecoder,ot=2**32;function it(...e){const t=e.reduce(((e,{length:t})=>e+t),0),n=new Uint8Array(t);let a=0;return e.forEach((e=>{n.set(e,a),a+=e.length})),n}function st(e,t,n){if(t<0||t>=ot)throw new RangeError(`value must be >= 0 and <= 4294967295. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],n)}function ct(e){const t=Math.floor(e/ot),n=e%ot,a=new Uint8Array(8);return st(a,t,0),st(a,n,4),a}function lt(e){const t=new Uint8Array(4);return st(t,e),t}function ut(e){return it(lt(e.length),e)}const ft=e=>(e=>{let t=e;"string"==typeof t&&(t=at.encode(t));const n=[];for(let e=0;e<t.length;e+=32768)n.push(String.fromCharCode.apply(null,t.subarray(e,e+32768)));return btoa(n.join(""))})(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),dt=e=>{let t=e;t instanceof Uint8Array&&(t=rt.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return(e=>{const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n})(t)}catch(e){throw new TypeError("The input to be decoded is not correctly encoded.")}};function pt(){return"function"==typeof WebSocketPair}class mt extends Error{constructor(e){var t;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,null===(t=Error.captureStackTrace)||void 0===t||t.call(Error,this,this.constructor)}static get code(){return"ERR_JOSE_GENERIC"}}class ht extends mt{constructor(e,t="unspecified",n="unspecified"){super(e),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=t,this.reason=n}static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}}class yt extends mt{constructor(e,t="unspecified",n="unspecified"){super(e),this.code="ERR_JWT_EXPIRED",this.claim=t,this.reason=n}static get code(){return"ERR_JWT_EXPIRED"}}class gt extends mt{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}class bt extends mt{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class vt extends mt{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}}class wt extends mt{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}}class St extends mt{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class Et extends mt{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}class kt extends mt{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}static get code(){return"ERR_JWK_INVALID"}}class Ct extends mt{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}}class Pt extends mt{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}}class Ot extends mt{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}class Nt extends mt{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}}class xt extends mt{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}const _t=async e=>{var t,n;const{algorithm:a,keyUsages:r}=function(e){let t,n;switch(e.kty){case"oct":switch(e.alg){case"HS256":case"HS384":case"HS512":t={name:"HMAC",hash:`SHA-${e.alg.slice(-3)}`},n=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new bt(`${e.alg} keys cannot be imported as CryptoKey instances`);case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":t={name:"AES-GCM"},n=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":t={name:"AES-KW"},n=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":t={name:"PBKDF2"},n=["deriveBits"];break;default:throw new bt('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},n=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},n=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},n=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new bt('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},n=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},n=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},n=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},n=e.d?["deriveBits"]:[];break;default:throw new bt('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case pt()&&"OKP":if("EdDSA"!==e.alg)throw new bt('Invalid or unsupported JWK "alg" (Algorithm) Parameter value');if("Ed25519"!==e.crv)throw new bt('Invalid or unsupported JWK "crv" (Subtype of Key Pair) Parameter value');t={name:"NODE-ED25519",namedCurve:"NODE-ED25519"},n=e.d?["sign"]:["verify"];break;default:throw new bt('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:n}}(e),o=[a,null!==(t=e.ext)&&void 0!==t&&t,null!==(n=e.key_ops)&&void 0!==n?n:r];if("PBKDF2"===a.name)return et.subtle.importKey("raw",dt(e.k),...o);const i={...e};return delete i.alg,et.subtle.importKey("jwk",i,...o)};function Tt(e){if("object"!=typeof(t=e)||null===t||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}async function Rt(e,t,n){if(!Tt(e))throw new TypeError("JWK must be an object");if(t||(t=e.alg),"string"!=typeof t||!t)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');switch(e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return null!=n||(n=!0!==e.ext),n?_t({...e,alg:t,ext:!1}):dt(e.k);case"RSA":if(void 0!==e.oth)throw new bt('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return _t({...e,alg:t});default:throw new bt('Unsupported "kty" (Key Type) Parameter value')}}const jt=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:n}=t.algorithm;if("number"!=typeof n||n<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};function At(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function Dt(e,t){return e.name===t}function Mt(e){return parseInt(e.name.slice(4),10)}function Lt(e,t){if(t.length&&!t.some((t=>e.usages.includes(t)))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const n=t.pop();e+=`one of ${t.join(", ")}, or ${n}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw new TypeError(e)}}function It(e,t,...n){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!Dt(e.algorithm,"AES-GCM"))throw At("AES-GCM");const n=parseInt(t.slice(1,4),10);if(e.algorithm.length!==n)throw At(n,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!Dt(e.algorithm,"AES-KW"))throw At("AES-KW");const n=parseInt(t.slice(1,4),10);if(e.algorithm.length!==n)throw At(n,"algorithm.length");break}case"ECDH":if(!Dt(e.algorithm,"ECDH"))throw At("ECDH");break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!Dt(e.algorithm,"PBKDF2"))throw At("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!Dt(e.algorithm,"RSA-OAEP"))throw At("RSA-OAEP");const n=parseInt(t.slice(9),10)||1;if(Mt(e.algorithm.hash)!==n)throw At(`SHA-${n}`,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}Lt(e,n)}function Kt(e,t,...n){if(n.length>2){const t=n.pop();e+=`one of type ${n.join(", ")}, or ${t}.`}else 2===n.length?e+=`one of type ${n[0]} or ${n[1]}.`:e+=`of type ${n[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor&&t.constructor.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const Ut=(e,...t)=>Kt("Key must be ",e,...t);function Ft(e,t,...n){return Kt(`Key for the ${e} algorithm must be `,t,...n)}const Ht=e=>tt(e),Wt=["CryptoKey"],Bt=async(e,t,n,a)=>{const r=await function(e,t,n){if(tt(t))return function(e,t,...n){switch(t){case"HS256":case"HS384":case"HS512":{if(!Dt(e.algorithm,"HMAC"))throw At("HMAC");const n=parseInt(t.slice(2),10);if(Mt(e.algorithm.hash)!==n)throw At(`SHA-${n}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!Dt(e.algorithm,"RSASSA-PKCS1-v1_5"))throw At("RSASSA-PKCS1-v1_5");const n=parseInt(t.slice(2),10);if(Mt(e.algorithm.hash)!==n)throw At(`SHA-${n}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!Dt(e.algorithm,"RSA-PSS"))throw At("RSA-PSS");const n=parseInt(t.slice(2),10);if(Mt(e.algorithm.hash)!==n)throw At(`SHA-${n}`,"algorithm.hash");break}case pt()&&"EdDSA":if(!Dt(e.algorithm,"NODE-ED25519"))throw At("NODE-ED25519");break;case"ES256":case"ES384":case"ES512":{if(!Dt(e.algorithm,"ECDSA"))throw At("ECDSA");const n=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}(t);if(e.algorithm.namedCurve!==n)throw At(n,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}Lt(e,n)}(t,e,n),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(Ut(t,...Wt));return et.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[n])}throw new TypeError(Ut(t,...Wt,"Uint8Array"))}(e,t,"verify");jt(e,r);const o=function(e,t){const n=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:t.namedCurve};case pt()&&"EdDSA":const{namedCurve:a}=t;return{name:a,namedCurve:a};default:throw new bt(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}(e,r.algorithm);try{return await et.subtle.verify(o,r,n,a)}catch(e){return!1}},Jt=(...e)=>{const t=e.filter(Boolean);if(0===t.length||1===t.length)return!0;let n;for(const e of t){const t=Object.keys(e);if(n&&0!==n.size)for(const e of t){if(n.has(e))return!1;n.add(e)}else n=new Set(t)}return!0},zt=(e,t,n)=>{e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?((e,t)=>{if(!(t instanceof Uint8Array)){if(!Ht(t))throw new TypeError(Ft(e,t,...Wt,"Uint8Array"));if("secret"!==t.type)throw new TypeError(`${Wt.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}})(e,t):((e,t,n)=>{if(!Ht(t))throw new TypeError(Ft(e,t,...Wt));if("secret"===t.type)throw new TypeError(`${Wt.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===n&&"public"===t.type)throw new TypeError(`${Wt.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===n&&"public"===t.type)throw new TypeError(`${Wt.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===n&&"private"===t.type)throw new TypeError(`${Wt.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===n&&"private"===t.type)throw new TypeError(`${Wt.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)})(e,t,n)},Vt=function(e,t,n,a,r){if(void 0!==r.crit&&void 0===a.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!a||void 0===a.crit)return new Set;if(!Array.isArray(a.crit)||0===a.crit.length||a.crit.some((e=>"string"!=typeof e||0===e.length)))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let o;o=void 0!==n?new Map([...Object.entries(n),...t.entries()]):t;for(const t of a.crit){if(!o.has(t))throw new bt(`Extension Header Parameter "${t}" is not recognized`);if(void 0===r[t])throw new e(`Extension Header Parameter "${t}" is missing`);if(o.get(t)&&void 0===a[t])throw new e(`Extension Header Parameter "${t}" MUST be integrity protected`)}return new Set(a.crit)},qt=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some((e=>"string"!=typeof e))))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};const $t=e=>Math.floor(e.getTime()/1e3),Gt=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,Qt=e=>{const t=Gt.exec(e);if(!t)throw new TypeError("Invalid time period format");const n=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(n);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(60*n);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(3600*n);case"day":case"days":case"d":return Math.round(86400*n);case"week":case"weeks":case"w":return Math.round(604800*n);default:return Math.round(31557600*n)}},Xt=e=>e.toLowerCase().replace(/^application\//,""),Yt=(e,t,n={})=>{const{typ:a}=n;if(a&&("string"!=typeof e.typ||Xt(e.typ)!==Xt(a)))throw new ht('unexpected "typ" JWT header value',"typ","check_failed");let r;try{r=JSON.parse(rt.decode(t))}catch(e){}if(!Tt(r))throw new Et("JWT Claims Set must be a top-level JSON object");const{issuer:o}=n;if(o&&!(Array.isArray(o)?o:[o]).includes(r.iss))throw new ht('unexpected "iss" claim value',"iss","check_failed");const{subject:i}=n;if(i&&r.sub!==i)throw new ht('unexpected "sub" claim value',"sub","check_failed");const{audience:s}=n;if(s&&(l="string"==typeof s?[s]:s,!("string"==typeof(c=r.aud)?l.includes(c):Array.isArray(c)&&l.some(Set.prototype.has.bind(new Set(c))))))throw new ht('unexpected "aud" claim value',"aud","check_failed");var c,l;let u;switch(typeof n.clockTolerance){case"string":u=Qt(n.clockTolerance);break;case"number":u=n.clockTolerance;break;case"undefined":u=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:f}=n,d=$t(f||new Date);if((void 0!==r.iat||n.maxTokenAge)&&"number"!=typeof r.iat)throw new ht('"iat" claim must be a number',"iat","invalid");if(void 0!==r.nbf){if("number"!=typeof r.nbf)throw new ht('"nbf" claim must be a number',"nbf","invalid");if(r.nbf>d+u)throw new ht('"nbf" claim timestamp check failed',"nbf","check_failed")}if(void 0!==r.exp){if("number"!=typeof r.exp)throw new ht('"exp" claim must be a number',"exp","invalid");if(r.exp<=d-u)throw new yt('"exp" claim timestamp check failed',"exp","check_failed")}if(n.maxTokenAge){const e=d-r.iat;if(e-u>("number"==typeof n.maxTokenAge?n.maxTokenAge:Qt(n.maxTokenAge)))throw new yt('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(e<0-u)throw new ht('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return r};async function Zt(e,t,n){var a;const r=await async function(e,t,n){if(e instanceof Uint8Array&&(e=rt.decode(e)),"string"!=typeof e)throw new St("Compact JWS must be a string or Uint8Array");const{0:a,1:r,2:o,length:i}=e.split(".");if(3!==i)throw new St("Invalid Compact JWS");const s=await async function(e,t,n){var a;if(!Tt(e))throw new St("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new St('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new St("JWS Protected Header incorrect type");if(void 0===e.payload)throw new St("JWS Payload missing");if("string"!=typeof e.signature)throw new St("JWS Signature missing or incorrect type");if(void 0!==e.header&&!Tt(e.header))throw new St("JWS Unprotected Header incorrect type");let r={};if(e.protected)try{const t=dt(e.protected);r=JSON.parse(rt.decode(t))}catch(e){throw new St("JWS Protected Header is invalid")}if(!Jt(r,e.header))throw new St("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const o={...r,...e.header};let i=!0;if(Vt(St,new Map([["b64",!0]]),null==n?void 0:n.crit,r,o).has("b64")&&(i=r.b64,"boolean"!=typeof i))throw new St('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:s}=o;if("string"!=typeof s||!s)throw new St('JWS "alg" (Algorithm) Header Parameter missing or invalid');const c=n&&qt("algorithms",n.algorithms);if(c&&!c.has(s))throw new gt('"alg" (Algorithm) Header Parameter not allowed');if(i){if("string"!=typeof e.payload)throw new St("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new St("JWS Payload must be a string or an Uint8Array instance");let l=!1;"function"==typeof t&&(t=await t(r,e),l=!0),zt(s,t,"verify");const u=it(at.encode(null!==(a=e.protected)&&void 0!==a?a:""),at.encode("."),"string"==typeof e.payload?at.encode(e.payload):e.payload),f=dt(e.signature);if(!await Bt(s,t,f,u))throw new xt;let d;d=i?dt(e.payload):"string"==typeof e.payload?at.encode(e.payload):e.payload;const p={payload:d};return void 0!==e.protected&&(p.protectedHeader=r),void 0!==e.header&&(p.unprotectedHeader=e.header),l?{...p,key:t}:p}({payload:r,protected:a,signature:o},t,n),c={payload:s.payload,protectedHeader:s.protectedHeader};return"function"==typeof t?{...c,key:s.key}:c}(e,t,n);if((null===(a=r.protectedHeader.crit)||void 0===a?void 0:a.includes("b64"))&&!1===r.protectedHeader.b64)throw new Et("JWTs MUST NOT use unencoded payload");const o={payload:Yt(r.protectedHeader,r.payload,n),protectedHeader:r.protectedHeader};return"function"==typeof t?{...o,key:r.key}:o}const en=et.getRandomValues.bind(et);async function tn(e,t){return async function(e,t){var n;let a,r,o;switch(e){case"HS256":case"HS384":case"HS512":a=parseInt(e.slice(-3),10),r={name:"HMAC",hash:`SHA-${a}`,length:a},o=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return a=parseInt(e.slice(-3),10),en(new Uint8Array(a>>3));case"A128KW":case"A192KW":case"A256KW":a=parseInt(e.slice(1,4),10),r={name:"AES-KW",length:a},o=["wrapKey","unwrapKey"];break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":a=parseInt(e.slice(1,4),10),r={name:"AES-GCM",length:a},o=["encrypt","decrypt"];break;default:throw new bt('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return et.subtle.generateKey(r,null!==(n=null==t?void 0:t.extractable)&&void 0!==n&&n,o)}(e,t)}function nn(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new bt(`Unsupported JWE Algorithm: ${e}`)}}const an=e=>en(new Uint8Array(nn(e)>>3)),rn=(e,t)=>{if(t.length<<3!==nn(e))throw new wt("Invalid Initialization Vector length")},on=(e,t)=>{const n=e.byteLength<<3;if(n!==t)throw new wt(`Invalid Content Encryption Key length. Expected ${t} bits, got ${n} bits`)},sn=async(e,t,n,a,r)=>{if(!(tt(n)||n instanceof Uint8Array))throw new TypeError(Ut(n,...Wt,"Uint8Array"));switch(rn(e,a),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return n instanceof Uint8Array&&on(n,parseInt(e.slice(-3),10)),async function(e,t,n,a,r){if(!(n instanceof Uint8Array))throw new TypeError(Ut(n,"Uint8Array"));const o=parseInt(e.slice(1,4),10),i=await et.subtle.importKey("raw",n.subarray(o>>3),"AES-CBC",!1,["encrypt"]),s=await et.subtle.importKey("raw",n.subarray(0,o>>3),{hash:"SHA-"+(o<<1),name:"HMAC"},!1,["sign"]),c=new Uint8Array(await et.subtle.encrypt({iv:a,name:"AES-CBC"},i,t)),l=it(r,a,c,ct(r.length<<3));return{ciphertext:c,tag:new Uint8Array((await et.subtle.sign("HMAC",s,l)).slice(0,o>>3))}}(e,t,n,a,r);case"A128GCM":case"A192GCM":case"A256GCM":return n instanceof Uint8Array&&on(n,parseInt(e.slice(1,4),10)),async function(e,t,n,a,r){let o;n instanceof Uint8Array?o=await et.subtle.importKey("raw",n,"AES-GCM",!1,["encrypt"]):(It(n,e,"encrypt"),o=n);const i=new Uint8Array(await et.subtle.encrypt({additionalData:r,iv:a,name:"AES-GCM",tagLength:128},o,t)),s=i.slice(-16);return{ciphertext:i.slice(0,-16),tag:s}}(e,t,n,a,r);default:throw new bt("Unsupported JWE Content Encryption Algorithm")}},cn=async()=>{throw new bt('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `inflateRaw` decrypt option to provide Inflate Raw implementation.')},ln=async()=>{throw new bt('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `deflateRaw` encrypt option to provide Deflate Raw implementation.')},un=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]];function fn(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw new TypeError(`Invalid key size for alg: ${t}`)}function dn(e,t,n){if(tt(e))return It(e,t,n),e;if(e instanceof Uint8Array)return et.subtle.importKey("raw",e,"AES-KW",!0,[n]);throw new TypeError(Ut(e,...Wt,"Uint8Array"))}const pn=async(e,t,n)=>{const a=await dn(t,e,"wrapKey");fn(a,e);const r=await et.subtle.importKey("raw",n,...un);return new Uint8Array(await et.subtle.wrapKey("raw",r,a,"AES-KW"))},mn=async(e,t,n)=>{const a=await dn(t,e,"unwrapKey");fn(a,e);const r=await et.subtle.unwrapKey("raw",n,a,"AES-KW",...un);return new Uint8Array(await et.subtle.exportKey("raw",r))};async function hn(e,t,n,a,r=new Uint8Array(0),o=new Uint8Array(0)){if(!tt(e))throw new TypeError(Ut(e,...Wt));if(It(e,"ECDH"),!tt(t))throw new TypeError(Ut(t,...Wt));It(t,"ECDH","deriveBits");const i=it(ut(at.encode(n)),ut(r),ut(o),lt(a));return async function(e,t,n){const a=Math.ceil((t>>3)/32),r=new Uint8Array(32*a);for(let t=0;t<a;t++){const a=new Uint8Array(4+e.length+n.length);a.set(lt(t+1)),a.set(e,4),a.set(n,4+e.length),r.set(await nt("sha256",a),32*t)}return r.slice(0,t>>3)}(new Uint8Array(await et.subtle.deriveBits({name:"ECDH",public:e},t,Math.ceil(parseInt(t.algorithm.namedCurve.slice(-3),10)/8)<<3)),a,i)}function yn(e){if(!tt(e))throw new TypeError(Ut(e,...Wt));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)}async function gn(e,t,n,a){!function(e){if(!(e instanceof Uint8Array)||e.length<8)throw new wt("PBES2 Salt Input must be 8 or more octets")}(e);const r=function(e,t){return it(at.encode(e),new Uint8Array([0]),t)}(t,e),o=parseInt(t.slice(13,16),10),i={hash:`SHA-${t.slice(8,11)}`,iterations:n,name:"PBKDF2",salt:r},s={length:o,name:"AES-KW"},c=await function(e,t){if(e instanceof Uint8Array)return et.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]);if(tt(e))return It(e,t,"deriveBits","deriveKey"),e;throw new TypeError(Ut(e,...Wt,"Uint8Array"))}(a,t);if(c.usages.includes("deriveBits"))return new Uint8Array(await et.subtle.deriveBits(i,c,o));if(c.usages.includes("deriveKey"))return et.subtle.deriveKey(i,c,s,!1,["wrapKey","unwrapKey"]);throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}function bn(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new bt(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}function vn(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new bt(`Unsupported JWE Algorithm: ${e}`)}}const wn=e=>en(new Uint8Array(vn(e)>>3));async function Sn(e){return(async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:ft(e)};if(!tt(e))throw new TypeError(Ut(e,...Wt,"Uint8Array"));if(!e.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:t,key_ops:n,alg:a,use:r,...o}=await et.subtle.exportKey("jwk",e);return o})(e)}const En=async(e,t,n,a,r,o)=>{if(!(tt(t)||t instanceof Uint8Array))throw new TypeError(Ut(t,...Wt,"Uint8Array"));switch(rn(e,a),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&on(t,parseInt(e.slice(-3),10)),async function(e,t,n,a,r,o){if(!(t instanceof Uint8Array))throw new TypeError(Ut(t,"Uint8Array"));const i=parseInt(e.slice(1,4),10),s=await et.subtle.importKey("raw",t.subarray(i>>3),"AES-CBC",!1,["decrypt"]),c=await et.subtle.importKey("raw",t.subarray(0,i>>3),{hash:"SHA-"+(i<<1),name:"HMAC"},!1,["sign"]),l=it(o,a,n,ct(o.length<<3)),u=new Uint8Array((await et.subtle.sign("HMAC",c,l)).slice(0,i>>3));let f,d;try{f=((e,t)=>{if(!(e instanceof Uint8Array))throw new TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw new TypeError("Second argument must be a buffer");if(e.length!==t.length)throw new TypeError("Input buffers must have the same length");const n=e.length;let a=0,r=-1;for(;++r<n;)a|=e[r]^t[r];return 0===a})(r,u)}catch(e){}if(!f)throw new vt;try{d=new Uint8Array(await et.subtle.decrypt({iv:a,name:"AES-CBC"},s,n))}catch(e){}if(!d)throw new vt;return d}(e,t,n,a,r,o);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&on(t,parseInt(e.slice(1,4),10)),async function(e,t,n,a,r,o){let i;t instanceof Uint8Array?i=await et.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):(It(t,e,"decrypt"),i=t);try{return new Uint8Array(await et.subtle.decrypt({additionalData:o,iv:a,name:"AES-GCM",tagLength:128},i,it(n,r)))}catch(e){throw new vt}}(e,t,n,a,r,o);default:throw new bt("Unsupported JWE Content Encryption Algorithm")}},kn=Symbol();class Cn{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,t){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new wt("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!Jt(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new wt("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const n={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(Vt(wt,new Map,null==t?void 0:t.crit,this._protectedHeader,n),void 0!==n.zip){if(!this._protectedHeader||!this._protectedHeader.zip)throw new wt('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==n.zip)throw new bt('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:a,enc:r}=n;if("string"!=typeof a||!a)throw new wt('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof r||!r)throw new wt('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let o,i,s,c,l,u,f;if("dir"===a){if(this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if("ECDH-ES"===a&&this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");{let n;({cek:i,encryptedKey:o,parameters:n}=await async function(e,t,n,a,r={}){let o,i,s;switch(zt(e,n,"encrypt"),e){case"dir":s=n;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!yn(n))throw new bt("ECDH with the provided key is not allowed or not supported by your javascript runtime");const{apu:c,apv:l}=r;let{epk:u}=r;u||(u=(await async function(e){if(!tt(e))throw new TypeError(Ut(e,...Wt));return et.subtle.generateKey(e.algorithm,!0,["deriveBits"])}(n)).privateKey);const{x:f,y:d,crv:p,kty:m}=await Sn(u),h=await hn(n,u,"ECDH-ES"===e?t:e,"ECDH-ES"===e?vn(t):parseInt(e.slice(-5,-2),10),c,l);if(i={epk:{x:f,crv:p,kty:m}},"EC"===m&&(i.epk.y=d),c&&(i.apu=ft(c)),l&&(i.apv=ft(l)),"ECDH-ES"===e){s=h;break}s=a||wn(t);const y=e.slice(-6);o=await pn(y,h,s);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s=a||wn(t),o=await(async(e,t,n)=>{if(!tt(t))throw new TypeError(Ut(t,...Wt));if(It(t,e,"encrypt","wrapKey"),jt(e,t),t.usages.includes("encrypt"))return new Uint8Array(await et.subtle.encrypt(bn(e),t,n));if(t.usages.includes("wrapKey")){const a=await et.subtle.importKey("raw",n,...un);return new Uint8Array(await et.subtle.wrapKey("raw",a,t,bn(e)))}throw new TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')})(e,n,s);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{s=a||wn(t);const{p2c:c,p2s:l}=r;({encryptedKey:o,...i}=await(async(e,t,n,a=2048,r=en(new Uint8Array(16)))=>{const o=await gn(r,e,a,t);return{encryptedKey:await pn(e.slice(-6),o,n),p2c:a,p2s:ft(r)}})(e,n,s,c,l));break}case"A128KW":case"A192KW":case"A256KW":s=a||wn(t),o=await pn(e,n,s);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{s=a||wn(t);const{iv:c}=r;({encryptedKey:o,...i}=await async function(e,t,n,a){const r=e.slice(0,7);a||(a=an(r));const{ciphertext:o,tag:i}=await sn(r,n,t,a,new Uint8Array(0));return{encryptedKey:o,iv:ft(a),tag:ft(i)}}(e,n,s,c));break}default:throw new bt('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:s,encryptedKey:o,parameters:i}}(a,r,e,this._cek,this._keyManagementParameters)),n&&(t&&kn in t?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...n}:this.setUnprotectedHeader(n):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...n}:this.setProtectedHeader(n))}if(this._iv||(this._iv=an(r)),c=this._protectedHeader?at.encode(ft(JSON.stringify(this._protectedHeader))):at.encode(""),this._aad?(l=ft(this._aad),s=it(c,at.encode("."),at.encode(l))):s=c,"DEF"===n.zip){const e=await((null==t?void 0:t.deflateRaw)||ln)(this._plaintext);({ciphertext:u,tag:f}=await sn(r,e,i,this._iv,s))}else({ciphertext:u,tag:f}=await sn(r,this._plaintext,i,this._iv,s));const d={ciphertext:ft(u),iv:ft(this._iv),tag:ft(f)};return o&&(d.encrypted_key=ft(o)),l&&(d.aad=l),this._protectedHeader&&(d.protected=rt.decode(c)),this._sharedUnprotectedHeader&&(d.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(d.header=this._unprotectedHeader),d}}class Pn{constructor(e){this._flattened=new Cn(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){const n=await this._flattened.encrypt(e,t);return[n.protected,n.encrypted_key,n.iv,n.ciphertext,n.tag].join(".")}}class On extends class{constructor(e){if(!Tt(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return this._payload="number"==typeof e?{...this._payload,nbf:e}:{...this._payload,nbf:$t(new Date)+Qt(e)},this}setExpirationTime(e){return this._payload="number"==typeof e?{...this._payload,exp:e}:{...this._payload,exp:$t(new Date)+Qt(e)},this}setIssuedAt(e){return this._payload=void 0===e?{...this._payload,iat:$t(new Date)}:{...this._payload,iat:e},this}}{setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){const n=new Pn(at.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),n.setProtectedHeader(this._protectedHeader),this._iv&&n.setInitializationVector(this._iv),this._cek&&n.setContentEncryptionKey(this._cek),this._keyManagementParameters&&n.setKeyManagementParameters(this._keyManagementParameters),n.encrypt(e,t)}}const Nn=(e,t)=>{if("string"!=typeof e||!e)throw new kt(`${t} missing or invalid`)};const xn=dt;function _n(e){let t;if("string"==typeof e){const n=e.split(".");3!==n.length&&5!==n.length||([t]=n)}else if("object"==typeof e&&e){if(!("protected"in e))throw new TypeError("Token does not contain a Protected Header");t=e.protected}try{if("string"!=typeof t||!t)throw new Error;const e=JSON.parse(rt.decode(xn(t)));if(!Tt(e))throw new Error;return e}catch(e){throw new TypeError("Invalid Token or Protected Header formatting")}}async function Tn(e,t,n){var a;if(!Tt(e))throw new wt("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new wt("JOSE Header missing");if("string"!=typeof e.iv)throw new wt("JWE Initialization Vector missing or incorrect type");if("string"!=typeof e.ciphertext)throw new wt("JWE Ciphertext missing or incorrect type");if("string"!=typeof e.tag)throw new wt("JWE Authentication Tag missing or incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new wt("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new wt("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new wt("JWE AAD incorrect type");if(void 0!==e.header&&!Tt(e.header))throw new wt("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!Tt(e.unprotected))throw new wt("JWE Per-Recipient Unprotected Header incorrect type");let r;if(e.protected)try{const t=dt(e.protected);r=JSON.parse(rt.decode(t))}catch(e){throw new wt("JWE Protected Header is invalid")}if(!Jt(r,e.header,e.unprotected))throw new wt("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");const o={...r,...e.header,...e.unprotected};if(Vt(wt,new Map,null==n?void 0:n.crit,r,o),void 0!==o.zip){if(!r||!r.zip)throw new wt('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==o.zip)throw new bt('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:i,enc:s}=o;if("string"!=typeof i||!i)throw new wt("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof s||!s)throw new wt("missing JWE Encryption Algorithm (enc) in JWE Header");const c=n&&qt("keyManagementAlgorithms",n.keyManagementAlgorithms),l=n&&qt("contentEncryptionAlgorithms",n.contentEncryptionAlgorithms);if(c&&!c.has(i))throw new gt('"alg" (Algorithm) Header Parameter not allowed');if(l&&!l.has(s))throw new gt('"enc" (Encryption Algorithm) Header Parameter not allowed');let u;void 0!==e.encrypted_key&&(u=dt(e.encrypted_key));let f,d=!1;"function"==typeof t&&(t=await t(r,e),d=!0);try{f=await async function(e,t,n,a,r){switch(zt(e,t,"decrypt"),e){case"dir":if(void 0!==n)throw new wt("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==n)throw new wt("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!Tt(a.epk))throw new wt('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!yn(t))throw new bt("ECDH with the provided key is not allowed or not supported by your javascript runtime");const r=await Rt(a.epk,e);let o,i;if(void 0!==a.apu){if("string"!=typeof a.apu)throw new wt('JOSE Header "apu" (Agreement PartyUInfo) invalid');o=dt(a.apu)}if(void 0!==a.apv){if("string"!=typeof a.apv)throw new wt('JOSE Header "apv" (Agreement PartyVInfo) invalid');i=dt(a.apv)}const s=await hn(r,t,"ECDH-ES"===e?a.enc:e,"ECDH-ES"===e?vn(a.enc):parseInt(e.slice(-5,-2),10),o,i);if("ECDH-ES"===e)return s;if(void 0===n)throw new wt("JWE Encrypted Key missing");return mn(e.slice(-6),s,n)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===n)throw new wt("JWE Encrypted Key missing");return(async(e,t,n)=>{if(!tt(t))throw new TypeError(Ut(t,...Wt));if(It(t,e,"decrypt","unwrapKey"),jt(e,t),t.usages.includes("decrypt"))return new Uint8Array(await et.subtle.decrypt(bn(e),t,n));if(t.usages.includes("unwrapKey")){const a=await et.subtle.unwrapKey("raw",n,t,bn(e),...un);return new Uint8Array(await et.subtle.exportKey("raw",a))}throw new TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')})(e,t,n);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if(void 0===n)throw new wt("JWE Encrypted Key missing");if("number"!=typeof a.p2c)throw new wt('JOSE Header "p2c" (PBES2 Count) missing or invalid');const o=(null==r?void 0:r.maxPBES2Count)||1e4;if(a.p2c>o)throw new wt('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof a.p2s)throw new wt('JOSE Header "p2s" (PBES2 Salt) missing or invalid');return(async(e,t,n,a,r)=>{const o=await gn(r,e,a,t);return mn(e.slice(-6),o,n)})(e,t,n,a.p2c,dt(a.p2s))}case"A128KW":case"A192KW":case"A256KW":if(void 0===n)throw new wt("JWE Encrypted Key missing");return mn(e,t,n);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":if(void 0===n)throw new wt("JWE Encrypted Key missing");if("string"!=typeof a.iv)throw new wt('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof a.tag)throw new wt('JOSE Header "tag" (Authentication Tag) missing or invalid');return async function(e,t,n,a,r){const o=e.slice(0,7);return En(o,t,n,a,r,new Uint8Array(0))}(e,t,n,dt(a.iv),dt(a.tag));default:throw new bt('Invalid or unsupported "alg" (JWE Algorithm) header value')}}(i,t,u,o,n)}catch(e){if(e instanceof TypeError||e instanceof wt||e instanceof bt)throw e;f=wn(s)}const p=dt(e.iv),m=dt(e.tag),h=at.encode(null!==(a=e.protected)&&void 0!==a?a:"");let y;y=void 0!==e.aad?it(h,at.encode("."),at.encode(e.aad)):h;let g=await En(s,f,dt(e.ciphertext),p,m,y);"DEF"===o.zip&&(g=await((null==n?void 0:n.inflateRaw)||cn)(g));const b={plaintext:g};return void 0!==e.protected&&(b.protectedHeader=r),void 0!==e.aad&&(b.additionalAuthenticatedData=dt(e.aad)),void 0!==e.unprotected&&(b.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(b.unprotectedHeader=e.header),d?{...b,key:t}:b}async function Rn(e,t,n){const a=await async function(e,t,n){if(e instanceof Uint8Array&&(e=rt.decode(e)),"string"!=typeof e)throw new wt("Compact JWE must be a string or Uint8Array");const{0:a,1:r,2:o,3:i,4:s,length:c}=e.split(".");if(5!==c)throw new wt("Invalid Compact JWE");const l=await Tn({ciphertext:i,iv:o||void 0,protected:a||void 0,tag:s||void 0,encrypted_key:r||void 0},t,n),u={plaintext:l.plaintext,protectedHeader:l.protectedHeader};return"function"==typeof t?{...u,key:l.key}:u}(e,t,n),r=Yt(a.protectedHeader,a.plaintext,n),{protectedHeader:o}=a;if(void 0!==o.iss&&o.iss!==r.iss)throw new ht('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(void 0!==o.sub&&o.sub!==r.sub)throw new ht('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(void 0!==o.aud&&JSON.stringify(o.aud)!==JSON.stringify(r.aud))throw new ht('replicated "aud" claim header parameter mismatch',"aud","mismatch");const i={payload:r,protectedHeader:o};return"function"==typeof t?{...i,key:a.key}:i}function jn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var An=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subscriberList={}}var t,n;return t=e,n=[{key:"subscribe",value:function(e,t){this.subscriberList[e]=t}},{key:"sendMessage",value:function(e,t){if(Array.isArray(e)||(e=[e]),"broadcast"===e[0])this.subscriberList.forEach((function(e,n){e({type:"broadcast",message:t})}));else for(var n in this.subscriberList)e.indexOf(n)>=0&&this.subscriberList[n](t)}}],n&&jn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const Dn=new An;function Mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)e[a]=n[a]}return e}const Ln=function e(t,n){function a(e,a,r){if("undefined"!=typeof document){"number"==typeof(r=Mn({},n,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var i in r)r[i]&&(o+="; "+i,!0!==r[i]&&(o+="="+r[i].split(";")[0]));return document.cookie=e+"="+t.write(a,e)+o}}return Object.create({set:a,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],a={},r=0;r<n.length;r++){var o=n[r].split("="),i=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(a[s]=t.read(i,s),e===s)break}catch(e){}}return e?a[e]:a}},remove:function(e,t){a(e,"",Mn({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,Mn({},this.attributes,t))},withConverter:function(t){return e(Mn({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});function In(e){return e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(Kn)}function Kn(e){return Tt(e)}class Un extends class{constructor(e){if(this._cached=new WeakMap,!In(e))throw new Ct("JSON Web Key Set malformed");var t;this._jwks=(t=e,"function"==typeof structuredClone?structuredClone(t):JSON.parse(JSON.stringify(t)))}async getKey(e,t){const{alg:n,kid:a}={...e,...t.header},r=function(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new bt('Unsupported "alg" value for a JSON Web Key Set')}}(n),o=this._jwks.keys.filter((e=>{let t=r===e.kty;if(t&&"string"==typeof a&&(t=a===e.kid),t&&"string"==typeof e.alg&&(t=n===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t&&"EdDSA"===n&&(t="Ed25519"===e.crv||"Ed448"===e.crv),t)switch(n){case"ES256":t="P-256"===e.crv;break;case"ES256K":t="secp256k1"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv}return t})),{0:i,length:s}=o;if(0===s)throw new Pt;if(1!==s)throw new Ot;const c=this._cached.get(i)||this._cached.set(i,{}).get(i);if(void 0===c[n]){const e=await Rt({...i,ext:!0},n);if(e instanceof Uint8Array||"public"!==e.type)throw new Ct("JSON Web Key Set members must be public keys");c[n]=e}return c[n]}}{constructor(e,t){if(super({keys:[]}),this._jwks=void 0,!(e instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:null==t?void 0:t.agent,headers:null==t?void 0:t.headers},this._timeoutDuration="number"==typeof(null==t?void 0:t.timeoutDuration)?null==t?void 0:t.timeoutDuration:5e3,this._cooldownDuration="number"==typeof(null==t?void 0:t.cooldownDuration)?null==t?void 0:t.cooldownDuration:3e4,this._cacheMaxAge="number"==typeof(null==t?void 0:t.cacheMaxAge)?null==t?void 0:t.cacheMaxAge:6e5}coolingDown(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cooldownDuration}fresh(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}async getKey(e,t){this._jwks&&this.fresh()||await this.reload();try{return await super.getKey(e,t)}catch(n){if(n instanceof Pt&&!1===this.coolingDown())return await this.reload(),super.getKey(e,t);throw n}}async reload(){if(this._pendingFetch&&pt())return new Promise((e=>{const t=()=>{void 0===this._pendingFetch?e():setTimeout(t,5)};t()}));this._pendingFetch||(this._pendingFetch=(async(e,t,n)=>{let a,r,o=!1;"function"==typeof AbortController&&(a=new AbortController,r=setTimeout((()=>{o=!0,a.abort()}),t));const i=await fetch(e.href,{signal:a?a.signal:void 0,redirect:"manual",headers:n.headers}).catch((e=>{if(o)throw new Nt;throw e}));if(void 0!==r&&clearTimeout(r),200!==i.status)throw new mt("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await i.json()}catch(e){throw new mt("Failed to parse the JSON Web Key Set HTTP response as JSON")}})(this._url,this._timeoutDuration,this._options).then((e=>{if(!In(e))throw new Ct("JSON Web Key Set malformed");this._jwks={keys:e.keys},this._jwksTimestamp=Date.now(),this._pendingFetch=void 0})).catch((e=>{throw this._pendingFetch=void 0,e}))),await this._pendingFetch}}function Fn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var Hn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"init",value:function(e){var t=this;this.refreshToken=!1,this.accessToken=!1,this.idToken=!1,this.changeStatusCb=[],this.connected=!1,this.parameters={},this.jwks=!1,this.pkce=!1,"/"!==window.location.pathname?this.localStorageKey=e.storagePrefix+"-"+window.btoa(unescape(encodeURIComponent(window.location.pathname))).replace(/\=+$/m,""):this.localStorageKey=e.storagePrefix,this.refreshTimeout=!1,e&&(this.parameters.storageType=e.storageType||"none",this.parameters.responseType=e.responseType||"code",this.parameters.scope=e.scope||"",this.parameters.openidConfigUrl=e.openidConfigUrl||"",this.parameters.authUrl=e.authUrl||"",this.parameters.tokenUrl=e.tokenUrl||"",this.parameters.clientId=e.clientId||"",this.parameters.clientPassword=e.clientPassword||"",this.parameters.redirectUri=e.redirectUri||"",this.parameters.userinfoUrl=e.userinfoUrl||"",this.parameters.usePkce=!!e.usePkce,this.parameters.refreshTokenLoop=!!e.refreshTokenLoop,e.changeStatusCb&&this.changeStatusCb.push(e.changeStatusCb)),this.parameters.openidConfigUrl?$.ajax({type:"GET",url:this.parameters.openidConfigUrl,success:function(e){var n;t.parameters.authUrl=e.authorization_endpoint,t.parameters.tokenUrl=e.token_endpoint,t.parameters.userinfoUrl=e.userinfo_endpoint,e.jwks_uri&&(t.jwks=(n=new URL(e.jwks_uri),Un.prototype.getKey.bind(new Un(n,undefined)))),t.parseInitialUrl()},error:function(e){t.broadcastMessage("error")}}):this.parseInitialUrl()}},{key:"setParameter",value:function(e,t){this.parameters[e]=t}},{key:"getParameter",value:function(e){return!!this.parameters[e]&&this.parameters[e]}},{key:"parseInitialUrl",value:function(){var e,t,n=this;if("code"===this.parameters.responseType){var a=this.getCodeFromQuery();if(a)this.getRefreshTokenFromCode(a,(function(e){e?(n.refreshToken=e.refresh_token,n.storeRefreshToken(n.refreshToken),e.access_token?(n.accessToken={access_token:e.access_token,iat:e.iat,expires_in:parseInt(e.expires_in)},n.storeAccessToken(n.accessToken),e.id_token&&(n.idToken=e.id_token,n.storeIDToken(n.idToken)),n.broadcastMessage("connected",n.accessToken.access_token,n.accessToken.expires_in),n.getConnectedProfile((function(e,t){e?n.broadcastMessage("profile",null,null,t):n.broadcastMessage("profile",null,null,!1)})),n.refreshTokenLoop(e.refresh_token,n.accessToken.expires_in)):n.broadcastMessage("disconnected")):n.broadcastMessage("disconnected")})),window.history.pushState(null,"",document.location.href.split("?")[0]);else if((e=this.getStoredData())&&e.accessToken&&this.isTokenValid(e.accessToken)){this.accessToken=e.accessToken;var r=new Date,o=Math.floor((1e3*(this.accessToken.iat+this.accessToken.expires_in)-r.getTime())/1e3);if(this.broadcastMessage("connected",this.accessToken.access_token,o),this.getConnectedProfile((function(e,t){e?n.broadcastMessage("profile",null,null,t):n.broadcastMessage("profile",null,null,!1)})),e.refreshToken){r=new Date;var i=Math.floor((1e3*(this.accessToken.iat+this.accessToken.expires_in)-r.getTime())/1e3);this.refreshTokenLoop(e.refreshToken,i)}}else e&&e.refreshToken?(this.accessToken=!1,this.refreshToken=e.refreshToken,this.storeAccessToken(!1),this.executeRefreshToken(e.refreshToken,(function(t,a){if(t){var r=new Date;n.accessToken=a,n.storeAccessToken(a);var o=Math.floor((1e3*(a.iat+a.expires_in)-r.getTime())/1e3);n.refreshTokenLoop(e.refreshToken,o),n.broadcastMessage("connected",a.access_token,o),n.getConnectedProfile((function(e,t){e?n.broadcastMessage("profile",null,null,t):n.broadcastMessage("profile",null,null,!1)}))}else n.broadcastMessage("disconnected"),n.storeIDToken(!1)}))):this.broadcastMessage("disconnected")}else{if(this.parameters.responseType.search("token")>-1)if(t=this.getAccessTokenFromFragment())this.accessToken=t,this.storeAccessToken(t),this.broadcastMessage("connected",this.accessToken.access_token,this.accessToken.expires_in);else if((e=this.getStoredData())&&e.accessToken&&this.isTokenValid(e.accessToken)){r=new Date,this.accessToken=e.accessToken;var s=Math.floor((1e3*(e.accessToken.iat+e.accessToken.expires_in)-r.getTime())/1e3);this.broadcastMessage("connected",this.accessToken.access_token,s)}else this.broadcastMessage("disconnected"),this.accessToken=!1,this.storeAccessToken(!1),this.storeIDToken(!1);this.parameters.responseType.search("id_token")>-1&&(this.getQueryParams(document.location.hash).id_token?(this.idToken=this.getQueryParams(document.location.hash).id_token,this.storeIDToken(this.idToken)):(e=this.getStoredData())&&e.IDToken?this.idToken=e.IDToken:this.idToken=!1),this.getConnectedProfile((function(e,t){e?n.broadcastMessage("profile",null,null,t):n.broadcastMessage("profile",null,null,!1)}))}}},{key:"getQueryParams",value:function(e){e=e.split("+").join(" ");var t,n={},a=/[#&]?([^=]+)=([^&]*)/g;for(t=a.exec(e);t;)n[decodeURIComponent(t[1])]=decodeURIComponent(t[2]),t=a.exec(e);return n}},{key:"getAccessTokenFromFragment",value:function(){var e=this.getQueryParams(document.location.hash),t=new Date;return!(!e.access_token||!e.expires_in)&&{access_token:e.access_token,expires_in:parseInt(e.expires_in),iat:Math.floor(t.getTime()/1e3)}}},{key:"getCodeFromQuery",value:function(){return this.getQueryParams(document.location.search.substring(1)).code||!1}},{key:"refresh",value:function(e){var t=this;"code"===this.parameters.responseType&&this.refreshToken?this.executeRefreshToken(this.refreshToken,(function(n,a){n&&(t.accessToken=a,t.storeAccessToken(a),t.refreshTokenLoop(t.refreshToken,t.accessToken.expires_in),t.broadcastMessage("refresh",a.access_token,a.expires_in),e(a.access_token))})):e(!1)}},{key:"getStatus",value:function(){return this.accessToken&&this.isTokenValid(this.accessToken)?"connected":(this.accessToken=!1,"disconnected")}},{key:"storeAccessToken",value:function(e){var t=this.getStoredData();return t||(t={}),t.accessToken=e,"local"===this.parameters.storageType?localStorage.setItem(this.localStorageKey,JSON.stringify(t)):"cookie"===this.parameters.storageType&&Ln.set(this.localStorageKey,JSON.stringify(t))}},{key:"storeIDToken",value:function(e){var t=this.getStoredData();return t||(t={}),t.IDToken=e,"local"===this.parameters.storageType?localStorage.setItem(this.localStorageKey,JSON.stringify(t)):"cookie"===this.parameters.storageType&&Ln.set(this.localStorageKey,JSON.stringify(t))}},{key:"storeRefreshToken",value:function(e){var t=this.getStoredData();return t||(t={}),t.refreshToken=e,"local"===this.parameters.storageType?localStorage.setItem(this.localStorageKey,JSON.stringify(t)):"cookie"===this.parameters.storageType&&Ln.set(this.localStorageKey,JSON.stringify(t))}},{key:"storeNonce",value:function(e){var t=this.getStoredData();return t||(t={}),t.nonce=e,"local"===this.parameters.storageType?localStorage.setItem(this.localStorageKey,JSON.stringify(t)):"cookie"===this.parameters.storageType&&Ln.set(this.localStorageKey,JSON.stringify(t))}},{key:"storePkce",value:function(e){var t=this.getStoredData();return t||(t={}),t.pkce=e,"local"===this.parameters.storageType?localStorage.setItem(this.localStorageKey,JSON.stringify(t)):"cookie"===this.parameters.storageType&&Ln.set(this.localStorageKey,JSON.stringify(t))}},{key:"makeRandomString",value:function(e){var t=new Uint8Array(e),n="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=a.length;window.crypto.getRandomValues(t);for(var o=0;o<e;o++){for(;t[o]>=r;){var i=new Uint8Array(1);window.crypto.getRandomValues(i),t[o]=i[0]}n+=a.charAt(t[o])}return n}},{key:"getStoredData",value:function(){if("local"===this.parameters.storageType)return JSON.parse(localStorage.getItem(this.localStorageKey))||{};if("cookie"!==this.parameters.storageType)return{};try{return JSON.parse(Ln.get(this.localStorageKey))||{}}catch(e){return{}}}},{key:"onChangeStatus",value:function(e){this.changeStatusCb.push(e)}},{key:"isTokenValid",value:function(e){if(e){var t=new Date;return 1e3*(e.iat+e.expires_in)>t.getTime()}return!1}},{key:"getRefreshTokenFromCode",value:function(e,t){var n=this,a={grant_type:"authorization_code",client_id:this.parameters.clientId,redirect_uri:this.parameters.redirectUri,code:e},r=this.getStoredData();this.parameters.usePkce&&r.pkce&&(a.code_verifier=r.pkce),$.ajax({type:"POST",url:this.parameters.tokenUrl,data:a,success:function(e,n,a){t(e)},error:function(e){403===e.status&&(n.refreshToken=!1),n.accessToken=!1,t(!1)}})}},{key:"refreshTokenLoop",value:function(e,t){var n=this;this.parameters.refreshTokenLoop&&(clearTimeout(this.refreshTimeout),this.refreshTimeout=setTimeout((function(){n.executeRefreshToken(e,(function(t,a){if(t){var r=new Date,o=Math.floor((1e3*(a.iat+a.expires_in)-r.getTime())/1e3);n.refreshTokenLoop(e,o)}}))}),1e3*(t-60)))}},{key:"runRefreshToken",value:function(e){return this.getStoredData().refreshToken?this.executeRefreshToken(this.getStoredData().refreshToken,e):$.Deferred().reject("disconnected")}},{key:"executeRefreshToken",value:function(e,t){var n=this;return $.ajax({type:"POST",url:this.parameters.tokenUrl,data:{grant_type:"refresh_token",refresh_token:e},success:function(e,a,r){n.accessToken=e.access_token,n.storeAccessToken(e),n.broadcastMessage("refresh",e.access_token,e.expires_in),t&&t(!0,e)},error:function(e){403!==e.status&&400!==e.status||(n.refreshToken=!1),n.accessToken=!1,n.storeAccessToken(!1),n.storeRefreshToken(!1),0===e.readyState?n.broadcastMessage("network error"):n.broadcastMessage("disconnected"),t&&t(!1)}}).then((function(e){return{token:e.access_token,expires_in:e.expires_in}}))}},{key:"broadcastMessage",value:function(e,t,n,a){for(var r in this.changeStatusCb)this.changeStatusCb[r](e,t,n,a)}},{key:"getConnectedProfile",value:function(e){var t=this;this.getStoredData().IDToken&&this.jwks?Zt(this.getStoredData().IDToken,this.jwks).then((function(t){e&&e(!0,t.payload)})).catch((function(n){t.storeIDToken(!1),"ERR_JWT_EXPIRED"===n.code?$.ajax({type:"GET",url:t.parameters.userinfoUrl,headers:{Authorization:"Bearer "+t.accessToken.access_token},success:function(t){e&&e(!0,t)},error:function(n){t.accessToken=!1,t.storeAccessToken(!1),t.storeRefreshToken(!1),e&&e(!0,"error")}}):(t.accessToken=!1,t.storeAccessToken(!1),t.storeRefreshToken(!1),e&&e(!0,"error"))})):this.parameters.userinfoUrl&&this.accessToken?$.ajax({type:"GET",url:this.parameters.userinfoUrl,headers:{Authorization:"Bearer "+this.accessToken.access_token},success:function(t){e&&e(!0,t)},error:function(n){t.accessToken=!1,t.storeAccessToken(!1),t.storeRefreshToken(!1),t.storeIDToken(!1),e&&e(!0,"error")}}):e&&e(!1)}},{key:"connect",value:function(){var e=this;this.storeAccessToken(!1),this.storeRefreshToken(!1),this.storeIDToken(!1);var t=this.getStoredData();if(t&&this.isTokenValid(t.accessToken)){var n=new Date,a=Math.floor((1e3*(t.iat+t.expires_in)-n.getTime())/1e3);this.broadcastMessage("connected",t.accessToken.access_token,a),this.getConnectedProfile((function(t,n){t?e.broadcastMessage("profile",null,null,n):e.broadcastMessage("profile",null,null,!1)}))}else{t.accessToken=!1;var r=this.makeRandomString(16);if(this.storeAccessToken(!1),this.storeNonce(r),this.parameters.usePkce&&"code"===this.parameters.responseType){var o=this.makeRandomString(64);this.storePkce(o);var i=new TextEncoder,s=this.parameters.scope;-1===s.search("openid")&&(s+=" openid"),crypto.subtle.digest("SHA-256",i.encode(o)).then((function(t){var n=e.base64UrlArrayBuffer(t);document.location=e.parameters.authUrl+"?response_type="+e.parameters.responseType+"&client_id="+e.parameters.clientId+"&redirect_uri="+e.parameters.redirectUri+"&scope="+s+"&nonce="+r+"&code_challenge_method=S256&code_challenge="+n}))}else{var c=this.parameters.scope;this.parameters.responseType.search("id_token")>-1&&-1===c.search("openid")&&(c+=" openid"),document.location=this.parameters.authUrl+"?response_type="+this.parameters.responseType+"&client_id="+this.parameters.clientId+"&redirect_uri="+this.parameters.redirectUri+"&scope="+c+"&nonce="+r}}}},{key:"disconnect",value:function(){clearTimeout(this.refreshTimeout),"local"===this.parameters.storageType?localStorage.removeItem(this.localStorageKey):"cookie"===this.parameters.storageType&&Ln.remove(this.localStorageKey),this.refreshToken=!1,this.accessToken=!1,this.storeAccessToken(!1),this.storeRefreshToken(!1),this.storeIDToken(!1),this.broadcastMessage("disconnected")}},{key:"base64UrlArrayBuffer",value:function(e){for(var t,n="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",r=new Uint8Array(e),o=r.byteLength,i=o%3,s=o-i,c=0;c<s;c+=3)n+=a[(16515072&(t=r[c]<<16|r[c+1]<<8|r[c+2]))>>18]+a[(258048&t)>>12]+a[(4032&t)>>6]+a[63&t];return 1==i?n+=a[(252&(t=r[s]))>>2]+a[(3&t)<<4]:2==i&&(n+=a[(64512&(t=r[s]<<8|r[s+1]))>>10]+a[(1008&t)>>4]+a[(15&t)<<2]),n}}],n&&Fn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const Wn=new Hn;function Bn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var Jn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.apiPrefix="",this.token="",this.token_expires_at=0,this.signJwk=!1,this.counter=0}var t,n;return t=e,n=[{key:"setConfig",value:function(e){this.apiPrefix=e}},{key:"setToken",value:function(e,t){this.token=e,this.token_expires_at=t}},{key:"setSignJwk",value:function(e){this.signJwk=e}},{key:"getConfig",value:function(e){return this.apiPrefix}},{key:"request",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/json; charset=utf-8";if(this.counter<=100){this.counter++;var o=new Date;return!this.token||1e3*this.token_expires_at>o.getTime()?(this.counter--,this.APIRequestExecute(e,n,a,r)):(this.counter--,Wn.runRefreshToken().then((function(i){return t.token=i.token,t.token_expires_at=o.getTime()/1e3+i.expires_in,t.APIRequestExecute(e,n,a,r)})).fail((function(){Dn.sendMessage("App",{action:"sessionTimeout"})})))}return $.Deferred().reject("error too busy")}},{key:"APIRequestExecute",value:function(e,t,n,a){var r={Authorization:"Bearer "+this.token,accept:a},o=null,i=n?JSON.stringify(n):null;return n&&(o="application/json; charset=utf-8"),$.ajax({method:t,url:e,data:i,contentType:o,headers:r}).fail((function(e){401===e.status&&Dn.sendMessage("App",{action:"sessionTimeout"})}))}},{key:"requestSigned",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.request(e,n,a).then((function(e,n,a){return"application/jwt"===a.getResponseHeader("content-type")?t.signJwk?Zt(e,t.signJwk):$.Deferred().reject("No public key to verify signature"):$.Deferred().reject("invalid content-type")}))}}],n&&Bn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const zn=new Jn;function Vn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var qn=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state=0,this.changeCallback=[],window.onhashchange=function(){t.changeCallback.forEach((function(e){e(t.getCurrentRoute())}))}}var t,n;return t=e,(n=[{key:"addChangeRouteCallback",value:function(e){this.changeCallback.push(e)}},{key:"getCurrentRoute",value:function(){var e=window.location.hash;return!!e&&e.substring(1)}},{key:"addRoute",value:function(e){history.pushState({id:"state-"+this.state++},"","#"+e)}}])&&Vn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const $n=new qn;function Gn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var Qn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.storageType=!1}var t,n;return t=e,(n=[{key:"setStorageType",value:function(e){if("local"===e){var t="testLocalStorage";try{localStorage.setItem(t,t),localStorage.removeItem(t),this.storageType="local"}catch(e){this.storageType="cookie"}}else this.storageType=e}},{key:"setValue",value:function(e,t){return"local"===this.storageType?localStorage.setItem(e,JSON.stringify(t)):"cookie"===this.storageType&&Ln.set(e,JSON.stringify(t))}},{key:"removeValue",value:function(e){return"local"===this.storageType?localStorage.removeItem(e):"cookie"===this.storageType&&Ln.remove(e)}},{key:"getValue",value:function(e){if("local"===this.storageType)return JSON.parse(localStorage.getItem(e))||!1;if("cookie"!==this.storageType)return!1;try{return JSON.parse(Ln.get(e))||!1}catch(e){return!1}}}])&&Gn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const Xn=new Qn;function Yn(e){return Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yn(e)}function Zn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ea(e,t){return ea=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ea(e,t)}function ta(e,t){if(t&&("object"===Yn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return na(e)}function na(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aa(e){return aa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},aa(e)}var ra=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ea(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=aa(o);if(i){var n=aa(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ta(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={message:[],counter:0,loggedIn:e.loggedIn},Dn.subscribe("Notification",(function(e){if(e.type){var n=t.state.message;n.push({type:e.type,message:e.message,id:t.state.counter}),t.setState({message:n,counter:t.state.counter+1},(function(){var n=e.autohide;void 0===n&&(n=!0),$("#toast-"+(t.state.counter-1)).toast({animation:!0,autohide:n}).toast("show")}))}})),t.close=t.close.bind(na(t)),t}return t=c,n=[{key:"close",value:function(e){var t=this,n=this.state.message;n.forEach((function(a,r){a.id===e&&(n.splice(r,1),t.setState({message:n}))}))}},{key:"render",value:function(){var e=this,t=[],n=this.state.loggedIn;return this.state.message.forEach((function(e){"danger"!==e.type&&"warning"!==e.type||(n=!0)})),n&&this.state.message.forEach((function(n,r){var o;o="success"===n.type?a.createElement("i",{className:"fa fa-check-square-o btn-icon text-success"}):"danger"===n.type?a.createElement("i",{className:"fa fa-exclamation-circle text-danger btn-icon"}):"warning"===n.type?a.createElement("i",{className:"fa fa-exclamation-triangle text-warning btn-icon"}):a.createElement("i",{className:"fa fa-info-circle btn-icon text-info"}),t.push(a.createElement("div",{className:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true",key:r,id:"toast-"+n.id},a.createElement("div",{className:"toast-header"},o,a.createElement("strong",{className:"me-auto"},"Hutch"),a.createElement("button",{"aria-label":"Close",className:"btn-close","data-bs-dismiss":"toast",type:"button",onClick:function(t){return e.close(n.id)}})),a.createElement("div",{className:"toast-body"},n.message)))})),a.createElement("div",{className:"position-fixed",style:{top:45,right:20,zIndex:9999}},t)}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],n&&Zn(t.prototype,n),r&&Zn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const oa=ra;function ia(e){return ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ia(e)}function sa(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ca(e,t){return ca=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ca(e,t)}function la(e,t){if(t&&("object"===ia(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ua(e){return ua=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ua(e)}var fa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ca(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ua(o);if(i){var n=ua(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return la(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={status:e.status},t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"logOut",value:function(){Wn.disconnect()}},{key:"logIn",value:function(){Wn.connect()}},{key:"render",value:function(){return"connecting"===this.state.status?a.createElement("a",{className:"nav-link",onClick:this.logIn,href:"#"},he.t("connecting")):"connected"===this.state.status?a.createElement("a",{className:"nav-link",onClick:this.logOut,href:"#"},he.t("log_out")):a.createElement("a",{className:"nav-link",onClick:this.logIn,href:"#"},he.t("log_in"))}}])&&sa(t.prototype,n),r&&sa(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const da=fa;function pa(e){return pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pa(e)}function ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ha(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ya(e,t){return ya=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ya(e,t)}function ga(e,t){if(t&&("object"===pa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ba(e)}function ba(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function va(e){return va=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},va(e)}var wa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ya(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=va(o);if(i){var n=va(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ga(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={config:e.config,oidcStatus:e.oidcStatus,safeList:e.safeList,safeContent:e.safeContent,curSafe:e.curSafe,hasProfile:e.hasProfile},t.navigateTo=t.navigateTo.bind(ba(t)),t}return t=c,n=[{key:"navigateTo",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.preventDefault(),$n.addRoute(t||""),Dn.sendMessage("App",{action:"nav",target:t,offline:n})}},{key:"navigateoConfig",value:function(e){e.preventDefault(),Dn.sendMessage("App",{action:"config"})}},{key:"openGenerateModal",value:function(e){e.preventDefault(),Dn.sendMessage("App",{action:"generate"})}},{key:"offlineSafe",value:function(e){e.preventDefault(),Dn.sendMessage("App",{action:"offline"})}},{key:"render",value:function(){var e=this,t=[];return this.state.safeList.forEach((function(n,r){var o;o=n.offline?n.updated?a.createElement("i",{className:"fa fa-paper-plane btn-icon-right","aria-hidden":"true"}):a.createElement("i",{className:"fa fa-plane btn-icon-right","aria-hidden":"true"}):e.state.safeContent&&e.state.safeContent[n.name]&&e.state.safeContent[n.name].key?a.createElement("i",{className:"fa fa-unlock btn-icon-right","aria-hidden":"true"}):a.createElement("i",{className:"fa fa-lock btn-icon-right","aria-hidden":"true"});var i="nav-link";e.state.curSafe.name===n.name&&(i+=" active"),t.push(a.createElement("li",{className:"nav-item",key:r},a.createElement("a",{className:i,"data-bs-toggle":"collapse","data-bs-target":".navbar-collapse.show",href:"#","aria-current":"page",onClick:function(t){return e.navigateTo(t,n.name)}},n.display_name||n.name,o)))})),"connected"===this.state.oidcStatus&&this.state.hasProfile,a.createElement("nav",{className:"navbar navbar-expand-lg nav-pills navbar-light bg-light"},a.createElement("div",{className:"container-fluid"},a.createElement("a",{className:"navbar-brand",href:"#",onClick:function(t){return e.navigateTo(t,!1)}},"Hutch"),a.createElement("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},a.createElement("span",{className:"navbar-toggler-icon"})),a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},a.createElement("ul",{className:"navbar-nav"},t),a.createElement("ul",{className:"navbar-nav ms-auto flex-nowrap text-right"},a.createElement("li",{className:"nav-item"},a.createElement("a",ma({className:"nav-link","data-bs-toggle":"collapse","data-bs-target":".navbar-collapse.show",href:"#",onClick:this.offlineSafe},"href","#"),a.createElement("i",{className:"fa fa-plane btn-icon-right","aria-hidden":"true"}))),a.createElement("li",{className:"nav-item"},a.createElement("a",ma({className:"nav-link","data-bs-toggle":"collapse","data-bs-target":".navbar-collapse.show",href:"#",onClick:function(t){return e.openGenerateModal(t)}},"href","#"),a.createElement("i",{className:"fa fa-magic btn-icon-right","aria-hidden":"true"}))),a.createElement("li",{className:"nav-item"},a.createElement("a",ma({className:"nav-link","data-bs-toggle":"collapse","data-bs-target":".navbar-collapse.show",href:"#",onClick:function(t){return e.navigateoConfig(t)}},"href","#"),a.createElement("i",{className:"fa fa-cog btn-icon-right","aria-hidden":"true"}))),a.createElement("li",{className:"nav-item"},a.createElement(da,{status:this.state.oidcStatus}))))))}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],n&&ha(t.prototype,n),r&&ha(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const Sa=wa;function Ea(e){return Ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ea(e)}function ka(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ca(e,t){return Ca=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ca(e,t)}function Pa(e,t){if(t&&("object"===Ea(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Oa(e)}function Oa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Na(e){return Na=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Na(e)}var xa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ca(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Na(o);if(i){var n=Na(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Pa(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={name:e.name,title:e.title,message:e.message,cb:e.cb},t.closeModal=t.closeModal.bind(Oa(t)),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"closeModal",value:function(e,t){this.state.cb&&this.state.cb(t)}},{key:"render",value:function(){var e=this;return a.createElement("div",{className:"modal",tabIndex:"-1",id:this.state.name},a.createElement("div",{className:"modal-dialog"},a.createElement("div",{className:"modal-content"},a.createElement("div",{className:"modal-header"},a.createElement("h5",{className:"modal-title"},this.state.title),a.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(t){return e.closeModal(t,!1)}})),a.createElement("div",{className:"modal-body"},a.createElement("p",null,this.state.message)),a.createElement("div",{className:"modal-footer"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.closeModal(t,!1)}},he.t("modalClose")),a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(t){return e.closeModal(t,!0)}},he.t("modalOk"))))))}}])&&ka(t.prototype,n),r&&ka(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const _a=xa;function Ta(e){return Ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ta(e)}function Ra(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ja(e,t){return ja=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ja(e,t)}function Aa(e,t){if(t&&("object"===Ta(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Da(e)}function Da(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ma(e){return Ma=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ma(e)}var La=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ja(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ma(o);if(i){var n=Ma(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Aa(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={config:e.config,hutchProfile:e.hutchProfile,imageError:!1,nameMandatory:!1,messageMandatory:!1,imageMandatory:!1,imageLoading:!1},t.editProfile=t.editProfile.bind(Da(t)),t.cancelEditProfile=t.cancelEditProfile.bind(Da(t)),t.editKey=t.editKey.bind(Da(t)),t.editMessage=t.editMessage.bind(Da(t)),t.getRandomWikimediaImage=t.getRandomWikimediaImage.bind(Da(t)),t.uploadImage=t.uploadImage.bind(Da(t)),t.onUploadImage=t.onUploadImage.bind(Da(t)),t.saveProfile=t.saveProfile.bind(Da(t)),t.removeProfile=t.removeProfile.bind(Da(t)),t.removeProfileConfirm=t.removeProfileConfirm.bind(Da(t)),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"editProfile",value:function(){var e=this.state.hutchProfile;e.name||(e.name=this.state.profile.name),e.sign_kid||(e.sign_kid=this.state.config.jwks.keys[0].kid),this.setState({editProfile:!0,hutchProfile:e})}},{key:"cancelEditProfile",value:function(){Dn.sendMessage("App",{action:"getProfile"})}},{key:"editKey",value:function(e){var t=this.state.hutchProfile;t.sign_kid=e.target.value,this.setState({hutchProfile:t})}},{key:"editMessage",value:function(e){var t=this.state.hutchProfile;t.message=e.target.value,this.setState({hutchProfile:t})}},{key:"editName",value:function(e){var t=this.state.hutchProfile;t.name=e.target.value,this.setState({hutchProfile:t})}},{key:"getRandomWikimediaImage",value:function(){var e=this;this.setState({imageLoading:!0},(function(){$.ajax({url:"https://commons.wikimedia.org/w/api.php?action=query&list=random&rnnamespace=6&rnlimit=1&prop=imageinfo&format=json&origin=*"}).then((function(t){$.ajax({url:"https://commons.wikimedia.org/w/api.php?action=query&prop=imageinfo&iiprop=url&iiurlwidth=200&format=json&origin=*&titles="+t.query.random[0].title}).then((function(n){var a=new XMLHttpRequest;a.open("GET",n.query.pages[t.query.random[0].id].imageinfo[0].responsiveUrls[1.5],!0),a.responseType="arraybuffer",a.onload=function(t){a.response;var n=e.state.hutchProfile;n.picture="data:"+a.getResponseHeader("content-type")+";base64,"+btoa(String.fromCharCode.apply(null,new Uint8Array(a.response))),e.setState({hutchProfile:n,imageError:!1,imageLoading:!1})},a.send(null)})).catch((function(){Dn.sendMessage("Notification",{type:"warning",message:he.t("messageErrorWikiImage")}),e.setState({imageError:!0,imageLoading:!1})}))})).catch((function(){Dn.sendMessage("Notification",{type:"warning",message:he.t("messageErrorWikiImage")}),e.setState({imageError:!0,imageLoading:!1})}))}))}},{key:"uploadImage",value:function(){$("#uploadImageInput").trigger("click")}},{key:"onUploadImage",value:function(e){var t=this,n=e.target.files;if(n.length>0){var a=n[0];if(a.size>409600)this.setState({imageError:!0});else{var r=new FileReader;r.onload=function(e){var n=t.state.hutchProfile;n.picture=e.target.result,t.setState({hutchProfile:n,imageError:!1})},r.readAsDataURL(a)}}}},{key:"saveProfile",value:function(e){e.preventDefault();var t=this.state.hutchProfile;t.message&&t.name&&t.picture?zn.request(this.state.config.profile_endpoint,"PUT",t).then((function(){Dn.sendMessage("App",{action:"getProfile"}),Dn.sendMessage("Notification",{type:"info",message:he.t("messageProfileSaved")})})).catch((function(){Dn.sendMessage("Notification",{type:"warning",message:he.t("messageErrorSaveProfile")})})):this.setState({messageMandatory:!t.message,nameMandatory:!t.name,imageMandatory:!t.picture})}},{key:"removeProfile",value:function(){new bootstrap.Modal(document.getElementById("removeProfile"),{keyboard:!1}).show()}},{key:"removeProfileConfirm",value:function(e){e&&zn.request(this.state.config.profile_endpoint,"DELETE").then((function(){Dn.sendMessage("App",{action:"resetProfile"}),Dn.sendMessage("Notification",{type:"info",message:he.t("messageRemoveProfile")})})).catch((function(){Dn.sendMessage("Notification",{type:"warning",message:he.t("messageErrorSaveProfile")})})),bootstrap.Modal.getOrCreateInstance(document.querySelector("#removeProfile")).hide()}},{key:"render",value:function(){var e,t,n,r,o=this,i=[];this.state.config.jwks.keys.forEach((function(e,t){i.push(a.createElement("option",{value:e.kid,key:t},e.alg))})),this.state.imageLoading?e=a.createElement("i",{className:"fa fa-spinner fa-spin fa-3x fa-fw"}):this.state.hutchProfile.picture&&(e=a.createElement("img",{src:this.state.hutchProfile.picture,alt:"profile image",className:"profile-image"}));var s="form-control";this.state.messageMandatory&&(s+=" is-invalid",n=a.createElement("div",{className:"invalid-feedback"},he.t("profileMessageMandatory")));var c="form-control";return this.state.nameMandatory&&(c+=" is-invalid",r=a.createElement("div",{className:"invalid-feedback"},he.t("profileNameMandatory"))),this.state.imageMandatory&&(t=a.createElement("div",{className:"alert alert-danger"},he.t("profileImageMandatory"))),a.createElement("div",null,a.createElement("form",{onSubmit:this.saveProfile},a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"keyList",className:"form-label"},he.t("profileServerKey")),a.createElement("select",{className:"form-select","aria-label":"public key",id:"keyList",onChange:function(e){return o.editKey(e)},value:this.state.hutchProfile.sign_kid},i)),a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"profileName",className:"form-label"},he.t("profileName")),a.createElement("input",{type:"text",className:c,id:"profileName",value:this.state.hutchProfile.name||"",onChange:function(e){return o.editName(e)}}),r),a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"profileMessage",className:"form-label"},he.t("profileMessage")),a.createElement("textarea",{className:s,id:"profileMessage",value:this.state.hutchProfile.message||"",onChange:function(e){return o.editMessage(e)},maxLength:"512"}),n),a.createElement("div",{className:"mb-3"},a.createElement("label",{className:"form-label"},he.t("profileImage")),a.createElement("div",null,e,t)),a.createElement("div",{className:"mb-3"},a.createElement("input",{type:"file",id:"uploadImageInput",onChange:this.onUploadImage,accept:".jpg,.jpg,.png,.gif,.bmp",className:"upload"}),a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.uploadImage},he.t("profileImageSelect")),a.createElement("span",{className:"badge bg-secondary btn-icon btn-icon-right"},he.t("or")),a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.getRandomWikimediaImage},he.t("profileImageRandom"))),a.createElement("hr",null),a.createElement("div",{className:"btn-toolbar justify-content-between",role:"toolbar"},a.createElement("div",{className:"btn-group",role:"group"},a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.saveProfile},he.t("profileSubmit")),a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.cancelEditProfile},he.t("profileCancel"))),a.createElement("div",{className:"input-group"},a.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.removeProfile},a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"}))))),a.createElement(_a,{name:"removeProfile",title:he.t("removeProfileTitle"),message:he.t("removeProfileMessage"),cb:this.removeProfileConfirm}))}}])&&Ra(t.prototype,n),r&&Ra(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const Ia=La;function Ka(e){return Ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ka(e)}function Ua(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Fa(e,t){return Fa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fa(e,t)}function Ha(e,t){if(t&&("object"===Ka(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Wa(e){return Wa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wa(e)}var Ba=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fa(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Wa(o);if(i){var n=Wa(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ha(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={config:e.config,profile:e.profile,hutchProfile:e.hutchProfile},t}return t=c,n=[{key:"editProfile",value:function(){Dn.sendMessage("App",{action:"editProfile"})}},{key:"lockAllSafe",value:function(){Dn.sendMessage("App",{action:"lockAllSafe"}),Dn.sendMessage("Notification",{type:"info",message:he.t("lockedAllSafe")})}},{key:"addSafe",value:function(){Dn.sendMessage("App",{action:"addSafe"})}},{key:"render",value:function(){var e,t;if(this.state.hutchProfile){var n=this.state.hutchProfile.message;this.state.config.frontend.offline?n=he.t("offlineProfileMessage"):t=a.createElement("div",{className:"d-flex justify-content-center"},a.createElement("button",{type:"button",onClick:this.editProfile,className:"btn btn-secondary"},he.t("profileEdit"))),e=a.createElement("div",null,a.createElement("div",{className:"d-flex justify-content-center"},a.createElement("img",{src:this.state.hutchProfile.picture,className:"card-img-top profile-image"})),a.createElement("div",{className:"d-flex justify-content-center"},a.createElement("p",null,n)))}else t=a.createElement("button",{type:"button",onClick:this.editProfile,className:"btn btn-secondary"},he.t("profileCreate"));return a.createElement("div",null,a.createElement("div",{className:"alert alert-primary",role:"alert"},he.t("profileValue",{name:this.state.hutchProfile.name||this.state.profile.name||""}),a.createElement("div",{className:"btn-group float-end",role:"group"},a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.lockAllSafe,title:he.t("lockAllSafe")},a.createElement("i",{className:"fa fa-lock","aria-hidden":"true"})),a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.addSafe,title:he.t("addSafe")},a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})))),e,t)}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],n&&Ua(t.prototype,n),r&&Ua(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const Ja=Ba;function za(e){return za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},za(e)}function Va(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function qa(e,t){return qa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qa(e,t)}function $a(e,t){if(t&&("object"===za(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ga(e){return Ga=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ga(e)}var Qa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qa(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ga(o);if(i){var n=Ga(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return $a(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={config:e.config,profile:e.profile,hutchProfile:e.hutchProfile,hasProfile:e.hasProfile,editProfile:e.editProfile,oidcStatus:e.oidcStatus},t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"render",value:function(){return"connecting"===this.state.oidcStatus?a.createElement("div",{className:"alert alert-success",role:"alert"},he.t("connectingMessage")):"disconnected"===this.state.oidcStatus?a.createElement("div",{className:"alert alert-warning",role:"alert"},he.t("disconnectedMessage")):this.state.editProfile?a.createElement(Ia,{config:this.state.config,hutchProfile:this.state.hutchProfile}):a.createElement(Ja,{config:this.state.config,hutchProfile:this.state.hutchProfile,profile:this.state.profile})}}])&&Va(t.prototype,n),r&&Va(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const Xa=Qa;function Ya(e){return Ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ya(e)}function Za(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function er(e,t){return er=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},er(e,t)}function tr(e,t){if(t&&("object"===Ya(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nr(e)}function nr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ar(e){return ar=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ar(e)}var rr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&er(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ar(o);if(i){var n=ar(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return tr(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={isError:e.isError,ph:e.ph,cb:e.cb,value:"",filename:""},t.changeValue=t.changeValue.bind(nr(t)),t.getFile=t.getFile.bind(nr(t)),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changeValue",value:function(e){var t=this;this.setState({value:e.target.value,filename:""},(function(){t.state.cb(t.state.value)}))}},{key:"getFile",value:function(e){var t=this,n=e.target.files[0],a=new FileReader;a.onload=function(e){t.setState({value:e.target.result,filename:n.name},(function(){t.state.cb(t.state.value)}))},a.readAsText(n)}},{key:"render",value:function(){var e,t,n=this,r="form-control";return this.state.isError&&(r+=" is-invalid",e=a.createElement("div",{className:"invalid-feedback"},he.t("jwkError"))),this.state.filename&&(t=a.createElement("code",{className:"btn-icon-right"},this.state.filename)),a.createElement("div",null,a.createElement("div",{className:"input-group"},a.createElement("textarea",{className:r,autoComplete:"off",placeholder:this.state.ph,value:this.state.value,onChange:function(e){return n.changeValue(e)}}),a.createElement("input",{type:"file",className:"upload",id:"jwkFile",onChange:this.getFile}),a.createElement("label",{htmlFor:"jwkFile",className:"btn btn-outline-secondary btn-sm"},a.createElement("i",{className:"fa fa-cloud-upload","aria-hidden":"true"})),e),t)}}])&&Za(t.prototype,n),r&&Za(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const or=rr;function ir(e){return ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ir(e)}function sr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function cr(e,t){return cr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cr(e,t)}function lr(e,t){if(t&&("object"===ir(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ur(e)}function ur(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fr(e){return fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fr(e)}var dr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cr(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=fr(o);if(i){var n=fr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return lr(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={safeKey:e.safeKey,cb:e.callback,newPassword:"",confirmNewPassword:"",prefixPassword:"",confirmPrefixPassword:"",safeKeyJwk:"",keyName:"",pwdScore:-1,isValid:!1},t.changeNewPassword=t.changeNewPassword.bind(ur(t)),t.changeConfirmNewPassword=t.changeConfirmNewPassword.bind(ur(t)),t.changePrefixPassword=t.changePrefixPassword.bind(ur(t)),t.changeConfirmPrefixPassword=t.changeConfirmPrefixPassword.bind(ur(t)),t.editSafeKeyJwk=t.editSafeKeyJwk.bind(ur(t)),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changeDisplayName",value:function(e){var t=this,n=this.state.safeKey;n.display_name=e.target.value,this.setState({safeKey:n},(function(){t.isSafeKeyValid()}))}},{key:"changeNewPassword",value:function(e){var t=this,n=-1;e.target.value&&(n=zxcvbn(e.target.value).score),this.setState({newPassword:e.target.value,pwdScore:n},(function(){t.isSafeKeyValid()}))}},{key:"changeConfirmNewPassword",value:function(e){var t=this;this.setState({confirmNewPassword:e.target.value},(function(){t.isSafeKeyValid()}))}},{key:"changePrefixPassword",value:function(e){this.setState({prefixPassword:e.target.value})}},{key:"changeConfirmPrefixPassword",value:function(e){var t=this;this.setState({confirmPrefixPassword:e.target.value},(function(){t.isSafeKeyValid()}))}},{key:"editSafeKeyJwk",value:function(e){var t=this;this.setState({safeKeyJwk:e},(function(){t.isSafeKeyValid()}))}},{key:"isSafeKeyValid",value:function(){var e=!0;if(this.state.safeKey.display_name||(e=!1),"password"===this.state.safeKey.type)this.state.newPassword||(e=!1),this.state.newPassword!==this.state.confirmNewPassword&&(e=!1);else if("master-password"===this.state.safeKey.type)this.state.newPassword||(e=!1),this.state.prefixPassword&&this.state.prefixPassword!==this.state.confirmPrefixPassword&&(e=!1);else if("jwk"===this.state.safeKey.type)try{var t=JSON.parse(this.state.safeKeyJwk);t.keys&&(t=t.keys[0]),t&&t.alg||(e=!1)}catch(t){e=!1}this.setState({isValid:e})}},{key:"saveSafe",value:function(e){e.preventDefault(),this.state.isValid&&this.closeModal(e,!0)}},{key:"closeModal",value:function(e,t){var n;try{n=JSON.parse(this.state.safeKeyJwk)}catch(e){n=!1}this.state.cb&&(this.state.cb(t,{safeKey:this.state.safeKey,password:this.state.prefixPassword+this.state.newPassword,prefixPassword:!!this.state.prefixPassword,jwk:n}),this.setState({newPassword:"",confirmNewPassword:"",pwdScore:-1,isValid:!1}))}},{key:"render",value:function(){var e,t,n=this;if("password"===this.state.safeKey.type)0===this.state.pwdScore?e=a.createElement("span",{className:"badge bg-danger"},he.t("pwdScoreTooGuessable")):1===this.state.pwdScore?e=a.createElement("span",{className:"badge bg-warning"},he.t("pwdScoreVeryGuessable")):2===this.state.pwdScore?e=a.createElement("span",{className:"badge bg-secondary"},he.t("pwdScoreSomewhatGuessable")):3===this.state.pwdScore?e=a.createElement("span",{className:"badge bg-primary"},he.t("pwdScoreSafelyUnguessable")):4===this.state.pwdScore&&(e=a.createElement("span",{className:"badge bg-success"},he.t("pwdScoreVeryUnguessable"))),t=a.createElement("div",null,a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"newPassword",className:"form-label"},he.t("newPassword")),a.createElement("input",{type:"password",autoComplete:"off",className:"form-control",id:"newPassword",placeholder:he.t("newPasswordPh"),value:this.state.newPassword,onChange:function(e){return n.changeNewPassword(e)}}),e),a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"confirmNewPassword",className:"form-label"},he.t("confirmNewPassword")),a.createElement("input",{type:"password",autoComplete:"off",className:"form-control",id:"confirmNewPassword",placeholder:he.t("confirmNewPasswordPh"),value:this.state.confirmNewPassword,onChange:function(e){return n.changeConfirmNewPassword(e)}})));else if("master-password"===this.state.safeKey.type)t=a.createElement("div",null,a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"prefixPassword",className:"form-label"},he.t("prefixPassword")),a.createElement("input",{type:"password",autoComplete:"off",className:"form-control",id:"prefixPassword",placeholder:he.t("prefixPasswordPh"),value:this.state.prefixPassword,onChange:function(e){return n.changePrefixPassword(e)}}),e),a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"confirmPrefixPassword",className:"form-label"},he.t("confirmPrefixPassword")),a.createElement("input",{type:"password",autoComplete:"off",className:"form-control",id:"confirmPrefixPassword",placeholder:he.t("confirmPrefixPasswordPh"),value:this.state.confirmPrefixPassword,onChange:function(e){return n.changeConfirmPrefixPassword(e)}})),a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"newPassword",className:"form-label"},he.t("masterPassword")),a.createElement("input",{type:"password",autoComplete:"off",className:"form-control",id:"newPassword",placeholder:he.t("masterPasswordPh"),value:this.state.newPassword,onChange:function(e){return n.changeNewPassword(e)}})));else if("jwk"===this.state.safeKey.type){var r;this.state.isValid||(r=a.createElement("div",{className:"invalid-feedback"},he.t("jwkError"))),t=a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"safeKeyJwk",className:"form-label"},he.t("safeKeyJwk")),a.createElement(or,{isError:!this.state.isValid,ph:he.t("safeKeyJwkPh"),cb:this.editSafeKeyJwk}),r)}return a.createElement("div",{className:"modal",tabIndex:"-1",id:"modalSafeKey"},a.createElement("div",{className:"modal-dialog"},a.createElement("div",{className:"modal-content"},a.createElement("div",{className:"modal-header"},a.createElement("h5",{className:"modal-title"},he.t("modalSafeKey-"+this.state.safeKey.type)),a.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(e){return n.closeModal(e,!1)}})),a.createElement("form",{onSubmit:this.saveSafe},a.createElement("div",{className:"modal-body"},a.createElement("input",{type:"hidden",maxLength:"128",id:"safeKeyName",value:this.state.safeKey.name}),a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"safeKeyDisplayName",className:"form-label"},he.t("safeKeyDisplayName")),a.createElement("input",{type:"text",maxLength:"512",className:"form-control",id:"safeKeyDisplayName",placeholder:he.t("safeKeyDisplayNamePh"),value:this.state.safeKey.display_name,onChange:function(e){return n.changeDisplayName(e)}})),t),a.createElement("div",{className:"modal-footer"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return n.closeModal(e,!1)}},he.t("modalClose")),a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(e){return n.saveSafe(e)},disabled:!this.state.isValid},he.t("modalOk")))))))}}])&&sr(t.prototype,n),r&&sr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const pr=dr;function mr(e){return mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mr(e)}function hr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function yr(e,t){return yr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yr(e,t)}function gr(e,t){if(t&&("object"===mr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return br(e)}function br(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vr(e){return vr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vr(e)}function wr(e,t){var n=!1,a="hutchsafekey-"+t.name;"/"!==window.location.pathname&&(a+="-"+window.btoa(unescape(encodeURIComponent(window.location.pathname))).replace(/\=+$/m,""));var r=Xn.getValue(a);return r?e[t.name]&&e[t.name].keyList&&e[t.name].keyList.forEach((function(e){e.name===r&&(n=e)})):e&&t&&e[t.name]&&e[t.name].keyList&&e[t.name].keyList.forEach((function(e){n||"password"!==e.type&&"master-password"!==e.type&&"jwk"!==e.type||(n=e)})),n}var Sr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yr(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=vr(o);if(i){var n=vr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return gr(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={config:e.config,safe:e.safe,safeContent:e.safeContent,cb:e.cb,allowKeepUnlocked:e.allowKeepUnlocked,safeKey:wr(e.safeContent,e.safe),safePassword:"",safePrefixPassword:"",safeKeyJwk:"",safeSecretError:!1,keepUnlocked:!1,unlockKeyName:t.getBrowserInfo()},t.closeModal=t.closeModal.bind(br(t)),t.setSafeKey=t.setSafeKey.bind(br(t)),t.toggleKeepUnlocked=t.toggleKeepUnlocked.bind(br(t)),t.changeUnlockKeyName=t.changeUnlockKeyName.bind(br(t)),t.editSafeKeyJwk=t.editSafeKeyJwk.bind(br(t)),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=Object.assign({},e);return t.safe.name!==e.safe.name&&(n.safeKey=wr(e.safeContent,e.safe)),n}}],(n=[{key:"changePassword",value:function(e){this.setState({safePassword:e.target.value})}},{key:"changePrefixPassword",value:function(e){this.setState({safePrefixPassword:e.target.value})}},{key:"editSafeKeyJwk",value:function(e){this.setState({safeKeyJwk:e})}},{key:"toggleKeepUnlocked",value:function(e){var t=!this.state.keepUnlocked;this.setState({keepUnlocked:t})}},{key:"changeUnlockKeyName",value:function(e){this.setState({unlockKeyName:e.target.value})}},{key:"setSafeKey",value:function(e,t){var n=this;e.preventDefault(),this.setState({safeKey:t,safeSecretError:!1},(function(){var e="hutchsafekey-"+n.state.safe.name;"/"!==window.location.pathname&&(e+="-"+window.btoa(unescape(encodeURIComponent(window.location.pathname))).replace(/\=+$/m,"")),Xn.setValue(e,t.name)}))}},{key:"getBrowserInfo",value:function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?"IE "+((e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""):"Chrome"===n[1]&&null!==(e=t.match(/\b(OPR|Edge)\/(\d+)/))?e.slice(1).join(" ").replace("OPR","Opera"):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),n.join(" "))}},{key:"verifyKey",value:function(e){var t=this;if(e.preventDefault(),this.state.safeKey){if("password"===this.state.safeKey.type||"master-password"===this.state.safeKey.type){var n=new TextEncoder;Rn(this.state.safeKey.data,n.encode(this.state.safePrefixPassword+this.state.safePassword)).then((function(e){t.setState({safeSecretError:!1},(function(){Rt(e.payload,t.state.safe.alg_type).then((function(n){t.setState({safePassword:"",safePrefixPassword:"",safeKeyJwk:"",safeSecretError:!1},(function(){t.state.cb(!0,n,t.state.keepUnlocked,t.state.unlockKeyName,e.payload)}))}))}))})).catch((function(){t.setState({safeSecretError:!0})}))}else if("jwk"===this.state.safeKey.type)try{var a,r=JSON.parse(this.state.safeKeyJwk);Rt(a=r.keys&&r.keys.length?r.keys[0]:r,a.alg).then((function(e){Rn(t.state.safeKey.data,e).then((function(e){t.setState({safeSecretError:!1},(function(){Rt(e.payload,t.state.safe.alg_type).then((function(n){t.setState({safePassword:"",safePrefixPassword:"",safeKeyJwk:"",safeSecretError:!1},(function(){t.state.cb(!0,n,t.state.keepUnlocked,t.state.unlockKeyName,e.payload)}))}))}))})).catch((function(){t.setState({safeSecretError:!0})}))})).catch((function(){t.setState({safeSecretError:!0})}))}catch(e){this.setState({safeSecretError:!0})}}else this.setState({safeSecretError:!0})}},{key:"closeModal",value:function(e,t){var n=this;this.setState({safePassword:"",safePrefixPassword:"",safeKeyJwk:"",safeSecretError:!1,keepUnlocked:!1},(function(){n.state.cb&&n.state.cb(t)}))}},{key:"render",value:function(){var e,t,n,r,o=this,i=[],s={prefixPassword:!1},c="form-control";return this.state.safe&&this.state.safeContent&&this.state.safeContent[this.state.safe.name]&&this.state.safeContent[this.state.safe.name].keyList&&("password"===this.state.safeKey.type?(this.state.safeSecretError&&(c+=" is-invalid",e=a.createElement("div",{className:"invalid-feedback"},he.t("safeKeyError"))),n=a.createElement("input",{type:"password",className:c,autoComplete:"new-password",placeholder:he.t("safePassword"),onChange:function(e){return o.changePassword(e)},autoFocus:!0,value:this.state.safePassword})):"master-password"===this.state.safeKey.type?(this.state.safeSecretError&&(c+=" is-invalid",e=a.createElement("div",{className:"invalid-feedback"},he.t("safeKeyError"))),this.state.safeKey&&this.state.safeKey.data&&(s=_n(this.state.safeKey.data)),s.prefixPassword&&(r=a.createElement("input",{type:"password",className:c,autoComplete:"new-password",placeholder:he.t("safePrefixPassword"),onChange:function(e){return o.changePrefixPassword(e)},autoFocus:!0,value:this.state.safePrefixPassword})),n=a.createElement("div",null,r,a.createElement("input",{type:"password",className:c,autoComplete:"new-password",placeholder:he.t("safePassword"),onChange:function(e){return o.changePassword(e)},autoFocus:!0,value:this.state.safePassword}))):"jwk"===this.state.safeKey.type&&(n=a.createElement(or,{isError:this.state.safeSecretError,errorMessage:he.t("safeKeyError"),ph:he.t("safeKeyJwkPh"),cb:this.editSafeKeyJwk})),this.state.safeContent[this.state.safe.name].keyList.forEach((function(e,t){("password"===e.type||"master-password"===e.type||"jwk"===e.type)&&i.push(a.createElement("li",{key:t},a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return o.setSafeKey(t,e)}},e.display_name||e.name)))}))),this.state.allowKeepUnlocked&&(t=a.createElement("div",null,a.createElement("div",{className:"form-check"},a.createElement("input",{className:"form-check-input",type:"checkbox",checked:this.state.keepUnlocked,id:"keepUnlocked",onChange:function(e){return o.toggleKeepUnlocked(e)}}),a.createElement("label",{className:"form-check-label",htmlFor:"keepUnlocked"},he.t("keepUnlocked"))),a.createElement("div",{className:"mb-3"},a.createElement("input",{type:"text",className:"form-control",placeholder:this.getBrowserInfo(),onChange:function(e){return o.changeUnlockKeyName(e)},disabled:!this.state.keepUnlocked,id:"safeUnlockKeyName",value:this.state.unlockKeyName}),a.createElement("div",{className:"form-text",htmlFor:"safeUnlockKeyName"},he.t("safeUnlockKeyName"))))),a.createElement("div",{className:"modal",tabIndex:"-1",id:"modalUnlockSafe"},a.createElement("div",{className:"modal-dialog"},a.createElement("div",{className:"modal-content"},a.createElement("div",{className:"modal-header"},a.createElement("h5",{className:"modal-title"},he.t("safeUnlockTitle")),a.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(e){return o.closeModal(e,!1)}})),a.createElement("form",{onSubmit:this.verifyKey},a.createElement("div",{className:"modal-body"},a.createElement("div",{className:"input-group mb-3"},a.createElement("div",{className:"input-group-prepend"},a.createElement("label",{className:"input-group-text",htmlFor:"safeKeySelect"},he.t("safeKeySelect"))),a.createElement("button",{className:"btn btn-outline-secondary dropdown-toggle",type:"button",id:"safeKeySelect","data-bs-toggle":"dropdown","aria-expanded":"false"},this.state.safeKey.display_name||this.state.safeKey.name),a.createElement("ul",{className:"dropdown-menu"},i)),a.createElement("div",{className:"input-group mb-3"},n,e),t),a.createElement("div",{className:"modal-footer"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return o.closeModal(e,!1)}},he.t("modalClose")),a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(e){return o.verifyKey(e)}},he.t("modalOk")))))))}}])&&hr(t.prototype,n),r&&hr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const Er=Sr;function kr(e){return kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kr(e)}function Cr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Pr(e,t){return Pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pr(e,t)}function Or(e,t){if(t&&("object"===kr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Nr(e)}function Nr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xr(e){return xr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xr(e)}var _r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pr(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xr(o);if(i){var n=xr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Or(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={config:e.config,safe:e.safe,safeContent:e.safeContent,editMode:e.editMode,nameMandatory:!1,namePresent:!1,safeKey:e.safeKey,addKey:!1,curSafeKeyContainer:!1,nextStep:!1,nextStepType:!1,removeSafeKeyMessage:!1},t.saveSafe=t.saveSafe.bind(Nr(t)),t.cancelEditSafe=t.cancelEditSafe.bind(Nr(t)),t.addSafeKey=t.addSafeKey.bind(Nr(t)),t.saveSafeKey=t.saveSafeKey.bind(Nr(t)),t.removeSafeKey=t.removeSafeKey.bind(Nr(t)),t.removeSafeKeyConfirm=t.removeSafeKeyConfirm.bind(Nr(t)),t.editSafeKey=t.editSafeKey.bind(Nr(t)),t.completeAddSafeKey=t.completeAddSafeKey.bind(Nr(t)),t.completeSetSafeKey=t.completeSetSafeKey.bind(Nr(t)),t.unlockSafeCallback=t.unlockSafeCallback.bind(Nr(t)),t.createKeyForSafe=t.createKeyForSafe.bind(Nr(t)),t.removeSafe=t.removeSafe.bind(Nr(t)),t.removeSafeConfirm=t.removeSafeConfirm.bind(Nr(t)),t.toggleOffline=t.toggleOffline.bind(Nr(t)),t}return t=c,n=[{key:"editDisplayName",value:function(e){var t=this.state.safe;t.display_name=e.target.value,this.setState({safe:t})}},{key:"editEncType",value:function(e){var t=this.state.safe;t.enc_type=e.target.value,this.setState({safe:t})}},{key:"editAlgType",value:function(e){var t=this.state.safe;t.alg_type=e.target.value,this.setState({safe:t})}},{key:"saveSafe",value:function(e){e.preventDefault();var t=this.state.safe;1===this.state.editMode?(t.offline?(Dn.sendMessage("App",{action:"saveSafe",safe:t}),Dn.sendMessage("Notification",{type:"info",message:he.t("messageSaveSafe")})):zn.request(this.state.config.safe_endpoint,"POST",t).then((function(){Dn.sendMessage("App",{action:"saveSafe",safe:t}),Dn.sendMessage("Notification",{type:"info",message:he.t("messageSaveSafe")})})).catch((function(){Dn.sendMessage("Notification",{type:"warning",message:he.t("messageErrorSaveSafe")})})),this.setState({nameMandatory:!1,namePresent:!1})):t.offline?(Dn.sendMessage("App",{action:"saveSafe",safe:t}),Dn.sendMessage("Notification",{type:"info",message:he.t("messageSaveSafe")})):zn.request(this.state.config.safe_endpoint+"/"+t.name,"PUT",t).then((function(){Dn.sendMessage("App",{action:"saveSafe",safe:t}),Dn.sendMessage("Notification",{type:"info",message:he.t("messageSaveSafe")})})).catch((function(){Dn.sendMessage("Notification",{type:"warning",message:he.t("messageErrorSaveSafe")})}))}},{key:"cancelEditSafe",value:function(){Dn.sendMessage("App",{action:"nav",target:1!==this.state.editMode&&this.state.safe.name})}},{key:"createKeyForSafe",value:function(){var e=this;return tn(this.state.safe.alg_type,{extractable:!0}).then((function(t){return Sn(t).then((function(t){return Rt(t,e.state.safe.alg_type).then((function(e){return{key:e,extractableKey:t}}))}))}))}},{key:"saveSafeKey",value:function(e,t){var n=this;if(bootstrap.Modal.getOrCreateInstance(document.querySelector("#modalSafeKey")).hide(),e)if("password"===t.safeKey.type||"master-password"===t.safeKey.type){var a="PBES2-HS256+A128KW";"A192KW"===this.state.safe.alg_type||"A192GCMKW"===this.state.safe.alg_type?a="PBES2-HS384+A192KW":"A256KW"!==this.state.safe.alg_type&&"A256GCMKW"!==this.state.safe.alg_type||(a="PBES2-HS512+A256KW");var r=(new TextEncoder).encode(t.password);this.state.addKey?this.state.safeContent[this.state.safe.name].key?this.completeAddSafeKey(r,t.safeKey,a,t.prefixPassword):this.createKeyForSafe().then((function(e){var o=n.state.safeContent;o[n.state.safe.name].extractableKey=e.extractableKey,o[n.state.safe.name].key=e.key,n.setState({safeContent:o},(function(){n.completeAddSafeKey(r,t.safeKey,a,t.prefixPassword)}))})):this.completeSetSafeKey(r,t.safeKey,a,t.prefixPassword)}else if("jwk"===t.safeKey.type){var o;o=t.jwk.keys&&t.jwk.keys.length?t.jwk.keys[0]:t.jwk,this.state.addKey?this.state.safeContent[this.state.safe.name].key?Rt(o,o.alg).then((function(e){n.completeAddSafeKey(e,t.safeKey,o.alg,t.prefixPassword)})):this.createKeyForSafe().then((function(e){var a=n.state.safeContent;a[n.state.safe.name].extractableKey=e.extractableKey,a[n.state.safe.name].key=e.key,n.setState({safeContent:a},(function(){Rt(o,o.alg).then((function(e){n.completeAddSafeKey(e,t.safeKey,o.alg,t.prefixPassword)}))}))})):Rt(o,o.alg).then((function(e){n.completeSetSafeKey(e,t.safeKey,o.alg,t.prefixPassword)}))}else"browser"===t.safeKey.type&&zn.request(this.state.config.safe_endpoint+"/"+this.state.safe.name+"/key/"+t.safeKey.name,"PUT",t.safeKey).then((function(){Dn.sendMessage("App",{action:"setSafeKey",target:n.state.safe,newSafeKey:t.safeKey,removeStorage:!1}),n.setState({curSafeKeyContainer:!1}),Dn.sendMessage("Notification",{type:"info",message:he.t("safeLockUpdated")})}))}},{key:"addSafeKey",value:function(e,t){e&&e.preventDefault(),!this.state.safeContent[this.state.safe.name].extractableKey&&this.state.safeContent[this.state.safe.name].keyList.length?this.setState({nextStep:this.addSafeKey,nextStepType:t},(function(){new bootstrap.Modal(document.getElementById("modalUnlockSafe"),{keyboard:!1}).show()})):this.setState({addKey:!0,curSafeKeyContainer:{name:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),display_name:"",type:t,data:""}},(function(){new bootstrap.Modal(document.getElementById("modalSafeKey"),{keyboard:!1}).show()}))}},{key:"completeAddSafeKey",value:function(e,t,n){var a=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.state.safeContent[this.state.safe.name].extractableKey?new On(this.state.safeContent[this.state.safe.name].extractableKey).setProtectedHeader({alg:n,enc:this.state.safe.enc_type,sign_key:this.state.config.sign_thumb,prefixPassword:r}).encrypt(e).then((function(e){t.data=e,zn.request(a.state.config.safe_endpoint+"/"+a.state.safe.name+"/key","POST",t).then((function(){Dn.sendMessage("App",{action:"updateSafeKey",safe:a.state.safe}),Dn.sendMessage("Notification",{type:"info",message:he.t("safeLockAdded")})}))})):Dn.sendMessage("Notification",{type:"warning",message:he.t("lockedSafe")})}},{key:"editSafeKey",value:function(e,t){var n=this,a={addKey:!1};t&&(a.curSafeKeyContainer=t),this.setState(a,(function(){n.state.safeContent[n.state.safe.name].extractableKey?new bootstrap.Modal(document.getElementById("modalSafeKey"),{keyboard:!1}).show():n.setState({nextStep:n.editSafeKey},(function(){new bootstrap.Modal(document.getElementById("modalUnlockSafe"),{keyboard:!1}).show()}))}))}},{key:"completeSetSafeKey",value:function(e,t,n){var a=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.state.safeContent[this.state.safe.name].extractableKey?new On(this.state.safeContent[this.state.safe.name].extractableKey).setProtectedHeader({alg:n,enc:this.state.safe.enc_type,sign_key:this.state.config.sign_thumb,prefixPassword:r}).encrypt(e).then((function(e){t.data=e,zn.request(a.state.config.safe_endpoint+"/"+a.state.safe.name+"/key/"+t.name,"PUT",t).then((function(){Dn.sendMessage("App",{action:"setSafeKey",target:a.state.safe,newSafeKey:t,removeStorage:!1}),a.setState({curSafeKeyContainer:!1}),Dn.sendMessage("Notification",{type:"info",message:he.t("safeLockUpdated")})}))})):Dn.sendMessage("Notification",{type:"warning",message:he.t("lockedSafe")})}},{key:"removeSafeKey",value:function(e,t){var n=this;e&&e.preventDefault();var a={};t&&(a.curSafeKeyContainer=t,a.removeSafeKeyMessage=he.t("removeSafeKeyMessage",{name:t.display_name})),this.setState(a,(function(){n.state.safeContent[n.state.safe.name].extractableKey?new bootstrap.Modal(document.getElementById("removeSafeKey"),{keyboard:!1}).show():n.setState({nextStep:n.removeSafeKey},(function(){new bootstrap.Modal(document.getElementById("modalUnlockSafe"),{keyboard:!1}).show()}))}))}},{key:"removeSafeKeyConfirm",value:function(e){var t=this;e&&zn.request(this.state.config.safe_endpoint+"/"+this.state.safe.name+"/key/"+this.state.curSafeKeyContainer.name,"DELETE").then((function(){t.setState({curSafeKeyContainer:!1},(function(){Dn.sendMessage("Notification",{type:"info",message:he.t("messageRemoveSafeKey")}),Dn.sendMessage("App",{action:"updateSafeKey",safe:t.state.safe})}))})).catch((function(){Dn.sendMessage("Notification",{type:"warning",message:he.t("messageErrorSaveSafeKey")})})),bootstrap.Modal.getOrCreateInstance(document.querySelector("#removeSafeKey")).hide()}},{key:"unlockSafeCallback",value:function(e,t,n,a,r){bootstrap.Modal.getOrCreateInstance(document.querySelector("#modalUnlockSafe")).hide(),e&&(Dn.sendMessage("App",{action:"unlockSafe",safe:this.state.safe,extractableKey:r}),this.state.nextStep&&this.state.nextStep(!1,this.state.nextStepType))}},{key:"removeSafe",value:function(){new bootstrap.Modal(document.getElementById("removeSafe"),{keyboard:!1}).show()}},{key:"removeSafeConfirm",value:function(e){var t=this;e&&zn.request(this.state.config.safe_endpoint+"/"+this.state.safe.name,"DELETE").then((function(){Dn.sendMessage("App",{action:"removeSafe",safe:t.state.safe}),Dn.sendMessage("Notification",{type:"info",message:he.t("messageRemoveSafe")})})).catch((function(){Dn.sendMessage("Notification",{type:"warning",message:he.t("messageErrorSaveSafe")})})),bootstrap.Modal.getOrCreateInstance(document.querySelector("#removeSafe")).hide()}},{key:"toggleOffline",value:function(){var e=this.state.safe;e.offline=!e.offline,this.setState({safe:e})}},{key:"render",value:function(){var e,t=this,n=[];if(this.state.safeContent&&this.state.safe&&this.state.safeContent[this.state.safe.name]){var r=0;this.state.safeContent[this.state.safe.name].keyList.forEach((function(e){-1!==["password","master-password"].indexOf(e.type)&&r++})),this.state.safeContent[this.state.safe.name].keyList.forEach((function(e,o){var i="fa btn-icon ";"password"===e.type?i+="fa-key":"master-password"===e.type?i+="fa-usb":"jwk"===e.type?i+="fa-file-code-o":"browser"===e.type&&(i+="fa-firefox"),n.push(a.createElement("div",{className:"input-group",key:o},a.createElement("div",{className:"input-group-text"},a.createElement("i",{className:i,"aria-hidden":"true"}),e.display_name||e.name),a.createElement("div",{className:"btn-group me-2",role:"group"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(n){return t.editSafeKey(n,e)}},a.createElement("i",{className:"fa fa-pencil","aria-hidden":"true"})),a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(n){return t.removeSafeKey(n,e)},disabled:r<=1&&-1!==["password","master-password"].indexOf(e.type)},a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})))))}))}return this.state.curSafeKeyContainer&&(e=a.createElement(pr,{safeKey:this.state.curSafeKeyContainer,callback:this.saveSafeKey})),a.createElement("div",null,a.createElement("form",{onSubmit:this.saveSafe},a.createElement("input",{type:"hidden",id:"safeName",value:this.state.safe.name}),a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"safeDisplayName",className:"form-label"},he.t("safeDisplayName")),a.createElement("input",{type:"text",className:"form-control",id:"safeDisplayName",value:this.state.safe.display_name||"",onChange:function(e){return t.editDisplayName(e)}})),a.createElement("div",{className:"mb-3 form-check"},a.createElement("input",{type:"checkbox",className:"form-check-input",id:"safeOfflineFlag",checked:this.state.safe.offline,onChange:this.toggleOffline,disabled:1!==this.state.editMode||this.state.config.frontend.offline}),a.createElement("label",{className:"form-check-label",htmlFor:"safeOfflineFlag"},he.t("safeOfflineFlag"))),a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"encType",className:"form-label"},he.t("safeEncType")),a.createElement("select",{disabled:2===this.state.editMode||this.state.safe.offline,className:"form-select","aria-label":"enc type",id:"encType",onChange:function(e){return t.editEncType(e)},value:this.state.safe.enc_type},a.createElement("option",{value:"A128CBC-HS256"},"A128CBC-HS256"),a.createElement("option",{value:"A192CBC-HS384"},"A192CBC-HS384"),a.createElement("option",{value:"A256CBC-HS512"},"A256CBC-HS512"),a.createElement("option",{value:"A128GCM"},"A128GCM"),a.createElement("option",{value:"A192GCM"},"A192GCM"),a.createElement("option",{value:"A256GCM"},"A256GCM"))),a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"algType",className:"form-label"},he.t("safeAlgType")),a.createElement("select",{disabled:2===this.state.editMode||this.state.safe.offline,className:"form-select","aria-label":"enc type",id:"algType",onChange:function(e){return t.editAlgType(e)},value:this.state.safe.alg_type},a.createElement("option",{value:"A128KW"},"A128KW"),a.createElement("option",{value:"A192KW"},"A192KW"),a.createElement("option",{value:"A256KW"},"A256KW"),a.createElement("option",{value:"A128GCMKW"},"A128GCMKW"),a.createElement("option",{value:"A192GCMKW"},"A192GCMKW"),a.createElement("option",{value:"A256GCMKW"},"A256GCMKW"))),a.createElement("div",{className:"alert alert-primary",role:"alert"},a.createElement("div",{className:"btn-toolbar justify-content-between",role:"toolbar"},he.t("safeKeyList"),a.createElement("div",{className:"input-group"},a.createElement("div",{className:"input-group mb-3"},a.createElement("button",{className:"btn btn-outline-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",disabled:1===this.state.editMode||this.state.safe.offline},a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})),a.createElement("ul",{className:"dropdown-menu"},a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(e){return t.addSafeKey(e,"password")}},he.t("securityTypePassword")),a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(e){return t.addSafeKey(e,"master-password")}},he.t("securityTypeMasterPassword")),a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(e){return t.addSafeKey(e,"jwk")}},he.t("securityTypeJwk"))))))),a.createElement("div",{className:"btn-toolbar mb-3",role:"toolbar"},n),a.createElement("div",{className:"btn-toolbar justify-content-between",role:"toolbar"},a.createElement("div",{className:"btn-group",role:"group","aria-label":"First group"},a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.saveSafe},he.t("profileSubmit")),a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.cancelEditSafe},he.t("profileCancel"))),a.createElement("div",{className:"btn-group",role:"group","aria-label":"First group"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.removeSafe,disabled:2!==this.state.editMode},he.t("removeSafe"))))),a.createElement(_a,{name:"removeSafe",title:he.t("removeSafeTitle"),message:he.t("removeSafeMessage",{name:this.state.safe.display_name||this.state.safe.name}),cb:this.removeSafeConfirm}),a.createElement(_a,{name:"removeSafeKey",title:he.t("removeSafeKeyTitle"),message:this.state.removeSafeKeyMessage,cb:this.removeSafeKeyConfirm}),e,a.createElement(Er,{config:this.state.config,safe:this.state.safe,safeContent:this.state.safeContent,allowKeepUnlocked:!1,cb:this.unlockSafeCallback}))}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],n&&Cr(t.prototype,n),r&&Cr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const Tr=_r;function Rr(e){return Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rr(e)}function jr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ar(e,t){return Ar=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ar(e,t)}function Dr(e,t){if(t&&("object"===Rr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mr(e)}function Mr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lr(e){return Lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lr(e)}var Ir=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ar(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Lr(o);if(i){var n=Lr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Dr(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={cb:e.cb,name:e.name,content:e.content,iconList:e.iconListOrig,iconListOrig:e.iconListOrig,iconFilter:"",displayNameError:!1},t.changeDisplayName=t.changeDisplayName.bind(Mr(t)),t.useIcon=t.useIcon.bind(Mr(t)),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changeDisplayName",value:function(e){var t=this.state.content;t.displayName=e.target.value,this.setState({content:t,displayNameError:!1})}},{key:"changeIconFilter",value:function(e){var t=this;this.setState({iconFilter:e.target.value},(function(){if(t.state.iconFilter){var e={};Object.keys(t.state.iconListOrig).forEach((function(n){e[n]=[],(t.state.iconListOrig[n]||[]).forEach((function(a){a.label.toUpperCase().search(t.state.iconFilter.toUpperCase())>-1&&e[n].push(a)})),e[n].length||delete e[n]})),t.setState({iconList:e})}else t.setState({iconList:t.state.iconListOrig})}))}},{key:"useIcon",value:function(e,t){e.preventDefault();var n=this.state.content;n.icon=t.icon,this.setState({content:n})}},{key:"verifyDisplayName",value:function(e){e.preventDefault(),this.state.content.displayName?this.closeModal(e,!0):this.setState({displayNameError:!0})}},{key:"closeModal",value:function(e,t){this.state.cb&&this.state.cb(t,this.state.name,this.state.content,!0)}},{key:"render",value:function(){var e,t,n=this,r=[],o="form-control";return Object.keys(this.state.iconList).forEach((function(e){var t=n.state.iconList[e]||[];r.push(a.createElement("li",{className:"list-group-item",key:e},a.createElement("span",{className:"badge bg-secondary"},e)));var o=[];t.forEach((function(t,r){o.push(a.createElement("a",{key:e+"-"+r,href:"",onClick:function(e){return n.useIcon(e,t)},className:"btn btn-primary btn-icon btn-icon-top"},a.createElement("span",{className:"btn-icon"},t.label),a.createElement("i",{className:"fa "+t.icon,"aria-hidden":"true"})))})),r.push(a.createElement("li",{className:"list-group-item",key:e+"-lst"},o))})),this.state.content.icon&&(e=a.createElement("i",{className:"btn-icon-right fa "+this.state.content.icon,"aria-hidden":"true"})),this.state.displayNameError&&(o+=" is-invalid",t=a.createElement("div",{className:"invalid-feedback"},he.t("displayNameError"))),a.createElement("div",{className:"modal",tabIndex:"-1",id:"modalCoinEdit"},a.createElement("div",{className:"modal-dialog"},a.createElement("div",{className:"modal-content"},a.createElement("div",{className:"modal-header"},a.createElement("h5",{className:"modal-title"},this.state.name?he.t("CoinEditTitle"):he.t("CoinAddTitle")),a.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(e){return n.closeModal(e,!1)}})),a.createElement("form",{onSubmit:function(e){return n.verifyDisplayName(e)}},a.createElement("div",{className:"modal-body"},a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"coinDisplayName",className:"form-label"},he.t("coinDisplayName")),a.createElement("input",{type:"text",maxLength:"128",className:o,id:"coinDisplayName",value:this.state.content.displayName||"",onChange:function(e){return n.changeDisplayName(e)}}),t),a.createElement("hr",null),a.createElement("div",{className:"mb-3"},a.createElement("label",{className:"form-label"},he.t("coinIconList"),e),a.createElement("input",{type:"text",maxLength:"128",className:"form-control",id:"coinIconFilter",placeholder:he.t("coinIconFilterPh"),value:this.state.iconFilter||"",onChange:function(e){return n.changeIconFilter(e)}}),a.createElement("ul",{className:"list-group icon-list"},r))),a.createElement("div",{className:"modal-footer"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return n.closeModal(e,!1)}},he.t("modalClose")),a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(e){return n.verifyDisplayName(e)}},he.t("modalOk")))))))}}])&&jr(t.prototype,n),r&&jr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const Kr=Ir;function Ur(e){return Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ur(e)}function Fr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Hr(e,t){return Hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hr(e,t)}function Wr(e,t){if(t&&("object"===Ur(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Br(e)}function Br(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jr(e){return Jr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jr(e)}var zr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hr(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Jr(r);if(o){var n=Jr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Wr(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={config:e.config,safe:e.safe,content:e.content,id:e.id,name:e.name,exportSafeWithSecurity:!1,exportSecurityType:"password",pwdScore:-1,password:"",confirmPassword:"",prefixPassword:"",confirmPrefixPassword:"",exportInvalid:!1,exportJwk:""},t.toggleExportSafeWithSecurity=t.toggleExportSafeWithSecurity.bind(Br(t)),t.changeExportSecurityType=t.changeExportSecurityType.bind(Br(t)),t.changePassword=t.changePassword.bind(Br(t)),t.changeConfirmPassword=t.changeConfirmPassword.bind(Br(t)),t.changePrefixPassword=t.changePrefixPassword.bind(Br(t)),t.changeConfirmPrefixPassword=t.changeConfirmPrefixPassword.bind(Br(t)),t.exportSafe=t.exportSafe.bind(Br(t)),t.editExportJwk=t.editExportJwk.bind(Br(t)),t}return t=s,(n=[{key:"toggleExportSafeWithSecurity",value:function(){var e=this;this.setState({exportSafeWithSecurity:!this.state.exportSafeWithSecurity,importData:!1,importDataResult:!1,importTotalCount:0,importTotalSuccess:0,importSecurityType:!1},(function(){e.setState({exportInvalid:e.isExportInvalid()})}))}},{key:"changeExportSecurityType",value:function(e){var t=this;this.setState({exportSecurityType:e.target.value},(function(){t.setState({exportInvalid:t.isExportInvalid()})}))}},{key:"changePassword",value:function(e){var t=this,n=-1;e.target.value&&(n=zxcvbn(e.target.value).score),this.setState({password:e.target.value,pwdScore:n},(function(){t.setState({exportInvalid:t.isExportInvalid()})}))}},{key:"changeConfirmPassword",value:function(e){var t=this;this.setState({confirmPassword:e.target.value},(function(){t.setState({exportInvalid:t.isExportInvalid()})}))}},{key:"changePrefixPassword",value:function(e){var t=this;this.setState({prefixPassword:e.target.value},(function(){t.setState({exportInvalid:t.isExportInvalid()})}))}},{key:"changeConfirmPrefixPassword",value:function(e){var t=this;this.setState({confirmPrefixPassword:e.target.value},(function(){t.setState({exportInvalid:t.isExportInvalid()})}))}},{key:"editExportJwk",value:function(e){var t=this;this.setState({exportJwk:e},(function(){t.setState({exportInvalid:t.isExportInvalid()})}))}},{key:"isExportInvalid",value:function(){if(this.state.exportSafeWithSecurity)if("password"===this.state.exportSecurityType){if(!this.state.password||this.state.password!==this.state.confirmPassword)return!0}else if("master-password"===this.state.exportSecurityType){if(!this.state.password)return!0;if(this.state.prefixPassword&&this.state.prefixPassword!==this.state.confirmPrefixPassword)return!0}else if("jwk"===this.state.exportSecurityType)try{if(!this.state.exportJwk||!JSON.parse(this.state.exportJwk).alg)return!0}catch(e){return!0}return!1}},{key:"exportSafe",value:function(e){var t=this;e.preventDefault();var n=[];if(this.state.content.forEach((function(e){var t=Object.assign({},e.data);t.name=e.name,n.push(t)})),this.state.exportSafeWithSecurity){if("password"===this.state.exportSecurityType||"master-password"===this.state.exportSecurityType){var a=(new TextEncoder).encode(this.state.prefixPassword+this.state.password),r="PBES2-HS512+A256KW";"A192KW"===this.state.safe.alg_type||"A192GCMKW"===this.state.safe.alg_type||"PBES2-HS384+A192KW"===this.state.safe.alg_type?r="PBES2-HS384+A192KW":"A128KW"!==this.state.safe.alg_type&&"A128GCMKW"!==this.state.safe.alg_type&&"PBES2-HS256+A128KW"!==this.state.safe.alg_type||(r="PBES2-HS256+A128KW"),new On({data:n}).setProtectedHeader({alg:r,enc:this.state.safe.enc_type||"A256GCM",sign_key:this.state.config.sign_thumb}).encrypt(a).then((function(e){var n=$("#"+t.state.id+"-download");n.attr("href","data:application/octet-stream;base64,"+btoa(e)),n.attr("download",t.state.name+".jwt"),n[0].click(),t.state.safe.offline?Dn.sendMessage("App",{action:"offlineSafeExported",safeName:t.state.safe.name}):Dn.sendMessage("Notification",{type:"info",message:he.t("exportSuccess")});try{var a=bootstrap.Modal.getOrCreateInstance(document.querySelector("#manageSafe"));a&&a.hide()}catch(e){}try{var r=bootstrap.Modal.getOrCreateInstance(document.querySelector("#exportCoinModal"));r&&r.hide()}catch(e){}t.setState({exportSafeWithSecurity:!1,exportSecurityType:"password",pwdScore:-1,password:"",prefixPassword:"",confirmPrefixPassword:"",exportInvalid:!1,exportJwk:""})}))}else if("jwk"===this.state.exportSecurityType){var o=JSON.parse(this.state.exportJwk);o.use="enc",Rt(o,o.alg).then((function(e){"public"===e.type||"secret"===e.type?new On({data:n}).setProtectedHeader({alg:o.alg,enc:t.state.safe.enc_type,sign_key:t.state.config.sign_thumb}).encrypt(e).then((function(e){var n=$("#"+t.state.id+"-download");n.attr("href","data:application/octet-stream;base64,"+btoa(e)),n.attr("download",t.state.name+".jwt"),n[0].click(),t.state.safe.offline?Dn.sendMessage("App",{action:"offlineSafeExported",safeName:t.state.safe.name}):Dn.sendMessage("Notification",{type:"info",message:he.t("exportSuccess")});try{var a=bootstrap.Modal.getOrCreateInstance(document.querySelector("#manageSafe"));a&&a.hide()}catch(e){}try{var r=bootstrap.Modal.getOrCreateInstance(document.querySelector("#exportCoinModal"));r&&r.hide()}catch(e){}t.setState({exportSafeWithSecurity:!1,exportSecurityType:"password",pwdScore:-1,password:"",prefixPassword:"",confirmPrefixPassword:"",exportInvalid:!1,exportJwk:""})})):t.setState({exportInvalid:1})}))}}else{var i=$("#"+this.state.id+"-download");i.attr("href","data:application/octet-stream;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))),i.attr("download",this.state.name+".json"),i[0].click(),this.state.safe.offline?Dn.sendMessage("App",{action:"offlineSafeExported",safeName:this.state.safe.name}):Dn.sendMessage("Notification",{type:"info",message:he.t("exportSuccess")});try{var s=bootstrap.Modal.getOrCreateInstance(document.querySelector("#manageSafe"));s&&s.hide()}catch(e){}try{var c=bootstrap.Modal.getOrCreateInstance(document.querySelector("#exportCoinModal"));c&&c.hide()}catch(e){}this.setState({exportSafeWithSecurity:!1,exportSecurityType:"password",pwdScore:-1,password:"",prefixPassword:"",confirmPrefixPassword:"",exportInvalid:!1,exportJwk:""})}}},{key:"render",value:function(){var e,t,n,r=this;if(this.state.exportSafeWithSecurity)if(e=a.createElement("select",{className:"form-select",value:this.state.exportSecurityType,onChange:this.changeExportSecurityType},a.createElement("option",{value:"password"},he.t("securityTypePassword")),a.createElement("option",{value:"master-password"},he.t("securityTypeMasterPassword")),a.createElement("option",{value:"jwk"},he.t("securityTypeJwk"))),"password"===this.state.exportSecurityType)0===this.state.pwdScore?n=a.createElement("span",{className:"badge bg-danger"},he.t("pwdScoreTooGuessable")):1===this.state.pwdScore?n=a.createElement("span",{className:"badge bg-warning"},he.t("pwdScoreVeryGuessable")):2===this.state.pwdScore?n=a.createElement("span",{className:"badge bg-secondary"},he.t("pwdScoreSomewhatGuessable")):3===this.state.pwdScore?n=a.createElement("span",{className:"badge bg-primary"},he.t("pwdScoreSafelyUnguessable")):4===this.state.pwdScore&&(n=a.createElement("span",{className:"badge bg-success"},he.t("pwdScoreVeryUnguessable"))),t=a.createElement("div",null,a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"newPassword",className:"form-label"},he.t("newPassword")),a.createElement("input",{type:"password",autoComplete:"new-password",className:"form-control",id:"newPassword",value:this.state.password,onChange:this.changePassword}),n),a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"confirmNewPassword",className:"form-label"},he.t("confirmNewPassword")),a.createElement("input",{type:"password",autoComplete:"new-password",className:"form-control",id:"confirmNewPassword",value:this.state.confirmPassword,onChange:this.changeConfirmPassword})));else if("master-password"===this.state.exportSecurityType)t=a.createElement("div",null,a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"prefixPassword",className:"form-label"},he.t("prefixPassword")),a.createElement("input",{type:"password",autoComplete:"off",className:"form-control",id:"prefixPassword",placeholder:he.t("prefixPasswordPh"),value:this.state.prefixPassword,onChange:function(e){return r.changePrefixPassword(e)}}),n),a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"confirmPrefixPassword",className:"form-label"},he.t("confirmPrefixPassword")),a.createElement("input",{type:"password",autoComplete:"off",className:"form-control",id:"confirmPrefixPassword",placeholder:he.t("confirmPrefixPasswordPh"),value:this.state.confirmPrefixPassword,onChange:function(e){return r.changeConfirmPrefixPassword(e)}})),a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"newPassword",className:"form-label"},he.t("masterPassword")),a.createElement("input",{type:"password",autoComplete:"off",className:"form-control",id:"newPassword",placeholder:he.t("masterPasswordPh"),value:this.state.password,onChange:function(e){return r.changePassword(e)}})));else if("jwk"===this.state.exportSecurityType){var o;this.state.exportInvalid&&(o=a.createElement("div",{className:"invalid-feedback"},he.t("jwkError"))),t=a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"exportJwk",className:"form-label"},he.t("exportJwk")),a.createElement(or,{isError:this.state.exportInvalid,errorMessage:he.t("safeSecretError"),ph:he.t("safeKeyJwkPh"),cb:this.editExportJwk}),o)}return a.createElement("div",null,a.createElement("div",{className:"mb-3"},a.createElement("div",{className:"form-check"},a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:this.state.id+"-exportSafeWithSecurity",checked:this.state.exportSafeWithSecurity,onChange:this.toggleExportSafeWithSecurity}),a.createElement("label",{className:"form-check-label",htmlFor:this.state.id+"-exportSafeWithSecurity"},he.t("exportSafeWithSecurity")))),e,a.createElement("form",{onSubmit:function(e){return r.exportSafe(e)}},t,a.createElement("div",{className:"mb-3"},a.createElement("button",{type:"submit",className:"btn btn-secondary",onClick:this.exportSafe,title:he.t("downloadExport"),disabled:this.state.exportInvalid},a.createElement("i",{className:"fa fa-cloud-download","aria-hidden":"true"}))),a.createElement("a",{className:"upload",id:this.state.id+"-download"})))}}])&&Fr(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(a.Component);const Vr=zr;function qr(e){return qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qr(e)}function $r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Gr(e,t){return Gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gr(e,t)}function Qr(e,t){if(t&&("object"===qr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Xr(e)}function Xr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yr(e){return Yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yr(e)}function Zr(e){return e.safeContent&&e.safe.name&&e.safeContent[e.safe.name]?e.safeContent[e.safe.name].unlockedCoinList:[]}var eo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gr(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Yr(o);if(i){var n=Yr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Qr(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={config:e.config,oidcStatus:e.oidcStatus,safe:e.safe,safeContent:e.safeContent,cbSaveCoin:e.cbSaveCoin,cbClose:e.cbClose,unlockedCoinList:Zr(e),exportSafeWithSecurity:!1,exportSecurityType:"password",prefixPassword:"",password:"",confirmPassword:"",pwdScore:-1,importJwk:"",errorExportJwk:!1,exportInvalid:!1,importData:!1,importDataResult:!1,importTotalCount:0,importTotalSuccess:0,importSecurityType:!1,importRunning:!1,showProgress:!1,coinMax:0,coinNow:0,merge:!0},t.changePassword=t.changePassword.bind(Xr(t)),t.changePrefixPassword=t.changePrefixPassword.bind(Xr(t)),t.getImportFile=t.getImportFile.bind(Xr(t)),t.parseContent=t.parseContent.bind(Xr(t)),t.importContent=t.importContent.bind(Xr(t)),t.completeImportContent=t.completeImportContent.bind(Xr(t)),t.editImportJwk=t.editImportJwk.bind(Xr(t)),t.changeMerge=t.changeMerge.bind(Xr(t)),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changePassword",value:function(e){var t=this,n=-1;e.target.value&&(n=zxcvbn(e.target.value).score),this.setState({password:e.target.value,pwdScore:n},(function(){t.setState({exportInvalid:t.isImportInvalid()})}))}},{key:"changePrefixPassword",value:function(e){this.setState({prefixPassword:e.target.value})}},{key:"isImportInvalid",value:function(){if(this.state.exportSafeWithSecurity)if("password"===this.state.exportSecurityType){if(!this.state.password||this.state.password!==this.state.confirmPassword)return!0}else if("jwk"===this.state.exportSecurityType)try{if(!this.state.importJwk||!JSON.parse(this.state.importJwk).alg)return!0}catch(e){return!0}return!1}},{key:"editImportJwk",value:function(e){var t=this;this.setState({importJwk:e},(function(){t.setState({exportInvalid:t.isImportInvalid()})}))}},{key:"getImportFile",value:function(e){var t=this;this.setState({exportSafeWithSecurity:!1,importData:!1,importDataResult:!1,importTotalCount:0,importTotalSuccess:0,importSecurityType:!1},(function(){var n=e.target.files[0],a=new FileReader;a.onload=function(e){t.setState({importData:e.target.result},(function(){t.parseContent()}))},a.readAsText(n)}))}},{key:"parseContent",value:function(){if(this.state.importData){var e=!1;try{e=JSON.parse(this.state.importData)}catch(e){}if(e&&Array.isArray(e))this.importContent(e);else{var t=!1;try{t=_n(this.state.importData)}catch(e){this.setState({importDataResult:"invalidData"})}t&&("PBES2-HS256+A128KW"===t.alg||"PBES2-HS384+A192KW"===t.alg||"PBES2-HS512+A256KW"===t.alg?this.setState({importSecurityType:"password"}):this.setState({importSecurityType:"jwk"}))}}else this.setState({importDataResult:"invalidData"})}},{key:"completeImportContent",value:function(e){var t=this;if(e&&e.preventDefault(),"password"===this.state.importSecurityType){var n=new TextEncoder;Rn(this.state.importData,n.encode(this.state.password+(this.state.prefixPassword||""))).then((function(e){t.importContent(e.payload.data)})).catch((function(){t.setState({importDataResult:"invalidPassword"})}))}else if("jwk"===this.state.importSecurityType)try{var a=JSON.parse(this.state.importJwk);a.use="enc",Rt(a,a.alg).then((function(e){Rn(t.state.importData,e).then((function(e){t.importContent(e.payload.data)})).catch((function(){t.setState({importDataResult:"invalidJwk"})}))}))}catch(e){this.setState({importDataResult:"invalidJwk"})}}},{key:"importContent",value:function(e){var t=this,n=0,a=0;this.setState({importRunning:!0,showProgress:!0,coinMax:e.length,coinNow:0},(function(){var r=t.state.safeContent[t.state.safe.name].coinList||[];e.forEach((function(o){var i=!1,s=!1,c=!0;o.name&&(r.forEach((function(e){e.name===o.name&&(i=e,s=e.name)})),delete o.name,i&&t.state.merge&&i.last_updated&&o.lastUpdated&&(c=!1,i.last_updated<o.lastUpdated&&(c=!0)));try{t.state.cbSaveCoin(c,s,o).then((function(){n++})).catch((function(){Dn.sendMessage("Notification",{type:"warning",message:he.t("messageErrorCoinSave")})})).finally((function(){a++,t.setState({coinNow:t.state.coinNow+1},(function(){a===e.length&&(a===n?t.setState({importDataResult:"importComplete",importTotalCount:n,importRunning:!1,showProgress:!1},(function(){})):t.setState({importDataResult:"importIncomplete",importTotalCount:n,importTotalSuccess:a,importRunning:!1,showProgress:!1}))}))}))}catch(r){a++,t.setState({coinNow:t.state.coinNow+1},(function(){a===e.length&&(a===n?t.setState({importDataResult:"importComplete",importTotalCount:n,importRunning:!1,showProgress:!1},(function(){})):t.setState({importDataResult:"importIncomplete",importTotalCount:n,importTotalSuccess:a,importRunning:!1,showProgress:!1}))}))}}))}))}},{key:"closeModal",value:function(e,t){this.state.cbClose&&this.state.cbClose()}},{key:"changeMerge",value:function(){this.setState({merge:!this.state.merge})}},{key:"render",value:function(){var e,t,n,r,o,i,s=this;if("invalidData"===this.state.importDataResult?e=a.createElement("div",{className:"alert alert-danger",role:"alert"},he.t("importInvalidData")):"importComplete"===this.state.importDataResult?e=a.createElement("div",{className:"alert alert-success",role:"alert"},he.t("importComplete",{count:this.state.importTotalCount})):"importIncomplete"===this.state.importDataResult?e=a.createElement("div",{className:"alert alert-warning",role:"alert"},he.t("importIncomplete",{count:this.state.importTotalCount,total:this.state.importTotalSuccess})):"invalidPassword"===this.state.importDataResult?e=a.createElement("div",{className:"alert alert-danger",role:"alert"},he.t("importInvalidPassword")):"invalidJwk"===this.state.importDataResult&&(e=a.createElement("div",{className:"alert alert-danger",role:"alert"},he.t("importInvalidKey"))),this.state.importSecurityType){var c;this.state.importRunning&&(c=a.createElement("i",{className:"fa fa-spinner fa-spin fa-fw btn-icon-right"}));var l="password"===this.state.importSecurityType&&!this.state.password||"jwk"===this.state.importSecurityType&&!this.state.importJwk;n=a.createElement("button",{type:"submit",className:"btn btn-secondary",onClick:this.completeImportContent,title:he.t("modalOk"),disabled:l||this.state.importRunning},he.t("modalOk"),c)}return"password"===this.state.importSecurityType?t=a.createElement("div",null,a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"prefix-password",className:"form-label"},he.t("importPrefixPassword")),a.createElement("input",{type:"password",className:"form-control",id:"prefix-password",autoComplete:"new-password",value:this.state.prefixPassword,onChange:this.changePrefixPassword})),a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"password",className:"form-label"},he.t("importPassword")),a.createElement("input",{type:"password",className:"form-control",id:"password",autoComplete:"new-password",value:this.state.password,onChange:this.changePassword}))):"jwk"===this.state.importSecurityType&&(t=a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"importJwk",className:"form-label"},he.t("importJwk")),a.createElement(or,{isError:!1,ph:he.t("safeKeyJwkPh"),cb:this.editImportJwk}))),this.state.showProgress&&(r=a.createElement("code",{className:"btn-icon-right"},this.state.coinNow,"/",this.state.coinMax)),this.state.safe&&(i=this.state.safe.offline?Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15):this.state.safe.name,o=a.createElement("div",null,a.createElement("div",{className:"mb-3"},a.createElement("div",{className:"alert alert-primary",role:"alert"},he.t("exportSafe"))),a.createElement(Vr,{config:this.state.config,safe:this.state.safe,content:this.state.unlockedCoinList,id:i,name:this.state.safe.display_name}),a.createElement("hr",null))),a.createElement("div",{className:"modal",tabIndex:"-1",id:"manageSafe"},a.createElement("div",{className:"modal-dialog"},a.createElement("div",{className:"modal-content"},a.createElement("div",{className:"modal-header"},a.createElement("h5",{className:"modal-title"},he.t("manageSafe")),a.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(e){return s.closeModal(e,!1)}})),a.createElement("div",{className:"modal-body"},o,a.createElement("div",{className:"mb-3"},a.createElement("div",{className:"alert alert-primary",role:"alert"},he.t("importSafe"))),a.createElement("div",{className:"mb-3"},a.createElement("input",{className:"form-check-input btn-icon",type:"checkbox",id:"importMerge",onChange:this.changeMerge,checked:this.state.merge}),a.createElement("label",{className:"form-check-label",htmlFor:"importMerge"},he.t("importMerge"))),a.createElement("div",{className:"mb-3"},a.createElement("input",{type:"file",className:"upload",id:"importSafeFileInput",disabled:"connected"!==this.state.oidcStatus,onChange:this.getImportFile}),a.createElement("label",{htmlFor:"importSafeFileInput",className:"btn btn-secondary",disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-cloud-upload","aria-hidden":"true"})),a.createElement("form",{onSubmit:this.completeImportContent},t,n),r,e),a.createElement("div",{className:"modal-footer"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return s.closeModal(e,!1)},disabled:this.state.importRunning},he.t("modalClose")))))))}}])&&$r(t.prototype,n),r&&$r(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const to=eo;function no(e){return no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},no(e)}function ao(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ro(e,t){return ro=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ro(e,t)}function oo(e,t){if(t&&("object"===no(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return io(e)}function io(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function so(e){return so=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},so(e)}var co=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ro(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=so(o);if(i){var n=so(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return oo(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={coin:e.coin,element:e.element,index:e.index,cbSave:e.cbSave,cbCancel:e.cbCancel,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.changeValue=t.changeValue.bind(io(t)),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changeValue",value:function(e){var t=this.state.element;t.value=e.target.value,this.setState({element:t})}},{key:"render",value:function(){var e=this;return a.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},a.createElement("form",{onSubmit:function(t){return e.state.cbSave(t,e.state.element,e.state.index)}},a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:this.state.coin.name+"-"+this.state.index,className:"form-label"},he.t("coinElementUrl")),a.createElement("input",{type:"text",className:"form-control",id:this.state.coin.name+"-"+this.state.index,value:this.state.element.value,placeholder:he.t("coinElementUrlPh"),onChange:this.changeValue})),a.createElement("div",{className:"mb-3 btn-group"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.state.cbCancel(t,e.state.index)}},he.t("modalClose")),a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(t){return e.state.cbSave(t,e.state.element,e.state.index)},disabled:!this.state.element.value},he.t("modalOk")))))}}])&&ao(t.prototype,n),r&&ao(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const lo=co;function uo(e){return uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uo(e)}function fo(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function po(e,t){return po=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},po(e,t)}function mo(e,t){if(t&&("object"===uo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ho(e)}function ho(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yo(e){return yo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yo(e)}var go=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&po(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=yo(o);if(i){var n=yo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return mo(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={coin:e.coin,element:e.element,index:e.index,cbSave:e.cbSave,cbCancel:e.cbCancel,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.changeValue=t.changeValue.bind(ho(t)),t.changeHideMenu=t.changeHideMenu.bind(ho(t)),t.changeHide=t.changeHide.bind(ho(t)),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changeValue",value:function(e){var t=this.state.element;t.value=e.target.value,this.setState({element:t})}},{key:"changeHideMenu",value:function(){var e=this.state.element;e.hideMenu=!e.hideMenu,this.setState({element:e})}},{key:"changeHide",value:function(){var e=this.state.element;e.hide=!e.hide,this.setState({element:e})}},{key:"render",value:function(){var e=this;return a.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},a.createElement("form",{onSubmit:function(t){return e.state.cbSave(t,e.state.element,e.state.index)}},a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:this.state.coin.name+"-"+this.state.index,className:"form-label"},he.t("coinElementLogin")),a.createElement("input",{type:"text",className:"form-control",id:this.state.coin.name+"-"+this.state.index,value:this.state.element.value,placeholder:he.t("coinElementLoginPh"),onChange:this.changeValue})),a.createElement("div",{className:"mb-3"},a.createElement("input",{className:"form-check-input btn-icon",type:"checkbox",id:this.state.coin.name+"-"+this.state.index+"-hideMenu",onChange:this.changeHideMenu,checked:!this.state.element.hideMenu}),a.createElement("label",{className:"form-check-label",htmlFor:this.state.coin.name+"-"+this.state.index+"-hideMenu"},he.t("coinElementShowShortcut"))),a.createElement("div",{className:"mb-3"},a.createElement("input",{className:"form-check-input btn-icon",type:"checkbox",id:this.state.coin.name+"-"+this.state.index+"-hide",onChange:this.changeHide,checked:!!this.state.element.hide}),a.createElement("label",{className:"form-check-label",htmlFor:this.state.coin.name+"-"+this.state.index+"-hide"},he.t("coinElementHide"))),a.createElement("div",{className:"mb-3 btn-group"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.state.cbCancel(t,e.state.index)}},he.t("modalClose")),a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(t){return e.state.cbSave(t,e.state.element,e.state.index)},disabled:!this.state.element.value},he.t("modalOk")))))}}])&&fo(t.prototype,n),r&&fo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const bo=go;function vo(e){return vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vo(e)}function wo(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function So(e,t){return So=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},So(e,t)}function Eo(e,t){if(t&&("object"===vo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ko(e)}function ko(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Co(e){return Co=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Co(e)}var Po=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&So(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Co(o);if(i){var n=Co(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Eo(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={config:e.config,cb:e.callback,element:e.element,originalPassword:e.originalPassword,hideSaveAndClose:e.hideSaveAndClose,wordsLists:{},showPassword:!1,passwordGenerated:!1},t.toggleShowPassword=t.toggleShowPassword.bind(ko(t)),t.toggleParam=t.toggleParam.bind(ko(t)),t.changePasswordLength=t.changePasswordLength.bind(ko(t)),t.generateRandomChars=t.generateRandomChars.bind(ko(t)),t.changePasswordWordsNumber=t.changePasswordWordsNumber.bind(ko(t)),t.changePasswordWordsSeparator=t.changePasswordWordsSeparator.bind(ko(t)),t.generateRandomWords=t.generateRandomWords.bind(ko(t)),t.copyOriginalPassword=t.copyOriginalPassword.bind(ko(t)),t.copyNewPassword=t.copyNewPassword.bind(ko(t)),t.state.config.frontend.lang.forEach((function(e){zn.request("words-"+e+".json").then((function(n){var a=t.state.wordsLists;a[e]=n,t.setState({wordsLists:a})}))})),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"toggleShowPassword",value:function(){this.setState({showPassword:!this.state.showPassword})}},{key:"toggleParam",value:function(e,t){var n=this.state.element;n.params[t]=!n.params[t],this.setState({element:n})}},{key:"changePasswordLength",value:function(e){var t=this.state.element;e.target.value?t.params.passwordCharLength=parseInt(e.target.value):t.params.passwordCharLength=0,this.setState({element:t})}},{key:"closeModal",value:function(e,t){this.state.cb&&this.state.cb(t,this.state.element)}},{key:"randomCharsRangeList",value:function(e,t){var n=new Uint8Array(e);window.crypto.getRandomValues(n);for(var a=0;a<e;a++)for(;n[a]>=t;){var r=new Uint8Array(1);window.crypto.getRandomValues(r),n[a]=r[0]}return n}},{key:"randomWordsRangeList",value:function(e,t){var n=new Uint32Array(e);window.crypto.getRandomValues(n);for(var a=0;a<e;a++)for(;n[a]>=t;){var r=new Uint32Array(1);window.crypto.getRandomValues(r),n[a]=r[0]}return n}},{key:"generateRandomChars",value:function(){var e="";this.state.element.params.lowercase&&(e+="abcdefghijklmnopqrstuvwxyz"),this.state.element.params.upprcase&&(e+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"),this.state.element.params.numbers&&(e+="0123456789"),this.state.element.params.special&&(e+="!\"#$%&\\'()*+,-./:;<=>?@[]^_`{|}~"),this.state.element.params.spaces&&(e+=" ");var t=this.randomCharsRangeList(this.state.element.params.passwordCharLength,e.length);if(this.state.element.params.noSimilarFollowingChars)for(var n=1;n<this.state.element.params.passwordCharLength;n++)for(;t[n]===t[n-1];){var a=this.randomCharsRangeList(1,e.length);t[n]=a[0]}var r="";for(n=0;n<this.state.element.params.passwordCharLength;n++)r+=e[t[n]];var o=this.state.element;o.params.type="chars",o.value=r,this.setState({element:o,passwordGenerated:!0})}},{key:"changePasswordWordsNumber",value:function(e){var t=this.state.element;e.target.value?t.params.wordsNumber=parseInt(e.target.value):t.params.wordsNumber=0,this.setState({element:t})}},{key:"toggleWordsLang",value:function(e,t){var n=this.state.element;-1!==n.params.wordsLangsList.indexOf(t)?n.params.wordsLangsList.splice(n.params.wordsLangsList.indexOf(t),1):n.params.wordsLangsList.push(t),this.setState({element:n})}},{key:"changePasswordWordsSeparator",value:function(e){var t=this.state.element;t.params.wordSeparator=e.target.value,this.setState({element:t})}},{key:"generateRandomWords",value:function(){var e=this,t=[];this.state.element.params.wordsLangsList.forEach((function(n){t=t.concat(e.state.wordsLists[n])}));for(var n=this.randomWordsRangeList(this.state.element.params.wordsNumber,t.length),a=[],r=0;r<this.state.element.params.wordsNumber;r++)a.push(t[n[r]]);var o=this.state.element;o.params.type="words",o.value=a.join(this.state.element.params.wordSeparator),this.setState({element:o,passwordGenerated:!0})}},{key:"copyOriginalPassword",value:function(){navigator.clipboard.writeText(this.state.originalPassword).then((function(){Dn.sendMessage("Notification",{type:"info",message:he.t("messageCopyOriginalPasswordToClipboard")})}))}},{key:"copyNewPassword",value:function(){navigator.clipboard.writeText(this.state.element.value).then((function(){Dn.sendMessage("Notification",{type:"info",message:he.t("messageCopyNewPasswordToClipboard")})}))}},{key:"render",value:function(){var e=this,t="chars"===this.state.element.params.type,n="chars"!==this.state.element.params.type;"chars"===this.state.element.params.type?t=" show":n=" show";var r=a.createElement("div",{className:"alert alert-primary",role:"alert"},he.t("newPassword"));this.state.showPassword&&this.state.passwordGenerated?r=a.createElement("div",{className:"alert alert-secondary",role:"alert"},a.createElement("code",null,this.state.element.value)):this.state.passwordGenerated&&(r=a.createElement("div",{className:"alert alert-success",role:"alert"},he.t("messagePasswordGenerated")));var o,i=[];return this.state.config.frontend.lang.forEach((function(t){i.push(a.createElement("div",{className:"form-group form-check",key:t},a.createElement("input",{type:"checkbox",className:"form-check-input",id:"passwordWordsLangs-"+t,onChange:function(n){return e.toggleWordsLang(n,t)},checked:-1!==e.state.element.params.wordsLangsList.indexOf(t)}),a.createElement("label",{className:"form-check-label",htmlFor:"passwordWordsLangs-"+t},he.t("passwordWordsLangs-"+t))))})),this.state.hideSaveAndClose||(o=a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(t){return e.closeModal(t,!0)},disabled:!this.state.passwordGenerated},he.t("modalCloseAndSave"))),a.createElement("div",{className:"modal",tabIndex:"-1",id:"modalGeneratePassword"},a.createElement("div",{className:"modal-dialog"},a.createElement("div",{className:"modal-content"},a.createElement("div",{className:"modal-header"},a.createElement("h5",{className:"modal-title"},he.t("modalGeneratePassword")),a.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(t){return e.closeModal(t,!1)}})),a.createElement("div",{className:"modal-body"},a.createElement("div",{className:"accordion",id:"passwordRandom"},a.createElement("div",{className:"accordion-item"},a.createElement("h2",{className:"accordion-header",id:"headingOne"},a.createElement("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#passwordRandomCharacters","aria-expanded":t?"true":"false","aria-controls":"passwordRandomCharacters"},he.t("passwordRandomCharacters"))),a.createElement("div",{id:"passwordRandomCharacters",className:"accordion-collapse collapse"+(t?" show":""),"aria-labelledby":"headingOne","data-bs-parent":"#passwordRandom"},a.createElement("div",{className:"accordion-body"},a.createElement("div",{className:"form-group form-check"},a.createElement("input",{type:"checkbox",className:"form-check-input",id:"lowercase",onChange:function(t){return e.toggleParam(t,"lowercase")},checked:this.state.element.params.lowercase}),a.createElement("label",{className:"form-check-label",htmlFor:"lowercase"},he.t("passwordRandomLowercase"))),a.createElement("div",{className:"form-group form-check"},a.createElement("input",{type:"checkbox",className:"form-check-input",id:"upprcase",onChange:function(t){return e.toggleParam(t,"upprcase")},checked:this.state.element.params.upprcase}),a.createElement("label",{className:"form-check-label",htmlFor:"upprcase"},he.t("passwordRandomUppercase"))),a.createElement("div",{className:"form-group form-check"},a.createElement("input",{type:"checkbox",className:"form-check-input",id:"numbers",onChange:function(t){return e.toggleParam(t,"numbers")},checked:this.state.element.params.numbers}),a.createElement("label",{className:"form-check-label",htmlFor:"numbers"},he.t("passwordRandomNumbers"))),a.createElement("div",{className:"form-group form-check"},a.createElement("input",{type:"checkbox",className:"form-check-input",id:"special",onChange:function(t){return e.toggleParam(t,"special")},checked:this.state.element.params.special}),a.createElement("label",{className:"form-check-label",htmlFor:"special"},he.t("passwordRandomSpecial"))),a.createElement("div",{className:"form-group form-check"},a.createElement("input",{type:"checkbox",className:"form-check-input",id:"spaces",onChange:function(t){return e.toggleParam(t,"spaces")},checked:this.state.element.params.spaces}),a.createElement("label",{className:"form-check-label",htmlFor:"spaces"},he.t("passwordRandomSpaces"))),a.createElement("div",{className:"form-group form-check"},a.createElement("input",{type:"checkbox",className:"form-check-input",id:"noSimilarFollowingChars",onChange:function(t){return e.toggleParam(t,"noSimilarFollowingChars")},checked:this.state.element.params.noSimilarFollowingChars}),a.createElement("label",{className:"form-check-label",htmlFor:"noSimilarFollowingChars"},he.t("passwordNoSimilarFollowingChars"))),a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"passwordCharLength",className:"form-label"},he.t("passwordCharLength")),a.createElement("input",{type:"number",step:"1",min:"0",className:"form-control",id:"passwordCharLength",value:this.state.element.params.passwordCharLength,onChange:this.changePasswordLength})),a.createElement("div",{className:"mb-3"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.generateRandomChars,disabled:!this.state.element.params.lowercase&&!this.state.element.params.upprcase&&!this.state.element.params.numbers&&!this.state.element.params.special||!this.state.element.params.passwordCharLength},he.t("passwordGenerate")))))),a.createElement("div",{className:"accordion-item"},a.createElement("h2",{className:"accordion-header",id:"headingTwo"},a.createElement("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#passwordRandomWords","aria-expanded":n?"true":"false","aria-controls":"passwordRandomWords"},he.t("passwordRandomWords"))),a.createElement("div",{id:"passwordRandomWords",className:"accordion-collapse collapse"+(n?" show":""),"aria-labelledby":"headingTwo","data-bs-parent":"#passwordRandom"},a.createElement("div",{className:"accordion-body"},a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"passwordWordsNumber",className:"form-label"},he.t("passwordWordsNumber")),a.createElement("input",{type:"number",step:"1",min:"0",className:"form-control",id:"passwordWordsNumber",value:this.state.element.params.wordsNumber,onChange:this.changePasswordWordsNumber})),a.createElement("div",{className:"input-group mb-3"},a.createElement("label",{className:"input-group-text",htmlFor:"passwordWordsSeparator"},he.t("passwordWordsSeparator")),a.createElement("select",{className:"form-select",id:"passwordWordsSeparator",value:this.state.element.params.wordSeparator,onChange:this.changePasswordWordsSeparator},a.createElement("option",{value:" "},he.t("passwordWordsSeparatorSpace")),a.createElement("option",{value:"."},he.t("passwordWordsSeparatorDot")),a.createElement("option",{value:"-"},he.t("passwordWordsSeparatorDash")),a.createElement("option",{value:"_"},he.t("passwordWordsSeparatorUnderscore")),a.createElement("option",{value:","},he.t("passwordWordsSeparatorComma")),a.createElement("option",{value:""},he.t("passwordWordsSeparatorNone")))),a.createElement("h5",null,he.t("passwordWordsLangs")),i,a.createElement("div",{className:"mb-3"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.generateRandomWords,disabled:!this.state.element.params.wordsNumber||!this.state.element.params.wordsLangsList.length},he.t("passwordGenerate"))))))),a.createElement("hr",null),a.createElement("div",{className:"mb-3"},r),a.createElement("div",{className:"mb-3"},a.createElement("div",{className:"btn-toolbar justify-content-between",role:"toolbar"},a.createElement("div",{className:"btn-group",role:"group"},a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.toggleShowPassword,title:he.t("coinElementShowPassword"),disabled:!this.state.passwordGenerated},a.createElement("i",{className:"fa fa-eye","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.copyNewPassword,title:he.t("passwordCopyNewPassword"),disabled:!this.state.passwordGenerated},a.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"}))),a.createElement("div",{className:"btn-group",role:"group"},a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.copyOriginalPassword,title:he.t("passwordCopyOriginalPassword"),disabled:!this.state.originalPassword},a.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"})))))),a.createElement("div",{className:"modal-footer"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.closeModal(t,!1)}},he.t("modalClose")),o))))}}])&&wo(t.prototype,n),r&&wo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const Oo=Po;function No(e){return No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},No(e)}function xo(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _o(e,t){return _o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_o(e,t)}function To(e,t){if(t&&("object"===No(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ro(e)}function Ro(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jo(e){return jo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jo(e)}var Ao=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_o(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=jo(o);if(i){var n=jo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return To(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={config:e.config,coin:e.coin,element:e.element,index:e.index,cbSave:e.cbSave,cbCancel:e.cbCancel,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver,password:e.element.value||"",passwordConfirm:e.element.value||"",showModalGeneratePassword:!1,modalElement:!1,originalPassword:!1,pwdScore:-1},t.changePassword=t.changePassword.bind(Ro(t)),t.changePasswordConfirm=t.changePasswordConfirm.bind(Ro(t)),t.closeAndSave=t.closeAndSave.bind(Ro(t)),t.openGenerateModal=t.openGenerateModal.bind(Ro(t)),t.getGeneratedPassword=t.getGeneratedPassword.bind(Ro(t)),t.changeHideMenu=t.changeHideMenu.bind(Ro(t)),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changePassword",value:function(e){var t=-1;e.target.value&&(t=zxcvbn(e.target.value).score),this.setState({password:e.target.value,pwdScore:t})}},{key:"changePasswordConfirm",value:function(e){this.setState({passwordConfirm:e.target.value})}},{key:"changeHideMenu",value:function(){var e=this.state.element;e.hideMenu=!e.hideMenu,this.setState({element:e})}},{key:"closeAndSave",value:function(e){if(this.state.password&&this.state.password===this.state.passwordConfirm){var t=this.state.element;t.value=this.state.password,this.state.cbSave(e,t,this.state.index)}}},{key:"openGenerateModal",value:function(){var e=Object.assign({},this.state.element);e.params||(e.params={type:"chars",lowercase:!0,upprcase:!0,numbers:!0,special:!0,spaces:!0,noSimilarFollowingChars:!1,passwordCharLength:32,wordsNumber:4,wordsLangsList:[he.language],wordSeparator:" "}),this.setState({showModalGeneratePassword:!0,modalElement:e,originalPassword:this.state.element.value},(function(){new bootstrap.Modal(document.getElementById("modalGeneratePassword"),{keyboard:!1}).show()}))}},{key:"getGeneratedPassword",value:function(e,t){var n=this;if(e){var a=-1;a=zxcvbn(t.value).score,navigator.clipboard.writeText(t.value).then((function(){Dn.sendMessage("Notification",{type:"info",message:he.t("messageCopyToClipboard")}),n.state.cbSave(!1,t,n.state.index)}))}bootstrap.Modal.getOrCreateInstance(document.querySelector("#modalGeneratePassword")).hide(),this.setState({showModalGeneratePassword:!1,modalElement:!1,originalPassword:!1,pwdScore:a})}},{key:"render",value:function(){var e,t,n=this;return this.state.showModalGeneratePassword&&(e=a.createElement(Oo,{config:this.state.config,element:this.state.modalElement,originalPassword:this.state.originalPassword,callback:this.getGeneratedPassword})),0===this.state.pwdScore?t=a.createElement("span",{className:"badge bg-danger"},he.t("pwdScoreTooGuessable")):1===this.state.pwdScore?t=a.createElement("span",{className:"badge bg-warning"},he.t("pwdScoreVeryGuessable")):2===this.state.pwdScore?t=a.createElement("span",{className:"badge bg-secondary"},he.t("pwdScoreSomewhatGuessable")):3===this.state.pwdScore?t=a.createElement("span",{className:"badge bg-primary"},he.t("pwdScoreSafelyUnguessable")):4===this.state.pwdScore&&(t=a.createElement("span",{className:"badge bg-success"},he.t("pwdScoreVeryUnguessable"))),a.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},a.createElement("form",{onSubmit:function(e){return n.state.cbSave(e,n.state.element,n.state.index)}},a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:this.state.coin.name+"-"+this.state.index,className:"form-label"},he.t("coinElementPassword")),a.createElement("input",{type:"password",className:"form-control",id:this.state.coin.name+"-"+this.state.index,value:this.state.password,onChange:this.changePassword}),t),a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:this.state.coin.name+"-"+this.state.index,className:"form-label"},he.t("coinElementPasswordConfirm")),a.createElement("input",{type:"password",className:"form-control",id:this.state.coin.name+"-"+this.state.index+"-confirm",value:this.state.passwordConfirm,onChange:this.changePasswordConfirm})),a.createElement("div",{className:"mb-3"},a.createElement("input",{className:"form-check-input btn-icon",type:"checkbox",id:this.state.coin.name+"-"+this.state.index+"-hideMenu",onChange:this.changeHideMenu,checked:!this.state.element.hideMenu}),a.createElement("label",{className:"form-check-label",htmlFor:this.state.coin.name+"-"+this.state.index+"-hideMenu"},he.t("coinElementShowShortcut"))),a.createElement("div",{className:"mb-3"},a.createElement("div",{className:"btn-group"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return n.state.cbCancel(e,n.state.index)}},he.t("modalClose")),a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(e){return n.closeAndSave(e)},disabled:!this.state.password||this.state.password!==this.state.passwordConfirm},he.t("modalOk"))),a.createElement("div",{className:"btn-group float-end"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.openGenerateModal,title:he.t("coinPasswordGenerate")},a.createElement("i",{className:"fa fa-magic","aria-hidden":"true"})))),e))}}])&&xo(t.prototype,n),r&&xo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const Do=Ao;function Mo(e){return Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mo(e)}function Lo(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Io(e,t){return Io=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Io(e,t)}function Ko(e,t){if(t&&("object"===Mo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Uo(e)}function Uo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fo(e){return Fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fo(e)}var Ho=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Io(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Fo(o);if(i){var n=Fo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ko(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={coin:e.coin,element:e.element,index:e.index,cbSave:e.cbSave,cbCancel:e.cbCancel,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.getFile=t.getFile.bind(Uo(t)),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"getFile",value:function(e){var t=this,n=this.state.element,a=e.target.files[0],r=new FileReader;r.onload=function(e){n.value={name:a.name,data:btoa(e.target.result)},t.setState({element:n})},r.readAsBinaryString(a)}},{key:"render",value:function(){var e,t=this;return this.state.element.value.name&&(e=a.createElement("code",{className:"btn-icon-right"},this.state.element.value.name)),a.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},a.createElement("div",{className:"mb-3"},a.createElement("input",{type:"file",className:"upload",id:this.state.coin.name+this.state.index,onChange:this.getFile}),a.createElement("label",{htmlFor:this.state.coin.name+this.state.index,className:"btn btn-outline-secondary btn-sm"},a.createElement("i",{className:"fa fa-cloud-upload","aria-hidden":"true"})),e),a.createElement("div",{className:"mb-3 btn-group"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return t.state.cbCancel(e,t.state.index)}},he.t("modalClose")),a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(e){return t.state.cbSave(e,t.state.element,t.state.index)},disabled:!this.state.element.value},he.t("modalOk"))))}}])&&Lo(t.prototype,n),r&&Lo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const Wo=Ho;function Bo(e){return Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bo(e)}function Jo(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function zo(e,t){return zo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zo(e,t)}function Vo(e,t){if(t&&("object"===Bo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qo(e)}function qo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $o(e){return $o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$o(e)}var Go=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zo(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$o(o);if(i){var n=$o(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Vo(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={coin:e.coin,element:e.element,index:e.index,cbSave:e.cbSave,cbCancel:e.cbCancel,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.changeValue=t.changeValue.bind(qo(t)),t.changeHide=t.changeHide.bind(qo(t)),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changeValue",value:function(e){var t=this.state.element;t.value=e.target.value,this.setState({element:t})}},{key:"changeHide",value:function(){var e=this.state.element;e.hide=!e.hide,this.setState({element:e})}},{key:"render",value:function(){var e=this;return a.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},a.createElement("form",{onSubmit:function(t){return e.state.cbSave(t,e.state.element,e.state.index)}},a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:this.state.coin.name+"-"+this.state.index,className:"form-label"},he.t("coinElementMisc")),a.createElement("textarea",{className:"form-control",id:this.state.coin.name+"-"+this.state.index,value:this.state.element.value,placeholder:he.t("coinElementMiscPh"),onChange:this.changeValue})),a.createElement("div",{className:"mb-3"},a.createElement("input",{className:"form-check-input btn-icon",type:"checkbox",id:this.state.coin.name+"-"+this.state.index+"-hide",onChange:this.changeHide,checked:!!this.state.element.hide}),a.createElement("label",{className:"form-check-label",htmlFor:this.state.coin.name+"-"+this.state.index+"-hide"},he.t("coinElementHide"))),a.createElement("div",{className:"mb-3 btn-group"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.state.cbCancel(t,e.state.index)}},he.t("modalClose")),a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(t){return e.state.cbSave(t,e.state.element,e.state.index)},disabled:!this.state.element.value},he.t("modalOk")))))}}])&&Jo(t.prototype,n),r&&Jo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const Qo=Go;function Xo(e){return Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xo(e)}function Yo(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Zo(e,t){return Zo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zo(e,t)}function ei(e,t){if(t&&("object"===Xo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ti(e)}function ti(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ni(e){return ni=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ni(e)}var ai=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zo(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ni(o);if(i){var n=ni(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ei(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={coin:e.coin,oidcStatus:e.oidcStatus,element:e.element,index:e.index,cbEdit:e.cbEdit,cbRemove:e.cbRemove,cbTags:e.cbTags,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.copyToClipboard=t.copyToClipboard.bind(ti(t)),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"copyToClipboard",value:function(){navigator.clipboard.writeText(this.state.element.value).then((function(){Dn.sendMessage("Notification",{type:"info",message:he.t("messageCopyToClipboard")})}))}},{key:"render",value:function(){var e=this,t=[];return this.state.element.tags&&this.state.element.tags.forEach((function(e,n){t.push(a.createElement("span",{key:n,className:"badge rounded-pill bg-secondary btn-icon"},e))})),a.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},a.createElement("div",{className:"row btn-icon-bottom"},a.createElement("div",{className:"col"},a.createElement("span",{className:"btn-icon-right"},a.createElement("span",{className:"badge bg-primary"},he.t("coinElementUrl")))),a.createElement("div",{className:"col text-truncate"},a.createElement("span",{className:"btn-icon-right"},a.createElement("a",{href:this.state.element.value,target:"_blank",rel:"noreferrer noopener",title:this.state.element.value,className:"link-secondary"},this.state.element.value))),a.createElement("div",{className:"col"},a.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:he.t("coinElementCopy"),onClick:this.copyToClipboard},a.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:he.t("coinElementEdit"),onClick:function(t){return e.state.cbEdit(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:he.t("coinElementRemove"),onClick:function(t){return e.state.cbRemove(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:he.t("coinElementTags"),onClick:function(t){return e.state.cbTags(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-tags","aria-hidden":"true"}))))),a.createElement("div",{className:"row coin-tag"},a.createElement("div",{className:"col"},t)))}}])&&Yo(t.prototype,n),r&&Yo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const ri=ai;function oi(e){return oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oi(e)}function ii(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function si(e,t){return si=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},si(e,t)}function ci(e,t){if(t&&("object"===oi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return li(e)}function li(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ui(e){return ui=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ui(e)}var fi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&si(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ui(o);if(i){var n=ui(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ci(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={oidcStatus:e.oidcStatus,coin:e.coin,element:e.element,index:e.index,cbEdit:e.cbEdit,cbRemove:e.cbRemove,cbTags:e.cbTags,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver,showElement:!1},t.copyToClipboard=t.copyToClipboard.bind(li(t)),t.toggleShowValue=t.toggleShowValue.bind(li(t)),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"copyToClipboard",value:function(){navigator.clipboard.writeText(this.state.element.value).then((function(){Dn.sendMessage("Notification",{type:"info",message:he.t("messageCopyToClipboard")})}))}},{key:"toggleShowValue",value:function(e){e.preventDefault(),this.setState({showElement:!this.state.showElement})}},{key:"changeHide",value:function(){var e=this.state.element;e.hide=!e.hide,this.setState({element:e})}},{key:"render",value:function(){var e,t,n=this,r=[];return this.state.element.tags&&this.state.element.tags.forEach((function(e,t){r.push(a.createElement("span",{key:t,className:"badge rounded-pill bg-secondary btn-icon"},e))})),this.state.element.hide?(e=this.state.showElement?a.createElement("div",{className:"col text-truncate"},a.createElement("span",{className:"btn-icon-right"},this.state.element.value)):a.createElement("div",{className:"col text-truncate"},a.createElement("span",{className:"btn-icon-right"},"********")),t=a.createElement("a",{className:"link-secondary btn-icon-right",alt:he.t("coinElementShow"),href:"#",onClick:this.toggleShowValue},a.createElement("i",{className:"fa fa-eye","aria-hidden":"true"}))):e=a.createElement("div",{className:"col text-truncate"},a.createElement("span",{className:"btn-icon-right"},this.state.element.value)),a.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},a.createElement("div",{className:"row btn-icon-bottom"},a.createElement("div",{className:"col"},a.createElement("span",{className:"btn-icon-right"},a.createElement("span",{className:"badge bg-primary"},he.t("coinElementLogin"))),t),e,a.createElement("div",{className:"col"},a.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:he.t("coinElementCopy"),onClick:this.copyToClipboard},a.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:he.t("coinElementEdit"),onClick:function(e){return n.state.cbEdit(e,n.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:he.t("coinElementRemove"),onClick:function(e){return n.state.cbRemove(e,n.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:he.t("coinElementTags"),onClick:function(e){return n.state.cbTags(e,n.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-tags","aria-hidden":"true"}))))),a.createElement("div",{className:"row coin-tag"},a.createElement("div",{className:"col"},r)))}}])&&ii(t.prototype,n),r&&ii(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const di=fi;function pi(e){return pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pi(e)}function mi(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function hi(e,t){return hi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hi(e,t)}function yi(e,t){if(t&&("object"===pi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gi(e)}function gi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bi(e){return bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bi(e)}var vi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hi(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=bi(o);if(i){var n=bi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return yi(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={coin:e.coin,oidcStatus:e.oidcStatus,element:e.element,index:e.index,cbEdit:e.cbEdit,cbRemove:e.cbRemove,cbTags:e.cbTags,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver,showPassword:!1},t.copyToClipboard=t.copyToClipboard.bind(gi(t)),t.toggleShowPassword=t.toggleShowPassword.bind(gi(t)),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"copyToClipboard",value:function(){navigator.clipboard.writeText(this.state.element.value).then((function(){Dn.sendMessage("Notification",{type:"info",message:he.t("messageCopyToClipboard")})}))}},{key:"toggleShowPassword",value:function(e){e.preventDefault(),this.setState({showPassword:!this.state.showPassword})}},{key:"render",value:function(){var e,t=this,n=[];return this.state.element.tags&&this.state.element.tags.forEach((function(e,t){n.push(a.createElement("span",{key:t,className:"badge rounded-pill bg-secondary btn-icon"},e))})),e=this.state.showPassword?a.createElement("div",{className:"col"},a.createElement("code",null,this.state.element.value)):a.createElement("div",{className:"col text-truncate"},a.createElement("span",{className:"btn-icon-right"},"********")),a.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},a.createElement("div",{className:"row btn-icon-bottom"},a.createElement("div",{className:"col text-truncate"},a.createElement("span",{className:"btn-icon-right"},a.createElement("span",{className:"badge bg-primary"},he.t("coinElementPassword"))),a.createElement("a",{className:"link-secondary btn-icon-right",alt:he.t("coinElementShowPassword"),href:"#",onClick:this.toggleShowPassword},a.createElement("i",{className:"fa fa-eye","aria-hidden":"true"}))),e,a.createElement("div",{className:"col"},a.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:he.t("coinElementCopy"),onClick:this.copyToClipboard},a.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:he.t("coinElementEdit"),onClick:function(e){return t.state.cbEdit(e,t.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:he.t("coinElementRemove"),onClick:function(e){return t.state.cbRemove(e,t.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:he.t("coinElementTags"),onClick:function(e){return t.state.cbTags(e,t.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-tags","aria-hidden":"true"}))))),a.createElement("div",{className:"row coin-tag"},a.createElement("div",{className:"col"},n)))}}])&&mi(t.prototype,n),r&&mi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const wi=vi;function Si(e){return Si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Si(e)}function Ei(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ki(e,t){return ki=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ki(e,t)}function Ci(e,t){if(t&&("object"===Si(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pi(e)}function Pi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oi(e){return Oi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Oi(e)}var Ni=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ki(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Oi(o);if(i){var n=Oi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ci(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={oidcStatus:e.oidcStatus,value:e.value,index:e.index,cbSave:e.cbSave,disableEdit:e.disableEdit,showAnswer:!1},t.copyToClipboard=t.copyToClipboard.bind(Pi(t)),t.toggleShowAnswer=t.toggleShowAnswer.bind(Pi(t)),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"copyToClipboard",value:function(){navigator.clipboard.writeText(this.state.value.answer).then((function(){Dn.sendMessage("Notification",{type:"info",message:he.t("messageCopyToClipboard")})}))}},{key:"toggleShowAnswer",value:function(e){e.preventDefault(),this.setState({showAnswer:!this.state.showAnswer})}},{key:"render",value:function(){var e,t,n,r,o=this;return e=this.state.value.answer.length>4&&!this.state.showAnswer?this.state.value.answer.substring(0,2)+"[...]"+this.state.value.answer.slice(-2):this.state.value.answer,a.createElement("div",{className:"row"},a.createElement("div",{className:"col"},a.createElement("code",{className:"btn-icon-right"},this.state.value.question),a.createElement("a",{className:"link-secondary btn-icon-right",href:"#",alt:he.t("coinElementShowAnswer"),onClick:this.toggleShowAnswer},a.createElement("i",{className:"fa fa-eye","aria-hidden":"true"}))),a.createElement("div",{className:"col"},a.createElement("code",{className:"btn-icon-right"},e)),a.createElement("div",{className:"col"},a.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:he.t("coinElementCopy"),onClick:this.copyToClipboard},a.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"})),a.createElement("button",(t={className:"btn btn-outline-secondary btn-sm",type:"button",title:he.t("coinElementEdit"),onClick:function(e){return o.state.cbEdit(e,o.state.index)},disabled:this.state.disableEdit},n="disabled",r="connected"!==this.state.oidcStatus,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t),a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:he.t("coinElementRemove"),onClick:function(e){return o.state.cbRemove(e,o.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})))))}}])&&Ei(t.prototype,n),r&&Ei(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const xi=Ni;function _i(e){return _i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_i(e)}function Ti(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ri(e,t){return Ri=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ri(e,t)}function ji(e,t){if(t&&("object"===_i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ai(e)}function Ai(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Di(e){return Di=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Di(e)}var Mi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ri(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Di(o);if(i){var n=Di(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ji(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={value:e.value,index:e.index,wordsList:e.wordsList,cbSave:e.cbSave,cbCancel:e.cbCancel},t.changeQuestion=t.changeQuestion.bind(Ai(t)),t.changeAnswer=t.changeAnswer.bind(Ai(t)),t.generateAnswer=t.generateAnswer.bind(Ai(t)),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changeQuestion",value:function(e){var t=this.state.value;t.question=e.target.value,this.setState({value:t})}},{key:"changeAnswer",value:function(e){var t=this.state.value;t.answer=e.target.value,this.setState({value:t})}},{key:"randomWordsRangeList",value:function(e,t){var n=new Uint32Array(e);window.crypto.getRandomValues(n);for(var a=0;a<e;a++)for(;n[a]>=t;){var r=new Uint32Array(1);window.crypto.getRandomValues(r),n[a]=r[0]}return n}},{key:"generateAnswer",value:function(){var e=this.randomWordsRangeList(2,this.state.wordsList.length),t=this.state.wordsList[e[0]]+" "+this.state.wordsList[e[1]],n=this.state.value;n.answer=t,this.setState({value:n})}},{key:"render",value:function(){var e=this;return a.createElement("div",null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col"},a.createElement("div",{className:"input-group mb-3"},a.createElement("span",{className:"input-group-text",id:"basic-addon1"},he.t("coinElementQuestionQ")),a.createElement("input",{type:"text",className:"form-control",placeholder:he.t("coinElementQuestionQPH"),value:this.state.value.question,onChange:this.changeQuestion})))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col"},a.createElement("div",{className:"input-group mb-3"},a.createElement("span",{className:"input-group-text",id:"basic-addon1"},he.t("coinElementQuestionA")),a.createElement("input",{type:"text",className:"form-control",placeholder:he.t("coinElementQuestionAPH"),value:this.state.value.answer,onChange:this.changeAnswer}),a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.generateAnswer},a.createElement("i",{className:"fa fa-magic","aria-hidden":"true"}))))),a.createElement("div",{className:"mb-3 btn-group"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.state.cbCancel(t,e.state.index)}},he.t("modalCancel")),a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(t){return e.state.cbSave(t,e.state.value,e.state.index)},disabled:!this.state.value.answer},he.t("modalOk"))))}}])&&Ti(t.prototype,n),r&&Ti(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const Li=Mi;function Ii(e){return Ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ii(e)}function Ki(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ui(e,t){return Ui=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ui(e,t)}function Fi(e,t){if(t&&("object"===Ii(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Hi(e)}function Hi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wi(e){return Wi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wi(e)}var Bi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ui(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Wi(o);if(i){var n=Wi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Fi(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={coin:e.coin,oidcStatus:e.oidcStatus,element:e.element,index:e.index,closeButon:e.closeButon,cbRemove:e.cbRemove,cbSave:e.cbSave,cbTags:e.cbTags,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver,config:e.config,editList:[]},t.copyToClipboard=t.copyToClipboard.bind(Hi(t)),t.saveRow=t.saveRow.bind(Hi(t)),t.cancelRow=t.cancelRow.bind(Hi(t)),t.editRow=t.editRow.bind(Hi(t)),t.removeRow=t.removeRow.bind(Hi(t)),t.cbAddQuestion=t.cbAddQuestion.bind(Hi(t)),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"copyToClipboard",value:function(e){navigator.clipboard.writeText(this.state.element.value[e].answer).then((function(){Dn.sendMessage("Notification",{type:"info",message:he.t("messageCopyToClipboard")})}))}},{key:"saveRow",value:function(e,t,n){var a=this,r=this.state.element;r.value[n]?r.value[n]=t:r.value.push(t);var o=this.state.editList;-1!==o.indexOf(n)&&o.splice(o.indexOf(n),1),this.setState({element:r,editList:o},(function(){a.state.cbSave(e,a.state.element,a.state.index)}))}},{key:"cancelRow",value:function(e,t){var n=this.state.editList;-1!==n.indexOf(t)&&n.splice(n.indexOf(t),1),this.setState({editList:n})}},{key:"editRow",value:function(e,t){var n=this.state.editList;n.push(t),this.setState({editList:n})}},{key:"removeRow",value:function(e,t){var n=this,a=this.state.element;a.value.splice(t,1);var r=this.state.editList;-1!==r.indexOf(t)&&r.splice(r.indexOf(t),1),this.setState({editList:r,element:a},(function(){n.state.cbSave(e,n.state.element,n.state.index)}))}},{key:"cbAddQuestion",value:function(){var e=this.state.editList,t=this.state.element;e.push(t.value.length),t.value.push({question:"",answer:""}),this.setState({editList:e,element:t})}},{key:"render",value:function(){var e,t,n,r,o=this,i=[],s=[];return this.state.element.tags&&this.state.element.tags.forEach((function(e,t){i.push(a.createElement("span",{key:t,className:"badge rounded-pill bg-secondary btn-icon"},e))})),this.state.element.value.length?this.state.element.value.forEach((function(e,t){-1!==o.state.editList.indexOf(t)?s.push(a.createElement(Li,{value:Object.assign({},e),index:t,wordsList:o.state.config.wordsList,cbSave:o.saveRow,cbCancel:o.cancelRow,key:t})):s.push(a.createElement(xi,{value:Object.assign({},e),index:t,cbEdit:function(e){return o.editRow(e,t)},cbRemove:function(e){return o.removeRow(e,t)},key:t,disableEdit:!!o.state.editList.length,oidcStatus:o.state.oidcStatus}))})):s.push(a.createElement(Li,{value:{question:"",answer:""},index:0,wordsList:this.state.config.wordsList,cbSave:this.saveRow,cbCancel:this.cancelRow,key:-1})),this.state.closeButon&&(e=a.createElement("div",{className:"row"},a.createElement("div",{className:"col"},a.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:he.t("modalClose"),onClick:function(e){return o.state.cbSave(e,o.state.element,o.state.index)}},he.t("modalClose")))))),a.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},a.createElement("div",{className:"row btn-icon-bottom"},a.createElement("div",{className:"col"},a.createElement("span",{className:"btn-icon-right"},a.createElement("span",{className:"badge bg-primary"},he.t("coinElementSecretQuestions")))),a.createElement("div",{className:"col"},a.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},a.createElement("button",(t={className:"btn btn-outline-secondary btn-sm",type:"button",title:he.t("coinElementAddQuestion"),onClick:this.cbAddQuestion,disabled:this.state.editList.length},n="disabled",r="connected"!==this.state.oidcStatus,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t),a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:he.t("coinElementRemove"),onClick:function(e){return o.state.cbRemove(e,o.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:he.t("coinElementTags"),onClick:function(e){return o.state.cbTags(e,o.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-tags","aria-hidden":"true"}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col"},a.createElement("span",{className:"badge bg-info text-dark"},he.t("coinElementQuestionQ"))),a.createElement("div",{className:"col"},a.createElement("span",{className:"badge bg-info text-dark"},he.t("coinElementQuestionA"))),a.createElement("div",{className:"col"})),s,a.createElement("div",{className:"row coin-tag"},a.createElement("div",{className:"col"},i)),e)}}])&&Ki(t.prototype,n),r&&Ki(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const Ji=Bi;function zi(e){return zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zi(e)}function Vi(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function qi(e,t){return qi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qi(e,t)}function $i(e,t){if(t&&("object"===zi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gi(e)}function Gi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qi(e){return Qi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qi(e)}var Xi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qi(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Qi(o);if(i){var n=Qi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return $i(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={coin:e.coin,oidcStatus:e.oidcStatus,element:e.element,index:e.index,cbEdit:e.cbEdit,cbRemove:e.cbRemove,cbTags:e.cbTags,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver},t.downloadFile=t.downloadFile.bind(Gi(t)),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"downloadFile",value:function(){if(this.state.element.value.data){var e=$("#"+this.state.coin.name+"-"+this.state.index+"-download");e.attr("href","data:application/octet-stream;base64,"+this.state.element.value.data),e[0].click()}}},{key:"render",value:function(){var e=this,t=[];return this.state.element.tags&&this.state.element.tags.forEach((function(e,n){t.push(a.createElement("span",{key:n,className:"badge rounded-pill bg-secondary btn-icon"},e))})),a.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},a.createElement("div",{className:"row btn-icon-bottom"},a.createElement("div",{className:"col"},a.createElement("span",{className:"btn-icon-right"},a.createElement("span",{className:"badge bg-primary"},he.t("coinElementFile")))),a.createElement("div",{className:"col text-truncate"},a.createElement("span",{className:"btn-icon-right"},a.createElement("code",null,this.state.element.value.name))),a.createElement("div",{className:"col"},a.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:he.t("coinElementDownload"),onClick:this.downloadFile},a.createElement("i",{className:"fa fa-cloud-download","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:he.t("coinElementEdit"),onClick:function(t){return e.state.cbEdit(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:he.t("coinElementRemove"),onClick:function(t){return e.state.cbRemove(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:he.t("coinElementTags"),onClick:function(t){return e.state.cbTags(t,e.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-tags","aria-hidden":"true"}))))),a.createElement("div",{className:"row coin-tag"},a.createElement("div",{className:"col"},t)),a.createElement("a",{className:"upload",id:this.state.coin.name+"-"+this.state.index+"-download",download:this.state.element.value.name}))}}])&&Vi(t.prototype,n),r&&Vi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const Yi=Xi;function Zi(e){return Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zi(e)}function es(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ts(e,t){return ts=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ts(e,t)}function ns(e,t){if(t&&("object"===Zi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return as(e)}function as(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rs(e){return rs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rs(e)}var os=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ts(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rs(o);if(i){var n=rs(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ns(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={coin:e.coin,oidcStatus:e.oidcStatus,element:e.element,index:e.index,cbEdit:e.cbEdit,cbRemove:e.cbRemove,cbTags:e.cbTags,isDraggable:e.isDraggable,cbOnDragStart:e.cbOnDragStart,cbOnDragOver:e.cbOnDragOver,showElement:!1},t.copyToClipboard=t.copyToClipboard.bind(as(t)),t.toggleShowValue=t.toggleShowValue.bind(as(t)),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"copyToClipboard",value:function(){navigator.clipboard.writeText(this.state.element.value).then((function(){Dn.sendMessage("Notification",{type:"info",message:he.t("messageCopyToClipboard")})}))}},{key:"toggleShowValue",value:function(e){e.preventDefault(),this.setState({showElement:!this.state.showElement})}},{key:"render",value:function(){var e,t,n=this,r=[];return this.state.element.tags&&this.state.element.tags.forEach((function(e,t){r.push(a.createElement("span",{key:t,className:"badge rounded-pill bg-secondary btn-icon"},e))})),this.state.element.hide?(e=this.state.showElement?a.createElement("div",{className:"col"},a.createElement("span",{className:"btn-icon-right"},a.createElement("pre",null,this.state.element.value))):a.createElement("div",{className:"col text-truncate"},a.createElement("span",{className:"btn-icon-right"},"********")),t=a.createElement("a",{className:"link-secondary btn-icon-right",alt:he.t("coinElementShow"),href:"#",onClick:this.toggleShowValue},a.createElement("i",{className:"fa fa-eye","aria-hidden":"true"}))):e=a.createElement("div",{className:"col"},a.createElement("span",{className:"btn-icon-right"},a.createElement("pre",null,this.state.element.value))),a.createElement("div",{draggable:this.state.isDraggable,onDragStart:this.state.cbOnDragStart,onDragOver:this.state.cbOnDragOver,id:this.state.coin.name+"-"+this.state.index,className:"border border-secondary rounded coin-element"},a.createElement("div",{className:"row btn-icon-bottom"},a.createElement("div",{className:"col"},a.createElement("span",{className:"btn-icon-right"},a.createElement("span",{className:"badge bg-primary"},he.t("coinElementMisc"))),t),e,a.createElement("div",{className:"col"},a.createElement("div",{className:"btn-group float-end btn-icon",role:"group"},a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:he.t("coinElementCopy"),onClick:this.copyToClipboard},a.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:he.t("coinElementEdit"),onClick:function(e){return n.state.cbEdit(e,n.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:he.t("coinElementRemove"),onClick:function(e){return n.state.cbRemove(e,n.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})),a.createElement("button",{className:"btn btn-outline-secondary btn-sm",type:"button",title:he.t("coinElementTags"),onClick:function(e){return n.state.cbTags(e,n.state.index)},disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-tags","aria-hidden":"true"}))))),a.createElement("div",{className:"row coin-tag"},a.createElement("div",{className:"col"},r)))}}])&&es(t.prototype,n),r&&es(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const is=os;function ss(e){return ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ss(e)}function cs(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ls(e,t){return ls=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ls(e,t)}function us(e,t){if(t&&("object"===ss(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fs(e)}function fs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ds(e){return ds=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ds(e)}var ps=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ls(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ds(o);if(i){var n=ds(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return us(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={tags:e.tags,allTags:e.allTags,cb:e.cb,inputValue:""},t.addTag=t.addTag.bind(fs(t)),t.deleteTag=t.deleteTag.bind(fs(t)),t.submitForm=t.submitForm.bind(fs(t)),t.changeInputValue=t.changeInputValue.bind(fs(t)),t.addTagFromAll=t.addTagFromAll.bind(fs(t)),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"closeModal",value:function(e,t){this.state.cb&&this.state.cb(t,this.state.tags)}},{key:"changeInputValue",value:function(e){/\s/.test(e.target.value)?this.addTag():this.setState({inputValue:e.target.value})}},{key:"addTagFromAll",value:function(e,t){e.preventDefault();var n=this.state.tags;return n.push(t),this.setState({tags:n})}},{key:"addTag",value:function(){var e=this.state.tags;return this.state.inputValue&&e.push(this.state.inputValue.trim()),this.setState({tags:e,inputValue:""})}},{key:"deleteTag",value:function(e,t){e.preventDefault();var n=this.state.tags;n.splice(t,1),this.setState({tags:n})}},{key:"submitForm",value:function(e){var t=this;e.preventDefault();var n=this.state.tags;this.state.inputValue&&n.push(this.state.inputValue),this.setState({tags:n,inputValue:""},(function(){t.closeModal(e,!0)}))}},{key:"render",value:function(){var e=this,t=[],n=[];return this.state.allTags.forEach((function(t,r){-1===e.state.tags.indexOf(t)&&n.push(a.createElement("a",{href:"#",onClick:function(n){return e.addTagFromAll(n,t)},key:r},a.createElement("span",{className:"badge rounded-pill bg-secondary btn-icon"},t)))})),this.state.tags.forEach((function(n,r){t.push(a.createElement("a",{href:"#",onClick:function(t){return e.deleteTag(t,r)},key:r},a.createElement("span",{className:"badge rounded-pill bg-secondary btn-icon"},n,a.createElement("span",{className:"badge badge-light btn-icon-right"},a.createElement("i",{className:"fas fa-times"})))))})),a.createElement("div",{className:"modal",tabIndex:"-1",id:"modalCoinElementTags"},a.createElement("div",{className:"modal-dialog"},a.createElement("div",{className:"modal-content"},a.createElement("div",{className:"modal-header"},a.createElement("h5",{className:"modal-title"},he.t("CoinElementTags")),a.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(t){return e.closeModal(t,!1)}})),a.createElement("form",{onSubmit:function(t){return e.submitForm(t)}},a.createElement("div",{className:"modal-body"},a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"coinDisplayName",className:"form-label"},he.t("coinUsedTags"))),a.createElement("div",{className:"mb-3"},n),a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"coinDisplayName",className:"form-label"},he.t("coinDisplayName")),a.createElement("div",{className:"input-group mb-3"},a.createElement("input",{type:"text",maxLength:"128",className:"form-control",id:"coinDisplayName",value:this.state.inputValue,onChange:function(t){return e.changeInputValue(t)}}),a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.addTag},a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"}))),t)),a.createElement("div",{className:"modal-footer"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.closeModal(t,!1)}},he.t("modalClose")),a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(t){return e.submitForm(t)}},he.t("modalOk")))))))}}])&&cs(t.prototype,n),r&&cs(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const ms=ps;function hs(e){return hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hs(e)}function ys(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function gs(e,t){return gs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gs(e,t)}function bs(e,t){if(t&&("object"===hs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function vs(e){return vs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vs(e)}var ws=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gs(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=vs(o);if(i){var n=vs(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return bs(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={config:e.config,cb:e.cb,safe:e.safe,coin:e.coin},t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"render",value:function(){var e=this;return a.createElement("div",{className:"modal",tabIndex:"-1",id:"exportCoinModal"},a.createElement("div",{className:"modal-dialog"},a.createElement("div",{className:"modal-content"},a.createElement("div",{className:"modal-header"},a.createElement("h5",{className:"modal-title"},he.t("exportCoin")),a.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(t){return e.state.cb(t)}})),a.createElement("div",{className:"modal-body"},a.createElement(Vr,{config:this.state.config,safe:this.state.safe,content:[this.state.coin],id:this.state.coin.name,name:this.state.coin.data.displayName})),a.createElement("div",{className:"modal-footer"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.state.cb(t)}},he.t("modalClose"))))))}}])&&ys(t.prototype,n),r&&ys(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const Ss=ws;function Es(e){return Es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Es(e)}function ks(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Cs(e,t){return Cs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Cs(e,t)}function Ps(e,t){if(t&&("object"===Es(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Os(e)}function Os(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ns(e){return Ns=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ns(e)}var xs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cs(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ns(o);if(i){var n=Ns(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ps(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={config:e.config,oidcStatus:e.oidcStatus,safe:e.safe,coin:e.coin,cbEditHeader:e.cbEditHeader,cbRemoveCoin:e.cbRemoveCoin,cbSaveCoin:e.cbSaveCoin,allTags:e.allTags,showAddElement:!1,newElementType:!1,editElementList:[],curElementIndex:-1,showConfirm:!1,showEditTags:!1,showExportCoin:!1,sortRowsEnabled:!1,overId:!1,editCoinTags:!0},t.exportCoin=t.exportCoin.bind(Os(t)),t.exportCoinClose=t.exportCoinClose.bind(Os(t)),t.addSecretElement=t.addSecretElement.bind(Os(t)),t.cancelEditElement=t.cancelEditElement.bind(Os(t)),t.editElement=t.editElement.bind(Os(t)),t.removeElement=t.removeElement.bind(Os(t)),t.removeElementConfirm=t.removeElementConfirm.bind(Os(t)),t.setElementTags=t.setElementTags.bind(Os(t)),t.setElementTagsConfirm=t.setElementTagsConfirm.bind(Os(t)),t.saveElement=t.saveElement.bind(Os(t)),t.onDrop=t.onDrop.bind(Os(t)),t.onDragOver=t.onDragOver.bind(Os(t)),t.setCoinTags=t.setCoinTags.bind(Os(t)),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"exportCoin",value:function(){var e=this;this.setState({showExportCoin:!0},(function(){var t=new bootstrap.Modal(document.getElementById("exportCoinModal"),{keyboard:!1});t._element.addEventListener("hidden.bs.modal",(function(t){e.exportCoinClose()})),t.show()}))}},{key:"exportCoinClose",value:function(){bootstrap.Modal.getOrCreateInstance(document.querySelector("#exportCoinModal")).hide(),this.setState({showExportCoin:!1})}},{key:"addSecretElement",value:function(){var e,t=!1,n=!1;this.state.coin.data.rows.forEach((function(e,a){"url"===e.type?t=!0:"login"===e.type&&(n=!0)})),e=t&&n?"password":t?"login":"url",this.setState({showAddElement:!0,newElementType:e})}},{key:"setNewElementType",value:function(e){this.setState({newElementType:e.target.value})}},{key:"editElement",value:function(e,t){e.preventDefault();var n=this.state.editElementList;n.push(t),this.setState({editElementList:n})}},{key:"removeElement",value:function(e,t){e.preventDefault(),this.setState({curElementIndex:t,showConfirm:!0},(function(){new bootstrap.Modal(document.getElementById("removeElement"),{keyboard:!1}).show()}))}},{key:"removeElementConfirm",value:function(e){if(e){var t=this.state.coin;t.data.rows.splice(this.state.curElementIndex,1),this.state.cbSaveCoin(!0,t.name,t.data,!0)}bootstrap.Modal.getOrCreateInstance(document.querySelector("#removeElement")).hide(),this.setState({showConfirm:!1})}},{key:"setElementTags",value:function(e,t){e.preventDefault(),this.setState({curElementIndex:t,curTags:this.state.coin.data.rows[t].tags||[],showEditTags:!0,editCoinTags:!1},(function(){new bootstrap.Modal(document.getElementById("modalCoinElementTags"),{keyboard:!1}).show()}))}},{key:"setCoinTags",value:function(){this.setState({curTags:this.state.coin.data.tags||[],showEditTags:!0,editCoinTags:!0},(function(){new bootstrap.Modal(document.getElementById("modalCoinElementTags"),{keyboard:!1}).show()}))}},{key:"setElementTagsConfirm",value:function(e,t){if(e){var n=this.state.coin;t.length?this.state.editCoinTags?n.data.tags=t:n.data.rows[this.state.curElementIndex].tags=t:this.state.editCoinTags?delete n.data.tags:delete n.data.rows[this.state.curElementIndex].tags,this.state.cbSaveCoin(!0,n.name,n.data,!0)}bootstrap.Modal.getOrCreateInstance(document.querySelector("#modalCoinElementTags")).hide(),this.setState({showEditTags:!1})}},{key:"saveElement",value:function(e,t,n){var a=this,r=this.state.coin;-1===n?r.data.rows.push(t):(r.data.rows[n]=t,this.cancelEditElement(e,n)),this.setState({showAddElement:!1,newElementType:!1},(function(){a.state.cbSaveCoin(!0,r.name,r.data,!0)}))}},{key:"cancelEditElement",value:function(e,t){if(e&&e.preventDefault(),-1===t)this.setState({showAddElement:!1,newElementType:!1});else{var n=this.state.editElementList;n.indexOf(t)>-1&&n.splice(n.indexOf(t),1),this.setState({editElementList:n})}}},{key:"copyToClipboard",value:function(e){navigator.clipboard.writeText(e).then((function(){Dn.sendMessage("Notification",{type:"info",message:he.t("messageCopyToClipboard")})}))}},{key:"sortRows",value:function(){var e=this;this.setState({sortRowsEnabled:!this.state.sortRowsEnabled},(function(){e.state.sortRowsEnabled?Dn.sendMessage("Notification",{type:"info",message:he.t("messageSortEnabled")}):Dn.sendMessage("Notification",{type:"info",message:he.t("messageSortDisabled")})}))}},{key:"switchRows",value:function(e,t){var n=this.state.coin,a=n.data.rows[e];n.data.rows.splice(e,1),n.data.rows.splice(t,0,a),this.state.cbSaveCoin(!0,n.name,n.data,!0)}},{key:"onDragStart",value:function(e){e.dataTransfer.setData("text",e.target.id)}},{key:"onDrop",value:function(e){e.preventDefault();var t=e.dataTransfer.getData("text").split("-");t&&2===t.length&&t[0]===this.state.coin.name&&this.switchRows(parseInt(t[1]),parseInt(this.state.overId))}},{key:"onDragOver",value:function(e){for(var t=e.target;t;){if(t.draggable){var n=t.id.split("-");n&&2===n.length&&n[0]===this.state.coin.name&&this.setState({overId:n[1]});break}t=t.parentElement}e.preventDefault()}},{key:"toggleAccordion",value:function(e){e.preventDefault(),$("#collapse-"+this.state.coin.name).collapse("toggle")}},{key:"render",value:function(){var e,t,n,r,o,i,s,c,l=this,u=[],f=[],d=[],p=[];switch(this.state.coin.data.icon&&(e=a.createElement("i",{className:this.state.coin.data.icon+" fa btn-icon","aria-hidden":"true"})),this.state.coin.data.tags&&this.state.coin.data.tags.forEach((function(e,t){p.push(a.createElement("span",{className:"badge rounded-pill bg-secondary btn-icon",key:t},e))})),this.state.showAddElement&&(t=a.createElement("div",{className:"input-group mb-3"},a.createElement("span",{className:"input-group-text",id:"basic-addon1"},he.t("coinElementType")),a.createElement("select",{className:"form-select",id:"addElement",onChange:function(e){return l.setNewElementType(e)},value:this.state.newElementType},a.createElement("option",{value:"url"},he.t("coinElementTypeUrl")),a.createElement("option",{value:"login"},he.t("coinElementTypeLogin")),a.createElement("option",{value:"password"},he.t("coinElementTypePassword")),a.createElement("option",{value:"secretQuestion"},he.t("coinElementTypeSecretQuestion")),a.createElement("option",{value:"file"},he.t("coinElementTypeFile")),a.createElement("option",{value:"misc"},he.t("coinElementTypeMisc"))))),this.state.newElementType){case"url":n=a.createElement(lo,{coin:this.state.coin,element:{type:this.state.newElementType,value:""},index:-1,cbSave:this.saveElement,cbCancel:this.cancelEditElement}),r=a.createElement("hr",null);break;case"login":n=a.createElement(bo,{coin:this.state.coin,element:{type:this.state.newElementType,value:""},index:-1,cbSave:this.saveElement,cbCancel:this.cancelEditElement}),r=a.createElement("hr",null);break;case"password":n=a.createElement(Do,{config:this.state.config,coin:this.state.coin,element:{type:this.state.newElementType,value:""},index:-1,cbSave:this.saveElement,cbCancel:this.cancelEditElement}),r=a.createElement("hr",null);break;case"secretQuestion":n=a.createElement(Ji,{config:this.state.config,coin:this.state.coin,element:{type:this.state.newElementType,value:[]},index:-1,closeButon:!0,cbSave:this.saveElement,cbRemove:this.removeElement,cbCancel:this.cancelEditElement,cbTags:function(e){return l.setElementTags(e,index)}}),r=a.createElement("hr",null);break;case"file":n=a.createElement(Wo,{coin:this.state.coin,element:{type:this.state.newElementType,value:{}},index:-1,cbSave:this.saveElement,cbCancel:this.cancelEditElement}),r=a.createElement("hr",null);break;case"misc":n=a.createElement(Qo,{coin:this.state.coin,element:{type:this.state.newElementType,value:""},index:-1,cbSave:this.saveElement,cbCancel:this.cancelEditElement}),r=a.createElement("hr",null)}this.state.showConfirm&&(o=a.createElement(_a,{name:"removeElement",title:he.t("removeElementTitle"),message:he.t("removeElementMessage"),cb:this.removeElementConfirm})),this.state.showEditTags&&(i=a.createElement(ms,{tags:this.state.curTags,allTags:this.state.allTags,cb:this.setElementTagsConfirm})),this.state.showExportCoin&&(s=a.createElement(Ss,{config:this.state.config,cb:this.exportCoinClose,safe:this.state.safe,coin:this.state.coin})),this.state.coin.data.rows.forEach((function(e,t){switch(e.type){case"url":-1===l.state.editElementList.indexOf(t)?u.push(a.createElement(ri,{key:t,coin:l.state.coin,element:e,index:t,cbEdit:l.editElement,cbRemove:l.removeElement,cbTags:function(e){return l.setElementTags(e,t)},isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver,oidcStatus:l.state.oidcStatus})):u.push(a.createElement(lo,{key:t,coin:l.state.coin,element:e,index:t,cbSave:l.saveElement,cbCancel:l.cancelEditElement,isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver}));break;case"login":e.hideMenu||f.push({type:"login",value:e.value,tags:(e.tags||[he.t("coinElementLogin")]).join(" ")}),-1===l.state.editElementList.indexOf(t)?u.push(a.createElement(di,{key:t,coin:l.state.coin,element:e,index:t,cbEdit:l.editElement,cbRemove:l.removeElement,cbTags:function(e){return l.setElementTags(e,t)},isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver,oidcStatus:l.state.oidcStatus})):u.push(a.createElement(bo,{key:t,coin:l.state.coin,element:e,index:t,cbSave:l.saveElement,cbCancel:l.cancelEditElement,isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver}));break;case"password":e.hideMenu||f.push({type:"password",value:e.value,tags:(e.tags||[he.t("coinElementPassword")]).join(" ")}),-1===l.state.editElementList.indexOf(t)?u.push(a.createElement(wi,{key:t,coin:l.state.coin,element:e,index:t,cbEdit:l.editElement,cbRemove:l.removeElement,cbTags:function(e){return l.setElementTags(e,t)},isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver,oidcStatus:l.state.oidcStatus})):u.push(a.createElement(Do,{key:t,config:l.state.config,coin:l.state.coin,element:e,index:t,cbSave:l.saveElement,cbCancel:l.cancelEditElement,isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver}));break;case"secretQuestion":u.push(a.createElement(Ji,{key:t,config:l.state.config,coin:l.state.coin,element:e,index:t,closeButon:!1,cbSave:l.saveElement,cbRemove:l.removeElement,cbCancel:l.cancelEditElement,cbTags:function(e){return l.setElementTags(e,t)},isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver,oidcStatus:l.state.oidcStatus}));break;case"file":-1===l.state.editElementList.indexOf(t)?u.push(a.createElement(Yi,{key:t,coin:l.state.coin,element:e,index:t,cbEdit:l.editElement,cbRemove:l.removeElement,cbTags:function(e){return l.setElementTags(e,t)},isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver,oidcStatus:l.state.oidcStatus})):u.push(a.createElement(Wo,{key:t,coin:l.state.coin,element:e,index:t,cbSave:l.saveElement,cbCancel:l.cancelEditElement,isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver}));break;case"misc":-1===l.state.editElementList.indexOf(t)?u.push(a.createElement(is,{key:t,coin:l.state.coin,element:e,index:t,cbEdit:l.editElement,cbRemove:l.removeElement,cbTags:function(e){return l.setElementTags(e,t)},isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver,oidcStatus:l.state.oidcStatus})):u.push(a.createElement(Qo,{key:t,coin:l.state.coin,element:e,index:t,cbSave:l.saveElement,cbCancel:l.cancelEditElement,isDraggable:l.state.sortRowsEnabled,cbOnDragStart:l.onDragStart,cbOnDragOver:l.onDragOver}))}})),f.length<=2?f.forEach((function(e,t){"login"===e.type?d.push(a.createElement("button",{key:t,type:"button",className:"btn btn-secondary",onClick:function(t){return l.copyToClipboard(e.value)},title:e.tags},a.createElement("i",{className:"fa fa-user","aria-hidden":"true"}))):d.push(a.createElement("button",{key:t,type:"button",className:"btn btn-secondary",onClick:function(t){return l.copyToClipboard(e.value)},title:e.tags},a.createElement("i",{className:"fa fa-key","aria-hidden":"true"})))})):d.push(a.createElement("button",{key:0,type:"button",className:"btn btn-secondary",onClick:function(e){return l.toggleAccordion(e)}},a.createElement("i",{className:"fa fa-user btn-icon","aria-hidden":"true"}),a.createElement("i",{className:"fa fa-key btn-icon","aria-hidden":"true"}),a.createElement("i",{className:"fa fa-chevron-down","aria-hidden":"true"}))),c=a.createElement("div",{className:"input-group"},d);var m="btn btn-sm";return this.state.sortRowsEnabled?m+=" btn-primary":m+=" btn-secondary",a.createElement("div",{className:"col"},a.createElement("div",{className:"accordion",id:"coin-"+this.state.coin.name},a.createElement("div",{className:"accordion-item"},a.createElement("h2",{className:"accordion-header",id:"heading-"+this.state.coin.name},a.createElement("div",{className:"btn-toolbar justify-content-between",role:"toolbar","aria-label":"Toolbar with button groups"},a.createElement("div",{className:"btn-group text-truncate",role:"group","aria-label":"First group"},a.createElement("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse-"+this.state.coin.name,"aria-expanded":"false","aria-controls":"collapse-"+this.state.coin.name},e,this.state.coin.data.displayName)),c)),a.createElement("div",{id:"collapse-"+this.state.coin.name,className:"accordion-collapse collapse","aria-labelledby":"heading-"+this.state.coin.name,"data-bs-parent":"#coin-"+this.state.coin.name},a.createElement("div",{className:"accordion-body"},a.createElement("div",{className:"mb-3",role:"group"},p,a.createElement("div",{className:"btn-group float-end",role:"group"},a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:function(e){return l.state.cbEditHeader(l.state.coin.name,l.state.coin.data)},disabled:"connected"!==this.state.oidcStatus,title:he.t("editCoinHeader")},a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),a.createElement("button",{type:"button",className:m,onClick:function(e){return l.sortRows()},disabled:"connected"!==this.state.oidcStatus,title:he.t("sortCoin")},a.createElement("i",{className:"fa fa-sort","aria-hidden":"true"})),a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.exportCoin,title:he.t("exportCoin")},a.createElement("i",{className:"fa fa-cloud-download","aria-hidden":"true"})),a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.addSecretElement,disabled:"connected"!==this.state.oidcStatus,title:he.t("addSecretElement")},a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})),a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.setCoinTags,disabled:"connected"!==this.state.oidcStatus,title:he.t("setCoinTags")},a.createElement("i",{className:"fa fa-tags","aria-hidden":"true"})),a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:function(e){return l.state.cbRemoveCoin(l.state.coin.name,l.state.coin.data.displayName)},disabled:"connected"!==this.state.oidcStatus,title:he.t("removeCoin")},a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"}))))," ",t,n,r,a.createElement("div",{onDrop:this.onDrop,onDragOver:this.onDragOver},u)))),o,i,s))}}])&&ks(t.prototype,n),r&&ks(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const _s=xs;function Ts(e){return Ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ts(e)}function Rs(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function js(e,t){return js=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},js(e,t)}function As(e,t){if(t&&("object"===Ts(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ds(e)}function Ds(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ms(e){return Ms=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ms(e)}function Ls(e){return e.safeContent&&e.safe.name&&e.safeContent[e.safe.name]?e.safeContent[e.safe.name].unlockedCoinList:[]}function Is(e){var t=[];return e.forEach((function(e,n){e.data.tags&&e.data.tags.forEach((function(e){-1===t.indexOf(e)&&t.push(e)}))})),t.sort()}var Ks=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&js(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ms(o);if(i){var n=Ms(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return As(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={config:e.config,oidcStatus:e.oidcStatus,safe:e.safe,safeContent:e.safeContent,iconList:e.iconList,filteredCoinList:Ls(e),filter:"",coinEditMode:0,coinEditName:!1,coinEditContent:!1,removeCoinMessage:!1,filterTimeout:!1,filtering:!1,showModalManageSafe:!1,selectedTags:[],allTags:Is(Ls(e))},t.reloadSafe=t.reloadSafe.bind(Ds(t)),t.editSafe=t.editSafe.bind(Ds(t)),t.unlockSafe=t.unlockSafe.bind(Ds(t)),t.unlockSafeCallback=t.unlockSafeCallback.bind(Ds(t)),t.removeSafe=t.removeSafe.bind(Ds(t)),t.removeSafeConfirm=t.removeSafeConfirm.bind(Ds(t)),t.lockSafe=t.lockSafe.bind(Ds(t)),t.changeFilter=t.changeFilter.bind(Ds(t)),t.addCoin=t.addCoin.bind(Ds(t)),t.editCoinHeader=t.editCoinHeader.bind(Ds(t)),t.manageSafe=t.manageSafe.bind(Ds(t)),t.manageSafeClose=t.manageSafeClose.bind(Ds(t)),t.removeCoin=t.removeCoin.bind(Ds(t)),t.removeCoinConfirm=t.removeCoinConfirm.bind(Ds(t)),t.coinSaveCallback=t.coinSaveCallback.bind(Ds(t)),t.clearSearch=t.clearSearch.bind(Ds(t)),t.selectTag=t.selectTag.bind(Ds(t)),t}return t=c,n=[{key:"reloadSafe",value:function(){Dn.sendMessage("App",{action:"loadSafe",target:this.state.safe.name})}},{key:"editSafe",value:function(){Dn.sendMessage("App",{action:"editSafe",target:this.state.safe.name})}},{key:"unlockSafe",value:function(){new bootstrap.Modal(document.getElementById("modalUnlockSafe"),{keyboard:!1}).show()}},{key:"unlockSafeCallback",value:function(e,t,n,a,r){e&&(Dn.sendMessage("App",{action:"setSafeKey",target:this.state.safe,key:t,keepUnlocked:n,unlockKeyName:a,removeStorage:!1,masterkeyData:r}),Dn.sendMessage("Notification",{type:"info",message:he.t("unlockedSafe")})),bootstrap.Modal.getOrCreateInstance(document.querySelector("#modalUnlockSafe")).hide()}},{key:"lockSafe",value:function(){Dn.sendMessage("App",{action:"setSafeKey",target:this.state.safe,key:!1,removeStorage:!0}),Dn.sendMessage("Notification",{type:"info",message:he.t("lockedSafe")})}},{key:"removeSafe",value:function(){new bootstrap.Modal(document.getElementById("removeSafe"),{keyboard:!1}).show()}},{key:"removeSafeConfirm",value:function(e){var t=this;e&&(this.state.safe.offline?(Dn.sendMessage("App",{action:"removeSafe",safe:this.state.safe}),Dn.sendMessage("Notification",{type:"info",message:he.t("messageRemoveSafe")})):zn.request(this.state.config.safe_endpoint+"/"+this.state.safe.name,"DELETE").then((function(){Dn.sendMessage("App",{action:"removeSafe",safe:t.state.safe}),Dn.sendMessage("Notification",{type:"info",message:he.t("messageRemoveSafe")})})).catch((function(){Dn.sendMessage("Notification",{type:"warning",message:he.t("messageErrorSaveSafe")})}))),bootstrap.Modal.getOrCreateInstance(document.querySelector("#removeSafe")).hide()}},{key:"changeFilter",value:function(e){this.setState({filter:e.target.value})}},{key:"addCoin",value:function(){this.setState({coinEditName:!1,name:!1,coinEditContent:{displayName:"",rows:[]}},(function(){new bootstrap.Modal(document.getElementById("modalCoinEdit"),{keyboard:!1}).show()}))}},{key:"editCoinHeader",value:function(e,t){this.setState({coinEditName:e,coinEditContent:t},(function(){new bootstrap.Modal(document.getElementById("modalCoinEdit"),{keyboard:!1}).show()}))}},{key:"removeCoin",value:function(e,t){this.setState({coinEditName:e,removeCoinMessage:he.t("removeCoinMessage",{name:t||e})},(function(){new bootstrap.Modal(document.getElementById("removeCoin"),{keyboard:!1}).show()}))}},{key:"removeCoinConfirm",value:function(e){var t=this;e&&(this.state.safe.offline?(Dn.sendMessage("Notification",{type:"info",message:he.t("messageSuccessCoinRemove")}),Dn.sendMessage("App",{action:"removeCoin",target:this.state.safe,coin:this.state.coinEditName})):zn.request(this.state.config.safe_endpoint+"/"+this.state.safe.name+"/coin/"+this.state.coinEditName,"DELETE").then((function(){Dn.sendMessage("Notification",{type:"info",message:he.t("messageSuccessCoinRemove")}),Dn.sendMessage("App",{action:"removeCoin",target:t.state.safe,coin:t.state.coinEditName})})).catch((function(){Dn.sendMessage("Notification",{type:"warning",message:he.t("messageErrorCoinRemove")})}))),bootstrap.Modal.getOrCreateInstance(document.querySelector("#removeCoin")).hide()}},{key:"coinSaveCallback",value:function(e,t,n){var a=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=bootstrap.Modal.getOrCreateInstance(document.querySelector("#modalCoinEdit"));if(o&&o.hide(),e){if(n.lastUpdated=Math.floor(Date.now()/1e3),t){if(this.state.safe.offline){var i={name:t,data:!1};return r&&Dn.sendMessage("Notification",{type:"info",message:he.t("messageSuccessCoinSave")}),Dn.sendMessage("App",{action:"updateCoin",target:this.state.safe,encCoin:i,unlockedCoin:{name:t,data:n}}),Promise.resolve("ok")}return new On(n).setProtectedHeader({alg:this.state.safe.alg_type,enc:this.state.safe.enc_type,sign_thumb:this.state.config.sign_thumb}).encrypt(this.state.safeContent[this.state.safe.name].key).then((function(e){var o={name:t,data:e};return zn.request(a.state.config.safe_endpoint+"/"+a.state.safe.name+"/coin/"+t,"PUT",o).then((function(){r&&Dn.sendMessage("Notification",{type:"info",message:he.t("messageSuccessCoinSave")}),Dn.sendMessage("App",{action:"updateCoin",target:a.state.safe,encCoin:o,unlockedCoin:{name:t,data:n}})})).catch((function(){r&&Dn.sendMessage("Notification",{type:"warning",message:he.t("messageErrorCoinSave")})}))}))}return this.state.safe.offline?(i={name:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),data:!1},r&&Dn.sendMessage("Notification",{type:"info",message:he.t("messageSuccessCoinSave")}),Dn.sendMessage("App",{action:"updateCoin",target:this.state.safe,encCoin:i,unlockedCoin:{name:i.name,data:n},cb:this.scrollToCoin}),Promise.resolve("ok")):new On(n).setProtectedHeader({alg:this.state.safe.alg_type,enc:this.state.safe.enc_type,sign_thumb:this.state.config.sign_thumb}).encrypt(this.state.safeContent[this.state.safe.name].key).then((function(e){var t={name:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),data:e};return zn.request(a.state.config.safe_endpoint+"/"+a.state.safe.name+"/coin","POST",t).then((function(){r&&Dn.sendMessage("Notification",{type:"info",message:he.t("messageSuccessCoinSave")}),Dn.sendMessage("App",{action:"updateCoin",target:a.state.safe,encCoin:t,unlockedCoin:{name:t.name,data:n},cb:a.scrollToCoin})})).catch((function(){Dn.sendMessage("Notification",{type:"warning",message:he.t("messageErrorCoinSave")})}))}))}return $.Deferred().reject("No can do")}},{key:"scrollToCoin",value:function(e){var t=document.getElementById("coin-"+e);t&&t.scrollIntoView()}},{key:"manageSafe",value:function(){var e=this;this.setState({showModalManageSafe:!0},(function(){var t=new bootstrap.Modal(document.getElementById("manageSafe"),{keyboard:!1});t._element.addEventListener("hidden.bs.modal",(function(t){e.manageSafeClose()})),t.show()}))}},{key:"manageSafeClose",value:function(){bootstrap.Modal.getOrCreateInstance(document.querySelector("#manageSafe")).hide(),this.setState({showModalManageSafe:!1})}},{key:"clearSearch",value:function(){this.setState({filter:"",selectedTags:[]})}},{key:"selectTag",value:function(e,t){e.preventDefault();var n=this.state.selectedTags;n.push(t),this.setState({selectedTags:n})}},{key:"deleteTag",value:function(e,t){e.preventDefault();var n=this.state.selectedTags;n.splice(t,1),this.setState({selectedTags:n})}},{key:"render",value:function(){var e,t,n,r,o=this,i=[],s=this.state.safe&&this.state.safeContent&&this.state.safeContent[this.state.safe.name]&&this.state.safeContent[this.state.safe.name].key,c=[],l=[],u=[];return(s||this.state.safe.offline)&&this.state.filteredCoinList.forEach((function(e,t){i.push(a.createElement(_s,{config:o.state.config,coin:e,safe:o.state.safe,cbEditHeader:o.editCoinHeader,cbRemoveCoin:o.removeCoin,cbSaveCoin:o.coinSaveCallback,oidcStatus:o.state.oidcStatus,allTags:o.state.allTags,key:t})),e.data.tags&&(e.data.tags.forEach((function(e){-1===l.indexOf(e)&&-1===o.state.selectedTags.indexOf(e)&&l.push(e)})),l.sort()),u=[],l.forEach((function(e,n){u.push(a.createElement("li",{key:t+"-"+n},a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return o.selectTag(t,e)}},e)))}))})),this.state.safe.offline?t=a.createElement("div",{className:"mb-3"},a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},a.createElement("div",{className:"input-group mb-3"},a.createElement("input",{type:"text",className:"form-control",placeholder:he.t("secretFilter"),id:"coinFilter",name:"coinFilter",value:this.state.filter,onChange:this.changeFilter}),a.createElement("button",{className:"btn btn-outline-secondary dropdown-toggle input-group-append border",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",disabled:!l.length},a.createElement("i",{className:"fa fa-tags","aria-hidden":"true"})),a.createElement("ul",{className:"dropdown-menu"},u),a.createElement("span",{className:"input-group-append"},a.createElement("button",{className:"btn btn-outline-secondary border",type:"button",onClick:this.clearSearch},a.createElement("i",{className:"fa fa-times"})))))):this.state.safe&&this.state.safeContent&&this.state.safeContent[this.state.safe.name]&&this.state.safeContent[this.state.safe.name].key?(e=a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.lockSafe,title:he.t("safeLock")},a.createElement("i",{className:"fa fa-lock","aria-hidden":"true"})),t=a.createElement("div",{className:"mb-3"},a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},a.createElement("div",{className:"input-group mb-3"},a.createElement("input",{type:"text",className:"form-control",placeholder:he.t("secretFilter"),id:"coinFilter",name:"coinFilter",value:this.state.filter,onChange:this.changeFilter}),a.createElement("button",{className:"btn btn-outline-secondary dropdown-toggle input-group-append border",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",disabled:!l.length},a.createElement("i",{className:"fa fa-tags","aria-hidden":"true"})),a.createElement("ul",{className:"dropdown-menu"},u),a.createElement("span",{className:"input-group-append"},a.createElement("button",{className:"btn btn-outline-secondary border",type:"button",onClick:this.clearSearch},a.createElement("i",{className:"fa fa-times"}))))))):e=a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.unlockSafe,title:he.t("safeUnlock")},a.createElement("i",{className:"fa fa-unlock","aria-hidden":"true"})),this.state.showModalManageSafe&&(r=a.createElement(to,{config:this.state.config,safe:this.state.safe,safeContent:this.state.safeContent,cbSaveCoin:this.coinSaveCallback,oidcStatus:this.state.oidcStatus,cbClose:this.manageSafeClose})),this.state.safe.updated&&(n=a.createElement("span",{className:"btn-icon-right"},he.t("updatedSafe"))),this.state.selectedTags.forEach((function(e,t){c.push(a.createElement("a",{href:"#",onClick:function(e){return o.deleteTag(e,t)},key:t},a.createElement("span",{className:"badge rounded-pill bg-secondary btn-icon"},e,a.createElement("span",{className:"badge badge-light btn-icon-right"},a.createElement("i",{className:"fas fa-times"})))))})),a.createElement("div",null,a.createElement("div",{className:"alert alert-primary text-center",role:"alert"},this.state.safe.display_name||this.state.safe.name,n,a.createElement("div",{className:"btn-group float-end",role:"group"},e,a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.reloadSafe,disabled:this.state.safe.offline||!s||"connected"!==this.state.oidcStatus,title:he.t("reloadSafe")},a.createElement("i",{className:"fa fa-refresh","aria-hidden":"true"})),a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.editSafe,disabled:this.state.safe.offline||!s||"connected"!==this.state.oidcStatus,title:he.t("editSafe")},a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})),a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.manageSafe,disabled:!s&&!this.state.safe.offline,title:he.t("manageSafe")},a.createElement("i",{className:"fa fa-cogs","aria-hidden":"true"})),a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.addCoin,disabled:!(s&&"connected"===this.state.oidcStatus||this.state.safe.offline),title:he.t("addCoin")},a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})),a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:function(e){return o.removeSafe()},disabled:!(s&&"connected"===this.state.oidcStatus||this.state.safe.offline),title:he.t("removeSafe")},a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})))),t,a.createElement("div",{className:"btn-icon-top"},c),a.createElement("div",{className:"row row-cols-1 row-cols-sm-1 row-cols-md-1 row-cols-lg-2"},i),a.createElement(Er,{config:this.state.config,safe:this.state.safe,safeContent:this.state.safeContent,allowKeepUnlocked:!0,cb:this.unlockSafeCallback}),a.createElement(Kr,{editMode:this.state.coinEditMode,name:this.state.coinEditName,content:this.state.coinEditContent,cb:this.coinSaveCallback,iconListOrig:this.state.iconList}),r,a.createElement(_a,{name:"removeSafe",title:he.t("removeSafeTitle"),message:he.t("removeSafeMessage",{name:this.state.safe.display_name||this.state.safe.name}),cb:this.removeSafeConfirm}),a.createElement(_a,{name:"removeCoin",title:he.t("removeCoinTitle"),message:this.state.removeCoinMessage,cb:this.removeCoinConfirm}))}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){var n,a,r,o,i,s=Object.assign({},e);return"connected"!==e.oidcStatus&&"timeout"!==e.oidcStatus||(t.filter||t.selectedTags.length?s.filteredCoinList=(n=s.safeContent[s.safe.name].unlockedCoinList,a=t.filter,r=t.selectedTags,o=[],i=[],a?n.forEach((function(e){e.data.displayName.toUpperCase().search(a.toUpperCase())>-1&&o.push(e)})):o=n,r.length?o.forEach((function(e){(function(e,t){var n=0;return e.forEach((function(e){-1!==t.indexOf(e)&&n++})),n===t.length})(e.data.tags||[],r)&&i.push(e)})):i=o,i):s.filteredCoinList=s.safeContent[s.safe.name].unlockedCoinList,s.allTags=Is(s.safeContent[s.safe.name].unlockedCoinList)),s}}],n&&Rs(t.prototype,n),r&&Rs(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const Us=Ks;function Fs(e){return Fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(e)}function Hs(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ws(e,t){return Ws=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ws(e,t)}function Bs(e,t){if(t&&("object"===Fs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Js(e){return Js=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Js(e)}var zs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ws(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Js(o);if(i){var n=Js(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Bs(this,e)});function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),t=s.call(this,e);var n=e.editMode;return!e.editMode&&e.safeContent&&e.safe&&e.safeContent[e.safe.name]&&!e.safeContent[e.safe.name].keyList.length&&(n=2),t.state={config:e.config,oidcStatus:e.oidcStatus,hutchProfile:e.hutchProfile,safe:e.safe,safeContent:e.safeContent,iconList:e.iconList,editMode:n},t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=Object.assign({},e);return!e.editMode&&e.safeContent&&e.safe&&e.safeContent[e.safe.name]&&!e.safeContent[e.safe.name].keyList.length&&!e.safe.offline&&(n.editMode=2),n}}],(n=[{key:"render",value:function(){var e=this.state.safe&&(this.state.safe.offline||this.state.safeContent&&this.state.safeContent[this.state.safe.name]&&this.state.safeContent[this.state.safe.name].keyList.length);return this.state.config.frontend.offline?this.state.editMode?a.createElement(Tr,{config:this.state.config,safe:this.state.safe,safeContent:this.state.safeContent,editMode:this.state.editMode}):a.createElement(Us,{config:this.state.config,safe:this.state.safe,safeContent:this.state.safeContent,oidcStatus:this.state.oidcStatus,iconList:this.state.iconList}):!this.state.editMode&&e||"connected"!==this.state.oidcStatus?a.createElement(Us,{config:this.state.config,safe:this.state.safe,safeContent:this.state.safeContent,oidcStatus:this.state.oidcStatus,iconList:this.state.iconList}):a.createElement(Tr,{config:this.state.config,safe:this.state.safe,safeContent:this.state.safeContent,editMode:this.state.editMode})}}])&&Hs(t.prototype,n),r&&Hs(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const Vs=zs;function qs(e){return qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(e)}function $s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Gs(e,t){return Gs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gs(e,t)}function Qs(e,t){if(t&&("object"===qs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Xs(e)}function Xs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ys(e){return Ys=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ys(e)}var Zs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gs(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ys(r);if(o){var n=Ys(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Qs(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={config:e.config},t.changeLang=t.changeLang.bind(Xs(t)),t}return t=s,(n=[{key:"changeLang",value:function(e,t){e.preventDefault(),Dn.sendMessage("App",{action:"lang",lang:t})}},{key:"render",value:function(){var e=this,t=[];return this.state.config.frontend.lang.forEach((function(n,r){var o="dropdown-item";he.language===n&&(o+=" active"),t.push(a.createElement("li",{key:r},a.createElement("a",{className:o,href:"#",onClick:function(t){return e.changeLang(t,n)}},he.t("lang-"+n))))})),a.createElement("div",{className:"dropdown"},a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"langDropdown","data-bs-toggle":"dropdown","aria-expanded":"false"},he.t("lang-"+he.language)),a.createElement("ul",{className:"dropdown-menu","aria-labelledby":"langDropdown"},t))}}])&&$s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(a.Component);const ec=Zs;function tc(e){return tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(e)}function nc(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ac(e,t){return ac=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ac(e,t)}function rc(e,t){if(t&&("object"===tc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return oc(e)}function oc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ic(e){return ic=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ic(e)}var sc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ac(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ic(o);if(i){var n=ic(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return rc(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={config:e.config,longSession:!!Xn.getValue("longSession")},t.toggleLongSession=t.toggleLongSession.bind(oc(t)),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"toggleLongSession",value:function(e){var t=this;this.setState({longSession:!this.state.longSession},(function(){Xn.setValue("longSession",t.state.longSession),Wn.setParameter("responseType",t.state.longSession?"code":"token id_token")}))}},{key:"render",value:function(){var e=this;return a.createElement("div",null,a.createElement("hr",null),a.createElement("div",null,a.createElement("h3",null,he.t("selectLang")),a.createElement(ec,{config:this.state.config})),a.createElement("hr",null),a.createElement("div",null,a.createElement("h3",null,he.t("selectSession")),a.createElement("div",{className:"form-check"},a.createElement("input",{className:"form-check-input",type:"checkbox",checked:this.state.longSession,id:"longSession",onChange:function(t){return e.toggleLongSession(t)}}),a.createElement("label",{className:"form-check-label",htmlFor:"longSession"},he.t("longSession"))),a.createElement("p",{className:"fs-6 fst-italic"},he.t("selectSessionWarning"))))}}])&&nc(t.prototype,n),r&&nc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const cc=sc;function lc(e){return lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(e)}function uc(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function fc(e,t){return fc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fc(e,t)}function dc(e,t){if(t&&("object"===lc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pc(e)}function pc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mc(e){return mc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mc(e)}var hc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fc(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=mc(o);if(i){var n=mc(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return dc(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={config:e.config,cbClose:e.cbClose,safeName:!1,coinList:[],importJwk:"",importData:!1,importDataResult:!1,importTotalCount:0,importTotalSuccess:0,importSecurityType:!1,importRunning:!1,importComplete:!1,coinMax:0,coinNow:0},t.changePassword=t.changePassword.bind(pc(t)),t.getImportFile=t.getImportFile.bind(pc(t)),t.parseContent=t.parseContent.bind(pc(t)),t.completeImportContent=t.completeImportContent.bind(pc(t)),t.editImportJwk=t.editImportJwk.bind(pc(t)),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e}}],(n=[{key:"changePassword",value:function(e){var t=this,n=-1;e.target.value&&(n=zxcvbn(e.target.value).score),this.setState({password:e.target.value,pwdScore:n},(function(){t.setState({exportInvalid:t.isImportInvalid()})}))}},{key:"isImportInvalid",value:function(){if("password"===this.state.exportSecurityType){if(!this.state.password||this.state.password!==this.state.confirmPassword)return!0}else if("jwk"===this.state.exportSecurityType)try{if(!this.state.importJwk||!JSON.parse(this.state.importJwk).alg)return!0}catch(e){return!0}}},{key:"editImportJwk",value:function(e){var t=this;this.setState({importJwk:e},(function(){t.setState({exportInvalid:t.isImportInvalid()})}))}},{key:"getImportFile",value:function(e){var t=this,n=e.target.files[0].name;n.lastIndexOf(".")>-1&&(n=n.substring(0,n.lastIndexOf("."))),this.setState({importData:!1,importDataResult:!1,importTotalCount:0,importTotalSuccess:0,importSecurityType:!1,safeName:n},(function(){var n=e.target.files[0],a=new FileReader;a.onload=function(e){t.setState({importData:e.target.result},(function(){t.parseContent()}))},a.readAsText(n)}))}},{key:"parseContent",value:function(){var e=this;if(this.state.importData){var t=!1;try{t=JSON.parse(this.state.importData)}catch(e){}if(t&&Array.isArray(t))this.setState({coinList:t,importDataResult:"importComplete",importTotalCount:t.length,importComplete:!0},(function(){Dn.sendMessage("App",{action:"addOfflineSafe",safeName:e.state.safeName,coinList:e.state.coinList}),e.state.cbClose&&e.state.cbClose()}));else{var n=!1;try{n=_n(this.state.importData)}catch(e){this.setState({importDataResult:"invalidData"})}n&&("PBES2-HS256+A128KW"===n.alg||"PBES2-HS384+A192KW"===n.alg||"PBES2-HS512+A256KW"===n.alg?this.setState({importSecurityType:"password"}):this.setState({importSecurityType:"jwk"}))}}else this.setState({importDataResult:"invalidData"})}},{key:"completeImportContent",value:function(e){var t=this;if(e&&e.preventDefault(),"password"===this.state.importSecurityType){var n=new TextEncoder;Rn(this.state.importData,n.encode(this.state.password)).then((function(e){t.setState({coinList:e.payload.data,importDataResult:"importComplete",importTotalCount:e.payload.data.length,importComplete:!0},(function(){Dn.sendMessage("App",{action:"addOfflineSafe",safeName:t.state.safeName,coinList:t.state.coinList}),t.state.cbClose&&t.state.cbClose()}))})).catch((function(){t.setState({importDataResult:"invalidPassword",coinList:[]})}))}else if("jwk"===this.state.importSecurityType)try{var a=JSON.parse(this.state.importJwk);a.use="enc",Rt(a,a.alg).then((function(e){Rn(t.state.importData,e).then((function(e){t.setState({coinList:e.payload.data,importDataResult:"importComplete",importTotalCount:e.payload.data.length,importComplete:!0},(function(){Dn.sendMessage("App",{action:"addOfflineSafe",safeName:t.state.safeName,coinList:t.state.coinList}),t.state.cbClose&&t.state.cbClose()}))})).catch((function(){t.setState({importDataResult:"invalidJwk",coinList:[]})}))}))}catch(e){this.setState({importDataResult:"invalidJwk",coinList:[]})}}},{key:"closeModal",value:function(e,t){this.state.cbClose&&this.state.cbClose()}},{key:"render",value:function(){var e,t,n,r=this;if("invalidData"===this.state.importDataResult?e=a.createElement("div",{className:"alert alert-danger",role:"alert"},he.t("importInvalidData")):"importComplete"===this.state.importDataResult?e=a.createElement("div",{className:"alert alert-success",role:"alert"},he.t("importOfflineComplete",{count:this.state.importTotalCount,name:this.state.safeName})):"importIncomplete"===this.state.importDataResult?e=a.createElement("div",{className:"alert alert-warning",role:"alert"},he.t("importOfflineIncomplete",{count:this.state.importTotalCount,total:this.state.importTotalSuccess,name:this.state.safeName})):"invalidPassword"===this.state.importDataResult?e=a.createElement("div",{className:"alert alert-danger",role:"alert"},he.t("importInvalidPassword")):"invalidJwk"===this.state.importDataResult&&(e=a.createElement("div",{className:"alert alert-danger",role:"alert"},he.t("importInvalidKey"))),this.state.importSecurityType){var o;this.state.importRunning&&(o=a.createElement("i",{className:"fa fa-spinner fa-spin fa-fw btn-icon-right"}));var i="password"===this.state.importSecurityType&&!this.state.password||"jwk"===this.state.importSecurityType&&!this.state.importJwk;n=a.createElement("button",{type:"submit",className:"btn btn-secondary",onClick:this.completeImportContent,title:he.t("modalOk"),disabled:i||this.state.importRunning||this.state.importComplete},he.t("modalOk"),o)}return"password"===this.state.importSecurityType?t=a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"password",className:"form-label"},he.t("importPassword")),a.createElement("input",{type:"password",className:"form-control",id:"password",autoComplete:"new-password",value:this.state.password||"",onChange:this.changePassword})):"jwk"===this.state.importSecurityType&&(t=a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:"importJwk",className:"form-label"},he.t("importJwk")),a.createElement(or,{isError:!1,ph:he.t("safeKeyJwkPh"),cb:this.editImportJwk}))),a.createElement("div",{className:"modal",tabIndex:"-1",id:"offlineSafe"},a.createElement("div",{className:"modal-dialog"},a.createElement("div",{className:"modal-content"},a.createElement("div",{className:"modal-header"},a.createElement("h5",{className:"modal-title"},he.t("offlineSafe")),a.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(e){return r.closeModal(e,!1)}})),a.createElement("div",{className:"modal-body"},a.createElement("div",{className:"mb-3"},a.createElement("div",{className:"alert alert-primary",role:"alert"},he.t("importSafe"))),a.createElement("div",{className:"mb-3"},a.createElement("input",{type:"file",className:"upload",id:"importSafeFileInput",onChange:this.getImportFile}),a.createElement("label",{htmlFor:"importSafeFileInput",className:"btn btn-secondary",disabled:"connected"!==this.state.oidcStatus},a.createElement("i",{className:"fa fa-cloud-upload","aria-hidden":"true"})),a.createElement("form",{onSubmit:this.completeImportContent},t,n),void 0,e),a.createElement("div",{className:"modal-footer"},a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return r.closeModal(e,!1)},disabled:this.state.importRunning},he.t("modalClose")))))))}}])&&uc(t.prototype,n),r&&uc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);const yc=hc;function gc(e){return gc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(e)}function bc(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function vc(e,t){return vc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vc(e,t)}function wc(e,t){if(t&&("object"===gc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Sc(e)}function Sc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ec(e){return Ec=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ec(e)}var kc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vc(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ec(r);if(o){var n=Ec(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return wc(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={config:e.config,profile:!1,hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{},iconList:[],curSafe:!1,offlineSafe:!1,addSafe:!1,oidcStatus:"connecting",tokenTimeout:!1,nav:"profile",oldNav:!1,langChanged:!1,editProfile:!1,editSafeMode:0,trustworthy:!0,forceTrust:!1,showModalGeneratePassword:!1,showModalOfflineSafe:!1,modalGeneratePasswordElement:{params:{type:"chars",lowercase:!0,upprcase:!0,numbers:!0,special:!0,spaces:!0,noSimilarFollowingChars:!1,passwordCharLength:32,wordsNumber:4,wordsLangsList:[he.language],wordSeparator:" "}}},$n.addChangeRouteCallback((function(e){t.gotoRoute(e)})),Dn.subscribe("OIDC",(function(e){if("disconnected"===e.status)t.setState({oidcStatus:e.status,safeList:[],safeContent:{},curSafe:!1}),Dn.sendMessage("Notification",{type:"warning",message:he.t("messageDisconnected")});else if("connected"===e.status||"refresh"===e.status){var n=new Date;zn.setToken(e.token,n.getTime()/1e3+e.expires_in),"connected"===e.status&&Dn.sendMessage("Notification",{type:"success",message:he.t("messageConnected")});var a=!1;-1===Wn.getParameter("responseType").search("code")&&(clearTimeout(t.state.tokenTimeout),a=setTimeout((function(){Dn.sendMessage("Notification",{type:"warning",message:he.t("messageSessionTimeout"),autohide:!1}),t.setState({oidcStatus:"timeout"})}),1e3*e.expires_in)),t.setState({oidcStatus:"connected",tokenTimeout:a})}else"profile"===e.status&&("error"==e.profile?(Dn.sendMessage("Notification",{type:"warning",message:he.t("messageProfileError")}),t.setState({oidcStatus:"disconnected",safeList:[],safeContent:{},curSafe:!1})):e.profile&&t.setState({profile:e.profile},(function(){t.getHutchProfile().then((function(){t.getSafeList().then((function(){t.gotoRoute($n.getCurrentRoute())}))})).catch((function(){}))})));t.setForceTrust=t.setForceTrust.bind(Sc(t))})),Dn.subscribe("App",(function(e){if("lang"===e.action)e.lang!==he.language&&he.changeLanguage(e.lang).then((function(){t.setState({langChanged:!0},(function(){zn.request("words-"+he.language+".json").then((function(e){var n=t.state.config;n.wordsList=e,t.setState({config:n})}))}))}));else if("editProfile"===e.action){var n=t.state.hutchProfile||{name:t.state.profile.name,message:"",picture:"",sign_kid:t.state.config.jwks.keys[0].kid};t.setState({nav:"profile",editProfile:!0,hutchProfile:n})}else if("getProfile"===e.action)t.setState({nav:"profile",editProfile:!1},(function(){t.getHutchProfile()}));else if("resetProfile"===e.action)t.setState({nav:"profile",editProfile:!1,hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{},curSafe:!1});else if("nav"===e.action)e.target?t.state.safeList.forEach((function(n){n.name===e.target&&t.setState({nav:"safe",curSafe:n,editSafeMode:0})})):t.setState({nav:"profile",editProfile:!1,curSafe:!1});else if("config"===e.action)"config"===t.state.nav&&t.state.oldNav?t.setState({nav:t.state.oldNav,oldNav:!1}):t.setState({nav:"config",oldNav:t.state.nav});else if("generate"===e.action)t.setState({showModalGeneratePassword:!0},(function(){new bootstrap.Modal(document.getElementById("modalGeneratePassword"),{keyboard:!1}).show()}));else if("offline"===e.action)t.setState({showModalOfflineSafe:!0},(function(){new bootstrap.Modal(document.getElementById("offlineSafe"),{keyboard:!1}).show()}));else if("addSafe"===e.action)t.setState({nav:"safe",curSafe:{name:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),display_name:"",offline:!!t.state.config.frontend.offline,enc_type:"A256GCM",alg_type:"A256GCMKW"},editSafeMode:1});else if("loadSafe"===e.action)t.getSafe(e.target);else if("editSafe"===e.action)t.state.safeList.forEach((function(n){n.name===e.target&&t.setState({nav:"safe",curSafe:n,editSafeMode:2})}));else if("saveSafe"===e.action){var a=t.state.safeList,r=t.state.safeContent,o=!1;a.forEach((function(t,n){t.name===e.safe.name&&(a[n]=e.safe,o=!0)})),o||(a.push(e.safe),r[e.safe.name]={keyList:[],coinList:[],unlockedCoinList:[],key:!1}),$n.addRoute(e.safe.name),t.setState({safeList:a,safeContent:r,nav:"safe",curSafe:e.safe,editSafeMode:0})}else if("removeSafe"===e.action)a=t.state.safeList,r=t.state.safeContent,a.forEach((function(t,n){t.name===e.safe.name&&a.splice(n,1)})),$n.addRoute(""),delete r[e.safe.name],t.setState({safeList:a,safeContent:r,nav:"profile",editProfile:!1});else if("updateSafeKey"===e.action)t.getSafeKeyList(e.safe.name).then((function(){t.setState({nav:"safe",curSafe:e.safe,editSafeMode:2})}));else if("setSafeKey"===e.action){if(!(r=t.state.safeContent)[e.target.name].key&&e.key&&(r[e.target.name].key=e.key),r[e.target.name].extractableKey=e.masterkeyData,r[e.target.name].lastUnlock=e.key?Math.floor(Date.now()/1e3):0,e.key){if(e.keepUnlocked){var i="A128KW";"A192KW"===e.target.alg_type||"A192GCMKW"===e.target.alg_type||"PBES2-HS384+A192KW"===e.target.alg_type?i="A192KW":"A256KW"!==e.target.alg_type&&"A256GCMKW"!==e.target.alg_type&&"PBES2-HS512+A256KW"!==e.target.alg_type||(i="A256KW"),tn(i,{extractable:!0}).then((function(n){var a=Math.random().toString(36).substring(7);new On(e.masterkeyData).setProtectedHeader({alg:i,enc:e.target.enc_type,sign_key:t.state.config.sign_thumb,kid:a}).encrypt(n).then((function(r){var o={name:a,display_name:e.unlockKeyName,type:"browser",data:r},s=t.state.safeContent;s[e.target.name].keyList.push(o),t.setState({safeContent:s}),zn.request(t.state.config.safe_endpoint+"/"+e.target.name+"/key","POST",o).then((function(){Sn(n).then((function(t){t.kid=a,t.alg=i;var n="hutchsafe-"+e.target.name;"/"!==window.location.pathname&&(n+="-"+window.btoa(unescape(encodeURIComponent(window.location.pathname))).replace(/\=+$/m,"")),Xn.setValue(n,t)}))}))}))}))}}else if(e.removeStorage){var s="hutchsafe-"+e.target.name;"/"!==window.location.pathname&&(s+="-"+window.btoa(unescape(encodeURIComponent(window.location.pathname))).replace(/\=+$/m,""));var c=Xn.getValue(s);c&&zn.request(t.state.config.safe_endpoint+"/"+e.target.name+"/key/"+c.kid,"DELETE").then((function(){var n=t.state.safeContent;n[e.target.name].keyList.forEach((function(t,a){t.name===c.kid&&n[e.target.name].keyList.splice(a,1)})),t.setState({safeContent:n})})).catch((function(e){Dn.sendMessage("Notification",{type:"danger",message:he.t("messageErrorSaveSafeKey")})})),Xn.removeValue(s),r[e.target.name].key=!1,r[e.target.name].extractableKey=!1,r[e.target.name].lastUnlock=0}r[e.target.name].unlockedCoinList=[],t.setState({safeContent:r},(function(){t.unlockCoinList(e.target.name,t.state.safeContent[e.target.name].key),t.state.safeContent[e.target.name].extractableKey&&setTimeout((function(){var n=t.state.safeContent;delete n[e.target.name].extractableKey,t.setState({safeContent:n},(function(){}))}),6e5)}))}else if("unlockSafe"===e.action)(r=t.state.safeContent)[e.safe.name].extractableKey=e.extractableKey,t.setState({safeContent:r},(function(){setTimeout((function(){var n=t.state.safeContent;delete n[e.safe.name].extractableKey,t.setState({safeContent:n})}),6e5),r[e.safe.name].unlockedCoinList.length!==r[e.safe.name].coinList.length&&t.unlockCoinList(e.safe.name,t.state.safeContent[e.safe.name].key)}));else if("lockAllSafe"===e.action)t.state.safeList.forEach((function(e){e.offline?Dn.sendMessage("App",{action:"removeSafe",safe:e}):Dn.sendMessage("App",{action:"setSafeKey",target:e,removeStorage:!0,key:!1})}));else if("updateCoin"===e.action){r=t.state.safeContent,a=t.state.safeList;var l=!1;r[e.target.name].coinList.forEach((function(t,n){t.name===e.encCoin.name&&(r[e.target.name].coinList[n]=e.encCoin,l=!0)})),l?r[e.target.name].unlockedCoinList.forEach((function(t,n){t.name===e.unlockedCoin.name&&(r[e.target.name].unlockedCoinList[n]=e.unlockedCoin)})):(r[e.target.name].coinList.push(e.encCoin),r[e.target.name].unlockedCoinList.push(e.unlockedCoin)),r[e.target.name].unlockedCoinList.sort(t.compareCoin),e.target.offline&&a.forEach((function(t,n){t.name===e.target.name&&(t.updated=!0,a[n]=t)})),t.setState({safeContent:r,safeList:a},(function(){e.cb&&e.cb(e.encCoin.name)}))}else if("removeCoin"===e.action)r=t.state.safeContent,a=t.state.safeList,r[e.target.name].coinList.forEach((function(t,n){t.name===e.coin&&delete r[e.target.name].coinList[n]})),r[e.target.name].unlockedCoinList.forEach((function(t,n){t.name===e.coin&&delete r[e.target.name].unlockedCoinList[n]})),e.target.offline&&a.forEach((function(t,n){t.name===e.target.name&&(t.updated=!0,a[n]=t)})),t.setState({safeContent:r,safeList:a});else if("sessionTimeout"===e.action)Dn.sendMessage("Notification",{type:"warning",message:he.t("messageSessionTimeout"),autohide:!1}),t.setState({oidcStatus:"timeout"});else if("addOfflineSafe"===e.action){var u=e.safeName+"-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5),f=t.state.safeList,d=t.state.safeContent,p={name:u,display_name:e.safeName,enc_type:!1,alg_type:!1,offline:!0,updated:!1};f.push(p);var m=[],h=[];e.coinList.forEach((function(e,t){m.push({name:e.name||"offline-"+t,data:e}),h.push({name:e.name||"offline-"+t,data:!1,last_updated:e.lastUpdated||Math.floor(Date.now()/1e3)})})),d[u]={keyList:[],coinList:h,unlockedCoinList:m,key:!1},$n.addRoute(u||""),t.setState({safeList:f,safeContent:d,nav:"safe",curSafe:p,editSafeMode:0},(function(){Dn.sendMessage("Notification",{type:"info",message:he.t("importOfflineComplete",{count:e.coinList.length,name:e.safeName})})}))}else if("offlineSafeExported"===e.action){var y=t.state.safeList;y.forEach((function(t,n){t.name===e.safeName&&(y[n].updated=!1)})),t.setState({safeList:y})}})),zn.request("words-"+he.language+".json").then((function(e){var n=t.state.config;n.wordsList=e,t.setState({config:n})})),zn.request("fonts/forkawesome-ful-list.json").then((function(e){t.setState({iconList:e})})),t.state.config.frontend.offline&&(t.state.oidcStatus="connected",t.state.hutchProfile={name:"Myrddin",picture:"img/offline-mode.svg"},t.state.hasProfile=!0),t.getHutchProfile=t.getHutchProfile.bind(Sc(t)),t.getSafeList=t.getSafeList.bind(Sc(t)),t.getSafeKeyList=t.getSafeKeyList.bind(Sc(t)),t.unlockCoinList=t.unlockCoinList.bind(Sc(t)),t.gotoRoute=t.gotoRoute.bind(Sc(t)),t.closeGenerateModal=t.closeGenerateModal.bind(Sc(t)),t.manageSafeClose=t.manageSafeClose.bind(Sc(t)),t}return t=s,(n=[{key:"gotoRoute",value:function(e){var t=this;e?this.state.safeList.forEach((function(n){n.name===e&&t.setState({nav:"safe",curSafe:n,editSafeMode:0})})):this.setState({nav:"profile",editProfile:!1})}},{key:"getHutchProfile",value:function(){var e=this;return zn.request(this.state.config.profile_endpoint).then((function(t){var n=JSON.parse(atob(t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"))),a=!1;if(e.state.config.jwks.keys.forEach((function(r){r.kid===n.sign_kid&&(a=!0,Rt(r,r.alg).then((function(n){(async function(e,t){if(!Tt(e))throw new TypeError("JWK must be an object");if(null!=t||(t="sha256"),"sha256"!==t&&"sha384"!==t&&"sha512"!==t)throw new TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');let n;switch(e.kty){case"EC":Nn(e.crv,'"crv" (Curve) Parameter'),Nn(e.x,'"x" (X Coordinate) Parameter'),Nn(e.y,'"y" (Y Coordinate) Parameter'),n={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":Nn(e.crv,'"crv" (Subtype of Key Pair) Parameter'),Nn(e.x,'"x" (Public Key) Parameter'),n={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":Nn(e.e,'"e" (Exponent) Parameter'),Nn(e.n,'"n" (Modulus) Parameter'),n={e:e.e,kty:e.kty,n:e.n};break;case"oct":Nn(e.k,'"k" (Key Value) Parameter'),n={k:e.k,kty:e.kty};break;default:throw new bt('"kty" (Key Type) Parameter missing or unsupported')}const a=at.encode(JSON.stringify(n));return ft(await nt(t,a))})(r).then((function(a){Zt(t,n).then((function(t){zn.setSignJwk(n);var r=e.state.config;r.sign_thumb=a,e.setState({config:r,hutchProfile:t.payload,hasProfile:!0})}))}))})))})),!a)return $.Deferred().reject("invalid sign key")})).fail((function(t){var n={hutchProfile:!1,hasProfile:!1};404===t.status?Dn.sendMessage("Notification",{type:"info",message:he.t("messageNoProfile")}):401===t.status?(n.oidcStatus="disconnected",n.safeList=[],n.safeContent={},n.curSafe=!1,Dn.sendMessage("Notification",{type:"danger",message:he.t("messageAuthorizationInvalid")})):(n.oidcStatus="disconnected",n.safeList=[],n.safeContent={},n.curSafe=!1,Dn.sendMessage("Notification",{type:"warning",message:he.t("messageProfileError")})),e.setState(n)}))}},{key:"getSafeList",value:function(){var e=this;return zn.requestSigned(this.state.config.safe_endpoint).then((function(t){return e.setState({safeList:t.payload.list,trustworthy:!0},(function(){e.state.safeList.forEach((function(t){return zn.requestSigned(e.state.config.safe_endpoint+"/"+t.name+"/key").then((function(n){return zn.requestSigned(e.state.config.safe_endpoint+"/"+t.name+"/coin").then((function(a){var r=!0;a.payload.list.forEach((function(t){_n(t.data).sign_thumb!==e.state.config.sign_thumb&&(r=!1)}));var o=e.state.safeContent;o[t.name]={keyList:n.payload.list,coinList:a.payload.list,unlockedCoinList:[],key:!1,lastUnlock:0},e.setState({safeContent:o,trustworthy:e.state.trustworthy&&r},(function(){var a="hutchsafe-"+t.name;"/"!==window.location.pathname&&(a+="-"+window.btoa(unescape(encodeURIComponent(window.location.pathname))).replace(/\=+$/m,""));var r=Xn.getValue(a);r&&n.payload.list.forEach((function(n){n.name===r.kid&&Rt(r,r.alg).then((function(a){Rn(n.data,a).then((function(n){Rt(n.payload,t.alg_type).then((function(n){var a=e.state.safeContent;a[t.name].key=n,e.setState({safeContent:a},(function(){e.unlockCoinList(t.name,a[t.name].key)}))}))}))}))}))}))})).fail((function(t){console.error("getSafeCoins",t),Dn.sendMessage("Notification",{type:"warning",message:he.t("messageErrorCoinList")}),e.setState({hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{}})}))})).fail((function(t){console.error("getSafeKeys",t),Dn.sendMessage("Notification",{type:"warning",message:he.t("messageErrorKeyList")}),e.setState({hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{}})}))}))}))})).fail((function(t){console.error("getSafeList",t),Dn.sendMessage("Notification",{type:"warning",message:he.t("messageErrorSafeList")}),e.setState({hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{}})}))}},{key:"getSafe",value:function(e){var t=this;return zn.requestSigned(this.state.config.safe_endpoint+"/"+e).then((function(n){var a=t.state.safeList;return a.forEach((function(t,r){t.name===e&&(a[r]=n.payload)})),t.setState({safeList:a},(function(){return zn.requestSigned(t.state.config.safe_endpoint+"/"+e+"/key").then((function(n){return zn.requestSigned(t.state.config.safe_endpoint+"/"+e+"/coin").then((function(a){var r=!0;a.payload.list.forEach((function(e){_n(e.data).sign_thumb!==t.state.config.sign_thumb&&(r=!1)}));var o=t.state.safeContent;o[e].keyList=n.payload.list,o[e].coinList=a.payload.list,o[e].unlockedCoinList=[],t.setState({safeContent:o,trustworthy:t.state.trustworthy&&r},(function(){t.unlockCoinList(e,o[e].key),Dn.sendMessage("Notification",{type:"info",message:he.t("messageSafeLoaded")})}))})).fail((function(e){console.error("getSafeCoins",e),Dn.sendMessage("Notification",{type:"warning",message:he.t("messageErrorCoinList")}),t.setState({hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{}})}))})).fail((function(e){console.error("getSafeKeys",e),Dn.sendMessage("Notification",{type:"warning",message:he.t("messageErrorKeyList")}),t.setState({hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{}})}))}))})).fail((function(e){console.error("getSafe",e),Dn.sendMessage("Notification",{type:"warning",message:he.t("messageErrorSafeList")}),t.setState({hutchProfile:!1,hasProfile:!1,safeList:[],safeContent:{}})}))}},{key:"compareCoin",value:function(e,t){return e.data.displayName.toUpperCase()<t.data.displayName.toUpperCase()?-1:e.data.displayName.toUpperCase()>t.data.displayName.toUpperCase()?1:0}},{key:"unlockCoinList",value:function(e,t){var n=this,a=this.state.safeContent;t&&(this.state.trustworthy||this.state.forceTrust)?a[e].coinList.forEach((function(r,o){Rn(r.data,t).then((function(t){a[e].unlockedCoinList.push({name:r.name,data:t.payload}),o===a[e].coinList.length-1&&(a[e].unlockedCoinList.sort(n.compareCoin),n.setState({safeContent:a}))}))})):(a[e].unlockedCoinList=[],this.setState({safeContent:a}))}},{key:"getSafeKeyList",value:function(e){var t=this;return zn.requestSigned(this.state.config.safe_endpoint+"/"+e+"/key").then((function(n){var a=t.state.safeContent;a[e].keyList=n.payload.list,t.setState({safeContent:a})})).catch((function(e){Dn.sendMessage("Notification",{type:"warning",message:he.t("messageErrorKeyList")})}))}},{key:"setForceTrust",value:function(){var e=this;this.setState({forceTrust:!0},(function(){e.state.safeList.forEach((function(t){e.state.safeContent[t.name].key&&e.unlockCoinList(t.name,e.state.safeContent[t.name].key)}))}))}},{key:"closeGenerateModal",value:function(){bootstrap.Modal.getOrCreateInstance(document.querySelector("#modalGeneratePassword")).hide(),this.setState({showModalGeneratePassword:!1})}},{key:"manageSafeClose",value:function(){bootstrap.Modal.getOrCreateInstance(document.querySelector("#offlineSafe")).hide(),this.setState({showModalOfflineSafe:!1})}},{key:"render",value:function(){var e,t,n,r,o;return(this.state.trustworthy||!this.state.trustworthy&&this.state.forceTrust)&&("profile"===this.state.nav?e=a.createElement(Xa,{config:this.state.config,profile:this.state.profile,hutchProfile:this.state.hutchProfile,hasProfile:this.state.hasProfile,editProfile:this.state.editProfile,oidcStatus:this.state.oidcStatus}):"safe"===this.state.nav?e=a.createElement(Vs,{config:this.state.config,hutchProfile:this.state.hutchProfile,safe:this.state.curSafe,safeContent:this.state.safeContent,editMode:this.state.editSafeMode,oidcStatus:this.state.oidcStatus,iconList:this.state.iconList}):"config"===this.state.nav&&(e=a.createElement(cc,{config:this.state.config}))),this.state.trustworthy||(this.state.forceTrust||(n=a.createElement("div",null,a.createElement("div",null,he.t("untrustworthyOpenMessage")),a.createElement("div",null,a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.setForceTrust},he.t("untrustworthyOpen"))))),t=a.createElement("div",{className:"alert alert-danger text-center",role:"alert"},he.t("untrustworthySafe"),n)),this.state.showModalGeneratePassword&&(r=a.createElement(Oo,{config:this.state.config,element:this.state.modalGeneratePasswordElement,originalPassword:!1,callback:this.closeGenerateModal,hideSaveAndClose:!0})),this.state.showModalOfflineSafe&&(o=a.createElement(yc,{config:this.state.config,safe:!1,safeContent:!1,cbSaveCoin:!1,oidcStatus:!1,cbClose:this.manageSafeClose})),a.createElement("div",{className:"container-fluid"},a.createElement(Sa,{config:this.state.config,oidcStatus:this.state.oidcStatus,safeList:this.state.safeList,safeContent:this.state.safeContent,curSafe:this.state.curSafe,hasProfile:this.state.hasProfile}),t,e,a.createElement(oa,{loggedIn:this.state.oidcStatus}),r,o)}}])&&bc(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(a.Component);const Cc=kc;function Pc(e){return Pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(e)}function Oc(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Nc(e,t){return Nc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nc(e,t)}function xc(e,t){if(t&&("object"===Pc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _c(e){return _c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_c(e)}var Tc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nc(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_c(r);if(o){var n=_c(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return xc(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={message:e.message},t}return t=s,(n=[{key:"render",value:function(){return a.createElement("div",{className:"alert alert-danger perfect-centering",role:"alert"},a.createElement("h4",null,"Configuration error"),a.createElement("span",null,this.state.message))}}])&&Oc(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(a.Component);const Rc=Tc;try{he.use(De).use(Ze).init({fallbackLng:"en",ns:["translations"],defaultNS:"translations",backend:{loadPath:"locales/{{lng}}/{{ns}}.json"}}).then((function(){new URLSearchParams(window.location.search),zn.request("config.json").then((function(e){if(e.lang||(e.lang=["en","fr"]),e.offline){var t={oidc:!1,frontend:e,backend:!1,jwks:!1,profile_endpoint:!1,safe_endpoint:!1,oidc_server_remote_config:!1,scope:!1};r.render(a.createElement(Cc,{config:t}),document.getElementById("root"))}else Xn.setStorageType(e.storageType),(n=e.hutchRootUrl,o={},zn.request(n+"/.well-known/hutch-configuration","GET",!1,"application/jwt").then((function(e){return JSON.parse(atob(e.split(".")[0].replace(/-/g,"+").replace(/_/g,"/"))),o.config=JSON.parse(atob(e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"))),zn.request(o.config.jwks_uri,"GET",!1,"application/jwt").then((function(t){return JSON.parse(atob(t.split(".")[0].replace(/-/g,"+").replace(/_/g,"/"))),o.jwks=JSON.parse(atob(t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"))),Rt(o.jwks.keys[0],o.jwks.keys[0].alg).then((function(n){return Zt(e,n).then((function(){return Zt(t,n).then((function(){return o}))}))}))}))}))).then((function(t){var n={oidc:{status:"connecting"},frontend:e,backend:t.config,jwks:t.jwks,profile_endpoint:e.profile_endpoint||t.config.profile_endpoint,safe_endpoint:e.safe_endpoint||t.config.safe_endpoint,oidc_server_remote_config:e.oidc.oidc_server_remote_config||t.config.oidc_server_remote_config,scope:e.oidc.scope||t.config.scope};Wn.init({storagePrefix:"hutchOidc",storageType:Xn.storageType,responseType:Xn.getValue("longSession")?"code":"token id_token",openidConfigUrl:n.oidc_server_remote_config,authUrl:e.oidc.authUrl,tokenUrl:e.oidc.tokenUrl,clientId:e.oidc.clientId,redirectUri:e.oidc.redirectUri,usePkce:e.oidc.usePkce,scope:n.scope,userinfoUrl:e.oidc.userinfoUrl,refreshTokenLoop:e.oidc.refreshTokenLoop,changeStatusCb:function(e,t,n,a){Dn.sendMessage("OIDC",{status:e,token:t,expires_in:n,profile:a})}}),zn.setConfig(e.APIUrl),r.render(a.createElement(Cc,{config:n}),document.getElementById("root"))})).fail((function(e){r.render(a.createElement(Rc,{message:"Error getting hutch backend config"}),document.getElementById("root"))}));var n,o})).fail((function(e){r.render(a.createElement(Rc,{message:"Error getting hutch frontend config"}),document.getElementById("root"))}))}))}catch(e){$("#root").html('<div class="alert alert-danger" role="alert"><i class="fas fa-exclamation-triangle"></i><span class="btn-icon-right">You must use a browser compatible with Hutch</span></div>')}},98:function(e,t){var n="undefined"!=typeof self?self:this,a=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,a="Symbol"in e&&"iterator"in Symbol,r="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,i="ArrayBuffer"in e;if(i)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function l(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return a&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function m(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function h(e){var t=new FileReader,n=m(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:r&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i&&r&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var e,t,n,a=p(this);if(a)return a;if(this._bodyBlob)return e=this._bodyBlob,n=m(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),a=0;a<t.length;a++)n[a]=String.fromCharCode(t[a]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=l(e),t=u(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},d.prototype.delete=function(e){delete this.map[l(e)]},d.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},d.prototype.set=function(e,t){this.map[l(e)]=u(t)},d.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},a&&(d.prototype[Symbol.iterator]=d.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){var n,a,r=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(a=(n=t.method||this.method||"GET").toUpperCase(),b.indexOf(a)>-1?a:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),a=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(a),decodeURIComponent(r))}})),t}function S(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},g.call(v.prototype),g.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];S.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function k(e,n){return new Promise((function(a,o){var i=new v(e,n);if(i.signal&&i.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),a=n.shift().trim();if(a){var r=n.join(":").trim();t.append(a,r)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var r="response"in s?s.response:s.responseText;a(new S(r,n))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},s.open(i.method,i.url,!0),"include"===i.credentials?s.withCredentials=!0:"omit"===i.credentials&&(s.withCredentials=!1),"responseType"in s&&r&&(s.responseType="blob"),i.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),i.signal&&(i.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&i.signal.removeEventListener("abort",c)}),s.send(void 0===i._bodyInit?null:i._bodyInit)}))}k.polyfill=!0,e.fetch||(e.fetch=k,e.Headers=d,e.Request=v,e.Response=S),t.Headers=d,t.Request=v,t.Response=S,t.fetch=k,Object.defineProperty(t,"__esModule",{value:!0})}({})}(a),a.fetch.ponyfill=!0,delete a.fetch.polyfill;var r=a;(t=r.fetch).default=r.fetch,t.fetch=r.fetch,t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response,e.exports=t},418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var i,s,c=r(e),l=1;l<arguments.length;l++){for(var u in i=Object(arguments[l]))n.call(i,u)&&(c[u]=i[u]);if(t){s=t(i);for(var f=0;f<s.length;f++)a.call(i,s[f])&&(c[s[f]]=i[s[f]])}}return c}},448:(e,t,n)=>{"use strict";var a=n(294),r=n(418),o=n(840);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!a)throw Error(i(227));var s=new Set,c={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(c[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,m={},h={};function y(e,t,n,a,r,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,a){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0===r.type:!a&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,a){if(null==t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,a)&&(n=null),a||null===r?function(e){return!!p.call(h,e)||!p.call(m,e)&&(d.test(e)?h[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,a=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,v);g[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,v);g[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,v);g[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var S=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,k=60106,C=60107,P=60108,O=60114,N=60109,x=60110,_=60112,T=60113,R=60120,j=60115,A=60116,D=60121,M=60128,L=60129,I=60130,K=60131;if("function"==typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),k=U("react.portal"),C=U("react.fragment"),P=U("react.strict_mode"),O=U("react.profiler"),N=U("react.provider"),x=U("react.context"),_=U("react.forward_ref"),T=U("react.suspense"),R=U("react.suspense_list"),j=U("react.memo"),A=U("react.lazy"),D=U("react.block"),U("react.scope"),M=U("react.opaque.id"),L=U("react.debug_trace_mode"),I=U("react.offscreen"),K=U("react.legacy_hidden")}var F,H="function"==typeof Symbol&&Symbol.iterator;function W(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=H&&e[H]||e["@@iterator"])?e:null}function B(e){if(void 0===F)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var J=!1;function z(e,t){if(!e||J)return"";J=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var a=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){a=e}e.call(t.prototype)}else{try{throw Error()}catch(e){a=e}e()}}catch(e){if(e&&a&&"string"==typeof e.stack){for(var r=e.stack.split("\n"),o=a.stack.split("\n"),i=r.length-1,s=o.length-1;1<=i&&0<=s&&r[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(r[i]!==o[s]){if(1!==i||1!==s)do{if(i--,0>--s||r[i]!==o[s])return"\n"+r[i].replace(" at new "," at ")}while(1<=i&&0<=s);break}}}finally{J=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function V(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return z(e.type,!1);case 11:return z(e.type.render,!1);case 22:return z(e.type._render,!1);case 1:return z(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case C:return"Fragment";case k:return"Portal";case O:return"Profiler";case P:return"StrictMode";case T:return"Suspense";case R:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case j:return q(e.type);case D:return q(e._render);case A:t=e._payload,e=e._init;try{return q(e(t))}catch(e){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){a=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=G(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function Y(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=$(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?re(e,t.type,n):t.hasOwnProperty("defaultValue")&&re(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ae(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function re(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return a.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ie(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ce(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function le(e,t){var n=$(t.value),a=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,he,ye=(he=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction((function(){return he(e,t)}))}:he);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Se(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),r=we(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,r):e[n]=r}}Object.keys(be).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Ee=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Pe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Oe=null,Ne=null,xe=null;function _e(e){if(e=nr(e)){if("function"!=typeof Oe)throw Error(i(280));var t=e.stateNode;t&&(t=rr(t),Oe(e.stateNode,e.type,t))}}function Te(e){Ne?xe?xe.push(e):xe=[e]:Ne=e}function Re(){if(Ne){var e=Ne,t=xe;if(xe=Ne=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function je(e,t){return e(t)}function Ae(e,t,n,a,r){return e(t,n,a,r)}function De(){}var Me=je,Le=!1,Ie=!1;function Ke(){null===Ne&&null===xe||(De(),Re())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var a=rr(n);if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var Fe=!1;if(f)try{var He={};Object.defineProperty(He,"passive",{get:function(){Fe=!0}}),window.addEventListener("test",He,He),window.removeEventListener("test",He,He)}catch(he){Fe=!1}function We(e,t,n,a,r,o,i,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var Be=!1,Je=null,ze=!1,Ve=null,qe={onError:function(e){Be=!0,Je=e}};function $e(e,t,n,a,r,o,i,s,c){Be=!1,Je=null,We.apply(qe,arguments)}function Ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Xe(e){if(Ge(e)!==e)throw Error(i(188))}function Ye(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ge(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(a=r.return)){n=a;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return Xe(r),e;if(o===a)return Xe(r),t;o=o.sibling}throw Error(i(188))}if(n.return!==a.return)n=r,a=o;else{for(var s=!1,c=r.child;c;){if(c===n){s=!0,n=r,a=o;break}if(c===a){s=!0,a=r,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,a=r;break}if(c===a){s=!0,a=o,n=r;break}c=c.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==a)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,at,rt=!1,ot=[],it=null,st=null,ct=null,lt=new Map,ut=new Map,ft=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,a,r){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:r,targetContainers:[a]}}function mt(e,t){switch(e){case"focusin":case"focusout":it=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(t.pointerId)}}function ht(e,t,n,a,r,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,a,r,o),null!==t&&null!==(t=nr(t))&&tt(t),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function yt(e){var t=tr(e.target);if(null!==t){var n=Ge(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Qe(n)))return e.blockedOn=t,void at(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=nr(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){gt(e)&&n.delete(t)}function vt(){for(rt=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=nr(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==it&&gt(it)&&(it=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(bt),ut.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,rt||(rt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,vt)))}function St(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var a=ot[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==it&&wt(it,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ut.forEach(t),n=0;n<ft.length;n++)(a=ft[n]).blockedOn===e&&(a.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)yt(n),null===n.blockedOn&&ft.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kt={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},Ct={},Pt={};function Ot(e){if(Ct[e])return Ct[e];if(!kt[e])return e;var t,n=kt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Pt)return Ct[e]=n[t];return e}f&&(Pt=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);var Nt=Ot("animationend"),xt=Ot("animationiteration"),_t=Ot("animationstart"),Tt=Ot("transitionend"),Rt=new Map,jt=new Map,At=["abort","abort",Nt,"animationEnd",xt,"animationIteration",_t,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Tt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var a=e[n],r=e[n+1];r="on"+(r[0].toUpperCase()+r.slice(1)),jt.set(a,t),Rt.set(a,r),l(r,[a])}}(0,o.unstable_now)();var Mt=8;function Lt(e){if(0!=(1&e))return Mt=15,1;if(0!=(2&e))return Mt=14,2;if(0!=(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!=(32&e)?(Mt=11,32):0!=(t=192&e)?(Mt=10,t):0!=(256&e)?(Mt=9,256):0!=(t=3584&e)?(Mt=8,t):0!=(4096&e)?(Mt=7,4096):0!=(t=4186112&e)?(Mt=6,t):0!=(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!=(134217728&e)?(Mt=3,134217728):0!=(t=805306368&e)?(Mt=2,t):0!=(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function It(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var a=0,r=0,o=e.expiredLanes,i=e.suspendedLanes,s=e.pingedLanes;if(0!==o)a=o,r=Mt=15;else if(0!=(o=134217727&n)){var c=o&~i;0!==c?(a=Lt(c),r=Mt):0!=(s&=o)&&(a=Lt(s),r=Mt)}else 0!=(o=n&~i)?(a=Lt(o),r=Mt):0!==s&&(a=Lt(s),r=Mt);if(0===a)return 0;if(a=n&((0>(a=31-Bt(a))?0:1<<a)<<1)-1,0!==t&&t!==a&&0==(t&i)){if(Lt(t),r<=Mt)return t;Mt=r}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)r=1<<(n=31-Bt(t)),a|=e[n],t&=~r;return a}function Kt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ft(24&~t))?Ut(10,t):e;case 10:return 0===(e=Ft(192&~t))?Ut(8,t):e;case 8:return 0===(e=Ft(3584&~t))&&0===(e=Ft(4186112&~t))&&(e=512),e;case 2:return 0===(t=Ft(805306368&~t))&&(t=268435456),t}throw Error(i(358,e))}function Ft(e){return e&-e}function Ht(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wt(e,t,n){e.pendingLanes|=t;var a=t-1;e.suspendedLanes&=a,e.pingedLanes&=a,(e=e.eventTimes)[t=31-Bt(t)]=n}var Bt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Jt(e)/zt|0)|0},Jt=Math.log,zt=Math.LN2,Vt=o.unstable_UserBlockingPriority,qt=o.unstable_runWithPriority,$t=!0;function Gt(e,t,n,a){Le||De();var r=Xt,o=Le;Le=!0;try{Ae(r,e,t,n,a)}finally{(Le=o)||Ke()}}function Qt(e,t,n,a){qt(Vt,Xt.bind(null,e,t,n,a))}function Xt(e,t,n,a){var r;if($t)if((r=0==(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,a),ot.push(e);else{var o=Yt(e,t,n,a);if(null===o)r&&mt(e,a);else{if(r){if(-1<dt.indexOf(e))return e=pt(o,e,t,n,a),void ot.push(e);if(function(e,t,n,a,r){switch(t){case"focusin":return it=ht(it,e,t,n,a,r),!0;case"dragenter":return st=ht(st,e,t,n,a,r),!0;case"mouseover":return ct=ht(ct,e,t,n,a,r),!0;case"pointerover":var o=r.pointerId;return lt.set(o,ht(lt.get(o)||null,e,t,n,a,r)),!0;case"gotpointercapture":return o=r.pointerId,ut.set(o,ht(ut.get(o)||null,e,t,n,a,r)),!0}return!1}(o,e,t,n,a))return;mt(e,a)}Da(e,t,a,null,n)}}}function Yt(e,t,n,a){var r=Pe(a);if(null!==(r=tr(r))){var o=Ge(r);if(null===o)r=null;else{var i=o.tag;if(13===i){if(null!==(r=Qe(o)))return r;r=null}else if(3===i){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Da(e,t,a,r,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,a=n.length,r="value"in Zt?Zt.value:Zt.textContent,o=r.length;for(e=0;e<a&&n[e]===r[e];e++);var i=a-e;for(t=1;t<=i&&n[a-t]===r[o-t];t++);return tn=r.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function on(){return!1}function sn(e){function t(t,n,a,r,o){for(var i in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?rn:on,this.isPropagationStopped=on,this}return r(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var cn,ln,un,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(fn),pn=r({},fn,{view:0,detail:0}),mn=sn(pn),hn=r({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(cn=e.screenX-un.screenX,ln=e.screenY-un.screenY):ln=cn=0,un=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=sn(hn),gn=sn(r({},hn,{dataTransfer:0})),bn=sn(r({},pn,{relatedTarget:0})),vn=sn(r({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=r({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sn=sn(wn),En=sn(r({},fn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function On(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Pn[e])&&!!t[e]}function Nn(){return On}var xn=r({},pn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=sn(xn),Tn=sn(r({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=sn(r({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),jn=sn(r({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=r({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(An),Mn=[9,13,27,32],Ln=f&&"CompositionEvent"in window,In=null;f&&"documentMode"in document&&(In=document.documentMode);var Kn=f&&"TextEvent"in window&&!In,Un=f&&(!Ln||In&&8<In&&11>=In),Fn=String.fromCharCode(32),Hn=!1;function Wn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Jn=!1,zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function qn(e,t,n,a){Te(a),0<(t=La(t,"onChange")).length&&(n=new dn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var $n=null,Gn=null;function Qn(e){xa(e,0)}function Xn(e){if(X(ar(e)))return e}function Yn(e,t){if("change"===e)return t}var Zn=!1;if(f){var ea;if(f){var ta="oninput"in document;if(!ta){var na=document.createElement("div");na.setAttribute("oninput","return;"),ta="function"==typeof na.oninput}ea=ta}else ea=!1;Zn=ea&&(!document.documentMode||9<document.documentMode)}function aa(){$n&&($n.detachEvent("onpropertychange",ra),Gn=$n=null)}function ra(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];if(qn(t,Gn,e,Pe(e)),e=Qn,Le)e(t);else{Le=!0;try{je(e,t)}finally{Le=!1,Ke()}}}}function oa(e,t,n){"focusin"===e?(aa(),Gn=n,($n=t).attachEvent("onpropertychange",ra)):"focusout"===e&&aa()}function ia(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function sa(e,t){if("click"===e)return Xn(t)}function ca(e,t){if("input"===e||"change"===e)return Xn(t)}var la="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ua=Object.prototype.hasOwnProperty;function fa(e,t){if(la(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++)if(!ua.call(t,n[a])||!la(e[n[a]],t[n[a]]))return!1;return!0}function da(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pa(e,t){var n,a=da(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=da(a)}}function ma(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ma(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ha(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function ya(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ga=f&&"documentMode"in document&&11>=document.documentMode,ba=null,va=null,wa=null,Sa=!1;function Ea(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Sa||null==ba||ba!==Y(a)||(a="selectionStart"in(a=ba)&&ya(a)?{start:a.selectionStart,end:a.selectionEnd}:{anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},wa&&fa(wa,a)||(wa=a,0<(a=La(va,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=ba)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(At,2);for(var ka="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ca=0;Ca<ka.length;Ca++)jt.set(ka[Ca],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oa=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pa));function Na(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,a,r,o,s,c,l){if($e.apply(this,arguments),Be){if(!Be)throw Error(i(198));var u=Je;Be=!1,Je=null,ze||(ze=!0,Ve=u)}}(a,t,void 0,e),e.currentTarget=null}function xa(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var o=void 0;if(t)for(var i=a.length-1;0<=i;i--){var s=a[i],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==o&&r.isPropagationStopped())break e;Na(r,s,l),o=c}else for(i=0;i<a.length;i++){if(c=(s=a[i]).instance,l=s.currentTarget,s=s.listener,c!==o&&r.isPropagationStopped())break e;Na(r,s,l),o=c}}}if(ze)throw e=Ve,ze=!1,Ve=null,e}function _a(e,t){var n=or(t),a=e+"__bubble";n.has(a)||(Aa(t,e,2,!1),n.add(a))}var Ta="_reactListening"+Math.random().toString(36).slice(2);function Ra(e){e[Ta]||(e[Ta]=!0,s.forEach((function(t){Oa.has(t)||ja(t,!1,e,null),ja(t,!0,e,null)})))}function ja(e,t,n,a){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==a&&!t&&Oa.has(e)){if("scroll"!==e)return;r|=2,o=a}var i=or(o),s=e+"__"+(t?"capture":"bubble");i.has(s)||(t&&(r|=4),Aa(o,e,r,t),i.add(s))}function Aa(e,t,n,a){var r=jt.get(t);switch(void 0===r?2:r){case 0:r=Gt;break;case 1:r=Qt;break;default:r=Xt}n=r.bind(null,t,n,e),r=void 0,!Fe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Da(e,t,n,a,r){var o=a;if(0==(1&t)&&0==(2&t)&&null!==a)e:for(;;){if(null===a)return;var i=a.tag;if(3===i||4===i){var s=a.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===i)for(i=a.return;null!==i;){var c=i.tag;if((3===c||4===c)&&((c=i.stateNode.containerInfo)===r||8===c.nodeType&&c.parentNode===r))return;i=i.return}for(;null!==s;){if(null===(i=tr(s)))return;if(5===(c=i.tag)||6===c){a=o=i;continue e}s=s.parentNode}}a=a.return}!function(e,t,n){if(Ie)return e();Ie=!0;try{Me(e,t,n)}finally{Ie=!1,Ke()}}((function(){var a=o,r=Pe(n),i=[];e:{var s=Rt.get(e);if(void 0!==s){var c=dn,l=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":c=_n;break;case"focusin":l="focus",c=bn;break;case"focusout":l="blur",c=bn;break;case"beforeblur":case"afterblur":c=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Rn;break;case Nt:case xt:case _t:c=vn;break;case Tt:c=jn;break;case"scroll":c=mn;break;case"wheel":c=Dn;break;case"copy":case"cut":case"paste":c=Sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Tn}var u=0!=(4&t),f=!u&&"scroll"===e,d=u?null!==s?s+"Capture":null:s;u=[];for(var p,m=a;null!==m;){var h=(p=m).stateNode;if(5===p.tag&&null!==h&&(p=h,null!==d&&null!=(h=Ue(m,d))&&u.push(Ma(m,h,p))),f)break;m=m.return}0<u.length&&(s=new c(s,l,null,n,r),i.push({event:s,listeners:u}))}}if(0==(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(l=n.relatedTarget||n.fromElement)||!tr(l)&&!l[Za])&&(c||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=a,null!==(l=(l=n.relatedTarget||n.toElement)?tr(l):null)&&(l!==(f=Ge(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=a),c!==l)){if(u=yn,h="onMouseLeave",d="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,h="onPointerLeave",d="onPointerEnter",m="pointer"),f=null==c?s:ar(c),p=null==l?s:ar(l),(s=new u(h,m+"leave",c,n,r)).target=f,s.relatedTarget=p,h=null,tr(r)===a&&((u=new u(d,m+"enter",l,n,r)).target=p,u.relatedTarget=f,h=u),f=h,c&&l)e:{for(d=l,m=0,p=u=c;p;p=Ia(p))m++;for(p=0,h=d;h;h=Ia(h))p++;for(;0<m-p;)u=Ia(u),m--;for(;0<p-m;)d=Ia(d),p--;for(;m--;){if(u===d||null!==d&&u===d.alternate)break e;u=Ia(u),d=Ia(d)}u=null}else u=null;null!==c&&Ka(i,s,c,u,!1),null!==l&&null!==f&&Ka(i,f,l,u,!0)}if("select"===(c=(s=a?ar(a):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var y=Yn;else if(Vn(s))if(Zn)y=ca;else{y=ia;var g=oa}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=sa);switch(y&&(y=y(e,a))?qn(i,y,n,r):(g&&g(e,s,a),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&re(s,"number",s.value)),g=a?ar(a):window,e){case"focusin":(Vn(g)||"true"===g.contentEditable)&&(ba=g,va=a,wa=null);break;case"focusout":wa=va=ba=null;break;case"mousedown":Sa=!0;break;case"contextmenu":case"mouseup":case"dragend":Sa=!1,Ea(i,n,r);break;case"selectionchange":if(ga)break;case"keydown":case"keyup":Ea(i,n,r)}var b;if(Ln)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Jn?Wn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Un&&"ko"!==n.locale&&(Jn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Jn&&(b=nn()):(en="value"in(Zt=r)?Zt.value:Zt.textContent,Jn=!0)),0<(g=La(a,v)).length&&(v=new En(v,e,null,n,r),i.push({event:v,listeners:g}),(b||null!==(b=Bn(n)))&&(v.data=b))),(b=Kn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Hn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Hn?null:e;default:return null}}(e,n):function(e,t){if(Jn)return"compositionend"===e||!Ln&&Wn(e,t)?(e=nn(),tn=en=Zt=null,Jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(a=La(a,"onBeforeInput")).length&&(r=new En("onBeforeInput","beforeinput",null,n,r),i.push({event:r,listeners:a}),r.data=b)}xa(i,t)}))}function Ma(e,t,n){return{instance:e,listener:t,currentTarget:n}}function La(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=Ue(e,n))&&a.unshift(Ma(e,o,r)),null!=(o=Ue(e,t))&&a.push(Ma(e,o,r))),e=e.return}return a}function Ia(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ka(e,t,n,a,r){for(var o=t._reactName,i=[];null!==n&&n!==a;){var s=n,c=s.alternate,l=s.stateNode;if(null!==c&&c===a)break;5===s.tag&&null!==l&&(s=l,r?null!=(c=Ue(n,o))&&i.unshift(Ma(n,c,s)):r||null!=(c=Ue(n,o))&&i.push(Ma(n,c,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}function Ua(){}var Fa=null,Ha=null;function Wa(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ba(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ja="function"==typeof setTimeout?setTimeout:void 0,za="function"==typeof clearTimeout?clearTimeout:void 0;function Va(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function qa(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $a(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Ga=0,Qa=Math.random().toString(36).slice(2),Xa="__reactFiber$"+Qa,Ya="__reactProps$"+Qa,Za="__reactContainer$"+Qa,er="__reactEvents$"+Qa;function tr(e){var t=e[Xa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Za]||n[Xa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$a(e);null!==e;){if(n=e[Xa])return n;e=$a(e)}return t}n=(e=n).parentNode}return null}function nr(e){return!(e=e[Xa]||e[Za])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ar(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function rr(e){return e[Ya]||null}function or(e){var t=e[er];return void 0===t&&(t=e[er]=new Set),t}var ir=[],sr=-1;function cr(e){return{current:e}}function lr(e){0>sr||(e.current=ir[sr],ir[sr]=null,sr--)}function ur(e,t){sr++,ir[sr]=e.current,e.current=t}var fr={},dr=cr(fr),pr=cr(!1),mr=fr;function hr(e,t){var n=e.type.contextTypes;if(!n)return fr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function yr(e){return null!=e.childContextTypes}function gr(){lr(pr),lr(dr)}function br(e,t,n){if(dr.current!==fr)throw Error(i(168));ur(dr,t),ur(pr,n)}function vr(e,t,n){var a=e.stateNode;if(e=t.childContextTypes,"function"!=typeof a.getChildContext)return n;for(var o in a=a.getChildContext())if(!(o in e))throw Error(i(108,q(t)||"Unknown",o));return r({},n,a)}function wr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fr,mr=dr.current,ur(dr,e),ur(pr,pr.current),!0}function Sr(e,t,n){var a=e.stateNode;if(!a)throw Error(i(169));n?(e=vr(e,t,mr),a.__reactInternalMemoizedMergedChildContext=e,lr(pr),lr(dr),ur(dr,e)):lr(pr),ur(pr,n)}var Er=null,kr=null,Cr=o.unstable_runWithPriority,Pr=o.unstable_scheduleCallback,Or=o.unstable_cancelCallback,Nr=o.unstable_shouldYield,xr=o.unstable_requestPaint,_r=o.unstable_now,Tr=o.unstable_getCurrentPriorityLevel,Rr=o.unstable_ImmediatePriority,jr=o.unstable_UserBlockingPriority,Ar=o.unstable_NormalPriority,Dr=o.unstable_LowPriority,Mr=o.unstable_IdlePriority,Lr={},Ir=void 0!==xr?xr:function(){},Kr=null,Ur=null,Fr=!1,Hr=_r(),Wr=1e4>Hr?_r:function(){return _r()-Hr};function Br(){switch(Tr()){case Rr:return 99;case jr:return 98;case Ar:return 97;case Dr:return 96;case Mr:return 95;default:throw Error(i(332))}}function Jr(e){switch(e){case 99:return Rr;case 98:return jr;case 97:return Ar;case 96:return Dr;case 95:return Mr;default:throw Error(i(332))}}function zr(e,t){return e=Jr(e),Cr(e,t)}function Vr(e,t,n){return e=Jr(e),Pr(e,t,n)}function qr(){if(null!==Ur){var e=Ur;Ur=null,Or(e)}$r()}function $r(){if(!Fr&&null!==Kr){Fr=!0;var e=0;try{var t=Kr;zr(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Kr=null}catch(t){throw null!==Kr&&(Kr=Kr.slice(e+1)),Pr(Rr,qr),t}finally{Fr=!1}}}var Gr=S.ReactCurrentBatchConfig;function Qr(e,t){if(e&&e.defaultProps){for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xr=cr(null),Yr=null,Zr=null,eo=null;function to(){eo=Zr=Yr=null}function no(e){var t=Xr.current;lr(Xr),e.type._context._currentValue=t}function ao(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ro(e,t){Yr=e,eo=Zr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Li=!0),e.firstContext=null)}function oo(e,t){if(eo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(eo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zr){if(null===Yr)throw Error(i(308));Zr=t,Yr.dependencies={lanes:0,firstContext:t,responders:null}}else Zr=Zr.next=t;return e._currentValue}var io=!1;function so(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function uo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fo(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,a){var o=e.updateQueue;io=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,c=o.shared.pending;if(null!==c){o.shared.pending=null;var l=c,u=l.next;l.next=null,null===s?i=u:s.next=u,s=l;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==s&&(null===d?f.firstBaseUpdate=u:d.next=u,f.lastBaseUpdate=l)}}if(null!==i){for(d=o.baseState,s=0,f=u=l=null;;){c=i.lane;var p=i.eventTime;if((a&c)===c){null!==f&&(f=f.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var m=e,h=i;switch(c=t,p=n,h.tag){case 1:if("function"==typeof(m=h.payload)){d=m.call(p,d,c);break e}d=m;break e;case 3:m.flags=-4097&m.flags|64;case 0:if(null==(c="function"==typeof(m=h.payload)?m.call(p,d,c):m))break e;d=r({},d,c);break e;case 2:io=!0}}null!==i.callback&&(e.flags|=32,null===(c=o.effects)?o.effects=[i]:c.push(i))}else p={eventTime:p,lane:c,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===f?(u=f=p,l=d):f=f.next=p,s|=c;if(null===(i=i.next)){if(null===(c=o.shared.pending))break;i=c.next,c.next=null,o.lastBaseUpdate=c,o.shared.pending=null}}null===f&&(l=d),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=f,Ks|=s,e.lanes=s,e.memoizedState=d}}function mo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],r=a.callback;if(null!==r){if(a.callback=null,a=n,"function"!=typeof r)throw Error(i(191,r));r.call(a)}}}var ho=(new a.Component).refs;function yo(e,t,n,a){n=null==(n=n(a,t=e.memoizedState))?t:r({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=lc(),r=uc(e),o=lo(a,r);o.payload=t,null!=n&&(o.callback=n),uo(e,o),fc(e,r,a)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=lc(),r=uc(e),o=lo(a,r);o.tag=1,o.payload=t,null!=n&&(o.callback=n),uo(e,o),fc(e,r,a)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lc(),a=uc(e),r=lo(n,a);r.tag=2,null!=t&&(r.callback=t),uo(e,r),fc(e,a,n)}};function bo(e,t,n,a,r,o,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,o,i):!(t.prototype&&t.prototype.isPureReactComponent&&fa(n,a)&&fa(r,o))}function vo(e,t,n){var a=!1,r=fr,o=t.contextType;return"object"==typeof o&&null!==o?o=oo(o):(r=yr(t)?mr:dr.current,o=(a=null!=(a=t.contextTypes))?hr(e,r):fr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function wo(e,t,n,a){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function So(e,t,n,a){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=ho,so(e);var o=t.contextType;"object"==typeof o&&null!==o?r.context=oo(o):(o=yr(t)?mr:dr.current,r.context=hr(e,o)),po(e,n,r,a),r.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(yo(e,t,o,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&go.enqueueReplaceState(r,r.state,null),po(e,n,r,a),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.flags|=4)}var Eo=Array.isArray;function ko(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var a=n.stateNode}if(!a)throw Error(i(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=a.refs;t===ho&&(t=a.refs={}),null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Co(e,t){if("textarea"!==e.type)throw Error(i(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Po(e){function t(t,n){if(e){var a=t.lastEffect;null!==a?(a.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Bc(e,t)).index=0,e.sibling=null,e}function o(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags=2,n):a:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function c(e,t,n,a){return null===t||6!==t.tag?((t=qc(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function l(e,t,n,a){return null!==t&&t.elementType===n.type?((a=r(t,n.props)).ref=ko(e,t,n),a.return=e,a):((a=Jc(n.type,n.key,n.props,null,e.mode,a)).ref=ko(e,t,n),a.return=e,a)}function u(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$c(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function f(e,t,n,a,o){return null===t||7!==t.tag?((t=zc(n,e.mode,a,o)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=qc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Jc(t.type,t.key,t.props,null,e.mode,n)).ref=ko(e,null,t),n.return=e,n;case k:return(t=$c(t,e.mode,n)).return=e,t}if(Eo(t)||W(t))return(t=zc(t,e.mode,n,null)).return=e,t;Co(e,t)}return null}function p(e,t,n,a){var r=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==r?null:c(e,t,""+n,a);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===r?n.type===C?f(e,t,n.props.children,a,r):l(e,t,n,a):null;case k:return n.key===r?u(e,t,n,a):null}if(Eo(n)||W(n))return null!==r?null:f(e,t,n,a,null);Co(e,n)}return null}function m(e,t,n,a,r){if("string"==typeof a||"number"==typeof a)return c(t,e=e.get(n)||null,""+a,r);if("object"==typeof a&&null!==a){switch(a.$$typeof){case E:return e=e.get(null===a.key?n:a.key)||null,a.type===C?f(t,e,a.props.children,r,a.key):l(t,e,a,r);case k:return u(t,e=e.get(null===a.key?n:a.key)||null,a,r)}if(Eo(a)||W(a))return f(t,e=e.get(n)||null,a,r,null);Co(t,a)}return null}function h(r,i,s,c){for(var l=null,u=null,f=i,h=i=0,y=null;null!==f&&h<s.length;h++){f.index>h?(y=f,f=null):y=f.sibling;var g=p(r,f,s[h],c);if(null===g){null===f&&(f=y);break}e&&f&&null===g.alternate&&t(r,f),i=o(g,i,h),null===u?l=g:u.sibling=g,u=g,f=y}if(h===s.length)return n(r,f),l;if(null===f){for(;h<s.length;h++)null!==(f=d(r,s[h],c))&&(i=o(f,i,h),null===u?l=f:u.sibling=f,u=f);return l}for(f=a(r,f);h<s.length;h++)null!==(y=m(f,r,h,s[h],c))&&(e&&null!==y.alternate&&f.delete(null===y.key?h:y.key),i=o(y,i,h),null===u?l=y:u.sibling=y,u=y);return e&&f.forEach((function(e){return t(r,e)})),l}function y(r,s,c,l){var u=W(c);if("function"!=typeof u)throw Error(i(150));if(null==(c=u.call(c)))throw Error(i(151));for(var f=u=null,h=s,y=s=0,g=null,b=c.next();null!==h&&!b.done;y++,b=c.next()){h.index>y?(g=h,h=null):g=h.sibling;var v=p(r,h,b.value,l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(r,h),s=o(v,s,y),null===f?u=v:f.sibling=v,f=v,h=g}if(b.done)return n(r,h),u;if(null===h){for(;!b.done;y++,b=c.next())null!==(b=d(r,b.value,l))&&(s=o(b,s,y),null===f?u=b:f.sibling=b,f=b);return u}for(h=a(r,h);!b.done;y++,b=c.next())null!==(b=m(h,r,y,b.value,l))&&(e&&null!==b.alternate&&h.delete(null===b.key?y:b.key),s=o(b,s,y),null===f?u=b:f.sibling=b,f=b);return e&&h.forEach((function(e){return t(r,e)})),u}return function(e,a,o,c){var l="object"==typeof o&&null!==o&&o.type===C&&null===o.key;l&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case E:e:{for(u=o.key,l=a;null!==l;){if(l.key===u){if(7===l.tag){if(o.type===C){n(e,l.sibling),(a=r(l,o.props.children)).return=e,e=a;break e}}else if(l.elementType===o.type){n(e,l.sibling),(a=r(l,o.props)).ref=ko(e,l,o),a.return=e,e=a;break e}n(e,l);break}t(e,l),l=l.sibling}o.type===C?((a=zc(o.props.children,e.mode,c,o.key)).return=e,e=a):((c=Jc(o.type,o.key,o.props,null,e.mode,c)).ref=ko(e,a,o),c.return=e,e=c)}return s(e);case k:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(e,a.sibling),(a=r(a,o.children||[])).return=e,e=a;break e}n(e,a);break}t(e,a),a=a.sibling}(a=$c(o,e.mode,c)).return=e,e=a}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==a&&6===a.tag?(n(e,a.sibling),(a=r(a,o)).return=e,e=a):(n(e,a),(a=qc(o,e.mode,c)).return=e,e=a),s(e);if(Eo(o))return h(e,a,o,c);if(W(o))return y(e,a,o,c);if(u&&Co(e,o),void 0===o&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(i(152,q(e.type)||"Component"))}return n(e,a)}}var Oo=Po(!0),No=Po(!1),xo={},_o=cr(xo),To=cr(xo),Ro=cr(xo);function jo(e){if(e===xo)throw Error(i(174));return e}function Ao(e,t){switch(ur(Ro,t),ur(To,e),ur(_o,xo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}lr(_o),ur(_o,t)}function Do(){lr(_o),lr(To),lr(Ro)}function Mo(e){jo(Ro.current);var t=jo(_o.current),n=pe(t,e.type);t!==n&&(ur(To,e),ur(_o,n))}function Lo(e){To.current===e&&(lr(_o),lr(To))}var Io=cr(0);function Ko(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo=null,Fo=null,Ho=!1;function Wo(e,t){var n=Hc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Bo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Jo(e){if(Ho){var t=Fo;if(t){var n=t;if(!Bo(e,t)){if(!(t=qa(n.nextSibling))||!Bo(e,t))return e.flags=-1025&e.flags|2,Ho=!1,void(Uo=e);Wo(Uo,n)}Uo=e,Fo=qa(t.firstChild)}else e.flags=-1025&e.flags|2,Ho=!1,Uo=e}}function zo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Uo=e}function Vo(e){if(e!==Uo)return!1;if(!Ho)return zo(e),Ho=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ba(t,e.memoizedProps))for(t=Fo;t;)Wo(e,t),t=qa(t.nextSibling);if(zo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Fo=qa(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Fo=null}}else Fo=Uo?qa(e.stateNode.nextSibling):null;return!0}function qo(){Fo=Uo=null,Ho=!1}var $o=[];function Go(){for(var e=0;e<$o.length;e++)$o[e]._workInProgressVersionPrimary=null;$o.length=0}var Qo=S.ReactCurrentDispatcher,Xo=S.ReactCurrentBatchConfig,Yo=0,Zo=null,ei=null,ti=null,ni=!1,ai=!1;function ri(){throw Error(i(321))}function oi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!la(e[n],t[n]))return!1;return!0}function ii(e,t,n,a,r,o){if(Yo=o,Zo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qo.current=null===e||null===e.memoizedState?ji:Ai,e=n(a,r),ai){o=0;do{if(ai=!1,!(25>o))throw Error(i(301));o+=1,ti=ei=null,t.updateQueue=null,Qo.current=Di,e=n(a,r)}while(ai)}if(Qo.current=Ri,t=null!==ei&&null!==ei.next,Yo=0,ti=ei=Zo=null,ni=!1,t)throw Error(i(300));return e}function si(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ti?Zo.memoizedState=ti=e:ti=ti.next=e,ti}function ci(){if(null===ei){var e=Zo.alternate;e=null!==e?e.memoizedState:null}else e=ei.next;var t=null===ti?Zo.memoizedState:ti.next;if(null!==t)ti=t,ei=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ei=e).memoizedState,baseState:ei.baseState,baseQueue:ei.baseQueue,queue:ei.queue,next:null},null===ti?Zo.memoizedState=ti=e:ti=ti.next=e}return ti}function li(e,t){return"function"==typeof t?t(e):t}function ui(e){var t=ci(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var a=ei,r=a.baseQueue,o=n.pending;if(null!==o){if(null!==r){var s=r.next;r.next=o.next,o.next=s}a.baseQueue=r=o,n.pending=null}if(null!==r){r=r.next,a=a.baseState;var c=s=o=null,l=r;do{var u=l.lane;if((Yo&u)===u)null!==c&&(c=c.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),a=l.eagerReducer===e?l.eagerState:e(a,l.action);else{var f={lane:u,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===c?(s=c=f,o=a):c=c.next=f,Zo.lanes|=u,Ks|=u}l=l.next}while(null!==l&&l!==r);null===c?o=a:c.next=s,la(a,t.memoizedState)||(Li=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=c,n.lastRenderedState=a}return[t.memoizedState,n.dispatch]}function fi(e){var t=ci(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{o=e(o,s.action),s=s.next}while(s!==r);la(o,t.memoizedState)||(Li=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,a]}function di(e,t,n){var a=t._getVersion;a=a(t._source);var r=t._workInProgressVersionPrimary;if(null!==r?e=r===a:(e=e.mutableReadLanes,(e=(Yo&e)===e)&&(t._workInProgressVersionPrimary=a,$o.push(t))),e)return n(t._source);throw $o.push(t),Error(i(350))}function pi(e,t,n,a){var r=Ts;if(null===r)throw Error(i(349));var o=t._getVersion,s=o(t._source),c=Qo.current,l=c.useState((function(){return di(r,t,n)})),u=l[1],f=l[0];l=ti;var d=e.memoizedState,p=d.refs,m=p.getSnapshot,h=d.source;d=d.subscribe;var y=Zo;return e.memoizedState={refs:p,source:t,subscribe:a},c.useEffect((function(){p.getSnapshot=n,p.setSnapshot=u;var e=o(t._source);if(!la(s,e)){e=n(t._source),la(f,e)||(u(e),e=uc(y),r.mutableReadLanes|=e&r.pendingLanes),e=r.mutableReadLanes,r.entangledLanes|=e;for(var a=r.entanglements,i=e;0<i;){var c=31-Bt(i),l=1<<c;a[c]|=e,i&=~l}}}),[n,t,a]),c.useEffect((function(){return a(t._source,(function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var a=uc(y);r.mutableReadLanes|=a&r.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,a]),la(m,n)&&la(h,t)&&la(d,a)||((e={pending:null,dispatch:null,lastRenderedReducer:li,lastRenderedState:f}).dispatch=u=Ti.bind(null,Zo,e),l.queue=e,l.baseQueue=null,f=di(r,t,n),l.memoizedState=l.baseState=f),f}function mi(e,t,n){return pi(ci(),e,t,n)}function hi(e){var t=si();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:li,lastRenderedState:e}).dispatch=Ti.bind(null,Zo,e),[t.memoizedState,e]}function yi(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=Zo.updateQueue)?(t={lastEffect:null},Zo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function gi(e){return e={current:e},si().memoizedState=e}function bi(){return ci().memoizedState}function vi(e,t,n,a){var r=si();Zo.flags|=e,r.memoizedState=yi(1|t,n,void 0,void 0===a?null:a)}function wi(e,t,n,a){var r=ci();a=void 0===a?null:a;var o=void 0;if(null!==ei){var i=ei.memoizedState;if(o=i.destroy,null!==a&&oi(a,i.deps))return void yi(t,n,o,a)}Zo.flags|=e,r.memoizedState=yi(1|t,n,o,a)}function Si(e,t){return vi(516,4,e,t)}function Ei(e,t){return wi(516,4,e,t)}function ki(e,t){return wi(4,2,e,t)}function Ci(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Pi(e,t,n){return n=null!=n?n.concat([e]):null,wi(4,2,Ci.bind(null,t,e),n)}function Oi(){}function Ni(e,t){var n=ci();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&oi(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function xi(e,t){var n=ci();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&oi(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function _i(e,t){var n=Br();zr(98>n?98:n,(function(){e(!0)})),zr(97<n?97:n,(function(){var n=Xo.transition;Xo.transition=1;try{e(!1),t()}finally{Xo.transition=n}}))}function Ti(e,t,n){var a=lc(),r=uc(e),o={lane:r,action:n,eagerReducer:null,eagerState:null,next:null},i=t.pending;if(null===i?o.next=o:(o.next=i.next,i.next=o),t.pending=o,i=e.alternate,e===Zo||null!==i&&i===Zo)ai=ni=!0;else{if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,c=i(s,n);if(o.eagerReducer=i,o.eagerState=c,la(c,s))return}catch(e){}fc(e,r,a)}}var Ri={readContext:oo,useCallback:ri,useContext:ri,useEffect:ri,useImperativeHandle:ri,useLayoutEffect:ri,useMemo:ri,useReducer:ri,useRef:ri,useState:ri,useDebugValue:ri,useDeferredValue:ri,useTransition:ri,useMutableSource:ri,useOpaqueIdentifier:ri,unstable_isNewReconciler:!1},ji={readContext:oo,useCallback:function(e,t){return si().memoizedState=[e,void 0===t?null:t],e},useContext:oo,useEffect:Si,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,vi(4,2,Ci.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vi(4,2,e,t)},useMemo:function(e,t){var n=si();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=si();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e=(e=a.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ti.bind(null,Zo,e),[a.memoizedState,e]},useRef:gi,useState:hi,useDebugValue:Oi,useDeferredValue:function(e){var t=hi(e),n=t[0],a=t[1];return Si((function(){var t=Xo.transition;Xo.transition=1;try{a(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=hi(!1),t=e[0];return gi(e=_i.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var a=si();return a.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pi(a,e,t,n)},useOpaqueIdentifier:function(){if(Ho){var e=!1,t=function(e){return{$$typeof:M,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Ga++).toString(36))),Error(i(355))})),n=hi(t)[1];return 0==(2&Zo.mode)&&(Zo.flags|=516,yi(5,(function(){n("r:"+(Ga++).toString(36))}),void 0,null)),t}return hi(t="r:"+(Ga++).toString(36)),t},unstable_isNewReconciler:!1},Ai={readContext:oo,useCallback:Ni,useContext:oo,useEffect:Ei,useImperativeHandle:Pi,useLayoutEffect:ki,useMemo:xi,useReducer:ui,useRef:bi,useState:function(){return ui(li)},useDebugValue:Oi,useDeferredValue:function(e){var t=ui(li),n=t[0],a=t[1];return Ei((function(){var t=Xo.transition;Xo.transition=1;try{a(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=ui(li)[0];return[bi().current,e]},useMutableSource:mi,useOpaqueIdentifier:function(){return ui(li)[0]},unstable_isNewReconciler:!1},Di={readContext:oo,useCallback:Ni,useContext:oo,useEffect:Ei,useImperativeHandle:Pi,useLayoutEffect:ki,useMemo:xi,useReducer:fi,useRef:bi,useState:function(){return fi(li)},useDebugValue:Oi,useDeferredValue:function(e){var t=fi(li),n=t[0],a=t[1];return Ei((function(){var t=Xo.transition;Xo.transition=1;try{a(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=fi(li)[0];return[bi().current,e]},useMutableSource:mi,useOpaqueIdentifier:function(){return fi(li)[0]},unstable_isNewReconciler:!1},Mi=S.ReactCurrentOwner,Li=!1;function Ii(e,t,n,a){t.child=null===e?No(t,null,n,a):Oo(t,e.child,n,a)}function Ki(e,t,n,a,r){n=n.render;var o=t.ref;return ro(t,r),a=ii(e,t,n,a,o,r),null===e||Li?(t.flags|=1,Ii(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~r,ns(e,t,r))}function Ui(e,t,n,a,r,o){if(null===e){var i=n.type;return"function"!=typeof i||Wc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Jc(n.type,null,a,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Fi(e,t,i,a,r,o))}return i=e.child,0==(r&o)&&(r=i.memoizedProps,(n=null!==(n=n.compare)?n:fa)(r,a)&&e.ref===t.ref)?ns(e,t,o):(t.flags|=1,(e=Bc(i,a)).ref=t.ref,e.return=t,t.child=e)}function Fi(e,t,n,a,r,o){if(null!==e&&fa(e.memoizedProps,a)&&e.ref===t.ref){if(Li=!1,0==(o&r))return t.lanes=e.lanes,ns(e,t,o);0!=(16384&e.flags)&&(Li=!0)}return Bi(e,t,n,a,o)}function Hi(e,t,n){var a=t.pendingProps,r=a.children,o=null!==e?e.memoizedState:null;if("hidden"===a.mode||"unstable-defer-without-hiding"===a.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},vc(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},vc(0,e),null;t.memoizedState={baseLanes:0},vc(0,null!==o?o.baseLanes:n)}else null!==o?(a=o.baseLanes|n,t.memoizedState=null):a=n,vc(0,a);return Ii(e,t,r,n),t.child}function Wi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Bi(e,t,n,a,r){var o=yr(n)?mr:dr.current;return o=hr(t,o),ro(t,r),n=ii(e,t,n,a,o,r),null===e||Li?(t.flags|=1,Ii(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~r,ns(e,t,r))}function Ji(e,t,n,a,r){if(yr(n)){var o=!0;wr(t)}else o=!1;if(ro(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),vo(t,n,a),So(t,n,a,r),a=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var c=i.context,l=n.contextType;l="object"==typeof l&&null!==l?oo(l):hr(t,l=yr(n)?mr:dr.current);var u=n.getDerivedStateFromProps,f="function"==typeof u||"function"==typeof i.getSnapshotBeforeUpdate;f||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==a||c!==l)&&wo(t,i,a,l),io=!1;var d=t.memoizedState;i.state=d,po(t,a,i,r),c=t.memoizedState,s!==a||d!==c||pr.current||io?("function"==typeof u&&(yo(t,n,u,a),c=t.memoizedState),(s=io||bo(t,n,s,a,d,c,l))?(f||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4)):("function"==typeof i.componentDidMount&&(t.flags|=4),t.memoizedProps=a,t.memoizedState=c),i.props=a,i.state=c,i.context=l,a=s):("function"==typeof i.componentDidMount&&(t.flags|=4),a=!1)}else{i=t.stateNode,co(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Qr(t.type,s),i.props=l,f=t.pendingProps,d=i.context,c="object"==typeof(c=n.contextType)&&null!==c?oo(c):hr(t,c=yr(n)?mr:dr.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==f||d!==c)&&wo(t,i,a,c),io=!1,d=t.memoizedState,i.state=d,po(t,a,i,r);var m=t.memoizedState;s!==f||d!==m||pr.current||io?("function"==typeof p&&(yo(t,n,p,a),m=t.memoizedState),(l=io||bo(t,n,l,a,d,m,c))?(u||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(a,m,c),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(a,m,c)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=a,t.memoizedState=m),i.props=a,i.state=m,i.context=c,a=l):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),a=!1)}return zi(e,t,n,a,o,r)}function zi(e,t,n,a,r,o){Wi(e,t);var i=0!=(64&t.flags);if(!a&&!i)return r&&Sr(t,n,!1),ns(e,t,o);a=t.stateNode,Mi.current=t;var s=i&&"function"!=typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&i?(t.child=Oo(t,e.child,null,o),t.child=Oo(t,null,s,o)):Ii(e,t,s,o),t.memoizedState=a.state,r&&Sr(t,n,!0),t.child}function Vi(e){var t=e.stateNode;t.pendingContext?br(0,t.pendingContext,t.pendingContext!==t.context):t.context&&br(0,t.context,!1),Ao(e,t.containerInfo)}var qi,$i,Gi,Qi={dehydrated:null,retryLane:0};function Xi(e,t,n){var a,r=t.pendingProps,o=Io.current,i=!1;return(a=0!=(64&t.flags))||(a=(null===e||null!==e.memoizedState)&&0!=(2&o)),a?(i=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===r.fallback||!0===r.unstable_avoidThisFallback||(o|=1),ur(Io,1&o),null===e?(void 0!==r.fallback&&Jo(t),e=r.children,o=r.fallback,i?(e=Yi(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qi,e):"number"==typeof r.unstable_expectedLoadTime?(e=Yi(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qi,t.lanes=33554432,e):((n=Vc({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,i?(r=function(e,t,n,a,r){var o=t.mode,i=e.child;e=i.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==i?((n=t.child).childLanes=0,n.pendingProps=s,null!==(i=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=i,i.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Bc(i,s),null!==e?a=Bc(e,a):(a=zc(a,o,r,null)).flags|=2,a.return=t,n.return=t,n.sibling=a,t.child=n,a}(e,t,r.children,r.fallback,n),i=t.child,o=e.child.memoizedState,i.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},i.childLanes=e.childLanes&~n,t.memoizedState=Qi,r):(n=function(e,t,n,a){var r=e.child;return e=r.sibling,n=Bc(r,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=a),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,r.children,n),t.memoizedState=null,n))}function Yi(e,t,n,a){var r=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&r)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Vc(t,r,0,null),n=zc(n,r,a,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Zi(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ao(e.return,t)}function es(e,t,n,a,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r,lastEffect:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=n,i.tailMode=r,i.lastEffect=o)}function ts(e,t,n){var a=t.pendingProps,r=a.revealOrder,o=a.tail;if(Ii(e,t,a.children,n),0!=(2&(a=Io.current)))a=1&a|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zi(e,n);else if(19===e.tag)Zi(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(ur(Io,a),0==(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===Ko(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),es(t,!1,r,n,o,t.lastEffect);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Ko(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}es(t,!0,n,null,o,t.lastEffect);break;case"together":es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ns(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ks|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Bc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Bc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!Ho)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function rs(e,t,n){var a=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yr(t.type)&&gr(),null;case 3:return Do(),lr(pr),lr(dr),Go(),(a=t.stateNode).pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(Vo(t)?t.flags|=4:a.hydrate||(t.flags|=256)),null;case 5:Lo(t);var o=jo(Ro.current);if(n=t.type,null!==e&&null!=t.stateNode)$i(e,t,n,a),e.ref!==t.ref&&(t.flags|=128);else{if(!a){if(null===t.stateNode)throw Error(i(166));return null}if(e=jo(_o.current),Vo(t)){a=t.stateNode,n=t.type;var s=t.memoizedProps;switch(a[Xa]=t,a[Ya]=s,n){case"dialog":_a("cancel",a),_a("close",a);break;case"iframe":case"object":case"embed":_a("load",a);break;case"video":case"audio":for(e=0;e<Pa.length;e++)_a(Pa[e],a);break;case"source":_a("error",a);break;case"img":case"image":case"link":_a("error",a),_a("load",a);break;case"details":_a("toggle",a);break;case"input":ee(a,s),_a("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!s.multiple},_a("invalid",a);break;case"textarea":ce(a,s),_a("invalid",a)}for(var l in ke(n,s),e=null,s)s.hasOwnProperty(l)&&(o=s[l],"children"===l?"string"==typeof o?a.textContent!==o&&(e=["children",o]):"number"==typeof o&&a.textContent!==""+o&&(e=["children",""+o]):c.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&_a("scroll",a));switch(n){case"input":Q(a),ae(a,s,!0);break;case"textarea":Q(a),ue(a);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(a.onclick=Ua)}a=e,t.updateQueue=a,null!==a&&(t.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof a.is?e=l.createElement(n,{is:a.is}):(e=l.createElement(n),"select"===n&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,n),e[Xa]=t,e[Ya]=a,qi(e,t),t.stateNode=e,l=Ce(n,a),n){case"dialog":_a("cancel",e),_a("close",e),o=a;break;case"iframe":case"object":case"embed":_a("load",e),o=a;break;case"video":case"audio":for(o=0;o<Pa.length;o++)_a(Pa[o],e);o=a;break;case"source":_a("error",e),o=a;break;case"img":case"image":case"link":_a("error",e),_a("load",e),o=a;break;case"details":_a("toggle",e),o=a;break;case"input":ee(e,a),o=Z(e,a),_a("invalid",e);break;case"option":o=oe(e,a);break;case"select":e._wrapperState={wasMultiple:!!a.multiple},o=r({},a,{value:void 0}),_a("invalid",e);break;case"textarea":ce(e,a),o=se(e,a),_a("invalid",e);break;default:o=a}ke(n,o);var u=o;for(s in u)if(u.hasOwnProperty(s)){var f=u[s];"style"===s?Se(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"==typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"==typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(c.hasOwnProperty(s)?null!=f&&"onScroll"===s&&_a("scroll",e):null!=f&&w(e,s,f,l))}switch(n){case"input":Q(e),ae(e,a,!1);break;case"textarea":Q(e),ue(e);break;case"option":null!=a.value&&e.setAttribute("value",""+$(a.value));break;case"select":e.multiple=!!a.multiple,null!=(s=a.value)?ie(e,!!a.multiple,s,!1):null!=a.defaultValue&&ie(e,!!a.multiple,a.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Ua)}Wa(n,a)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Gi(0,t,e.memoizedProps,a);else{if("string"!=typeof a&&null===t.stateNode)throw Error(i(166));n=jo(Ro.current),jo(_o.current),Vo(t)?(a=t.stateNode,n=t.memoizedProps,a[Xa]=t,a.nodeValue!==n&&(t.flags|=4)):((a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[Xa]=t,t.stateNode=a)}return null;case 13:return lr(Io),a=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(a=null!==a,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Vo(t):n=null!==e.memoizedState,a&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Io.current)?0===Ms&&(Ms=3):(0!==Ms&&3!==Ms||(Ms=4),null===Ts||0==(134217727&Ks)&&0==(134217727&Us)||hc(Ts,js))),(a||n)&&(t.flags|=4),null);case 4:return Do(),null===e&&Ra(t.stateNode.containerInfo),null;case 10:return no(t),null;case 19:if(lr(Io),null===(a=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(l=a.rendering))if(s)as(a,!1);else{if(0!==Ms||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Ko(e))){for(t.flags|=64,as(a,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===a.lastEffect&&(t.firstEffect=null),t.lastEffect=a.lastEffect,a=n,n=t.child;null!==n;)e=a,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ur(Io,1&Io.current|2),t.child}e=e.sibling}null!==a.tail&&Wr()>Bs&&(t.flags|=64,s=!0,as(a,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ko(l))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!Ho)return null!==(t=t.lastEffect=a.lastEffect)&&(t.nextEffect=null),null}else 2*Wr()-a.renderingStartTime>Bs&&1073741824!==n&&(t.flags|=64,s=!0,as(a,!1),t.lanes=33554432);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(n=a.tail,a.rendering=n,a.tail=n.sibling,a.lastEffect=t.lastEffect,a.renderingStartTime=Wr(),n.sibling=null,t=Io.current,ur(Io,s?1&t|2:1&t),n):null;case 23:case 24:return wc(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==a.mode&&(t.flags|=4),null}throw Error(i(156,t.tag))}function os(e){switch(e.tag){case 1:yr(e.type)&&gr();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Do(),lr(pr),lr(dr),Go(),0!=(64&(t=e.flags)))throw Error(i(285));return e.flags=-4097&t|64,e;case 5:return Lo(e),null;case 13:return lr(Io),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return lr(Io),null;case 4:return Do(),null;case 10:return no(e),null;case 23:case 24:return wc(),null;default:return null}}function is(e,t){try{var n="",a=t;do{n+=V(a),a=a.return}while(a);var r=n}catch(e){r="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:r}}function ss(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}qi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$i=function(e,t,n,a){var o=e.memoizedProps;if(o!==a){e=t.stateNode,jo(_o.current);var i,s=null;switch(n){case"input":o=Z(e,o),a=Z(e,a),s=[];break;case"option":o=oe(e,o),a=oe(e,a),s=[];break;case"select":o=r({},o,{value:void 0}),a=r({},a,{value:void 0}),s=[];break;case"textarea":o=se(e,o),a=se(e,a),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof a.onClick&&(e.onclick=Ua)}for(f in ke(n,a),n=null,o)if(!a.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var l=o[f];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(c.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in a){var u=a[f];if(l=null!=o?o[f]:void 0,a.hasOwnProperty(f)&&u!==l&&(null!=u||null!=l))if("style"===f)if(l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(s||(s=[]),s.push(f,n)),n=u;else"dangerouslySetInnerHTML"===f?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(f,u)):"children"===f?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(f,""+u):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(c.hasOwnProperty(f)?(null!=u&&"onScroll"===f&&_a("scroll",e),s||l===u||(s=[])):"object"==typeof u&&null!==u&&u.$$typeof===M?u.toString():(s=s||[]).push(f,u))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Gi=function(e,t,n,a){n!==a&&(t.flags|=4)};var cs="function"==typeof WeakMap?WeakMap:Map;function ls(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){qs||(qs=!0,$s=a),ss(0,t)},n}function us(e,t,n){(n=lo(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"==typeof a){var r=t.value;n.payload=function(){return ss(0,t),a(r)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof a&&(null===Gs?Gs=new Set([this]):Gs.add(this),ss(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var fs="function"==typeof WeakSet?WeakSet:Set;function ds(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ic(e,t)}else t.current=null}function ps(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,a=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Qr(t.type,n),a),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Va(t.stateNode.containerInfo))}throw Error(i(163))}function ms(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var a=e.create;e.destroy=a()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var r=e;a=r.next,0!=(4&(r=r.tag))&&0!=(1&r)&&(Dc(n,e),Ac(n,e)),e=a}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(a=n.elementType===n.type?t.memoizedProps:Qr(n.type,t.memoizedProps),e.componentDidUpdate(a,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&mo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}mo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Wa(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&St(n)))))}throw Error(i(163))}function hs(e,t){for(var n=e;;){if(5===n.tag){var a=n.stateNode;if(t)"function"==typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{a=n.stateNode;var r=n.memoizedProps.style;r=null!=r&&r.hasOwnProperty("display")?r.display:null,a.style.display=we("display",r)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ys(e,t){if(kr&&"function"==typeof kr.onCommitFiberUnmount)try{kr.onCommitFiberUnmount(Er,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var a=n,r=a.destroy;if(a=a.tag,void 0!==r)if(0!=(4&a))Dc(t,n);else{a=t;try{r()}catch(e){Ic(a,e)}}n=n.next}while(n!==e)}break;case 1:if(ds(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Ic(t,e)}break;case 5:ds(t);break;case 4:Es(e,t)}}function gs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bs(e){return 5===e.tag||3===e.tag||4===e.tag}function vs(e){e:{for(var t=e.return;null!==t;){if(bs(t))break e;t=t.return}throw Error(i(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var a=!1;break;case 3:case 4:t=t.containerInfo,a=!0;break;default:throw Error(i(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}a?ws(e,n,t):Ss(e,n,t)}function ws(e,t,n){var a=e.tag,r=5===a||6===a;if(r)e=r?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Ua));else if(4!==a&&null!==(e=e.child))for(ws(e,t,n),e=e.sibling;null!==e;)ws(e,t,n),e=e.sibling}function Ss(e,t,n){var a=e.tag,r=5===a||6===a;if(r)e=r?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function Es(e,t){for(var n,a,r=t,o=!1;;){if(!o){o=r.return;e:for(;;){if(null===o)throw Error(i(160));switch(n=o.stateNode,o.tag){case 5:a=!1;break e;case 3:case 4:n=n.containerInfo,a=!0;break e}o=o.return}o=!0}if(5===r.tag||6===r.tag){e:for(var s=e,c=r,l=c;;)if(ys(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===c)break e;for(;null===l.sibling;){if(null===l.return||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}a?(s=n,c=r.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):n.removeChild(r.stateNode)}else if(4===r.tag){if(null!==r.child){n=r.stateNode.containerInfo,a=!0,r.child.return=r,r=r.child;continue}}else if(ys(e,r),null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;4===(r=r.return).tag&&(o=!1)}r.sibling.return=r.return,r=r.sibling}}function ks(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{3==(3&a.tag)&&(e=a.destroy,a.destroy=void 0,void 0!==e&&e()),a=a.next}while(a!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){a=t.memoizedProps;var r=null!==e?e.memoizedProps:a;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Ya]=a,"input"===e&&"radio"===a.type&&null!=a.name&&te(n,a),Ce(e,r),t=Ce(e,a),r=0;r<o.length;r+=2){var s=o[r],c=o[r+1];"style"===s?Se(n,c):"dangerouslySetInnerHTML"===s?ye(n,c):"children"===s?ge(n,c):w(n,s,c,t)}switch(e){case"input":ne(n,a);break;case"textarea":le(n,a);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!a.multiple,null!=(o=a.value)?ie(n,!!a.multiple,o,!1):e!==!!a.multiple&&(null!=a.defaultValue?ie(n,!!a.multiple,a.defaultValue,!0):ie(n,!!a.multiple,a.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(i(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,St(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=Wr(),hs(t.child,!0)),void Cs(t);case 19:return void Cs(t);case 23:case 24:return void hs(t,null!==t.memoizedState)}throw Error(i(163))}function Cs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new fs),t.forEach((function(t){var a=Uc.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))}))}}function Ps(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Os=Math.ceil,Ns=S.ReactCurrentDispatcher,xs=S.ReactCurrentOwner,_s=0,Ts=null,Rs=null,js=0,As=0,Ds=cr(0),Ms=0,Ls=null,Is=0,Ks=0,Us=0,Fs=0,Hs=null,Ws=0,Bs=1/0;function Js(){Bs=Wr()+500}var zs,Vs=null,qs=!1,$s=null,Gs=null,Qs=!1,Xs=null,Ys=90,Zs=[],ec=[],tc=null,nc=0,ac=null,rc=-1,oc=0,ic=0,sc=null,cc=!1;function lc(){return 0!=(48&_s)?Wr():-1!==rc?rc:rc=Wr()}function uc(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Br()?1:2;if(0===oc&&(oc=Is),0!==Gr.transition){0!==ic&&(ic=null!==Hs?Hs.pendingLanes:0),e=oc;var t=4186112&~ic;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=Br(),e=Ut(0!=(4&_s)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),oc)}function fc(e,t,n){if(50<nc)throw nc=0,ac=null,Error(i(185));if(null===(e=dc(e,t)))return null;Wt(e,t,n),e===Ts&&(Us|=t,4===Ms&&hc(e,js));var a=Br();1===t?0!=(8&_s)&&0==(48&_s)?yc(e):(pc(e,n),0===_s&&(Js(),qr())):(0==(4&_s)||98!==a&&99!==a||(null===tc?tc=new Set([e]):tc.add(e)),pc(e,n)),Hs=e}function dc(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function pc(e,t){for(var n=e.callbackNode,a=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var c=31-Bt(s),l=1<<c,u=o[c];if(-1===u){if(0==(l&a)||0!=(l&r)){u=t,Lt(l);var f=Mt;o[c]=10<=f?u+250:6<=f?u+5e3:-1}}else u<=t&&(e.expiredLanes|=l);s&=~l}if(a=It(e,e===Ts?js:0),t=Mt,0===a)null!==n&&(n!==Lr&&Or(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Lr&&Or(n)}15===t?(n=yc.bind(null,e),null===Kr?(Kr=[n],Ur=Pr(Rr,$r)):Kr.push(n),n=Lr):14===t?n=Vr(99,yc.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(i(358,e))}}(t),n=Vr(n,mc.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function mc(e){if(rc=-1,ic=oc=0,0!=(48&_s))throw Error(i(327));var t=e.callbackNode;if(jc()&&e.callbackNode!==t)return null;var n=It(e,e===Ts?js:0);if(0===n)return null;var a=n,r=_s;_s|=16;var o=kc();for(Ts===e&&js===a||(Js(),Sc(e,a));;)try{Oc();break}catch(t){Ec(e,t)}if(to(),Ns.current=o,_s=r,null!==Rs?a=0:(Ts=null,js=0,a=Ms),0!=(Is&Us))Sc(e,0);else if(0!==a){if(2===a&&(_s|=64,e.hydrate&&(e.hydrate=!1,Va(e.containerInfo)),0!==(n=Kt(e))&&(a=Cc(e,n))),1===a)throw t=Ls,Sc(e,0),hc(e,n),pc(e,Wr()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,a){case 0:case 1:throw Error(i(345));case 2:case 5:_c(e);break;case 3:if(hc(e,n),(62914560&n)===n&&10<(a=Ws+500-Wr())){if(0!==It(e,0))break;if(((r=e.suspendedLanes)&n)!==n){lc(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Ja(_c.bind(null,e),a);break}_c(e);break;case 4:if(hc(e,n),(4186112&n)===n)break;for(a=e.eventTimes,r=-1;0<n;){var s=31-Bt(n);o=1<<s,(s=a[s])>r&&(r=s),n&=~o}if(n=r,10<(n=(120>(n=Wr()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Os(n/1960))-n)){e.timeoutHandle=Ja(_c.bind(null,e),n);break}_c(e);break;default:throw Error(i(329))}}return pc(e,Wr()),e.callbackNode===t?mc.bind(null,e):null}function hc(e,t){for(t&=~Fs,t&=~Us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bt(t),a=1<<n;e[n]=-1,t&=~a}}function yc(e){if(0!=(48&_s))throw Error(i(327));if(jc(),e===Ts&&0!=(e.expiredLanes&js)){var t=js,n=Cc(e,t);0!=(Is&Us)&&(n=Cc(e,t=It(e,t)))}else n=Cc(e,t=It(e,0));if(0!==e.tag&&2===n&&(_s|=64,e.hydrate&&(e.hydrate=!1,Va(e.containerInfo)),0!==(t=Kt(e))&&(n=Cc(e,t))),1===n)throw n=Ls,Sc(e,0),hc(e,t),pc(e,Wr()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e),pc(e,Wr()),null}function gc(e,t){var n=_s;_s|=1;try{return e(t)}finally{0===(_s=n)&&(Js(),qr())}}function bc(e,t){var n=_s;_s&=-2,_s|=8;try{return e(t)}finally{0===(_s=n)&&(Js(),qr())}}function vc(e,t){ur(Ds,As),As|=t,Is|=t}function wc(){As=Ds.current,lr(Ds)}function Sc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,za(n)),null!==Rs)for(n=Rs.return;null!==n;){var a=n;switch(a.tag){case 1:null!=(a=a.type.childContextTypes)&&gr();break;case 3:Do(),lr(pr),lr(dr),Go();break;case 5:Lo(a);break;case 4:Do();break;case 13:case 19:lr(Io);break;case 10:no(a);break;case 23:case 24:wc()}n=n.return}Ts=e,Rs=Bc(e.current,null),js=As=Is=t,Ms=0,Ls=null,Fs=Us=Ks=0}function Ec(e,t){for(;;){var n=Rs;try{if(to(),Qo.current=Ri,ni){for(var a=Zo.memoizedState;null!==a;){var r=a.queue;null!==r&&(r.pending=null),a=a.next}ni=!1}if(Yo=0,ti=ei=Zo=null,ai=!1,xs.current=null,null===n||null===n.return){Ms=1,Ls=t,Rs=null;break}e:{var o=e,i=n.return,s=n,c=t;if(t=js,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==c&&"object"==typeof c&&"function"==typeof c.then){var l=c;if(0==(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!=(1&Io.current),d=i;do{var p;if(p=13===d.tag){var m=d.memoizedState;if(null!==m)p=null!==m.dehydrated;else{var h=d.memoizedProps;p=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!f)}}if(p){var y=d.updateQueue;if(null===y){var g=new Set;g.add(l),d.updateQueue=g}else y.add(l);if(0==(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var b=lo(-1,1);b.tag=2,uo(s,b)}s.lanes|=1;break e}c=void 0,s=t;var v=o.pingCache;if(null===v?(v=o.pingCache=new cs,c=new Set,v.set(l,c)):void 0===(c=v.get(l))&&(c=new Set,v.set(l,c)),!c.has(s)){c.add(s);var w=Kc.bind(null,o,l,s);l.then(w,w)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);c=Error((q(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ms&&(Ms=2),c=is(c,s),d=i;do{switch(d.tag){case 3:o=c,d.flags|=4096,t&=-t,d.lanes|=t,fo(d,ls(0,o,t));break e;case 1:o=c;var S=d.type,E=d.stateNode;if(0==(64&d.flags)&&("function"==typeof S.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Gs||!Gs.has(E)))){d.flags|=4096,t&=-t,d.lanes|=t,fo(d,us(d,o,t));break e}}d=d.return}while(null!==d)}xc(n)}catch(e){t=e,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function kc(){var e=Ns.current;return Ns.current=Ri,null===e?Ri:e}function Cc(e,t){var n=_s;_s|=16;var a=kc();for(Ts===e&&js===t||Sc(e,t);;)try{Pc();break}catch(t){Ec(e,t)}if(to(),_s=n,Ns.current=a,null!==Rs)throw Error(i(261));return Ts=null,js=0,Ms}function Pc(){for(;null!==Rs;)Nc(Rs)}function Oc(){for(;null!==Rs&&!Nr();)Nc(Rs)}function Nc(e){var t=zs(e.alternate,e,As);e.memoizedProps=e.pendingProps,null===t?xc(e):Rs=t,xs.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=rs(n,t,As)))return void(Rs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&As)||0==(4&n.mode)){for(var a=0,r=n.child;null!==r;)a|=r.lanes|r.childLanes,r=r.sibling;n.childLanes=a}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=os(t)))return n.flags&=2047,void(Rs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Ms&&(Ms=5)}function _c(e){var t=Br();return zr(99,Tc.bind(null,e,t)),null}function Tc(e,t){do{jc()}while(null!==Xs);if(0!=(48&_s))throw Error(i(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null;var a=n.lanes|n.childLanes,r=a,o=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;for(var s=e.eventTimes,c=e.expirationTimes;0<o;){var l=31-Bt(o),u=1<<l;r[l]=0,s[l]=-1,c[l]=-1,o&=~u}if(null!==tc&&0==(24&a)&&tc.has(e)&&tc.delete(e),e===Ts&&(Rs=Ts=null,js=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,a=n.firstEffect):a=n:a=n.firstEffect,null!==a){if(r=_s,_s|=32,xs.current=null,Fa=$t,ya(s=ha())){if("selectionStart"in s)c={start:s.selectionStart,end:s.selectionEnd};else e:if(c=(c=s.ownerDocument)&&c.defaultView||window,(u=c.getSelection&&c.getSelection())&&0!==u.rangeCount){c=u.anchorNode,o=u.anchorOffset,l=u.focusNode,u=u.focusOffset;try{c.nodeType,l.nodeType}catch(e){c=null;break e}var f=0,d=-1,p=-1,m=0,h=0,y=s,g=null;t:for(;;){for(var b;y!==c||0!==o&&3!==y.nodeType||(d=f+o),y!==l||0!==u&&3!==y.nodeType||(p=f+u),3===y.nodeType&&(f+=y.nodeValue.length),null!==(b=y.firstChild);)g=y,y=b;for(;;){if(y===s)break t;if(g===c&&++m===o&&(d=f),g===l&&++h===u&&(p=f),null!==(b=y.nextSibling))break;g=(y=g).parentNode}y=b}c=-1===d||-1===p?null:{start:d,end:p}}else c=null;c=c||{start:0,end:0}}else c=null;Ha={focusedElem:s,selectionRange:c},$t=!1,sc=null,cc=!1,Vs=a;do{try{Rc()}catch(e){if(null===Vs)throw Error(i(330));Ic(Vs,e),Vs=Vs.nextEffect}}while(null!==Vs);sc=null,Vs=a;do{try{for(s=e;null!==Vs;){var v=Vs.flags;if(16&v&&ge(Vs.stateNode,""),128&v){var w=Vs.alternate;if(null!==w){var S=w.ref;null!==S&&("function"==typeof S?S(null):S.current=null)}}switch(1038&v){case 2:vs(Vs),Vs.flags&=-3;break;case 6:vs(Vs),Vs.flags&=-3,ks(Vs.alternate,Vs);break;case 1024:Vs.flags&=-1025;break;case 1028:Vs.flags&=-1025,ks(Vs.alternate,Vs);break;case 4:ks(Vs.alternate,Vs);break;case 8:Es(s,c=Vs);var E=c.alternate;gs(c),null!==E&&gs(E)}Vs=Vs.nextEffect}}catch(e){if(null===Vs)throw Error(i(330));Ic(Vs,e),Vs=Vs.nextEffect}}while(null!==Vs);if(S=Ha,w=ha(),v=S.focusedElem,s=S.selectionRange,w!==v&&v&&v.ownerDocument&&ma(v.ownerDocument.documentElement,v)){null!==s&&ya(v)&&(w=s.start,void 0===(S=s.end)&&(S=w),"selectionStart"in v?(v.selectionStart=w,v.selectionEnd=Math.min(S,v.value.length)):(S=(w=v.ownerDocument||document)&&w.defaultView||window).getSelection&&(S=S.getSelection(),c=v.textContent.length,E=Math.min(s.start,c),s=void 0===s.end?E:Math.min(s.end,c),!S.extend&&E>s&&(c=s,s=E,E=c),c=pa(v,E),o=pa(v,s),c&&o&&(1!==S.rangeCount||S.anchorNode!==c.node||S.anchorOffset!==c.offset||S.focusNode!==o.node||S.focusOffset!==o.offset)&&((w=w.createRange()).setStart(c.node,c.offset),S.removeAllRanges(),E>s?(S.addRange(w),S.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),S.addRange(w))))),w=[];for(S=v;S=S.parentNode;)1===S.nodeType&&w.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"==typeof v.focus&&v.focus(),v=0;v<w.length;v++)(S=w[v]).element.scrollLeft=S.left,S.element.scrollTop=S.top}$t=!!Fa,Ha=Fa=null,e.current=n,Vs=a;do{try{for(v=e;null!==Vs;){var k=Vs.flags;if(36&k&&ms(v,Vs.alternate,Vs),128&k){w=void 0;var C=Vs.ref;if(null!==C){var P=Vs.stateNode;Vs.tag,w=P,"function"==typeof C?C(w):C.current=w}}Vs=Vs.nextEffect}}catch(e){if(null===Vs)throw Error(i(330));Ic(Vs,e),Vs=Vs.nextEffect}}while(null!==Vs);Vs=null,Ir(),_s=r}else e.current=n;if(Qs)Qs=!1,Xs=e,Ys=t;else for(Vs=a;null!==Vs;)t=Vs.nextEffect,Vs.nextEffect=null,8&Vs.flags&&((k=Vs).sibling=null,k.stateNode=null),Vs=t;if(0===(a=e.pendingLanes)&&(Gs=null),1===a?e===ac?nc++:(nc=0,ac=e):nc=0,n=n.stateNode,kr&&"function"==typeof kr.onCommitFiberRoot)try{kr.onCommitFiberRoot(Er,n,void 0,64==(64&n.current.flags))}catch(e){}if(pc(e,Wr()),qs)throw qs=!1,e=$s,$s=null,e;return 0!=(8&_s)||qr(),null}function Rc(){for(;null!==Vs;){var e=Vs.alternate;cc||null===sc||(0!=(8&Vs.flags)?Ze(Vs,sc)&&(cc=!0):13===Vs.tag&&Ps(e,Vs)&&Ze(Vs,sc)&&(cc=!0));var t=Vs.flags;0!=(256&t)&&ps(e,Vs),0==(512&t)||Qs||(Qs=!0,Vr(97,(function(){return jc(),null}))),Vs=Vs.nextEffect}}function jc(){if(90!==Ys){var e=97<Ys?97:Ys;return Ys=90,zr(e,Mc)}return!1}function Ac(e,t){Zs.push(t,e),Qs||(Qs=!0,Vr(97,(function(){return jc(),null})))}function Dc(e,t){ec.push(t,e),Qs||(Qs=!0,Vr(97,(function(){return jc(),null})))}function Mc(){if(null===Xs)return!1;var e=Xs;if(Xs=null,0!=(48&_s))throw Error(i(331));var t=_s;_s|=32;var n=ec;ec=[];for(var a=0;a<n.length;a+=2){var r=n[a],o=n[a+1],s=r.destroy;if(r.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(i(330));Ic(o,e)}}for(n=Zs,Zs=[],a=0;a<n.length;a+=2){r=n[a],o=n[a+1];try{var c=r.create;r.destroy=c()}catch(e){if(null===o)throw Error(i(330));Ic(o,e)}}for(c=e.current.firstEffect;null!==c;)e=c.nextEffect,c.nextEffect=null,8&c.flags&&(c.sibling=null,c.stateNode=null),c=e;return _s=t,qr(),!0}function Lc(e,t,n){uo(e,t=ls(0,t=is(n,t),1)),t=lc(),null!==(e=dc(e,1))&&(Wt(e,1,t),pc(e,t))}function Ic(e,t){if(3===e.tag)Lc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Lc(n,e,t);break}if(1===n.tag){var a=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof a.componentDidCatch&&(null===Gs||!Gs.has(a))){var r=us(n,e=is(t,e),1);if(uo(n,r),r=lc(),null!==(n=dc(n,1)))Wt(n,1,r),pc(n,r);else if("function"==typeof a.componentDidCatch&&(null===Gs||!Gs.has(a)))try{a.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Kc(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=lc(),e.pingedLanes|=e.suspendedLanes&n,Ts===e&&(js&n)===n&&(4===Ms||3===Ms&&(62914560&js)===js&&500>Wr()-Ws?Sc(e,0):Fs|=n),pc(e,t)}function Uc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Br()?1:2:(0===oc&&(oc=Is),0===(t=Ft(62914560&~oc))&&(t=4194304))),n=lc(),null!==(e=dc(e,t))&&(Wt(e,t,n),pc(e,n))}function Fc(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hc(e,t,n,a){return new Fc(e,t,n,a)}function Wc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bc(e,t){var n=e.alternate;return null===n?((n=Hc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Jc(e,t,n,a,r,o){var s=2;if(a=e,"function"==typeof e)Wc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case C:return zc(n.children,r,o,t);case L:s=8,r|=16;break;case P:s=8,r|=1;break;case O:return(e=Hc(12,n,t,8|r)).elementType=O,e.type=O,e.lanes=o,e;case T:return(e=Hc(13,n,t,r)).type=T,e.elementType=T,e.lanes=o,e;case R:return(e=Hc(19,n,t,r)).elementType=R,e.lanes=o,e;case I:return Vc(n,r,o,t);case K:return(e=Hc(24,n,t,r)).elementType=K,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case N:s=10;break e;case x:s=9;break e;case _:s=11;break e;case j:s=14;break e;case A:s=16,a=null;break e;case D:s=22;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Hc(s,n,t,r)).elementType=e,t.type=a,t.lanes=o,t}function zc(e,t,n,a){return(e=Hc(7,e,a,t)).lanes=n,e}function Vc(e,t,n,a){return(e=Hc(23,e,a,t)).elementType=I,e.lanes=n,e}function qc(e,t,n){return(e=Hc(6,e,null,t)).lanes=n,e}function $c(e,t,n){return(t=Hc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gc(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ht(0),this.expirationTimes=Ht(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ht(0),this.mutableSourceEagerHydrationData=null}function Qc(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}function Xc(e,t,n,a){var r=t.current,o=lc(),s=uc(r);e:if(n){t:{if(Ge(n=n._reactInternals)!==n||1!==n.tag)throw Error(i(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(yr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(i(171))}if(1===n.tag){var l=n.type;if(yr(l)){n=vr(n,l,c);break e}}n=c}else n=fr;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,s)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),uo(r,t),fc(r,s,o),s}function Yc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Zc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function el(e,t){Zc(e,t),(e=e.alternate)&&Zc(e,t)}function tl(e,t,n){var a=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Gc(e,t,null!=n&&!0===n.hydrate),t=Hc(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,so(t),e[Za]=n.current,Ra(8===e.nodeType?e.parentNode:e),a)for(e=0;e<a.length;e++){var r=(t=a[e])._getVersion;r=r(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,r]:n.mutableSourceEagerHydrationData.push(t,r)}this._internalRoot=n}function nl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function al(e,t,n,a,r){var o=n._reactRootContainer;if(o){var i=o._internalRoot;if("function"==typeof r){var s=r;r=function(){var e=Yc(i);s.call(e)}}Xc(t,i,e,r)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tl(e,0,t?{hydrate:!0}:void 0)}(n,a),i=o._internalRoot,"function"==typeof r){var c=r;r=function(){var e=Yc(i);c.call(e)}}bc((function(){Xc(t,i,e,r)}))}return Yc(i)}function rl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(t))throw Error(i(200));return Qc(e,t,null,n)}zs=function(e,t,n){var a=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pr.current)Li=!0;else{if(0==(n&a)){switch(Li=!1,t.tag){case 3:Vi(t),qo();break;case 5:Mo(t);break;case 1:yr(t.type)&&wr(t);break;case 4:Ao(t,t.stateNode.containerInfo);break;case 10:a=t.memoizedProps.value;var r=t.type._context;ur(Xr,r._currentValue),r._currentValue=a;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Xi(e,t,n):(ur(Io,1&Io.current),null!==(t=ns(e,t,n))?t.sibling:null);ur(Io,1&Io.current);break;case 19:if(a=0!=(n&t.childLanes),0!=(64&e.flags)){if(a)return ts(e,t,n);t.flags|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),ur(Io,Io.current),a)break;return null;case 23:case 24:return t.lanes=0,Hi(e,t,n)}return ns(e,t,n)}Li=0!=(16384&e.flags)}else Li=!1;switch(t.lanes=0,t.tag){case 2:if(a=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=hr(t,dr.current),ro(t,n),r=ii(null,t,a,e,r,n),t.flags|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yr(a)){var o=!0;wr(t)}else o=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,so(t);var s=a.getDerivedStateFromProps;"function"==typeof s&&yo(t,a,s,e),r.updater=go,t.stateNode=r,r._reactInternals=t,So(t,a,e,n),t=zi(null,t,a,!0,o,n)}else t.tag=0,Ii(null,t,r,n),t=t.child;return t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"==typeof e)return Wc(e)?1:0;if(null!=e){if((e=e.$$typeof)===_)return 11;if(e===j)return 14}return 2}(r),e=Qr(r,e),o){case 0:t=Bi(null,t,r,e,n);break e;case 1:t=Ji(null,t,r,e,n);break e;case 11:t=Ki(null,t,r,e,n);break e;case 14:t=Ui(null,t,r,Qr(r.type,e),a,n);break e}throw Error(i(306,r,""))}return t;case 0:return a=t.type,r=t.pendingProps,Bi(e,t,a,r=t.elementType===a?r:Qr(a,r),n);case 1:return a=t.type,r=t.pendingProps,Ji(e,t,a,r=t.elementType===a?r:Qr(a,r),n);case 3:if(Vi(t),a=t.updateQueue,null===e||null===a)throw Error(i(282));if(a=t.pendingProps,r=null!==(r=t.memoizedState)?r.element:null,co(e,t),po(t,a,null,n),(a=t.memoizedState.element)===r)qo(),t=ns(e,t,n);else{if((o=(r=t.stateNode).hydrate)&&(Fo=qa(t.stateNode.containerInfo.firstChild),Uo=t,o=Ho=!0),o){if(null!=(e=r.mutableSourceEagerHydrationData))for(r=0;r<e.length;r+=2)(o=e[r])._workInProgressVersionPrimary=e[r+1],$o.push(o);for(n=No(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ii(e,t,a,n),qo();t=t.child}return t;case 5:return Mo(t),null===e&&Jo(t),a=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,s=r.children,Ba(a,r)?s=null:null!==o&&Ba(a,o)&&(t.flags|=16),Wi(e,t),Ii(e,t,s,n),t.child;case 6:return null===e&&Jo(t),null;case 13:return Xi(e,t,n);case 4:return Ao(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=Oo(t,null,a,n):Ii(e,t,a,n),t.child;case 11:return a=t.type,r=t.pendingProps,Ki(e,t,a,r=t.elementType===a?r:Qr(a,r),n);case 7:return Ii(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ii(e,t,t.pendingProps.children,n),t.child;case 10:e:{a=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value;var c=t.type._context;if(ur(Xr,c._currentValue),c._currentValue=o,null!==s)if(c=s.value,0==(o=la(c,o)?0:0|("function"==typeof a._calculateChangedBits?a._calculateChangedBits(c,o):1073741823))){if(s.children===r.children&&!pr.current){t=ns(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var l=c.dependencies;if(null!==l){s=c.child;for(var u=l.firstContext;null!==u;){if(u.context===a&&0!=(u.observedBits&o)){1===c.tag&&((u=lo(-1,n&-n)).tag=2,uo(c,u)),c.lanes|=n,null!==(u=c.alternate)&&(u.lanes|=n),ao(c.return,n),l.lanes|=n;break}u=u.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}Ii(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,a=(o=t.pendingProps).children,ro(t,n),a=a(r=oo(r,o.unstable_observedBits)),t.flags|=1,Ii(e,t,a,n),t.child;case 14:return o=Qr(r=t.type,t.pendingProps),Ui(e,t,r,o=Qr(r.type,o),a,n);case 15:return Fi(e,t,t.type,t.pendingProps,a,n);case 17:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:Qr(a,r),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yr(a)?(e=!0,wr(t)):e=!1,ro(t,n),vo(t,a,r),So(t,a,r,n),zi(null,t,a,!0,e,n);case 19:return ts(e,t,n);case 23:case 24:return Hi(e,t,n)}throw Error(i(156,t.tag))},tl.prototype.render=function(e){Xc(e,this._internalRoot,null,null)},tl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Xc(null,e,null,(function(){t[Za]=null}))},et=function(e){13===e.tag&&(fc(e,4,lc()),el(e,4))},tt=function(e){13===e.tag&&(fc(e,67108864,lc()),el(e,67108864))},nt=function(e){if(13===e.tag){var t=lc(),n=uc(e);fc(e,n,t),el(e,n)}},at=function(e,t){return t()},Oe=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=rr(a);if(!r)throw Error(i(90));X(a),ne(a,r)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&ie(e,!!n.multiple,t,!1)}},je=gc,Ae=function(e,t,n,a,r){var o=_s;_s|=4;try{return zr(98,e.bind(null,t,n,a,r))}finally{0===(_s=o)&&(Js(),qr())}},De=function(){0==(49&_s)&&(function(){if(null!==tc){var e=tc;tc=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,pc(e,Wr())}))}qr()}(),jc())},Me=function(e,t){var n=_s;_s|=2;try{return e(t)}finally{0===(_s=n)&&(Js(),qr())}};var ol={Events:[nr,ar,rr,Te,Re,jc,{current:!1}]},il={findFiberByHostInstance:tr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},sl={bundleType:il.bundleType,version:il.version,rendererPackageName:il.rendererPackageName,rendererConfig:il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:il.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cl.isDisabled&&cl.supportsFiber)try{Er=cl.inject(sl),kr=cl}catch(he){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ol,t.createPortal=rl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw Error(i(268,Object.keys(e)))}return null===(e=Ye(t))?null:e.stateNode},t.flushSync=function(e,t){var n=_s;if(0!=(48&n))return e(t);_s|=1;try{if(e)return zr(99,e.bind(null,t))}finally{_s=n,qr()}},t.hydrate=function(e,t,n){if(!nl(t))throw Error(i(200));return al(null,e,t,!0,n)},t.render=function(e,t,n){if(!nl(t))throw Error(i(200));return al(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nl(e))throw Error(i(40));return!!e._reactRootContainer&&(bc((function(){al(null,null,e,!1,(function(){e._reactRootContainer=null,e[Za]=null}))})),!0)},t.unstable_batchedUpdates=gc,t.unstable_createPortal=function(e,t){return rl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!nl(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return al(e,t,n,!1,a)},t.version="17.0.2"},935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(448)},408:(e,t,n)=>{"use strict";var a=n(418),r=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var i=60109,s=60110,c=60112;t.Suspense=60113;var l=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var f=Symbol.for;r=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),i=f("react.provider"),s=f("react.context"),c=f("react.forward_ref"),t.Suspense=f("react.suspense"),l=f("react.memo"),u=f("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h={};function y(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||m}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var v=b.prototype=new g;v.constructor=b,a(v,y.prototype),v.isPureReactComponent=!0;var w={current:null},S=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var a,o={},i=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)S.call(t,a)&&!E.hasOwnProperty(a)&&(o[a]=t[a]);var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(a in c=e.defaultProps)void 0===o[a]&&(o[a]=c[a]);return{$$typeof:r,type:e,key:i,ref:s,props:o,_owner:w.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var P=/\/+/g;function O(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,n,a,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case r:case o:c=!0}}if(c)return i=i(c=e),e=""===a?"."+O(c,0):a,Array.isArray(i)?(n="",null!=e&&(n=e.replace(P,"$&/")+"/"),N(i,t,n,"",(function(e){return e}))):null!=i&&(C(i)&&(i=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(P,"$&/")+"/")+e)),t.push(i)),1;if(c=0,a=""===a?".":a+":",Array.isArray(e))for(var l=0;l<e.length;l++){var u=a+O(s=e[l],l);c+=N(s,t,n,u,i)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),l=0;!(s=e.next()).done;)c+=N(s=s.value,t,n,u=a+O(s,l++),i);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return c}function x(e,t,n){if(null==e)return e;var a=[],r=0;return N(e,a,"","",(function(e){return t.call(n,e,r++)})),a}function _(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var T={current:null};function R(){var e=T.current;if(null===e)throw Error(p(321));return e}var j={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:a};t.Children={map:x,forEach:function(e,t,n){x(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return x(e,(function(){t++})),t},toArray:function(e){return x(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error(p(143));return e}},t.Component=y,t.PureComponent=b,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.cloneElement=function(e,t,n){if(null==e)throw Error(p(267,e));var o=a({},e.props),i=e.key,s=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,c=w.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!E.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){l=Array(u);for(var f=0;f<u;f++)l[f]=arguments[f+2];o.children=l}return{$$typeof:r,type:e.type,key:i,ref:s,props:o,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:_}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},294:(e,t,n)=>{"use strict";e.exports=n(408)},53:(e,t)=>{"use strict";var n,a,r,o;if("object"==typeof performance&&"function"==typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,f=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(f,0),e}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(f,0))},a=function(e,t){u=setTimeout(e,t)},r=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var h=!1,y=null,g=-1,b=5,v=0;t.unstable_shouldYield=function(){return t.unstable_now()>=v},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,S=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();v=e+b;try{y(!0,e)?S.postMessage(null):(h=!1,y=null)}catch(e){throw S.postMessage(null),e}}else h=!1},n=function(e){y=e,h||(h=!0,S.postMessage(null))},a=function(e,n){g=d((function(){e(t.unstable_now())}),n)},r=function(){p(g),g=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var a=n-1>>>1,r=e[a];if(!(void 0!==r&&0<P(r,t)))break e;e[a]=t,e[n]=r,n=a}}function k(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,r=e.length;a<r;){var o=2*(a+1)-1,i=e[o],s=o+1,c=e[s];if(void 0!==i&&0>P(i,n))void 0!==c&&0>P(c,i)?(e[a]=c,e[s]=n,a=s):(e[a]=i,e[o]=n,a=o);else{if(!(void 0!==c&&0>P(c,n)))break e;e[a]=c,e[s]=n,a=s}}}return t}return null}function P(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var O=[],N=[],x=1,_=null,T=3,R=!1,j=!1,A=!1;function D(e){for(var t=k(N);null!==t;){if(null===t.callback)C(N);else{if(!(t.startTime<=e))break;C(N),t.sortIndex=t.expirationTime,E(O,t)}t=k(N)}}function M(e){if(A=!1,D(e),!j)if(null!==k(O))j=!0,n(L);else{var t=k(N);null!==t&&a(M,t.startTime-e)}}function L(e,n){j=!1,A&&(A=!1,r()),R=!0;var o=T;try{for(D(n),_=k(O);null!==_&&(!(_.expirationTime>n)||e&&!t.unstable_shouldYield());){var i=_.callback;if("function"==typeof i){_.callback=null,T=_.priorityLevel;var s=i(_.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?_.callback=s:_===k(O)&&C(O),D(n)}else C(O);_=k(O)}if(null!==_)var c=!0;else{var l=k(N);null!==l&&a(M,l.startTime-n),c=!1}return c}finally{_=null,T=o,R=!1}}var I=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){j||R||(j=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return k(O)},t.unstable_next=function(e){switch(T){case 1:case 2:case 3:var t=3;break;default:t=T}var n=T;T=t;try{return e()}finally{T=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=I,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=T;T=e;try{return t()}finally{T=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?s+i:s,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:x++,callback:o,priorityLevel:e,startTime:i,expirationTime:c=i+c,sortIndex:-1},i>s?(e.sortIndex=i,E(N,e),null===k(O)&&e===k(N)&&(A?r():A=!0,a(M,i-s))):(e.sortIndex=c,E(O,e),j||R||(j=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=T;return function(){var n=T;T=t;try{return e.apply(this,arguments)}finally{T=n}}}},840:(e,t,n)=>{"use strict";e.exports=n(53)},154:(e,t,n)=>{var a;if("function"==typeof fetch&&(a=void 0!==n.g&&n.g.fetch?n.g.fetch:"undefined"!=typeof window&&window.fetch?window.fetch:fetch),"undefined"==typeof window||void 0===window.document){var r=a||n(98);r.default&&(r=r.default),t.default=r,e.exports=t.default}}},o={};function i(e){var t=o[e];if(void 0!==t){if(void 0!==t.error)throw t.error;return t.exports}var n=o[e]={exports:{}};try{var a={id:e,module:n,factory:r[e],require:i};i.i.forEach((function(e){e(a)})),n=a.module,a.factory.call(n.exports,n,n.exports,a.require)}catch(e){throw n.error=e,e}return n.exports}i.m=r,i.c=o,i.i=[],t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"==typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"==typeof n.then)return n}var r=Object.create(null);i.r(r);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,i.d(r,o),r},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.hu=e=>e+"."+i.h()+".hot-update.js",i.hmrF=()=>"main."+i.h()+".hot-update.json",i.h=()=>"bad762437f9d05cbc8c5",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},a="hutch:",i.l=(e,t,r,o)=>{if(n[e])n[e].push(t);else{var s,c;if(void 0!==r)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var f=l[u];if(f.getAttribute("src")==e||f.getAttribute("data-webpack")==a+r){s=f;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",a+r),s.src=e),n[e]=[t];var d=(t,a)=>{s.onerror=s.onload=null,clearTimeout(p);var r=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((e=>e(a))),t)return t(a)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),c&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e,t,n,a={},r=i.c,o=[],s=[],c="idle",l=0,u=[];function f(e){c=e;for(var t=[],n=0;n<s.length;n++)t[n]=s[n].call(null,e);return Promise.all(t)}function d(){0==--l&&f("ready").then((function(){if(0===l){var e=u;u=[];for(var t=0;t<e.length;t++)e[t]()}}))}function p(e){if("idle"!==c)throw new Error("check() is only allowed in idle status");return f("check").then(i.hmrM).then((function(n){return n?f("prepare").then((function(){var a=[];return t=[],Promise.all(Object.keys(i.hmrC).reduce((function(e,r){return i.hmrC[r](n.c,n.r,n.m,e,t,a),e}),[])).then((function(){return t=function(){return e?h(e):f("ready").then((function(){return a}))},0===l?t():new Promise((function(e){u.push((function(){e(t())}))}));var t}))})):f(y()?"ready":"idle").then((function(){return null}))}))}function m(e){return"ready"!==c?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status (state: "+c+")")})):h(e)}function h(e){e=e||{},y();var a=t.map((function(t){return t(e)}));t=void 0;var r=a.map((function(e){return e.error})).filter(Boolean);if(r.length>0)return f("abort").then((function(){throw r[0]}));var o=f("dispose");a.forEach((function(e){e.dispose&&e.dispose()}));var i,s=f("apply"),c=function(e){i||(i=e)},l=[];return a.forEach((function(e){if(e.apply){var t=e.apply(c);if(t)for(var n=0;n<t.length;n++)l.push(t[n])}})),Promise.all([o,s]).then((function(){return i?f("fail").then((function(){throw i})):n?h(e).then((function(e){return l.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e})):f("idle").then((function(){return l}))}))}function y(){if(n)return t||(t=[]),Object.keys(i.hmrI).forEach((function(e){n.forEach((function(n){i.hmrI[e](n,t)}))})),n=void 0,!0}i.hmrD=a,i.i.push((function(u){var h,y,g,b,v=u.module,w=function(t,n){var a=r[n];if(!a)return t;var i=function(i){if(a.hot.active){if(r[i]){var s=r[i].parents;-1===s.indexOf(n)&&s.push(n)}else o=[n],e=i;-1===a.children.indexOf(i)&&a.children.push(i)}else console.warn("[HMR] unexpected require("+i+") from disposed module "+n),o=[];return t(i)},s=function(e){return{configurable:!0,enumerable:!0,get:function(){return t[e]},set:function(n){t[e]=n}}};for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&"e"!==u&&Object.defineProperty(i,u,s(u));return i.e=function(e){return function(e){switch(c){case"ready":f("prepare");case"prepare":return l++,e.then(d,d),e;default:return e}}(t.e(e))},i}(u.require,u.id);v.hot=(h=u.id,y=v,b={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:g=e!==h,_requireSelf:function(){o=y.parents.slice(),e=g?void 0:h,i(h)},active:!0,accept:function(e,t,n){if(void 0===e)b._selfAccepted=!0;else if("function"==typeof e)b._selfAccepted=e;else if("object"==typeof e&&null!==e)for(var a=0;a<e.length;a++)b._acceptedDependencies[e[a]]=t||function(){},b._acceptedErrorHandlers[e[a]]=n;else b._acceptedDependencies[e]=t||function(){},b._acceptedErrorHandlers[e]=n},decline:function(e){if(void 0===e)b._selfDeclined=!0;else if("object"==typeof e&&null!==e)for(var t=0;t<e.length;t++)b._declinedDependencies[e[t]]=!0;else b._declinedDependencies[e]=!0},dispose:function(e){b._disposeHandlers.push(e)},addDisposeHandler:function(e){b._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=b._disposeHandlers.indexOf(e);t>=0&&b._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,c){case"idle":t=[],Object.keys(i.hmrI).forEach((function(e){i.hmrI[e](h,t)})),f("ready");break;case"ready":Object.keys(i.hmrI).forEach((function(e){i.hmrI[e](h,t)}));break;case"prepare":case"check":case"dispose":case"apply":(n=n||[]).push(h)}},check:p,apply:m,status:function(e){if(!e)return c;s.push(e)},addStatusHandler:function(e){s.push(e)},removeStatusHandler:function(e){var t=s.indexOf(e);t>=0&&s.splice(t,1)},data:a[h]},e=void 0,b),v.parents=o,v.children=[],o=[],u.require=w})),i.hmrC={},i.hmrI={}})(),(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e,t,n,a,r,o=i.hmrS_jsonp=i.hmrS_jsonp||{179:0},s={};function c(t,n){return e=n,new Promise(((e,n)=>{s[t]=e;var a=i.p+i.hu(t),r=new Error;i.l(a,(e=>{if(s[t]){s[t]=void 0;var a=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;r.message="Loading hot update chunk "+t+" failed.\n("+a+": "+o+")",r.name="ChunkLoadError",r.type=a,r.request=o,n(r)}}))}))}function l(e){function s(e){for(var t=[e],n={},a=t.map((function(e){return{chain:[e],id:e}}));a.length>0;){var r=a.pop(),o=r.id,s=r.chain,l=i.c[o];if(l&&(!l.hot._selfAccepted||l.hot._selfInvalidated)){if(l.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:o};if(l.hot._main)return{type:"unaccepted",chain:s,moduleId:o};for(var u=0;u<l.parents.length;u++){var f=l.parents[u],d=i.c[f];if(d){if(d.hot._declinedDependencies[o])return{type:"declined",chain:s.concat([f]),moduleId:o,parentId:f};-1===t.indexOf(f)&&(d.hot._acceptedDependencies[o]?(n[f]||(n[f]=[]),c(n[f],[o])):(delete n[f],t.push(f),a.push({chain:s.concat([f]),id:f})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];-1===e.indexOf(a)&&e.push(a)}}i.f&&delete i.f.jsonpHmr,t=void 0;var l={},u=[],f={},d=function(e){console.warn("[HMR] unexpected require("+e.id+") to disposed module")};for(var p in n)if(i.o(n,p)){var m,h=n[p],y=!1,g=!1,b=!1,v="";switch((m=h?s(p):{type:"disposed",moduleId:p}).chain&&(v="\nUpdate propagation: "+m.chain.join(" -> ")),m.type){case"self-declined":e.onDeclined&&e.onDeclined(m),e.ignoreDeclined||(y=new Error("Aborted because of self decline: "+m.moduleId+v));break;case"declined":e.onDeclined&&e.onDeclined(m),e.ignoreDeclined||(y=new Error("Aborted because of declined dependency: "+m.moduleId+" in "+m.parentId+v));break;case"unaccepted":e.onUnaccepted&&e.onUnaccepted(m),e.ignoreUnaccepted||(y=new Error("Aborted because "+p+" is not accepted"+v));break;case"accepted":e.onAccepted&&e.onAccepted(m),g=!0;break;case"disposed":e.onDisposed&&e.onDisposed(m),b=!0;break;default:throw new Error("Unexception type "+m.type)}if(y)return{error:y};if(g)for(p in f[p]=h,c(u,m.outdatedModules),m.outdatedDependencies)i.o(m.outdatedDependencies,p)&&(l[p]||(l[p]=[]),c(l[p],m.outdatedDependencies[p]));b&&(c(u,[m.moduleId]),f[p]=d)}n=void 0;for(var w,S=[],E=0;E<u.length;E++){var k=u[E],C=i.c[k];C&&(C.hot._selfAccepted||C.hot._main)&&f[k]!==d&&!C.hot._selfInvalidated&&S.push({module:k,require:C.hot._requireSelf,errorHandler:C.hot._selfAccepted})}return{dispose:function(){var e;a.forEach((function(e){delete o[e]})),a=void 0;for(var t,n=u.slice();n.length>0;){var r=n.pop(),s=i.c[r];if(s){var c={},f=s.hot._disposeHandlers;for(E=0;E<f.length;E++)f[E].call(null,c);for(i.hmrD[r]=c,s.hot.active=!1,delete i.c[r],delete l[r],E=0;E<s.children.length;E++){var d=i.c[s.children[E]];d&&(e=d.parents.indexOf(r))>=0&&d.parents.splice(e,1)}}}for(var p in l)if(i.o(l,p)&&(s=i.c[p]))for(w=l[p],E=0;E<w.length;E++)t=w[E],(e=s.children.indexOf(t))>=0&&s.children.splice(e,1)},apply:function(t){for(var n in f)i.o(f,n)&&(i.m[n]=f[n]);for(var a=0;a<r.length;a++)r[a](i);for(var o in l)if(i.o(l,o)){var s=i.c[o];if(s){w=l[o];for(var c=[],d=[],p=[],m=0;m<w.length;m++){var h=w[m],y=s.hot._acceptedDependencies[h],g=s.hot._acceptedErrorHandlers[h];if(y){if(-1!==c.indexOf(y))continue;c.push(y),d.push(g),p.push(h)}}for(var b=0;b<c.length;b++)try{c[b].call(null,w)}catch(n){if("function"==typeof d[b])try{d[b](n,{moduleId:o,dependencyId:p[b]})}catch(a){e.onErrored&&e.onErrored({type:"accept-error-handler-errored",moduleId:o,dependencyId:p[b],error:a,originalError:n}),e.ignoreErrored||(t(a),t(n))}else e.onErrored&&e.onErrored({type:"accept-errored",moduleId:o,dependencyId:p[b],error:n}),e.ignoreErrored||t(n)}}}for(var v=0;v<S.length;v++){var E=S[v],k=E.module;try{E.require(k)}catch(n){if("function"==typeof E.errorHandler)try{E.errorHandler(n,{moduleId:k,module:i.c[k]})}catch(a){e.onErrored&&e.onErrored({type:"self-accept-error-handler-errored",moduleId:k,error:a,originalError:n}),e.ignoreErrored||(t(a),t(n))}else e.onErrored&&e.onErrored({type:"self-accept-errored",moduleId:k,error:n}),e.ignoreErrored||t(n)}}return u}}}self.webpackHotUpdatehutch=(t,a,o)=>{for(var c in a)i.o(a,c)&&(n[c]=a[c],e&&e.push(c));o&&r.push(o),s[t]&&(s[t](),s[t]=void 0)},i.hmrI.jsonp=function(e,t){n||(n={},r=[],a=[],t.push(l)),i.o(n,e)||(n[e]=i.m[e])},i.hmrC.jsonp=function(e,s,u,f,d,p){d.push(l),t={},a=s,n=u.reduce((function(e,t){return e[t]=!1,e}),{}),r=[],e.forEach((function(e){i.o(o,e)&&void 0!==o[e]?(f.push(c(e,p)),t[e]=!0):t[e]=!1})),i.f&&(i.f.jsonpHmr=function(e,n){t&&i.o(t,e)&&!t[e]&&(n.push(c(e)),t[e]=!0)})},i.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(i.p+i.hmrF()).then((e=>{if(404!==e.status){if(!e.ok)throw new Error("Failed to fetch update manifest "+e.statusText);return e.json()}}))}})(),i(720)})();